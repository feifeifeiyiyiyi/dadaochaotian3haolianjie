
<!-- saved from url=(0043)https://ddct.top/daodaochaotian.60581dde.js -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></head><body>/*! For license information please see daodaochaotian.56e68b38.js.LICENSE.txt */
(()=&gt;{"use strict";var e={383:(e,n,t)=&gt;{t.d(n,{A:()=&gt;i});var a=t(1601),o=t.n(a),r=t(6314),l=t.n(r)()(o());l.push([e.id,"\n.step-wrapper[data-v-23a2a838] {\n  height: 100%;\n}\n.creation-container[data-v-23a2a838] {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n  overflow: hidden;\n  padding: 0; /* ç§»é™¤å†…è¾¹è·ï¼Œå……æ»¡å±å¹• */\n  box-sizing: border-box;\n}\n.creation-scroll[data-v-23a2a838] {\n  width: 95%; /* å¢åŠ å®½åº¦åˆ©ç”¨ç‡ */\n  max-width: 1400px; /* å¢åŠ æœ€å¤§å®½åº¦ */\n  height: 90vh;\n  max-height: 90vh; /* ä½¿ç”¨è§†å£é«˜åº¦ */\n  background: var(--color-surface-transparent);\n  border: 1px solid var(--color-border);\n  border-radius: 15px;\n  box-shadow: 0 0 40px rgba(var(--color-primary-rgb), 0.3);\n  display: flex;\n  flex-direction: column;\n  padding: 2rem;\n  backdrop-filter: blur(10px);\n  -webkit-backdrop-filter: blur(10px);\n  position: relative;\n  z-index: 1;\n  overflow: hidden; /* å®¹å™¨æœ¬èº«ä¸æ»šåŠ¨ */\n}\n.header-container[data-v-23a2a838] {\n  /* This container no longer needs flex properties */\n  margin-bottom: 2rem;\n  flex-shrink: 0; /* é˜²æ­¢è¢«å‹ç¼© */\n}\n.header-top[data-v-23a2a838] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 1rem;\n  flex-wrap: wrap;\n  gap: 0.5rem;\n}\n.mode-indicator[data-v-23a2a838] {\n  font-size: 0.9rem;\n  color: var(--color-text-secondary);\n  padding: 0.25rem 0.75rem;\n  background: rgba(var(--color-primary-rgb), 0.1);\n  border: 1px solid var(--color-primary);\n  border-radius: 15px;\n  white-space: nowrap;\n}\n.cloud-sync-container[data-v-23a2a838] {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n  flex-wrap: wrap;\n}\n.progress-steps[data-v-23a2a838] {\n  display: flex;\n  justify-content: space-between; /* ç”µè„‘ç«¯ä¸¤ç«¯å¯¹é½ */\n  width: 100%; /* Ensure the container spans the full width */\n  overflow-x: auto;\n  overflow-y: hidden;\n  gap: 1rem;\n  padding: 0.5rem 0;\n  /* éšè—æ»šåŠ¨æ¡ä½†ä¿ç•™æ»šåŠ¨åŠŸèƒ½ */\n  scrollbar-width: none; /* Firefox */\n  -ms-overflow-style: none; /* IE and Edge */\n}\n.progress-steps[data-v-23a2a838]::-webkit-scrollbar {\n  display: none; /* Chrome, Safari */\n}\n.step[data-v-23a2a838] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  opacity: 0.5;\n  transition: opacity 0.3s ease;\n  flex-shrink: 0; /* é˜²æ­¢æ­¥éª¤è¢«å‹ç¼© */\n  min-width: 60px; /* ç¡®ä¿æœ€å°å®½åº¦ */\n}\n.step.active[data-v-23a2a838] {\n  opacity: 1;\n}\n.step-circle[data-v-23a2a838] {\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  background: #333;\n  border: 2px solid #555;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 1.2rem;\n  font-weight: bold;\n  transition: all 0.3s ease;\n}\n.step.active .step-circle[data-v-23a2a838] {\n  background: var(--color-accent);\n  color: var(--color-background);\n  border-color: var(--color-accent);\n  box-shadow: 0 0 10px rgba(var(--color-primary-rgb), 0.5);\n}\n.step-label[data-v-23a2a838] {\n  margin-top: 0.5rem;\n  font-size: 0.8rem;\n}\n.step-content[data-v-23a2a838] {\n  flex: 1 1 0;\n  min-height: 0; /* å…è®¸flexå­å…ƒç´ ç¼©å° */\n  overflow-y: auto;\n  overflow-x: hidden;\n  padding: 2rem 1rem; /* å¢åŠ å†…è¾¹è·ï¼Œå†…å®¹æ›´èˆ’é€‚ */\n  margin: 0; /* ç§»é™¤marginé¿å…å¤šä½™ç©ºé—´ */\n  border-top: 1px solid var(--color-border);\n  border-bottom: 1px solid var(--color-border);\n  scrollbar-width: none; /* Firefox */\n  -ms-overflow-style: none; /* IE and Edge */\n}\n\n/* Chrome, Safari and Opera */\n.step-content[data-v-23a2a838]::-webkit-scrollbar {\n  display: none;\n}\n.navigation-buttons[data-v-23a2a838] {\n  display: grid;\n  grid-template-columns: 1fr auto 1fr;\n  align-items: center;\n  padding: 1rem;\n  gap: 1rem;\n  flex-shrink: 0;\n  background: var(--color-surface-transparent);\n  backdrop-filter: blur(10px);\n  -webkit-backdrop-filter: blur(10px);\n  border-top: 1px solid var(--color-border);\n  position: sticky;\n  bottom: 0;\n  z-index: 10;\n}\n.navigation-buttons &gt; button[data-v-23a2a838]:first-child {\n  justify-self: start;\n}\n.navigation-buttons &gt; button[data-v-23a2a838]:last-child {\n  justify-self: end;\n  grid-column: 3;\n}\n.points-display[data-v-23a2a838] {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 2rem;\n  grid-column: 2;\n}\n.destiny-points[data-v-23a2a838],\n.attribute-points[data-v-23a2a838] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.5rem 1rem;\n  background: rgba(var(--color-primary-rgb), 0.1);\n  border: 1px solid var(--color-primary);\n  border-radius: 20px;\n}\n.points-label[data-v-23a2a838] {\n  color: var(--color-text-secondary);\n  font-size: 0.9rem;\n}\n.points-value[data-v-23a2a838] {\n  font-size: 1.2rem;\n  font-weight: bold;\n  color: var(--color-accent);\n}\n.points-value.low[data-v-23a2a838] {\n  color: var(--color-danger);\n  animation: pulse-23a2a838 1s ease-in-out infinite;\n}\n@keyframes pulse-23a2a838 {\n0%,\n  100% {\n    opacity: 1;\n}\n50% {\n    opacity: 0.6;\n}\n}\n.code-redeem-fab[data-v-23a2a838] {\n  position: absolute;\n  bottom: 2rem;\n  left: 2rem;\n  z-index: 10;\n}\n\n/* ç§»åŠ¨ç«¯é€‚é… */\n@media (max-width: 768px) {\n.creation-scroll[data-v-23a2a838] {\n    width: 98%;\n    height: 95vh;\n    max-height: 95vh;\n    padding: 1rem;\n    border-radius: 10px;\n}\n.header-container[data-v-23a2a838] {\n    margin-bottom: 1rem;\n    flex-shrink: 0;\n}\n.header-top[data-v-23a2a838] {\n    gap: 0.75rem;\n}\n.mode-indicator[data-v-23a2a838] {\n    font-size: 0.8rem;\n    padding: 0.2rem 0.6rem;\n}\n.cloud-sync-container[data-v-23a2a838] {\n    gap: 0.5rem;\n}\n.progress-steps[data-v-23a2a838] {\n    justify-content: flex-start; /* å¹³æ¿ç«¯å·¦å¯¹é½ï¼Œä¾¿äºæ¨ªå‘æ»šåŠ¨ */\n    gap: 0.5rem;\n    padding: 0 0.25rem;\n}\n.step[data-v-23a2a838] {\n    min-width: 60px;\n}\n.step-circle[data-v-23a2a838] {\n    width: 32px;\n    height: 32px;\n    font-size: 1rem;\n}\n.step-label[data-v-23a2a838] {\n    font-size: 0.7rem;\n    margin-top: 0.3rem;\n}\n.step-content[data-v-23a2a838] {\n    padding: 1.5rem 0.5rem;\n    flex: 1 1 0;\n    min-height: 0;\n}\n.navigation-buttons[data-v-23a2a838] {\n    padding: 1rem 0;\n    gap: 0.5rem;\n    flex-wrap: wrap;\n    flex-shrink: 0;\n}\n.points-display[data-v-23a2a838] {\n    flex-basis: 100%;\n    order: -1;\n    margin-bottom: 0.5rem;\n}\n.destiny-points[data-v-23a2a838],\n  .attribute-points[data-v-23a2a838] {\n    padding: 0.4rem 0.8rem;\n    font-size: 0.85rem;\n}\n.points-label[data-v-23a2a838] {\n    font-size: 0.8rem;\n}\n.points-value[data-v-23a2a838] {\n    font-size: 1rem;\n}\n.navigation-buttons button[data-v-23a2a838] {\n    flex: 1;\n    min-width: 100px;\n    font-size: 0.9rem;\n    padding: 0.6rem 1rem;\n}\n}\n@media (max-width: 480px) {\n.creation-scroll[data-v-23a2a838] {\n    width: 100%;\n    height: 100vh;\n    max-height: 100vh;\n    padding: 0.75rem;\n    padding-bottom: max(0.75rem, env(safe-area-inset-bottom)); /* é€‚é…åˆ˜æµ·å±åº•éƒ¨å®‰å…¨åŒºåŸŸ */\n    border-radius: 0;\n}\n.header-container[data-v-23a2a838] {\n    flex-shrink: 0;\n}\n.header-top[data-v-23a2a838] {\n    flex-direction: column;\n    align-items: stretch;\n}\n.mode-indicator[data-v-23a2a838] {\n    text-align: center;\n}\n.cloud-sync-container[data-v-23a2a838] {\n    justify-content: center;\n}\n.progress-steps[data-v-23a2a838] {\n    justify-content: flex-start; /* ç§»åŠ¨ç«¯å·¦å¯¹é½ï¼Œä¾¿äºæ¨ªå‘æ»šåŠ¨ */\n    gap: 0.75rem;\n}\n.step[data-v-23a2a838] {\n    min-width: 55px;\n}\n.step-circle[data-v-23a2a838] {\n    width: 28px;\n    height: 28px;\n    font-size: 0.9rem;\n}\n.step-label[data-v-23a2a838] {\n    font-size: 0.65rem;\n}\n.step-content[data-v-23a2a838] {\n    padding: 1rem 0.25rem;\n    flex: 1 1 0;\n    min-height: 0;\n}\n.navigation-buttons[data-v-23a2a838] {\n    flex-direction: column;\n    gap: 0.5rem;\n    padding: 1rem 0 0.5rem 0;\n    flex-shrink: 0;\n}\n.points-display[data-v-23a2a838] {\n    order: 0;\n    margin-bottom: 0.75rem;\n}\n.navigation-buttons button[data-v-23a2a838] {\n    width: 100%;\n    min-width: auto;\n    padding: 0.8rem 1rem; /* å¢åŠ æŒ‰é’®é«˜åº¦ï¼Œæ›´æ˜“ç‚¹å‡» */\n    font-size: 1rem; /* å¢å¤§å­—ä½“ï¼Œæ›´æ˜“é˜…è¯» */\n}\n}\n",""]);const i=l},414:(e,n,t)=&gt;{t.r(n),t.d(n,{CORE_SYNC_RULES:()=&gt;y.kp,DATA_STRUCTURE_DEFINITIONS:()=&gt;y.uH,TECHNIQUE_ITEM_GENERATION_PROMPT:()=&gt;y.$O,diagnoseAIResponse:()=&gt;o.aY,generateInitialMessage:()=&gt;h.x,generateItemWithTavernAI:()=&gt;o.$7,generateOrigin:()=&gt;g,generateSimpleResponse:()=&gt;h.bA,generateSpiritRoot:()=&gt;f,generateTalent:()=&gt;b,generateTalentTier:()=&gt;u,generateWorld:()=&gt;v,getTavernHelper:()=&gt;a.getTavernHelper});var a=t(8651),o=t(6972),r=t(5408),l=t(4270);const i={maxRetries:3,initialDelay:1e3,maxDelay:1e4,backoffFactor:2,showToast:!0,onRetry:()=&gt;{},shouldRetry:()=&gt;!0};function c(e){return new Promise(n=&gt;setTimeout(n,e))}function s(e,n){const t=n.initialDelay*Math.pow(n.backoffFactor,e-1);return Math.min(t,n.maxDelay)}async function d(e,n={}){const t={...i,...n};let a=null;for(let n=1;n&lt;=t.maxRetries;n++)try{console.log(`[é‡è¯•åŠ©æ‰‹] å°è¯•æ‰§è¡Œ (ç¬¬${n}/${t.maxRetries}æ¬¡)`);const a=await e();return n&gt;1&amp;&amp;t.showToast&amp;&amp;l.o.success(`æ“ä½œæˆåŠŸ (é‡è¯•${n-1}æ¬¡å)`),a}catch(e){if(a=e,console.error(`[é‡è¯•åŠ©æ‰‹] ç¬¬${n}æ¬¡å°è¯•å¤±è´¥:`,e),!t.shouldRetry(a)){console.log("[é‡è¯•åŠ©æ‰‹] é”™è¯¯ä¸å¯é‡è¯•ï¼Œåœæ­¢");break}if(n<t.maxretries){const e="s(n,t);console.log(`[é‡è¯•åŠ©æ‰‹]" å°†åœ¨${e}msåé‡è¯•...`),t.showtoast&&l.o.warning(`æ“ä½œå¤±è´¥ï¼Œ${e="" 1e3}ç§’åé‡è¯•="" (${n}="" ${t.maxretries})`),t.onretry(n,a),await="" c(e)}}throw="" console.error("[é‡è¯•åŠ©æ‰‹]="" æ‰€æœ‰é‡è¯•éƒ½å¤±è´¥äº†ï¼Œæœ€åé”™è¯¯:",a),t.showtoast&&l.o.error(`æ“ä½œå¤±è´¥:="" ${a?.message||"æœªçŸ¥é”™è¯¯"}`),a||new="" error("æ“ä½œå¤±è´¥")}const="" m="{networkError:e=">e.message.includes("ç½‘ç»œ")||e.message.includes("timeout")||e.message.includes("è¿æ¥"),serverError:e=&gt;e.message.includes("5")&amp;&amp;null!==e.message.match(/5\d{2}/),temporaryError:e=&gt;{const n=e.message.toLowerCase();return["ä¸´æ—¶","ç¹å¿™","ç¨å","temporary","busy","throttle"].some(e=&gt;n.includes(e))},aiGenerationError:e=&gt;e.message.includes("JSON")||e.message.includes("è§£æ")||e.message.includes("æ ¼å¼")||e.message.includes("å“åº”ä¸ºç©º"),any:(...e)=&gt;n=&gt;e.some(e=&gt;e(n)),all:(...e)=&gt;n=&gt;e.every(e=&gt;e(n))};function p(e,n,t){if(!e||"object"!=typeof e)return console.error(`[ç”ŸæˆéªŒè¯] ${t}: ä¸æ˜¯æœ‰æ•ˆå¯¹è±¡`),!1;for(const a of n)if(!(a in e))return console.error(`[ç”ŸæˆéªŒè¯] ${t}: ç¼ºå°‘å¿…éœ€å­—æ®µ "${a}"`),!1;return!0}async function v(){try{return await d(async()=&gt;{const e=await(0,o.$7)(r.tQ,"ä¸–ç•Œè®¾å®š");if(!e)throw new Error("ç”Ÿæˆç»“æœä¸ºç©º");if(!p(e,["åç§°","æè¿°"],"ä¸–ç•Œè®¾å®š"))throw new Error("ç”Ÿæˆçš„ä¸–ç•Œè®¾å®šç¼ºå°‘å¿…éœ€å­—æ®µ");return e},{maxRetries:3,showToast:!1,shouldRetry:m.aiGenerationError})}catch(e){return console.error("[ç”Ÿæˆå™¨] ç”Ÿæˆä¸–ç•Œè®¾å®šæœ€ç»ˆå¤±è´¥:",e),l.o.error("ç”Ÿæˆä¸–ç•Œè®¾å®šå¤±è´¥ï¼Œè¯·é‡è¯•"),null}}async function u(){try{return await d(async()=&gt;{const e=await(0,o.$7)(r.__,"å¤©èµ„ç­‰çº§");if(!e)throw new Error("ç”Ÿæˆç»“æœä¸ºç©º");if(!p(e,["åç§°","æè¿°"],"å¤©èµ„ç­‰çº§"))throw new Error("ç”Ÿæˆçš„å¤©èµ„ç­‰çº§ç¼ºå°‘å¿…éœ€å­—æ®µ");return e},{maxRetries:3,showToast:!1,shouldRetry:m.aiGenerationError})}catch(e){return console.error("[ç”Ÿæˆå™¨] ç”Ÿæˆå¤©èµ„ç­‰çº§æœ€ç»ˆå¤±è´¥:",e),l.o.error("ç”Ÿæˆå¤©èµ„ç­‰çº§å¤±è´¥ï¼Œè¯·é‡è¯•"),null}}async function g(){try{return await d(async()=&gt;{const e=await(0,o.$7)(r.XN,"å‡ºèº«èƒŒæ™¯");if(!e)throw new Error("ç”Ÿæˆç»“æœä¸ºç©º");if(!p(e,["åç§°","æè¿°"],"å‡ºèº«èƒŒæ™¯"))throw new Error("ç”Ÿæˆçš„å‡ºèº«èƒŒæ™¯ç¼ºå°‘å¿…éœ€å­—æ®µ");return e},{maxRetries:3,showToast:!1,shouldRetry:m.aiGenerationError})}catch(e){return console.error("[ç”Ÿæˆå™¨] ç”Ÿæˆå‡ºèº«èƒŒæ™¯æœ€ç»ˆå¤±è´¥:",e),l.o.error("ç”Ÿæˆå‡ºèº«èƒŒæ™¯å¤±è´¥ï¼Œè¯·é‡è¯•"),null}}async function f(){try{return await d(async()=&gt;{const e=await(0,o.$7)(r.x$,"çµæ ¹ç±»å‹");if(!e)throw new Error("ç”Ÿæˆç»“æœä¸ºç©º");if(!p(e,["åç§°","æè¿°"],"çµæ ¹ç±»å‹"))throw new Error("ç”Ÿæˆçš„çµæ ¹ç±»å‹ç¼ºå°‘å¿…éœ€å­—æ®µ");return e},{maxRetries:3,showToast:!1,shouldRetry:m.aiGenerationError})}catch(e){return console.error("[ç”Ÿæˆå™¨] ç”Ÿæˆçµæ ¹ç±»å‹æœ€ç»ˆå¤±è´¥:",e),l.o.error("ç”Ÿæˆçµæ ¹ç±»å‹å¤±è´¥ï¼Œè¯·é‡è¯•"),null}}async function b(){try{return await d(async()=&gt;{const e=await(0,o.$7)(r.BA,"å¤©èµ‹æŠ€èƒ½");if(!e)throw new Error("ç”Ÿæˆç»“æœä¸ºç©º");if(!p(e,["åç§°","æè¿°"],"å¤©èµ‹æŠ€èƒ½"))throw new Error("ç”Ÿæˆçš„å¤©èµ‹æŠ€èƒ½ç¼ºå°‘å¿…éœ€å­—æ®µ");return e},{maxRetries:3,showToast:!1,shouldRetry:m.aiGenerationError})}catch(e){return console.error("[ç”Ÿæˆå™¨] ç”Ÿæˆå¤©èµ‹æŠ€èƒ½æœ€ç»ˆå¤±è´¥:",e),l.o.error("ç”Ÿæˆå¤©èµ‹æŠ€èƒ½å¤±è´¥ï¼Œè¯·é‡è¯•"),null}}var h=t(7181),y=t(6912)},540:e=&gt;{e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},600:(e,n,t)=&gt;{t.d(n,{A:()=&gt;i});var a=t(1601),o=t.n(a),r=t(6314),l=t.n(r)()(o());l.push([e.id,"\n.raw-data-section[data-v-0ef67458] {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  padding: 1rem;\n}\n.section-header[data-v-0ef67458] {\n  margin-bottom: 1rem;\n  flex-shrink: 0;\n}\n.section-title[data-v-0ef67458] {\n  margin: 0;\n  font-size: 1.1rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.raw-data-content[data-v-0ef67458] {\n  flex: 1;\n  overflow: hidden;\n}\n.data-display[data-v-0ef67458] {\n  height: 100%;\n  overflow: hidden;\n}\n.code-pre[data-v-0ef67458] {\n  margin: 0;\n  padding: 0.75rem;\n  background: var(--color-code-bg);\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  height: 100%;\n  overflow: auto;\n  font-family: 'Consolas', 'Monaco', monospace;\n  font-size: 0.8rem;\n  line-height: 1.4;\n  white-space: pre-wrap;\n  word-break: break-word;\n}\n.empty-state[data-v-0ef67458] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  color: var(--color-text-secondary);\n  text-align: center;\n}\n\n/* æ‰‹æœºç«¯é€‚é… */\n@media (max-width: 640px) {\n.raw-data-section[data-v-0ef67458] {\n    padding: 0.75rem;\n}\n.section-title[data-v-0ef67458] {\n    font-size: 1rem;\n    text-align: center;\n}\n.code-pre[data-v-0ef67458] {\n    font-size: 0.75rem;\n    padding: 0.5rem;\n}\n.empty-state[data-v-0ef67458] {\n    padding: 2rem 0.5rem;\n}\n}\n@media (max-width: 480px) {\n.raw-data-section[data-v-0ef67458] {\n    padding: 0.5rem;\n}\n.section-title[data-v-0ef67458] {\n    font-size: 0.9rem;\n}\n.code-pre[data-v-0ef67458] {\n    font-size: 0.7rem;\n    padding: 0.4rem;\n}\n}\n",""]);const i=l},660:e=&gt;{e.exports="data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2712%27 height=%2712%27 viewBox=%270 0 12 12%27%3E%3Cpath fill=%27%23374151%27 d=%27M6 9L1 4h10z%27/%3E%3C/svg%3E"},859:(e,n,t)=&gt;{t.d(n,{A:()=&gt;i});var a=t(1601),o=t.n(a),r=t(6314),l=t.n(r)()(o());l.push([e.id,"\n.toast-container[data-v-4e34161e] {\n  position: fixed;\n  top: 20px;\n  right: 20px;\n  z-index: 20000; /* æé«˜åˆ°æ¯”åŠ è½½é®ç½©(10000)æ›´é«˜çš„å±‚çº§ */\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  gap: 16px;\n}\n.toast[data-v-4e34161e] {\n  display: flex;\n  align-items: center;\n  padding: 12px 20px;\n  border-radius: 8px;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n  color: var(--color-text);\n  background-color: var(--color-surface);\n  border: 1px solid var(--color-border);\n  min-width: 250px;\n  max-width: 400px;\n  margin-bottom: 8px;\n}\n.toast-icon[data-v-4e34161e] {\n  margin-right: 12px;\n  font-size: 1.2rem;\n  display: flex;\n  align-items: center;\n}\n.toast-message[data-v-4e34161e] {\n  word-break: break-word;\n  font-size: 0.95rem;\n  line-height: 1.4;\n}\n\n/* Toast Types */\n.toast-success[data-v-4e34161e] {\n  border-left: 5px solid var(--color-success);\n}\n.toast-error[data-v-4e34161e] {\n  border-left: 5px solid var(--color-error);\n}\n.toast-warning[data-v-4e34161e] {\n  border-left: 5px solid var(--color-warning);\n}\n.toast-info[data-v-4e34161e] {\n  border-left: 5px solid var(--color-info);\n}\n.toast-loading[data-v-4e34161e] {\n  border-left: 5px solid var(--color-primary);\n}\n\n/* Spinner for loading */\n.spinner[data-v-4e34161e] {\n  width: 20px;\n  height: 20px;\n  border: 3px solid rgba(128, 128, 128, 0.3);\n  border-top-color: var(--color-primary);\n  border-radius: 50%;\n  animation: spin-4e34161e 1s linear infinite;\n}\n@keyframes spin-4e34161e {\nto {\n    transform: rotate(360deg);\n}\n}\n\n/* Transitions */\n.toast-fade-enter-active[data-v-4e34161e],\n.toast-fade-leave-active[data-v-4e34161e] {\n  transition: all 0.5s ease;\n}\n.toast-fade-enter-from[data-v-4e34161e],\n.toast-fade-leave-to[data-v-4e34161e] {\n  opacity: 0;\n  transform: translateX(100%);\n}\n",""]);const i=l},875:(e,n,t)=&gt;{t.d(n,{A:()=&gt;i});var a=t(1601),o=t.n(a),r=t(6314),l=t.n(r)()(o());l.push([e.id,"\n.map-panel[data-v-3006c0a9] {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);\n}\n\n/* ä¸–ç•Œä¿¡æ¯å¤´éƒ¨ */\n.world-info-header[data-v-3006c0a9] {\n  padding: 12px 16px;\n  background: rgba(255, 255, 255, 0.9);\n  border-bottom: 1px solid #e2e8f0;\n  display: flex;\n  align-items: center;\n  gap: 16px;\n  backdrop-filter: blur(8px);\n}\n.world-name[data-v-3006c0a9] {\n  font-size: 1.1rem;\n  font-weight: 700;\n  color: #1e40af;\n  text-shadow: 0 1px 2px rgba(30, 64, 175, 0.1);\n}\n.world-background[data-v-3006c0a9] {\n  font-size: 0.85rem;\n  color: #64748b;\n  max-width: 400px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n/* åœ°å›¾å†…æ§åˆ¶æŒ‰é’® (å·¦ä¾§) */\n.map-controls-left[data-v-3006c0a9] {\n  position: absolute;\n  top: 12px;\n  left: 12px;\n  display: flex;\n  flex-direction: column;\n  gap: 6px;\n  z-index: 1000;\n}\n.control-btn[data-v-3006c0a9] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 32px;\n  height: 32px;\n  background: rgba(255, 255, 255, 0.95);\n  border: 1px solid #e2e8f0;\n  border-radius: 6px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  color: #64748b;\n}\n.control-btn[data-v-3006c0a9]:hover {\n  background: white;\n  border-color: #3b82f6;\n  color: #3b82f6;\n  transform: translateX(2px);\n  box-shadow: 0 2px 8px rgba(59, 130, 246, 0.2);\n}\n.control-btn[data-v-3006c0a9]:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n.map-status-mini[data-v-3006c0a9] {\n  padding: 4px 8px;\n  background: rgba(255, 255, 255, 0.95);\n  border: 1px solid #e2e8f0;\n  border-radius: 6px;\n  font-size: 0.7rem;\n  color: #64748b;\n  font-weight: 500;\n  white-space: nowrap;\n  writing-mode: vertical-rl;\n}\n\n/* åœ°å›¾å®¹å™¨ */\n.custom-map-container[data-v-3006c0a9] {\n  flex: 1;\n  position: relative;\n  overflow: hidden;\n  border-radius: 8px;\n  border: 2px solid #e2e8f0;\n  background: linear-gradient(145deg, #f8fafc 0%, #e2e8f0 100%);\n}\n\n/* SVGåœ°å›¾æ ·å¼ */\n.world-map-svg[data-v-3006c0a9] {\n  width: 100%;\n  height: 100%;\n  cursor: grab;\n}\n.world-map-svg[data-v-3006c0a9]:active {\n  cursor: grabbing;\n}\n\n/* å¤§æ´²å±‚æ ·å¼ - é’ˆå¯¹ç´§å¯†åˆ†å¸ƒä¼˜åŒ– */\n.continent-layer .continent-polygon[data-v-3006c0a9] {\n  cursor: pointer;\n  transition: fill-opacity 0.3s ease, stroke-width 0.3s ease, stroke-opacity 0.3s ease;\n}\n.continent-layer .continent-polygon[data-v-3006c0a9]:hover {\n  fill-opacity: 0.18; /* ç¨å¾®æé«˜ä»¥æ›´å¥½åœ°æ˜¾ç¤ºç´§å¯†åˆ†å¸ƒçš„å¤§é™† */\n  stroke-width: 3;\n  stroke-opacity: 1.0;\n  stroke-dasharray: 6,2; /* ç¼©çŸ­è™šçº¿é—´è·ä»¥æ›´å¥½åœ°æ˜¾ç¤ºè¾¹ç•Œ */\n}\n.continent-name-label[data-v-3006c0a9] {\n  font-family: 'å¾®è½¯é›…é»‘', 'SimHei', sans-serif;\n  pointer-events: none;\n  user-select: none;\n  font-size: 16px; /* ç¨å¾®å¢å¤§å­—ä½“ä»¥æ›´å¥½åœ°æ˜¾ç¤ºç´§å¯†å¤§é™†åç§° */\n  font-weight: bold;\n}\n\n/* åŠ¿åŠ›èŒƒå›´æ ·å¼ */\n.territory-bounds-layer .territory-polygon[data-v-3006c0a9] {\n  cursor: pointer;\n  transition: fill-opacity 0.2s ease, stroke-width 0.2s ease;\n}\n.territory-bounds-layer .territory-polygon[data-v-3006c0a9]:hover {\n  fill-opacity: 0.25;\n  stroke-width: 3;\n}\n.territory-name-label[data-v-3006c0a9] {\n  font-size: 14px;\n  font-weight: bold;\n  font-family: 'å¾®è½¯é›…é»‘', 'SimHei', sans-serif;\n  pointer-events: none;\n}\n.headquarters-marker[data-v-3006c0a9] {\n  cursor: pointer;\n  transition: transform 0.2s ease;\n}\n\n/* åœ°ç‚¹æ ‡è®°æ ·å¼ - ä¿®å¤æŠ½æé—®é¢˜ */\n.location-marker[data-v-3006c0a9] {\n  cursor: pointer;\n  transition: none; /* ç§»é™¤transitioné¿å…æŠ½æ */\n}\n.location-marker:hover .location-icon-group[data-v-3006c0a9] {\n  transform: scale(1.1);\n  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));\n}\n.location-icon-group[data-v-3006c0a9] {\n  transition: transform 0.15s ease, filter 0.15s ease;\n}\n\n/* é€‰ä¸­è¯¦æƒ…æ˜¾ç¤ºé¢æ¿ (åŠ¨æ€ä½ç½®åœ¨åœ°ç‚¹é¡¶éƒ¨) */\n.selected-info-overlay[data-v-3006c0a9] {\n  position: absolute;\n  z-index: 1001;\n  pointer-events: none; /* å…è®¸ç‚¹å‡»ç©¿é€åˆ°åœ°å›¾ */\n}\n.selected-info[data-v-3006c0a9] {\n  background: rgba(255, 255, 255, 0.98);\n  backdrop-filter: blur(10px);\n  border: 1px solid rgba(59, 130, 246, 0.2);\n  border-radius: 12px;\n  padding: 16px;\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);\n  min-width: 300px;\n  max-width: 400px;\n  pointer-events: auto; /* å¼¹çª—å†…å®¹å¯ä»¥äº¤äº’ */\n}\n.info-header[data-v-3006c0a9] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 12px;\n}\n.info-header h4[data-v-3006c0a9] {\n  margin: 0;\n  color: #1e40af;\n  font-size: 1rem;\n  font-weight: 600;\n}\n.close-info[data-v-3006c0a9] {\n  width: 24px;\n  height: 24px;\n  border: none;\n  background: transparent;\n  cursor: pointer;\n  color: #64748b;\n  font-size: 1.2rem;\n  border-radius: 4px;\n  transition: all 0.2s ease;\n}\n.close-info[data-v-3006c0a9]:hover {\n  background: rgba(220, 38, 38, 0.1);\n  color: #dc2626;\n}\n.info-content[data-v-3006c0a9] {\n  font-size: 0.875rem;\n  line-height: 1.5;\n}\n.info-type[data-v-3006c0a9] {\n  color: #6366f1;\n  font-weight: 600;\n  margin: 0 0 8px 0;\n}\n.info-desc[data-v-3006c0a9] {\n  color: #4b5563;\n  margin: 0 0 12px 0;\n}\n.info-detail[data-v-3006c0a9] {\n  color: #6b7280;\n  margin: 6px 0;\n  font-size: 0.8rem;\n}\n\n/* åœ°å›¾å›¾ä¾‹ (å³ä¸‹è§’) */\n.map-legend[data-v-3006c0a9] {\n  position: absolute;\n  bottom: 20px;\n  right: 20px;\n  background: rgba(255, 255, 255, 0.95);\n  backdrop-filter: blur(8px);\n  border-radius: 8px;\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);\n  padding: 12px;\n  z-index: 1000;\n  min-width: 140px;\n  border: 1px solid rgba(255, 255, 255, 0.3);\n}\n.legend-title[data-v-3006c0a9] {\n  font-weight: 600;\n  color: #374151;\n  margin-bottom: 8px;\n  font-size: 0.875rem;\n  text-align: center;\n  border-bottom: 1px solid #e2e8f0;\n  padding-bottom: 4px;\n}\n.legend-items[data-v-3006c0a9] {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n}\n.legend-item[data-v-3006c0a9] {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  font-size: 0.75rem;\n  color: #6b7280;\n  padding: 2px;\n}\n.legend-icon[data-v-3006c0a9] {\n  width: 16px;\n  height: 16px;\n  border-radius: 2px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 10px;\n  flex-shrink: 0;\n}\n\n/* åŠ¨ç”»æ•ˆæœ */\n.animate-spin[data-v-3006c0a9] {\n  animation: spin-3006c0a9 1s linear infinite;\n}\n@keyframes spin-3006c0a9 {\nfrom { transform: rotate(0deg);\n}\nto { transform: rotate(360deg);\n}\n}\n\n/* SVGå…ƒç´ æ ·å¼ */\n.location-name-label[data-v-3006c0a9] {\n  font-size: 11px;\n  font-weight: 600;\n  font-family: 'å¾®è½¯é›…é»‘', 'SimHei', sans-serif;\n  pointer-events: none; /* é˜²æ­¢æ ‡ç­¾å¹²æ‰°é¼ æ ‡äº‹ä»¶ */\n}\n.location-icon-text[data-v-3006c0a9] {\n  font-size: 9px;\n  font-weight: bold;\n  font-family: 'å¾®è½¯é›…é»‘', sans-serif;\n  pointer-events: none;\n}\n.player-name-label[data-v-3006c0a9] {\n  font-size: 12px;\n  font-weight: 700;\n  font-family: 'å¾®è½¯é›…é»‘', sans-serif;\n}\n\n/* å“åº”å¼è®¾è®¡ */\n@media (max-width: 640px) {\n.map-legend[data-v-3006c0a9] {\n    bottom: 10px;\n    right: 10px;\n    padding: 8px;\n    min-width: 120px;\n}\n.map-controls-left[data-v-3006c0a9] {\n    top: 8px;\n    left: 8px;\n    gap: 4px;\n}\n.control-btn[data-v-3006c0a9] {\n    width: 28px;\n    height: 28px;\n}\n.selected-info-overlay[data-v-3006c0a9] {\n    top: 10px;\n    left: 10px;\n    right: 10px;\n    transform: none;\n}\n.selected-info[data-v-3006c0a9] {\n    min-width: auto;\n    max-width: none;\n}\n}\n\n/* å…¨å±æ¨¡å¼ä¼˜åŒ– */\n.map-panel[data-v-3006c0a9]:fullscreen {\n  background: #1a1a2e;\n  z-index: 999999; /* ç¡®ä¿å…¨å±å®¹å™¨åœ¨æœ€é«˜å±‚ */\n}\n.map-panel:fullscreen .custom-map-container[data-v-3006c0a9] {\n  border: none;\n  border-radius: 0;\n}\n.map-panel:fullscreen .map-legend[data-v-3006c0a9] {\n  background: rgba(0, 0, 0, 0.8);\n  color: white;\n  z-index: 999998;\n}\n.map-panel:fullscreen .selected-info[data-v-3006c0a9] {\n  background: rgba(0, 0, 0, 0.9) !important;\n  color: white !important;\n  pointer-events: auto !important;\n  z-index: 999999 !important;\n  border: 1px solid rgba(255, 255, 255, 0.3) !important;\n  position: fixed !important; /* ç¡®ä¿åœ¨å…¨å±æ¨¡å¼ä¸‹ä½¿ç”¨fixedå®šä½ */\n}\n.map-panel:fullscreen .selected-info-overlay[data-v-3006c0a9] {\n  z-index: 999999 !important;\n  pointer-events: none !important;\n  position: fixed !important; /* å…¨å±æ¨¡å¼ä¸‹ä½¿ç”¨fixedå®šä½ */\n}\n.map-panel:fullscreen .selected-info-overlay .selected-info[data-v-3006c0a9] {\n  pointer-events: auto !important;\n  position: relative !important; /* å†…éƒ¨å¼¹çª—ä½¿ç”¨relativeå®šä½ */\n}\n.map-panel:fullscreen .close-info[data-v-3006c0a9] {\n  color: white !important;\n}\n.map-panel:fullscreen .close-info[data-v-3006c0a9]:hover {\n  background: rgba(255, 255, 255, 0.2) !important;\n  color: #ff6b6b !important;\n}\n\n/* å…¨å±æ¨¡å¼ä¸‹ç¡®ä¿å¼¹çª—æ–‡æœ¬å¯è§ */\n.map-panel:fullscreen .selected-info[data-v-3006c0a9] * {\n  color: white !important;\n}\n.map-panel:fullscreen .selected-info .info-header h4[data-v-3006c0a9] {\n  color: #60a5fa !important; /* è“è‰²æ ‡é¢˜åœ¨é»‘è‰²èƒŒæ™¯ä¸‹æ›´æ˜æ˜¾ */\n}\n",""]);const i=l},908:(e,n,t)=&gt;{t.d(n,{A:()=&gt;i});var a=t(1601),o=t.n(a),r=t(6314),l=t.n(r)()(o());l.push([e.id,"\n.modal-overlay[data-v-57fafbc4] {\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n}\n.modal-content[data-v-57fafbc4] {\n  background: var(--color-background);\n  border-radius: 12px;\n  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);\n  max-width: 500px;\n  width: 90%;\n  max-height: 80vh;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n}\n.modal-content.stats-modal[data-v-57fafbc4] {\n  max-width: 600px;\n}\n.modal-header[data-v-57fafbc4] {\n  padding: 1.5rem 1.5rem 1rem 1.5rem;\n  border-bottom: 1px solid var(--color-border);\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n.modal-header h3[data-v-57fafbc4] {\n  margin: 0;\n  font-size: 1.1rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.close-btn[data-v-57fafbc4] {\n  background: none;\n  border: none;\n  color: var(--color-text-secondary);\n  cursor: pointer;\n  padding: 0.5rem;\n  border-radius: 6px;\n  transition: all 0.2s;\n}\n.close-btn[data-v-57fafbc4]:hover {\n  background: var(--color-hover);\n  color: var(--color-text);\n}\n.modal-body[data-v-57fafbc4] {\n  padding: 1.5rem;\n  overflow-y: auto;\n  flex: 1;\n}\n.stats-grid[data-v-57fafbc4] {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  gap: 1rem;\n  margin-bottom: 2rem;\n}\n.stat-card[data-v-57fafbc4] {\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n  padding: 1rem;\n  background: var(--color-background);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  transition: all 0.2s;\n}\n.stat-card[data-v-57fafbc4]:hover {\n  background: var(--color-hover);\n  border-color: var(--color-primary);\n}\n.stat-icon[data-v-57fafbc4] {\n  width: 40px;\n  height: 40px;\n  border-radius: 8px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.stat-icon.chat[data-v-57fafbc4] {\n  background: rgba(59, 130, 246, 0.1);\n  color: #3b82f6;\n}\n.stat-icon.global[data-v-57fafbc4] {\n  background: rgba(34, 197, 94, 0.1);\n  color: #22c55e;\n}\n.stat-icon.memory[data-v-57fafbc4] {\n  background: rgba(168, 85, 247, 0.1);\n  color: #a855f7;\n}\n.stat-icon.world[data-v-57fafbc4] {\n  background: rgba(245, 158, 11, 0.1);\n  color: #f59e0b;\n}\n.stat-info[data-v-57fafbc4] {\n  flex: 1;\n}\n.stat-value[data-v-57fafbc4] {\n  font-size: 1.5rem;\n  font-weight: 700;\n  color: var(--color-text);\n  margin-bottom: 0.25rem;\n}\n.stat-label[data-v-57fafbc4] {\n  font-size: 0.875rem;\n  color: var(--color-text-secondary);\n}\n.data-size-info[data-v-57fafbc4] {\n  background: var(--color-background);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  padding: 1rem;\n}\n.data-size-info h4[data-v-57fafbc4] {\n  margin: 0 0 0.75rem 0;\n  font-size: 0.95rem;\n  color: var(--color-text);\n}\n.size-list[data-v-57fafbc4] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n.size-item[data-v-57fafbc4] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0.5rem 0;\n  border-bottom: 1px solid var(--color-border);\n}\n.size-item[data-v-57fafbc4]:last-child {\n  border-bottom: none;\n}\n.size-item span[data-v-57fafbc4]:first-child {\n  color: var(--color-text-secondary);\n  font-size: 0.875rem;\n}\n.size-item span[data-v-57fafbc4]:last-child {\n  color: var(--color-text);\n  font-weight: 500;\n  font-size: 0.875rem;\n}\n",""]);const i=l},948:(e,n,t)=&gt;{t.d(n,{useCharacterStore:()=&gt;T});var a=t(4061),o=t(1774),r=t(2224),l=t(4270),i=t(3302),c=t(9173),s=t(1211);const d="saves",m="root_data";let p=null;function v(){return new Promise((e,n)=&gt;{if(p)return void e(p);const t=indexedDB.open("DAD_SAVES_DB",1);t.onerror=()=&gt;{console.error("ã€ä¹¾å¤å®åº“-IDBã€‘æ•°æ®åº“æ‰“å¼€å¤±è´¥:",t.error),n(t.error)},t.onsuccess=()=&gt;{p=t.result,console.log("ã€ä¹¾å¤å®åº“-IDBã€‘æ•°æ®åº“å·²æ‰“å¼€"),e(t.result)},t.onupgradeneeded=e=&gt;{const n=e.target.result;n.objectStoreNames.contains(d)||(n.createObjectStore(d,{keyPath:"id"}),console.log("ã€ä¹¾å¤å®åº“-IDBã€‘å¯¹è±¡å­˜å‚¨å·²åˆ›å»º:",d))}})}async function u(){try{const e=await v();return new Promise((n,t)=&gt;{const a=e.transaction([d],"readonly").objectStore(d).get(m);a.onsuccess=()=&gt;{if(a.result&amp;&amp;a.result.data){console.log("ã€ä¹¾å¤å®åº“-IDBã€‘æ ¹æ•°æ®åŠ è½½æˆåŠŸ");const e=a.result.data;n({å½“å‰æ¿€æ´»å­˜æ¡£:e.å½“å‰æ¿€æ´»å­˜æ¡£||null,è§’è‰²åˆ—è¡¨:e.è§’è‰²åˆ—è¡¨||{}})}else console.log("ã€ä¹¾å¤å®åº“-IDBã€‘æ— å­˜æ¡£æ•°æ®ï¼Œè¿”å›ç©ºç»“æ„"),n({å½“å‰æ¿€æ´»å­˜æ¡£:null,è§’è‰²åˆ—è¡¨:{}})},a.onerror=()=&gt;{console.error("ã€ä¹¾å¤å®åº“-IDBã€‘è¯»å–å¤±è´¥:",a.error),t(a.error)}})}catch(e){return console.error("ã€ä¹¾å¤å®åº“-IDBã€‘åŠ è½½æ ¹æ•°æ®æ—¶å‡ºé”™:",e),{å½“å‰æ¿€æ´»å­˜æ¡£:null,è§’è‰²åˆ—è¡¨:{}}}}async function g(e){try{const n=await v();return new Promise((t,a)=&gt;{const o=n.transaction([d],"readwrite"),r=o.objectStore(d);let l;try{l=JSON.parse(JSON.stringify(e))}catch(e){return console.error("ã€ä¹¾å¤å®åº“-IDBã€‘æ•°æ®åºåˆ—åŒ–å¤±è´¥:",e),void a(new Error(`æ•°æ®åŒ…å«ä¸å¯åºåˆ—åŒ–çš„å†…å®¹: ${e}`))}const i=r.put({id:m,data:l,timestamp:(new Date).toISOString()});i.onsuccess=()=&gt;{console.log("ã€ä¹¾å¤å®åº“-IDBã€‘æ ¹æ•°æ®ä¿å­˜æˆåŠŸ"),t()},i.onerror=()=&gt;{console.error("ã€ä¹¾å¤å®åº“-IDBã€‘ä¿å­˜å¤±è´¥:",i.error),a(i.error)},o.oncomplete=()=&gt;{console.log("ã€ä¹¾å¤å®åº“-IDBã€‘äº‹åŠ¡å®Œæˆ")}})}catch(e){throw console.error("ã€ä¹¾å¤å®åº“-IDBã€‘ä¿å­˜æ ¹æ•°æ®æ—¶å‡ºé”™:",e),e}}var f=t(8651),b=t(414),h=t(8587),y=t(4775),x=t(3098);class k{static buildPrompt(e){const n=e.factionCount,t=e.totalLocations,a=e.continentCount,o=Math.min(e.secretRealms,t),r=n,l=t-r,i=Math.max(1,Math.floor(.2*l)),c=Math.max(1,Math.floor(.2*l)),s=Math.max(1,Math.floor(.1*l)),d=Math.max(0,l-i-c-s),m=Math.floor(o*(.3+.3*Math.random())),p=Math.floor(o*(.2+.3*Math.random())),v=Math.max(0,o-m-p),u=e.characterBackground?`\nè§’è‰²å‡ºèº«: ${e.characterBackground}`:"",g=e.worldBackground?`\nä¸–ç•ŒèƒŒæ™¯(å‚è€ƒ): ${e.worldBackground}`:"",f=e.worldEra?`\nä¸–ç•Œæ—¶ä»£(å‚è€ƒ): ${e.worldEra}`:"",b=e.worldName?`\nä¸–ç•Œåç§°(å‚è€ƒ): ${e.worldName}`:"";let h,y,x,k;if(e.mapConfig)h=e.mapConfig.minLng,y=e.mapConfig.maxLng,x=e.mapConfig.minLat,k=e.mapConfig.maxLat;else{const e=100+20*Math.random(),n=e+5+10*Math.random(),t=25+15*Math.random(),a=t+3+8*Math.random();h=Math.round(10*e)/10,y=Math.round(10*n)/10,x=Math.round(10*t)/10,k=Math.round(10*a)/10}const w=[["ç ´æ™“","æ˜Ÿæ²³","ç„å†¥","æ´ªè’","æ— æ","å¤ªåˆ","ä¹å¹½","è‹ç©¹"],["ç¥å‰‘","ä»™é—¨","é“å®«","çµå±±","ç§˜å¢ƒ","åœ£åœ°","ä»™å²›","å®é˜"],["çœŸæ­¦","å¤©æœº","æ··å…ƒ","å¤ªä¹™","æ— é‡","ç„å¤©","ç´«éœ„","é‡‘å…‰"]],N=w[0][Math.floor(Math.random()*w[0].length)],E=w[1][Math.floor(Math.random()*w[1].length)],V=w[2][Math.floor(Math.random()*w[2].length)],C=Date.now()+Math.floor(1e6*Math.random()),z=Math.random().toString(36).substring(7),S=["ç‹­é•¿å‹ï¼ˆå¦‚å—åŒ—å‘çš„é•¿æ¡å½¢ï¼‰","æ¤­åœ†å‹ï¼ˆä¸œè¥¿å‘çš„å®½æ¤­åœ†ï¼‰","ä¸è§„åˆ™å¤šè§’å½¢ï¼ˆ8-12ä¸ªéšæœºåˆ†å¸ƒçš„é¡¶ç‚¹ï¼‰","ç¾¤å²›å‹ï¼ˆå¤šä¸ªè¿æ¥çš„å²›å±¿ï¼‰","åŠæœˆå‹ï¼ˆå¼¯æ›²çš„æœˆç‰™å½¢çŠ¶ï¼‰","ä¸‰è§’å½¢ï¼ˆå¤§è‡´å‘ˆä¸‰è§’å½¢åˆ†å¸ƒï¼‰","è‘«èŠ¦å‹ï¼ˆä¸¤ä¸ªåœ†å½¢åŒºåŸŸè¿æ¥ï¼‰","æ˜Ÿå½¢ï¼ˆä»ä¸­å¿ƒå‘å¤–å»¶ä¼¸çš„å¤šä¸ªå°–è§’ï¼‰"].sort(()=&gt;Math.random()-.5).slice(0,4),B=`${e.worldName||""} ${e.worldBackground||""}`,D=e=&gt;e.test(B),A=D(/æ´ªè’|ä¸Šå¤|å·«å¦–|ç›˜å¤|å¥³å¨²|ä¸‰çš‡äº”å¸/),_=D(/åœ°çƒ|ç°å®|ç°ä»£|éƒ½å¸‚|è“æ˜Ÿ|äººé—´/),$=D(/æ˜Ÿé™…|å¤ªç©º|ç§‘å¹»|è”é‚¦|å®‡å®™/),I=D(/ä»™ä¾ |ç„å¹»|ä¿®ä»™|é“é—¨|å®—é—¨/);let T="\n## ä¸–ç•Œé£æ ¼é€‚é…æŒ‡å¼•ï¼ˆæ ¹æ®èƒŒæ™¯è‡ªåŠ¨è°ƒæ•´ï¼‰\n";return T+=A?"\n- **çµæ°”æµ“åº¦**: æé«˜ (å…ˆå¤©çµæ°”å……æ²›)\n- **æœ€é«˜å¢ƒç•Œ**: å¯è¾¾ä»™äººã€åœ£äººå±‚æ¬¡\n- **åœ°ç†æ ¼å±€**: å‚è€ƒâ€œä¹å·å››æµ·/æ´ªè’å¤§é™†â€å¼å®è§‚æ¿å—ï¼Œè¾¹ç•Œå‘ˆå·¨å‹è‡ªç„¶æ–­è£‚ï¼ˆç¥å±±ã€å¤©æµ·ã€å¤©å ‘ï¼‰ã€‚\n- **åŠ¿åŠ›ç±»å‹**: å‡å°‘ç°ä»£å®—é—¨å¥—è·¯ï¼Œå¢åŠ â€œå¤©åº­/åœ°åºœ/éƒ¨æ—/åœ£åœ°/å¦–æ—ç¥–åº­â€ç­‰ç¥è¯åŠ¿åŠ›ï¼›ä»éœ€ä¿æŒ leadership/memberCount ç­‰ç»“æ„å­—æ®µã€‚\n- **åœ°ç‚¹ç±»å‹**: ç¥å±±ã€ä»™å²›ã€å¤©æ²³ã€ç¥–è„‰ã€ä¸Šå¤æˆ˜åœºã€å°ç¥é—è¿¹ã€å‰‘é˜µé—å€ç­‰ã€‚\n- **èµ„æºä¸å±é™©**: çµè„‰å¯†å¸ƒï¼Œè¿œå¤ç¦åŒº/å‡¶åœ°å±é™©ç­‰çº§æ›´é«˜ã€‚\n":_?"\n- **çµæ°”æµ“åº¦**: æä½ (æœ«æ³•æ—¶ä»£ï¼Œçµæ°”ç¨€è–„)\n- **æœ€é«˜å¢ƒç•Œ**: ä¸¥æ ¼é™åˆ¶åœ¨â€œç­‘åŸºæœŸâ€åŠä»¥ä¸‹ï¼Œå®—ä¸»ã€æœ€å¼ºè€…ä¿®ä¸ºæ™®éä¸ºâ€œç»ƒæ°”åæœŸâ€æˆ–â€œç»ƒæ°”åœ†æ»¡â€ã€‚ç»å¯¹ç¦æ­¢å‡ºç°é‡‘ä¸¹æœŸåŠä»¥ä¸Šçš„ä¿®å£«ï¼\n- **åœ°ç†æ ¼å±€**: æŠ½è±¡åŒ–ç°å®å¤§æ´²/å›½å®¶ï¼›ç”¨â€œç»“ç•Œ/ç§˜å¢ƒ/åœ°è„‰èŠ‚ç‚¹â€è¿æ¥è¶…è‡ªç„¶åœ°ç‚¹ã€‚\n- **åŠ¿åŠ›ç±»å‹**: éšä¸–çš„å¤æ­¦é—¨æ´¾ã€å¤è€ä¸–å®¶ã€ä¿®è¡Œè€…åä¼šã€è¶…è‡ªç„¶ç°è±¡ç ”ç©¶é™¢ã€ç‰¹æ®Šå®‰ä¿æœºæ„ç­‰ã€‚å­—æ®µç»“æ„ä¸å˜ä½†è¯­å¢ƒè´´è¿‘ç°ä»£ï¼Œä¾‹å¦‚â€œå®—ä¸»â€å¯ç§°ä¸ºâ€œé—¨ä¸»â€ã€â€œä¼šé•¿â€ã€‚\n- **åœ°ç‚¹ç±»å‹**: éƒ½å¸‚ä¸­çš„éšç§˜é“åœºã€å¤è¿¹é—å€ã€çµæ°”å¤è‹çš„è‡ªç„¶ä¿æŠ¤åŒºã€åœ°ä¸‹é—è¿¹ã€æ·±æµ·ç§˜å¢ƒç­‰ã€‚\n- **éšè”½æ€§**: æ‰€æœ‰è¶…å‡¡åŠ›é‡å’Œåœ°ç‚¹éƒ½é«˜åº¦éšè”½ï¼Œé€šè¿‡ç»“ç•Œæˆ–ç°ä»£ç§‘æŠ€æ‰‹æ®µä¸æ™®é€šç¤¾ä¼šéš”ç»ã€‚\n":$?"\n- **çµæ°”æµ“åº¦**: å¯å˜ (æ ¹æ®æ˜Ÿçƒç¯å¢ƒè€Œå®šï¼Œå¯èƒ½å­˜åœ¨é«˜çµèƒ½æ˜Ÿçƒå’Œç§‘æŠ€æ˜Ÿçƒ)\n- **æœ€é«˜å¢ƒç•Œ**: å¯ä¸ç§‘æŠ€ç»“åˆï¼Œå½¢æˆç‹¬ç‰¹çš„â€œåŸºå› é”â€ã€â€œçµèƒ½ç­‰çº§â€ç­‰ä½“ç³»\n- **åœ°ç†æ ¼å±€**: å¤šæ˜Ÿç³»/è¡Œæ˜Ÿæ¿å—ï¼Œç”¨â€œæ‰‡åŒº/ç¯å¸¦/å¼•åŠ›äº•â€æè¿°è¾¹ç•Œï¼›å¤šè¾¹å½¢ä¸¥ç¦é‡å ã€‚\n- **åŠ¿åŠ›ç±»å‹**: è”é‚¦/æ˜Ÿç›Ÿ/èˆ°é˜Ÿä¿®ä¼š/é—è¿¹çœ‹æŠ¤æ‰€/ç¯è½¨é“é—¨æ´¾ï¼Œä¿ç•™ç»„ç»‡å­—æ®µã€‚\n- **åœ°ç‚¹ç±»å‹**: æ¯æ¸¯ã€ç¯è½¨é“åŸã€æ˜Ÿé—¨ã€é—è¿¹èˆ°åŸã€æ’æ˜Ÿè§‚æµ‹ç«™ã€æš—ç‰©è´¨è„‰ç‚¹ç­‰ã€‚\n":I?"\n- **çµæ°”æµ“åº¦**: ä¸­åˆ°é«˜ (æ ‡å‡†ä¿®ä»™ä¸–ç•Œ)\n- **æœ€é«˜å¢ƒç•Œ**: é€šå¸¸å¯è¾¾æ¸¡åŠ«æœŸã€å¤§ä¹˜æœŸ\n- **åœ°ç†æ ¼å±€**: ä¼ ç»Ÿä»™ä¾ å¤§é™†ä¸ç¾¤å±±æ²³è°·ç»“åˆï¼Œçµè„‰èµ°å‘å†³å®šåŠ¿åŠ›è¾¹ç•Œï¼›ç¦åŒºä¸åœ£åœ°ç›¸é—´åˆ†å¸ƒã€‚\n- **åŠ¿åŠ›ç±»å‹**: å®—é—¨/ä¸–å®¶/é­”é“/å•†ä¼š/æ•£ä¿®è”ç›Ÿ/å¦–æ—éƒ¨è½ç­‰å¤šå…ƒå¹¶å­˜ã€‚\n- **åœ°ç‚¹ç±»å‹**: å®—é—¨å±±é—¨ã€åŠå¸‚ã€ç‚¼ä¸¹è°·ã€ç§˜å¢ƒå…¥å£ã€å¤æˆ˜åœºã€æ´å¤©ç¦åœ°ã€è¯•ç‚¼åœ°ç­‰ã€‚\n":"\n- **çµæ°”æµ“åº¦**: ä¸­ç­‰\n- **æœ€é«˜å¢ƒç•Œ**: é»˜è®¤ä¸ºæ¸¡åŠ«æœŸ\n- **é£æ ¼**: ä¿æŒå¤šæ ·ä¸ç‹¬ç‰¹æ€§ï¼Œæ ¹æ®èƒŒæ™¯è‡ªç”±å‘æŒ¥ï¼ŒåŒæ—¶éµå®ˆæ•°é‡ä¸è¾¹ç•Œä¸é‡å çš„ç¡¬æ€§çº¦æŸã€‚\n",console.log("[å¢å¼ºä¸–ç•Œç”Ÿæˆå™¨] æœ€ç»ˆæ•°é‡ - åŠ¿åŠ›:",n,"åœ°ç‚¹:",t,"ç‰¹æ®Šå±æ€§:",o),console.log("[å¢å¼ºä¸–ç•Œç”Ÿæˆå™¨] éšæœºåæ ‡èŒƒå›´:",`ç»åº¦${h}-${y}, çº¬åº¦${x}-${k}`),console.log("[å¢å¼ºä¸–ç•Œç”Ÿæˆå™¨] ç”Ÿæˆç§å­:",C,"ä¼šè¯ID:",z),console.log("[å¢å¼ºä¸–ç•Œç”Ÿæˆå™¨] é€‰æ‹©çš„å¤§æ´²å½¢çŠ¶:",S),`# è¯¸å¤©ä¸‡ç•ŒåŠ¿åŠ›åœ°å›¾ç”Ÿæˆä»»åŠ¡\n\n**ç”Ÿæˆä¼šè¯ID**: ${z}\n**éšæœºç§å­**: ${C}\n**åæ ‡èŒƒå›´**: ç»åº¦${h}-${y}, çº¬åº¦${x}-${k}\n**å…³é”®è¦æ±‚**: åˆ›é€ ç‹¬ç‰¹å¤šæ ·çš„ä¿®ä»™ä¸–ç•Œï¼Œæ¯æ¬¡ç”Ÿæˆå¿…é¡»æ˜¾è‘—ä¸åŒï¼Œé¿å…é‡å¤å›ºåŒ–çš„åŠ¿åŠ›å’Œåœ°å\n**è¾¹ç•Œéšæœºæ€§**: ä¸¥æ ¼è¦æ±‚æ¯ä¸ªå¤§æ´²å’ŒåŠ¿åŠ›çš„è¾¹ç•Œå½¢çŠ¶éƒ½å¿…é¡»éšæœºç”Ÿæˆï¼Œç»ä¸èƒ½é‡å¤ä¹‹å‰çš„å¤šè¾¹å½¢å½¢çŠ¶ï¼\n**æ•°é‡é™åˆ¶**: ä¸¥æ ¼æŒ‰ç…§é…ç½®ç”Ÿæˆï¼ŒåŠ¿åŠ›${n}ä¸ªã€åœ°ç‚¹${t}ä¸ªï¼Œç»ä¸å¯è¶…å‡ºæ­¤æ•°é‡\n\n## âš ï¸ åˆ›æ„å‘½åæ ¸å¿ƒè¦æ±‚ - ä¸¥æ ¼æ‰§è¡Œ\n\n**å‘½ååˆ›æ–°åŸåˆ™**:\n- **æœ¬æ¬¡åˆ›æ„å¼•å¯¼**: ä½¿ç”¨${N}ã€${E}ã€${V}ç­‰è¯æ±‡ä¸ºåˆ›æ„åŸºç¡€\n- **ä¸–ç•ŒèƒŒæ™¯å†³å®š**: èåˆä¸–ç•ŒèƒŒæ™¯å’Œä¿®ä»™ç†å¿µ\n- **è‡ªç„¶åœ°ç†èåˆ**: èå…¥å±±å·ã€æ˜Ÿè¾°ã€äº”è¡Œç­‰è‡ªç„¶å…ƒç´ \n- **ç‹¬ç‰¹æ€§ä¿è¯**: æ¯ä¸ªåç§°éƒ½å¿…é¡»åŸåˆ›ï¼Œé¿å…å¸¸è§å¥—è·¯ç»„åˆ\n- **éšæœºç§å­${C}**: ç¡®ä¿æœ¬æ¬¡ç”Ÿæˆå®Œå…¨ä¸åŒäºä»¥å¾€\n\n**ç§¯æçš„å‘½åç­–ç•¥** (æ¨èæ¨¡å¼):\n- **è‡ªç„¶æ™¯è§‚** + **ä¿®è¡Œç†å¿µ**: å¦‚"æœ›æ˜Ÿ"+"æ‚Ÿé“" = æœ›æ˜Ÿæ‚Ÿé“å®—\n- **äº”è¡Œå…ƒç´ ** + **å®—é—¨ç‰¹è‰²**: å¦‚"çƒˆç«"+"ç‚¼ä½“" = çƒˆç«ç‚¼ä½“é—¨\n- **åœ°è²Œç‰¹å¾** + **ä¼ æ‰¿å†å²**: å¦‚"æ–­å´–"+"å¤ä¼ " = æ–­å´–å¤ä¼ æ´¾\n- **å“²å­¦æ€æƒ³** + **ç»„ç»‡ç»“æ„**: å¦‚"æ— ä¸º"+"çœŸé—¨" = æ— ä¸ºçœŸé—¨\n\n**å‘½åé£æ ¼è¦æ±‚**:\n- å®—é—¨åç§°ï¼š3-5å­—ï¼Œä½“ç°ä¼ æ‰¿ä¸ç†å¿µ\n- ä¸–å®¶åç§°ï¼šå§“æ°+åœ°åŸŸ/ç‰¹è‰²\n- é­”é“åŠ¿åŠ›ï¼šåå‘éœ¸æ°”æˆ–ç¥ç§˜\n- å•†ä¼šç»„ç»‡ï¼šä½“ç°å•†ä¸šç‰¹è‰²\n\n## ä¸–ç•Œè®¾å®šä¿¡æ¯ï¼ˆä»…ä¾›å‚è€ƒï¼Œä¸è¦åœ¨JSONè¾“å‡ºä¸­é‡å¤è¿™äº›å…ƒæ•°æ®ï¼‰\n${u}${g}${f}${b}\n${T}\n\né‡è¦ï¼š\n- åªç”Ÿæˆåœ°å›¾ç›¸å…³æ•°æ®ï¼ˆå¤§æ´²è¾¹ç•Œã€å¤šè¾¹å½¢ã€åŠ¿åŠ›èŒƒå›´ã€åœ°ç‚¹åæ ‡ä¸ç±»å‹ï¼‰ã€‚\n- ä¸¥ç¦åœ¨JSONä¸­è¾“å‡º world_name / world_background / world_era / generation_info / player_spawn ç­‰éåœ°å›¾å­—æ®µã€‚\n\næ³¨æ„ï¼šä»¥ä¸‹è¯æ ¹åŠå…¶åŒä¹‰/å˜ä½“ä¸¥ç¦å‡ºç°åœ¨ä»»ä½•åŠ¿åŠ›æˆ–åœ°åä¸­ï¼š\næœ¬å¿ƒã€é—®å¿ƒã€è§æ€§ã€å½’ä¸€ã€å¤ªç„ã€å¤ªè™šã€ç´«è–‡ã€å¤©æœºã€é’éœã€æ— é‡ã€æ˜Šå¤©ã€ç„å¤©ã€å¤ªæ¸…ã€å¤ªä¸Šã€æ— æã€ä¹å¤©ã€‚\n\n## ğŸ¯ æ ¸å¿ƒç”ŸæˆåŸåˆ™\n\n### 1. ã€ä¿®ä»™ä¸–ç•ŒåŸºç¡€ã€‘\n\næ ¸å¿ƒè¦æ±‚ï¼š\n- **æ ¸å¿ƒä½“ç³»**: ä¿®ä»™ã€å¢ƒç•Œã€åŠŸæ³•ã€ä¸¹è¯ã€æ³•å®ç­‰ä¼ ç»Ÿä¿®ä»™å…ƒç´ \n- **æƒåŠ›ç»“æ„**: å¼ºè€…ä¸ºå°Šçš„ä¿®ä»™ä¸–ç•Œç­‰çº§ç§©åº\n\n### 2. ã€å¤šæ ·æ€§ç¬¬ä¸€ã€‘- é¿å…å›ºåŒ–æ¨¡å¼\n- **åŠ¿åŠ›å¤šæ ·åŒ–**: æ¯æ¬¡ç”Ÿæˆä¸åŒç±»å‹çš„åŠ¿åŠ›ç»„åˆã€‚\n- **åœ°ååˆ›æ–°**: å®Œå…¨é¿å…ä½¿ç”¨æ¨¡æ¿åŒ–åœ°åï¼Œæ¯ä¸ªåç§°éƒ½è¦æœ‰ç‰¹è‰²ä¸”ç‹¬ä¸€æ— äºŒ\n- **è§„æ¨¡å¹³è¡¡**: ä¿®ä»™ä¸–ç•Œä¸­å®—é—¨ä¸ºä¸»ï¼Œä½†è¦æ ¹æ®èƒŒæ™¯è°ƒæ•´è¡¨ç°å½¢å¼\n\n### 3. ã€åŠ¿åŠ›è§„æ¨¡ã€‘- ç¬¦åˆä¿®ä»™ä½“ç³»è®¾å®š\næ ¹æ®ä¿®ä»™ä¸–ç•Œçš„åŸºæœ¬è§„å¾‹å’Œä¸–ç•ŒèƒŒæ™¯è°ƒæ•´åŠ¿åŠ›åˆ†å¸ƒï¼š\n\n**ä¿®ä»™ä¸–ç•Œçš„åˆç†åŠ¿åŠ›åˆ†å¸ƒ**:\n- ğŸ”ï¸ **å„å¤§å®—é—¨** (40-50%): ä¿®ä»™ä¸–ç•Œçš„ä¸»ä½“åŠ¿åŠ›\n- ğŸ›ï¸ **ä¿®ä»™ä¸–å®¶** (20-30%): è¡€è„‰ä¼ æ‰¿ï¼Œåº•è•´æ·±åš\n- âš”ï¸ **é­”é“åŠ¿åŠ›** (10-20%): ä¸æ­£é“å¯¹ç«‹çš„é»‘æš—åŠ›é‡\n- ğŸ® **æ•£ä¿®è”ç›Ÿ** (10-15%): è‡ªç”±ä¿®å£«çš„æ¾æ•£ç»„ç»‡\n- ğŸ’° **å•†ä¼šç»„ç»‡** (5-15%): è´¸æ˜“æµé€šï¼Œä¸­ç«‹åŠ¿åŠ›\n- ğŸŒ¿ **å¦–æ—éƒ¨è½** (5-10%): éäººç§æ—ï¼Œè‡ªç„¶åŠ¿åŠ›\n\n**é‡è¦**: æ ¹æ®ä¸–ç•ŒèƒŒæ™¯è°ƒæ•´å…·ä½“è¡¨ç°å½¢å¼ï¼Œä½†ä¿æŒä¿®ä»™ä½“ç³»çš„æ ¸å¿ƒï¼\n\n## ğŸŒ åœ°ç†å±‚çº§ç»“æ„\n\n### å¤§æ´²çº§åˆ«åŒºåŸŸ\nä¸ºäº†è¥é€ æ›´å®å¤§çš„ä¸–ç•Œè§‚ï¼Œéœ€è¦åˆ›é€ ${a}ä¸ªå¤§æ´²çº§åˆ«çš„åœ°ç†åŒºåŸŸæ¥åŒ…è£¹å„ä¸ªåŠ¿åŠ›ï¼š\n\n**å¤§æ´²åˆ›é€ è¦æ±‚**ï¼š\n- **æ•°é‡æ§åˆ¶**: å¿…é¡»åˆ›é€ ${a}ä¸ªå¤§æ´²ï¼Œå°†æ•´ä¸ªä¸–ç•Œåœ°å›¾å®Œå…¨åˆ†å‰²\n- **å¡«æ»¡åœ°å›¾**: ğŸ”¥**å…³é”®è¦æ±‚**ğŸ”¥ æ‰€æœ‰å¤§æ´²è¾¹ç•ŒåŠ èµ·æ¥å¿…é¡»è¦†ç›–æ•´ä¸ªåœ°å›¾åŒºåŸŸï¼Œä¸èƒ½æœ‰ç©ºç™½åŒºåŸŸï¼Œç›¸å½“äºç°å®ä¸–ç•Œçš„ä¸ƒå¤§æ´²å››å¤§æ´‹æ¦‚å¿µ\n- **å‘½ååˆ›æ–°**: åˆ›é€ ç‹¬ç‰¹çš„å¤§æ´²åç§°ï¼Œé¿å…ä½¿ç”¨"ä¸œè¥¿å—åŒ—"ç­‰æ–¹ä½è¯\n- **åœ°ç†ç‰¹è‰²**: æ¯ä¸ªå¤§æ´²è¦æœ‰ç‹¬ç‰¹çš„åœ°ç†ç‰¹å¾ï¼ˆå¦‚ï¼šé›ªåŸŸã€æ²™æ¼ ã€æ£®æ—ã€æµ·å²›ç­‰ï¼‰\n- **åŠ¿åŠ›åˆ†å¸ƒ**: å¤§æ´²æ•°é‡ä¸º${a}ï¼Œæ¯ä¸ªå¤§æ´²åŒ…å«1-3ä¸ªä¸»è¦åŠ¿åŠ›ï¼Œå½¢æˆæ›´ç»†è‡´çš„åœ°ç¼˜æ”¿æ²»æ ¼å±€\n- **è¾¹ç•Œè®¾è®¡**: å¤§æ´²è¾¹ç•Œç”¨ç®€å•è§„åˆ™å¤šè¾¹å½¢è¡¨ç¤ºï¼ˆ4-8ä¸ªåæ ‡ç‚¹ï¼‰ï¼Œé¿å…è¿‡äºå¤æ‚çš„å½¢çŠ¶\n- **å®Œæ•´è¦†ç›–**: ğŸ”¥**æ ¸å¿ƒè¦æ±‚**ğŸ”¥ ${a}ä¸ªå¤§æ´²çš„è¾¹ç•Œå¤šè¾¹å½¢å¿…é¡»å®Œå…¨è¦†ç›–ç»åº¦${h}-${y}ï¼Œçº¬åº¦${x}-${k}çš„æ•´ä¸ªåŒºåŸŸ\n- **ğŸš« é‡å ä¸ç©ºéš™**: å¤§æ´²è¾¹ç•Œä¸èƒ½é‡å ï¼Œä¹Ÿä¸èƒ½ç•™æœ‰ç©ºéš™ï¼Œå¿…é¡»åƒæ‹¼å›¾ä¸€æ ·å®Œç¾æ‹¼æ¥\n- **ğŸš¨ ä¸¥æ ¼ç¦æ­¢é‡å **: è¿™æ˜¯æœ€é‡è¦çš„è¦æ±‚ï¼ä»»ä½•å¤§æ´²çš„è¾¹ç•Œå¤šè¾¹å½¢éƒ½ä¸èƒ½ä¸å…¶ä»–å¤§æ´²é‡å ï¼Œå³ä½¿1ä¸ªåƒç´ ä¹Ÿä¸è¡Œ\n- **ğŸ“ æŠ€æœ¯è¦æ±‚**: ç”Ÿæˆå‰å¿…é¡»æ£€æŸ¥æ¯ä¸ªå¤§æ´²çš„å¤šè¾¹å½¢æ˜¯å¦ä¸å…¶ä»–å¤§æ´²æœ‰äº¤é›†ï¼Œå¦‚æœ‰äº¤é›†å¿…é¡»è°ƒæ•´è¾¹ç•Œ\n- **ğŸ” è‡ªæŸ¥æœºåˆ¶**: å®Œæˆç”Ÿæˆåï¼ŒAIå¿…é¡»è‡ªæ£€æ‰€æœ‰å¤§æ´²è¾¹ç•Œæ˜¯å¦æœ‰é‡å ï¼Œå¦‚å‘ç°é‡å å¿…é¡»é‡æ–°ç”Ÿæˆ\n- **ğŸ“ è¾¹ç•Œå…±äº«**: ç›¸é‚»å¤§æ´²å¯ä»¥å…±äº«è¾¹ç•Œçº¿ï¼Œå½¢æˆè¿ç»­çš„ä¸–ç•Œåœ°å›¾\n- **ğŸ—ºï¸ åˆ†å¸ƒç­–ç•¥**:\n  * å°†æ•´ä¸ªç»åº¦${h}-${y}ï¼Œçº¬åº¦${x}-${k}åŒºåŸŸæŒ‰${a}ä¸ªå¤§æ´²å‡åŒ€åˆ†å‰²\n  * æ¯ä¸ªå¤§æ´²éƒ½æ˜¯ä¸€ä¸ªå®Œæ•´çš„åœ°ç†æ¿å—ï¼Œæœ‰è‡ªå·±çš„"å¤§é™†æ¶"æ¦‚å¿µ\n  * å¤§æ´²ä¹‹é—´ç”¨è‡ªç„¶è¾¹ç•Œåˆ†éš”ï¼ˆå¦‚å±±è„‰ã€æµ·å³¡ã€æ²³æµç­‰æ¦‚å¿µä¸Šçš„åˆ†ç•Œçº¿ï¼‰\n  * ç¡®ä¿æ•´ä¸ªä¸–ç•Œåœ°å›¾è¢«å®Œå…¨åˆ†å‰²ï¼Œæ— é—æ¼åŒºåŸŸ\n  * ğŸ”¥**å½¢çŠ¶è¦æ±‚**ğŸ”¥ï¼šä½¿ç”¨ç®€å•çš„çŸ©å½¢ã€æ¢¯å½¢æˆ–ç®€å•å¤šè¾¹å½¢ï¼Œä¸è¦å¤æ‚çš„é”¯é½¿çŠ¶è¾¹ç•Œ\n- **ğŸ“ è¾¹ç•Œç”Ÿæˆè§„åˆ™**:\n  * æ¯ä¸ªå¤§æ´²çš„ç»åº¦è·¨åº¦ä¸è¶…è¿‡${Math.round((y-h)/Math.ceil(Math.sqrt(a))*10)/10}åº¦\n  * æ¯ä¸ªå¤§æ´²çš„çº¬åº¦è·¨åº¦ä¸è¶…è¿‡${Math.round((k-x)/Math.ceil(Math.sqrt(a))*10)/10}åº¦\n  * è¾¹ç•Œåæ ‡å¿…é¡»åœ¨æŒ‡å®šçš„ç»çº¬åº¦èŒƒå›´å†…\n\n**æœ¬æ¬¡å¤§æ´²å½¢çŠ¶æŒ‡å¯¼**ï¼ˆæ¯ä¸ªå¤§æ´²é€‰æ‹©ä¸åŒçš„å½¢çŠ¶ç±»å‹ï¼‰:\n${S.map((e,n)=&gt;`- å¤§æ´²${n+1}: ${e}`).join("\n")}\n\n**é‡è¦**: æ¯æ¬¡ç”Ÿæˆæ—¶ï¼Œæ¯ä¸ªå¤§æ´²çš„è¾¹ç•Œå½¢çŠ¶éƒ½å¿…é¡»æœ‰æ˜¾è‘—å·®å¼‚ï¼Œä¸èƒ½ç”Ÿæˆç›¸ä¼¼çš„å¤šè¾¹å½¢ï¼\n\n## âš ï¸ æ•°æ®ç»“æ„å®Œæ•´æ€§è¦æ±‚ - å¿…é¡»ä¸¥æ ¼éµå®ˆ\n\n**åŠ¿åŠ›æ•°æ®å¿…éœ€å­—æ®µæ£€æŸ¥å•**:\n- âœ“ **ä½ç½®**: å¿…é¡»æ˜¯å¯¹è±¡æ ¼å¼ {"longitude": æ•°å€¼, "latitude": æ•°å€¼}\n- âœ“ **åŠ¿åŠ›èŒƒå›´**: âš ï¸**ä¸¥ç¦ç©ºæ•°ç»„**âš ï¸ å¿…é¡»æ˜¯åæ ‡ç‚¹æ•°ç»„ï¼Œè‡³å°‘4ä¸ªç‚¹å½¢æˆå°é—­å¤šè¾¹å½¢ï¼Œæ¯ä¸ªåŠ¿åŠ›éƒ½å¿…é¡»æœ‰åŠ¿åŠ›èŒƒå›´ï¼**å°ºå¯¸è¦æ±‚ï¼šåŠ¿åŠ›èŒƒå›´åº”å å¤§æ´²é¢ç§¯çš„5%-15%ï¼Œè·¨åº¦0.5-1.5ç»çº¬åº¦**\n- âœ“ **leadership**: å¿…é¡»åŒ…å«å®—ä¸»å§“åå’Œä¿®ä¸ºç­‰å®Œæ•´ä¿¡æ¯\n- âœ“ **memberCount**: å¿…é¡»åŒ…å«totalã€byRealmã€byPositionå®Œæ•´ç»Ÿè®¡\n\n**åœ°ç‚¹æ•°æ®å¿…éœ€å­—æ®µæ£€æŸ¥å•**:\n- âœ“ **coordinates**: å¿…é¡»æ˜¯å¯¹è±¡æ ¼å¼ {"longitude": æ•°å€¼, "latitude": æ•°å€¼}\n- âœ“ **name**: å¿…é¡»æ˜¯å…·ä½“åœ°ç‚¹åç§°ï¼Œä¸èƒ½ä¸ºç©º\n- âœ“ **type**: å¿…é¡»æ˜¯7ç§æ ‡å‡†ç±»å‹ä¹‹ä¸€\n- âœ“ **description**: å¿…é¡»åŒ…å«åœ°ç‚¹æè¿°\n\n**ä¸¥ç¦è¾“å‡ºçš„é”™è¯¯æ ¼å¼**:\n- âœ— ç©ºæ•°ç»„: "åŠ¿åŠ›èŒƒå›´": [] âš ï¸**è¿™æ˜¯ç»å¯¹ç¦æ­¢çš„ï¼æ¯ä¸ªåŠ¿åŠ›å¿…é¡»æœ‰å…·ä½“çš„åŠ¿åŠ›èŒƒå›´åæ ‡ï¼**\n- âœ— ç©ºæ•°ç»„: "å¤§æ´²è¾¹ç•Œ": [] âš ï¸**è¿™æ˜¯ç»å¯¹ç¦æ­¢çš„ï¼æ¯ä¸ªå¤§æ´²å¿…é¡»æœ‰å…·ä½“çš„è¾¹ç•Œåæ ‡ï¼**\n- âœ— ç©ºæ•°ç»„: "åœ°ç†ç‰¹å¾": [] âš ï¸**è¿™æ˜¯ç»å¯¹ç¦æ­¢çš„ï¼æ¯ä¸ªå¤§æ´²å¿…é¡»æœ‰å…·ä½“çš„åœ°ç†ç‰¹å¾ï¼**\n- âœ— ç©ºæ•°ç»„: "å¤©ç„¶å±éšœ": [] âš ï¸**è¿™æ˜¯ç»å¯¹ç¦æ­¢çš„ï¼æ¯ä¸ªå¤§æ´²å¿…é¡»æœ‰å…·ä½“çš„å¤©ç„¶å±éšœï¼**\n- âœ— æ— æ•ˆåæ ‡: "ä½ç½®": "åˆå§‹åœ°"\n- âœ— ç¼ºå¤±å­—æ®µ: ä»»ä½•å¿…éœ€å­—æ®µä¸ºnullæˆ–undefined\n- âœ— åŠ¿åŠ›èŒƒå›´å°‘äº4ä¸ªç‚¹: è‡³å°‘éœ€è¦4ä¸ªåæ ‡ç‚¹å½¢æˆå°é—­åŒºåŸŸ\n- âœ— å¤§æ´²è¾¹ç•Œå°‘äº4ä¸ªç‚¹: è‡³å°‘éœ€è¦4ä¸ªåæ ‡ç‚¹å½¢æˆç®€å•å¤šè¾¹å½¢ï¼ˆæ¨è4-6ä¸ªç‚¹ï¼‰\n- âœ— å¤§æ´²è¾¹ç•Œè¿‡äºå¤æ‚: é¿å…è¶…è¿‡8ä¸ªåæ ‡ç‚¹çš„å¤æ‚é”¯é½¿å½¢çŠ¶\n\n## ğŸ“Š æœ¬æ¬¡ç”Ÿæˆå‚æ•° (ä¸¥æ ¼æŒ‰ç…§é…ç½®)\n- **åŠ¿åŠ›æ€»æ•°**: å¿…é¡»ç²¾ç¡®ç”Ÿæˆ${n}ä¸ªåŠ¿åŠ›ï¼Œä¸å¤šä¸å°‘\n- **åœ°ç‚¹æ€»æ•°**: å¿…é¡»ç²¾ç¡®ç”Ÿæˆ${t}ä¸ªåœ°ç‚¹ï¼Œä¸å¤šä¸å°‘\n- **ç‰¹æ®Šå±æ€§**: ä»${t}ä¸ªåœ°ç‚¹ä¸­é€‰æ‹©${o}ä¸ªæ·»åŠ ç‰¹æ®Šå±æ€§\n\n**é‡è¦**: factionsæ•°ç»„å¿…é¡»åŒ…å«${n}ä¸ªå¯¹è±¡ï¼Œlocationsæ•°ç»„å¿…é¡»åŒ…å«${t}ä¸ªå¯¹è±¡ï¼\n\n### ğŸ›ï¸ åŠ¿åŠ›ç”Ÿæˆè¦æ±‚ (${n}ä¸ª) - å®Œæ•´ç»„ç»‡æ¶æ„\n\n**åŠ¿åŠ›èŒƒå›´å°ºå¯¸è¦æ±‚** - ğŸš«**ç»å¯¹ä¸èƒ½ä¸å¤§æ´²åŒç­‰è§„æ¨¡**:\n- **å¤§æ´² vs åŠ¿åŠ›èŒƒå›´å…³ç³»**:\n  * **å¤§æ´²**: åƒç°å®ä¸–ç•Œçš„äºšæ´²ã€æ¬§æ´²é‚£æ ·çš„è¶…å¤§åœ°ç†æ¿å—ï¼Œè¦†ç›–åœ°å›¾çš„å¤§ç‰‡åŒºåŸŸï¼Œ**ç»å¯¹ä¸èƒ½é‡å **\n  * **åŠ¿åŠ›èŒƒå›´**: åƒä¸€ä¸ªçœä»½æˆ–å¤§å‹åŸå¸‚ç¾¤é‚£æ ·çš„åŒºåŸŸï¼Œæ˜¯å¤§æ´²å†…çš„ä¸€å—æ§åˆ¶åŒºåŸŸ\n- **é¢ç§¯æ¯”ä¾‹**: åŠ¿åŠ›èŒƒå›´åº”è¯¥å æ‰€åœ¨å¤§æ´²é¢ç§¯çš„8%-25%ï¼Œå¯ä»¥æ¯”è¾ƒå¤§ä½†ä¸èƒ½å æ®æ•´ä¸ªå¤§æ´²\n- **å…·ä½“å°ºå¯¸å¯¹æ¯”**:\n  * **å¤§æ´²è¾¹ç•Œ**: è·¨åº¦5-10ç»çº¬åº¦ï¼Œè¦†ç›–åœ°å›¾çš„ä¸»è¦éƒ¨åˆ†ï¼Œ**ä¸¥ç¦é‡å **\n  * **åŠ¿åŠ›èŒƒå›´**: è·¨åº¦0.5-1.5ç»çº¬åº¦ï¼Œæ˜¯å¤§æ´²å†…çš„æ§åˆ¶åŒºåŸŸ\n- **åœ°ç†é€»è¾‘**:\n  * **å¤§æ´²**: ç›¸å½“äº"å¤§é™†æ¶"ï¼Œæ˜¯åœ°ç†å’Œæ–‡åŒ–çš„å¤§åŒºåŸŸï¼Œ**å¿…é¡»å®Œå…¨ä¸é‡å **\n  * **åŠ¿åŠ›**: æ§åˆ¶å®—é—¨æ€»éƒ¨ã€é™„å±åŸå¸‚ã€èµ„æºäº§åœ°ã€ä¿®ç‚¼ç§˜å¢ƒç­‰åŒºåŸŸ\n- **âŒ é”™è¯¯ç¤ºä¾‹**:\n  * å¤§æ´²è¾¹ç•Œé‡å æˆ–æœ‰ç©ºéš™ï¼ˆè¿™æ˜¯æœ€ä¸¥é‡çš„é”™è¯¯ï¼ï¼‰\n  * ä¸¤ä¸ªå¤§æ´²çš„å¤šè¾¹å½¢æœ‰ä»»ä½•äº¤é›†æˆ–é‡å åŒºåŸŸ\n  * åŠ¿åŠ›èŒƒå›´è¦†ç›–æ•´ä¸ªå¤§æ´²æˆ–å æ®å¤§æ´²80%ä»¥ä¸Šé¢ç§¯\n  * å¤§æ´²è¾¹ç•Œä¸è§„æ•´ï¼Œæ— æ³•å½¢æˆå®Œæ•´è¦†ç›–\n- **âœ… æ­£ç¡®ç¤ºä¾‹**:\n  * å¤§æ´²åƒæ‹¼å›¾ä¸€æ ·å®Œç¾æ‹¼æ¥ï¼Œæ— é‡å æ— ç©ºéš™\n  * ä¸€ä¸ªå¤§æ´²å†…æœ‰1-3ä¸ªåŠ¿åŠ›ï¼Œæ¯ä¸ªåŠ¿åŠ›èŒƒå›´éƒ½æ˜¯å¤§æ´²å†…çš„è¾ƒå¤§å¤šè¾¹å½¢åŒºåŸŸ\n\n**å®—é—¨å®Œæ•´æ•°æ®ç»“æ„è¦æ±‚**:\næ¯ä¸ªå®—é—¨åŠ¿åŠ›éƒ½å¿…é¡»ç”Ÿæˆå®Œæ•´çš„ç»„ç»‡æ¶æ„ä¿¡æ¯ï¼ŒåŒ…æ‹¬ï¼š\n\n**1. åŸºç¡€ä¿¡æ¯**:\n- å®—é—¨åç§°ã€ç±»å‹ã€ç­‰çº§ï¼ˆè¶…çº§/ä¸€æµ/äºŒæµ/ä¸‰æµï¼‰\n- å®—é—¨ç­‰çº§ä»¥ä¸€æµ/äºŒæµ/ä¸‰æµ/æœ«æµåŒºåˆ†ï¼ˆä¸éœ€è¦æ•°å€¼åŒ–å®åŠ›ï¼‰\n- å®—é—¨æè¿°å’Œå†å²èƒŒæ™¯\n- å®—é—¨ç‰¹è‰²å’Œä¸“é•¿ï¼ˆå¿…é¡»æ˜¯æ•°ç»„æ ¼å¼ï¼‰\n\n**2. é¢†å¯¼å±‚ä¿¡æ¯** (leadershipå­—æ®µ) - **å¿…é¡»å®Œæ•´ç”Ÿæˆï¼Œå‰ç«¯ä¼šç›´æ¥æ˜¾ç¤º**:\n\`\`\`json\n"leadership": {\n  "å®—ä¸»": "å…·ä½“å§“åï¼ˆå¿…å¡«ï¼Œå¦‚ï¼šæ¬§é˜³çƒˆé£ï¼‰",\n  "å®—ä¸»ä¿®ä¸º": "å…·ä½“å¢ƒç•Œï¼ˆå¿…å¡«ï¼Œå¦‚ï¼šåŒ–ç¥ä¸­æœŸã€ç‚¼è™šåæœŸã€åˆä½“åˆæœŸã€æ¸¡åŠ«åœ†æ»¡ç­‰ï¼‰",\n  "æœ€å¼ºä¿®ä¸º": "å®—é—¨å†…æœ€é«˜ä¿®ä¸ºå¢ƒç•Œï¼ˆå¿…å¡«ï¼Œå¯èƒ½æ˜¯å¤ªä¸Šé•¿è€æˆ–å®—ä¸»çš„ä¿®ä¸ºï¼‰",\n  "ç»¼åˆæˆ˜åŠ›": æ•°å­—1-100ï¼ˆå¿…å¡«ï¼Œå¦‚ï¼š85ï¼‰ï¼Œ\n  "æ ¸å¿ƒå¼Ÿå­æ•°": å…·ä½“æ•°å­—ï¼ˆå¯é€‰ï¼Œå¦‚ï¼š50ï¼‰ï¼Œ\n  "å†…é—¨å¼Ÿå­æ•°": å…·ä½“æ•°å­—ï¼ˆå¯é€‰ï¼Œå¦‚ï¼š300ï¼‰ï¼Œ\n  "å¤–é—¨å¼Ÿå­æ•°": å…·ä½“æ•°å­—ï¼ˆå¯é€‰ï¼Œå¦‚ï¼š1200ï¼‰\n}\n\`\`\`\n\n**âš ï¸ å¤ªä¸Šé•¿è€è¯´æ˜ï¼š**\n- å¤ªä¸Šé•¿è€æ˜¯å¯é€‰èŒä½ï¼Œä¸æ˜¯æ‰€æœ‰å®—é—¨éƒ½æœ‰\n- é€šå¸¸å‡ºç°åœ¨å†å²æ‚ ä¹…çš„è¶…çº§æˆ–ä¸€æµå®—é—¨ä¸­\n- å¤ªä¸Šé•¿è€ä¸€èˆ¬ä¸å‚ä¸æ—¥å¸¸ç®¡ç†ï¼Œä½†åœ¨é‡å¤§å†³ç­–æ—¶æœ‰å‘è¨€æƒ\n- å¤ªä¸Šé•¿è€çš„ä¿®ä¸ºå¯èƒ½é«˜äºç°ä»»å®—ä¸»ï¼Œä¹Ÿå¯èƒ½ç›¸å½“\n- å¦‚æœè®¾ç½®äº†å¤ªä¸Šé•¿è€ï¼Œå…¶ä¿®ä¸ºåº”ä½“ç°åœ¨"æœ€å¼ºä¿®ä¸º"å­—æ®µä¸­\n\n**âš ï¸ é‡è¦ï¼šleadershipå­—æ®µæ˜¯å‰ç«¯æ˜¾ç¤ºçš„æ ¸å¿ƒæ•°æ®ï¼Œç»å¯¹ä¸èƒ½çœç•¥æˆ–ç•™ç©ºï¼**\n\n**âš ï¸ äººåç”Ÿæˆè¦æ±‚ï¼ˆä¸¥æ ¼æ‰§è¡Œï¼‰ï¼š**\n- å®—ä¸»å§“åï¼šå¿…é¡»æ˜¯å…·ä½“çš„ä¸­å¼å§“åï¼ˆå¦‚ï¼šæ¬§é˜³çƒˆé£ã€å¸å¾’äº‘é›…ã€ç‹¬å­¤å‰‘å¿ƒï¼‰\n- å‰¯å®—ä¸»å§“åï¼šå¦‚æœè®¾ç½®ï¼Œå¿…é¡»æ˜¯å…·ä½“å§“åï¼ˆå¦‚ï¼šå—å®«æœˆåã€èµµæ— æã€ç™½ç´ è´ï¼‰\n- å¤ªä¸Šé•¿è€å§“åï¼šå¦‚æœè®¾ç½®ï¼Œå¿…é¡»æ˜¯å…·ä½“å§“åï¼ˆå¦‚ï¼šäº‘ä¸­å­ã€å¤ªæçœŸäººã€æ— é‡é“å›ï¼‰\n- æ¯ä¸ªäººåéƒ½å¿…é¡»æ˜¯å”¯ä¸€çš„ï¼Œä¸èƒ½é‡å¤\n- äººåæ ¼å¼è¦æ±‚ï¼š2-3ä¸ªæ±‰å­—ï¼Œç¬¦åˆä¸­åä¼ ç»Ÿå‘½åä¹ æƒ¯\n\n**3. æˆå‘˜ç»Ÿè®¡ä¿¡æ¯** (memberCountå­—æ®µ) - **å¿…é¡»å®Œæ•´ç”Ÿæˆï¼Œå‰ç«¯å®—é—¨é¡µé¢ä¼šæ˜¾ç¤º**:\n\`\`\`json\n"memberCount": {\n  "total": æ€»äººæ•°ï¼ˆå¿…å¡«æ•°å­—ï¼Œå¦‚ï¼š1565ï¼‰ï¼Œ\n  "byRealm": {\n    // å¢ƒç•Œåˆ†å¸ƒå¿…é¡»ä¸æœ€å¼ºä¿®ä¸ºä¸€è‡´ï¼ŒåªåŒ…å«ä¸é«˜äºæœ€å¼ºä¿®ä¸ºçš„å¢ƒç•Œ\n    "ç»ƒæ°”æœŸ": æ•°é‡,\n    "ç­‘åŸºæœŸ": æ•°é‡,\n    "é‡‘ä¸¹æœŸ": æ•°é‡,\n    "å…ƒå©´æœŸ": æ•°é‡\n  },\n  "byPosition": {\n    "æ•£ä¿®": 0,\n    "å¤–é—¨å¼Ÿå­": æ•°é‡ï¼ˆå¿…å¡«ï¼‰ï¼Œ\n    "å†…é—¨å¼Ÿå­": æ•°é‡ï¼ˆå¿…å¡«ï¼‰ï¼Œ\n    "æ ¸å¿ƒå¼Ÿå­": æ•°é‡ï¼ˆå¿…å¡«ï¼‰ï¼Œ\n    "ä¼ æ‰¿å¼Ÿå­": æ•°é‡ï¼ˆå¿…å¡«ï¼Œå¦‚ï¼š10ï¼‰ï¼Œ\n    "æ‰§äº‹": æ•°é‡ï¼ˆå¿…å¡«ï¼Œå¦‚ï¼š20ï¼‰ï¼Œ\n    "é•¿è€": æ•°é‡ï¼ˆå¿…å¡«ï¼Œå¦‚ï¼š15ï¼‰ï¼Œ\n    "å¤ªä¸Šé•¿è€": æ•°é‡ï¼ˆå¯é€‰ï¼Œæ•°é‡æå°‘ï¼Œæ ¹æ®å®—é—¨åŠ¿åŠ›å’Œè§„æ¨¡å†³å®šï¼Œå°åŠ¿åŠ›æ²¡æœ‰ï¼Œå¤§åŠ¿åŠ›ä¹Ÿåªæœ‰å‡ ä¸ªï¼‰ï¼Œ\n    "å‰¯æŒé—¨": æ•°é‡ï¼ˆå¿…å¡«ï¼Œå¦‚ï¼š1ï¼Œä¸€èˆ¬åªæœ‰ä¸€ä¸ªï¼‰ï¼Œ\n    "æŒé—¨": 1\n  }\n}\n\`\`\`\n\n**âš ï¸ æ•°æ®ä¸€è‡´æ€§è¦æ±‚ï¼š**\n- memberCount.total å¿…é¡»ç­‰äº byPosition æ‰€æœ‰èŒä½çš„æ€»å’Œ\n- byRealm å„å¢ƒç•Œæ€»å’Œå¿…é¡»ç­‰äº total\n- æ‰€æœ‰æ•°å€¼å¿…é¡»æ˜¯æ•°å­—ç±»å‹ï¼Œä¸èƒ½æ˜¯å­—ç¬¦ä¸²\n- **å‰ç«¯ä¼šæ ¹æ®è¿™äº›æ•°æ®æ˜¾ç¤ºå¢ƒç•Œåˆ†å¸ƒå›¾è¡¨å’Œæˆå‘˜ç»Ÿè®¡ï¼**\n\n### ğŸ—ºï¸ åœ°ç‚¹ç”Ÿæˆè¦æ±‚ (${t}ä¸ª) - çµæ´»åˆ†å¸ƒ\n\n**åœ°ç‚¹åˆ†å¸ƒåŸåˆ™**:\n- **ä¸å¼ºåˆ¶æ¯åŠ¿åŠ›æœ‰åœ°ç‚¹**: åŠ¿åŠ›å†…å¯ä»¥æœ‰0-3ä¸ªå…·ä½“åœ°ç‚¹ï¼Œä¸æ˜¯æ¯ä¸ªåŠ¿åŠ›éƒ½å¿…é¡»æœ‰åœ°ç‚¹\n- **åœ°ç‚¹ç±»å‹å¤šæ ·åŒ–**: æ€»éƒ¨ã€åŸå¸‚ã€ç§˜å¢ƒã€å±é™©åŒºåŸŸã€å•†ä¸šæ¢çº½ã€ä¿®ç‚¼åœ£åœ°ã€èµ„æºç‚¹ç­‰\n- **åœ°ç†åˆç†æ€§**: åœ°ç‚¹ä½ç½®è¦åœ¨å¯¹åº”å¤§æ´²èŒƒå›´å†…ï¼Œå¯ä»¥åœ¨åŠ¿åŠ›èŒƒå›´å†…å¤–\n- **é‡è¦æ€§åˆ†çº§**:\n  * åŠ¿åŠ›æ€»éƒ¨ï¼šé€šå¸¸æ˜¯åŠ¿åŠ›æœ€é‡è¦çš„åœ°ç‚¹\n  * é‡è¦åŸå¸‚ï¼šç»æµã€æ”¿æ²»ä¸­å¿ƒ\n  * ä¿®ç‚¼åœ£åœ°ï¼šç‰¹æ®Šä¿®ç‚¼ç¯å¢ƒ\n  * èµ„æºç‚¹ï¼šçŸ¿è„‰ã€è¯åœƒç­‰\n  * å±é™©åŒºåŸŸï¼šè¯•ç‚¼åœ°ã€ç¦åŒºç­‰\n\n**åœ°ç‚¹ä¸åŠ¿åŠ›å…³ç³»**:\n- æœ‰äº›åŠ¿åŠ›å¯èƒ½åªæœ‰æ€»éƒ¨ï¼Œæ²¡æœ‰å…¶ä»–å…·ä½“åœ°ç‚¹\n- å¤§åŠ¿åŠ›å¯èƒ½æ§åˆ¶å¤šä¸ªé‡è¦åœ°ç‚¹\n- ä¸­ç«‹åœ°ç‚¹å¯èƒ½ä¸å±äºä»»ä½•åŠ¿åŠ›\n- å±é™©åŒºåŸŸé€šå¸¸æ— äººæ§åˆ¶æˆ–æœ‰ç‰¹æ®ŠåŠ¿åŠ›\n\n**åœ°ç‚¹åˆ†å¸ƒ**:\n- ğŸ¯ **åŠ¿åŠ›æ€»éƒ¨**: ${r}ä¸ª (å¯¹åº”å„åŠ¿åŠ›)\n- ğŸ˜ï¸ **åŸé•‡åŠå¸‚**: ${i}ä¸ª\n- âš¡ **ç‰¹æ®Šåœ°ç‚¹**: ${c}ä¸ª\n- âš ï¸ **å±é™©åŒºåŸŸ**: ${s}ä¸ª\n- ğŸŒ„ **è‡ªç„¶æ™¯è§‚**: ${d}ä¸ª\n\n**åœ°ç‚¹ç±»å‹** (å¿…é¡»ä½¿ç”¨ä»¥ä¸‹7ç§æ ‡å‡†ç±»å‹):\n1. **natural_landmark** - ğŸ”ï¸ è‡ªç„¶åœ°æ ‡ (ç¬¦åˆèƒŒæ™¯çš„è‡ªç„¶æ™¯è§‚)\n2. **sect_power** - ğŸ¯ åŠ¿åŠ›æ€»éƒ¨ (å„ä¿®ä»™åŠ¿åŠ›çš„æ€»éƒ¨)\n3. **city_town** - ğŸ˜ï¸ åŸé•‡èšå±…åœ° (ç¬¦åˆèƒŒæ™¯é£æ ¼çš„åŸé•‡)\n4. **blessed_land** - â›©ï¸ ä¿®ç‚¼åœ£åœ° (é€‚åˆä¿®ä»™çš„çµæ°”å……æ²›ä¹‹åœ°)\n5. **treasure_land** - ğŸ’ èµ„æºå®åœ° (å¤©æåœ°å®ã€çµçŸ³çŸ¿è„‰ç­‰)\n6. **dangerous_area** - âš”ï¸ å±é™©åŒºåŸŸ (å‡¶å…½å·¢ç©´ã€é­”åŸŸé™©åœ°ç­‰)\n7. **special_other** - ğŸŒŸ ç‰¹æ®Šåœ°ç‚¹ (ä¼ é€é˜µã€ç§˜å¢ƒå…¥å£ç­‰)\n\n### âœ¨ ç‰¹æ®Šå±æ€§å¢å¼º (${o}ä¸ªåœ°ç‚¹)\n\nä»åŸºç¡€åœ°ç‚¹ä¸­é€‰æ‹©${o}ä¸ªæ·»åŠ ç‰¹æ®Šå±æ€§:\n- ğŸ¯ **æœºé‡ä¹‹åœ°**: ${m}ä¸ª\n- ğŸ“œ **ä¼ æ‰¿é—è¿¹**: ${p}ä¸ª\n- â˜ ï¸ **å±é™©ç¦åœ°**: ${v}ä¸ª\n\n## ğŸ“‹ JSONè¾“å‡ºæ ¼å¼ (ä¸¥æ ¼æ•°é‡æ§åˆ¶, ä»…åœ°å›¾å­—æ®µ)\n\n**æ•°é‡æ£€æŸ¥æ¸…å•**:\n- âœ… continentsæ•°ç»„åŒ…å«${a}ä¸ªå¤§æ´²å¯¹è±¡ï¼Œå½¼æ­¤è¾¹ç•Œä¸é‡å \n- âœ… æ¯ä¸ªå¤§æ´²çš„"å¤§æ´²è¾¹ç•Œ"æ•°ç»„åŒ…å«4-8ä¸ªåæ ‡ç‚¹ï¼Œç»ä¸ä¸ºç©º\n- âœ… æ¯ä¸ªå¤§æ´²çš„"åœ°ç†ç‰¹å¾"æ•°ç»„åŒ…å«è‡³å°‘3ä¸ªç‰¹å¾ï¼Œç»ä¸ä¸ºç©º\n- âœ… æ¯ä¸ªå¤§æ´²çš„"å¤©ç„¶å±éšœ"æ•°ç»„åŒ…å«è‡³å°‘2ä¸ªå±éšœï¼Œç»ä¸ä¸ºç©º\n- âœ… factionsæ•°ç»„åŒ…å«${n}ä¸ªåŠ¿åŠ›å¯¹è±¡\n- âœ… æ¯ä¸ªåŠ¿åŠ›çš„"åŠ¿åŠ›èŒƒå›´"æ•°ç»„åŒ…å«è‡³å°‘4ä¸ªåæ ‡ç‚¹ï¼Œç»ä¸ä¸ºç©º\n- âœ… locationsæ•°ç»„åŒ…å«${t}ä¸ªåœ°ç‚¹å¯¹è±¡\n- âœ… å…¶ä¸­${o}ä¸ªåœ°ç‚¹æœ‰special_attributes\n- âœ… æ¯ä¸ªåŠ¿åŠ›éƒ½åˆ†é…åˆ°æŸä¸ªå¤§æ´²\n\n**é‡è¦æé†’**:\n- âš ï¸ æ‰€æœ‰åæ ‡å­—æ®µå¿…é¡»ä¸ºæ•°å­—ï¼šlongitude/latitude å‡ä¸º number ç±»å‹ï¼Œä¸¥ç¦ä½¿ç”¨è¯¸å¦‚ "105.3-110.2" è¿™æ ·çš„èŒƒå›´å­—ç¬¦ä¸²æˆ–æ–‡æœ¬ã€‚\n- ä»…è¾“å‡º continents/factions/locations ä¸‰ä¸ªé¡¶çº§å­—æ®µï¼\n- factionsæ•°ç»„å¿…é¡»æ°å¥½åŒ…å«${n}ä¸ªå…ƒç´ ï¼Œlocationsæ•°ç»„å¿…é¡»æ°å¥½åŒ…å«${t}ä¸ªå…ƒç´ ï¼\n- å¤§é™†è¾¹ç•Œç»å¯¹ä¸èƒ½é‡å ï¼Œå¿…é¡»ç›¸äº’ç‹¬ç«‹ä¸”ä¿æŒå®‰å…¨è·ç¦»\n\n\`\`\`json\n{\n  "continents": [\n    {\n      "id": "continent_1",\n      "åç§°": "å¤§æ´²åç§°",\n      "æè¿°": "å¤§æ´²åœ°ç†ç‰¹å¾å’Œæ–‡åŒ–æè¿°",\n      "æ°”å€™": "æ°”å€™ç±»å‹",\n      "åœ°ç†ç‰¹å¾": ["ä¸»è¦åœ°è²Œç‰¹å¾1", "ä¸»è¦åœ°è²Œç‰¹å¾2", "ä¸»è¦åœ°è²Œç‰¹å¾3"],\n      "å¤©ç„¶å±éšœ": ["ä¸å…¶ä»–å¤§æ´²çš„å¤©ç„¶å±éšœ1", "å¤©ç„¶å±éšœ2"],\n      "å¤§æ´²è¾¹ç•Œ": [\n        // âš ï¸ å¤§æ´²è¾¹ç•Œå¿…é¡»è¦†ç›–ä¸€ä¸ªå¾ˆå¤§çš„åŒºåŸŸï¼Œä¾‹å¦‚å æ•´ä¸ªåœ°å›¾çš„1/${a}\n        // ğŸ”¥ é‡è¦ï¼šä½¿ç”¨ç®€å•å½¢çŠ¶ï¼Œå¦‚çŸ©å½¢æˆ–ç®€å•å¤šè¾¹å½¢ï¼Œä¸è¦å¤æ‚é”¯é½¿è¾¹ç•Œ\n        // è¿™ä¸ªç¤ºä¾‹å¤§æ´²è¦†ç›–åœ°å›¾çš„ä¸€ä¸ªå¤§å—åŒºåŸŸï¼ˆç®€å•çŸ©å½¢ï¼‰\n        {"longitude": ${h}, "latitude": ${x}},\n        {"longitude": ${h+Math.round((y-h)/2*10)/10}, "latitude": ${x}},\n        {"longitude": ${h+Math.round((y-h)/2*10)/10}, "latitude": ${k}},\n        {"longitude": ${h}, "latitude": ${k}}\n      ],\n      "ä¸»è¦åŠ¿åŠ›": ["åœ¨æ­¤å¤§æ´²çš„ä¸»è¦åŠ¿åŠ›IDåˆ—è¡¨"]\n    }\n  ],\n  "factions": [\n    {\n      "id": "faction_1",\n      "åç§°": "åŠ¿åŠ›åç§°",\n      "ç±»å‹": "åŠ¿åŠ›ç±»å‹ï¼ˆä¿®ä»™å®—é—¨/ä¿®ä»™ä¸–å®¶/é­”é“åŠ¿åŠ›ç­‰ï¼‰",\n      "ç­‰çº§": "å®—é—¨ç­‰çº§ï¼ˆè¶…çº§/ä¸€æµ/äºŒæµ/ä¸‰æµï¼‰",\n      "æè¿°": "åŠ¿åŠ›èƒŒæ™¯æè¿°ï¼Œä½“ç°ç‹¬ç‰¹æ–‡åŒ–",\n      "ç‰¹è‰²": ["ç‹¬ç‰¹ä¸“é•¿1", "ç‹¬ç‰¹ä¸“é•¿2"],\n      "ä¸ç©å®¶å…³ç³»": "ä¸­ç«‹",\n      "å£°æœ›å€¼": "ç¨‹åºè‡ªåŠ¨è®¡ç®—ï¼Œæ— éœ€å¡«å†™",\n      "ä½ç½®": {"longitude": ${h+2.5}, "latitude": ${x+1.5}},\n      "åŠ¿åŠ›èŒƒå›´": [\n        // âš ï¸ å…³é”®è¦æ±‚ï¼šæ¯ä¸ªåŠ¿åŠ›éƒ½å¿…é¡»æœ‰å…·ä½“çš„åŠ¿åŠ›èŒƒå›´ï¼Œç»å¯¹ä¸èƒ½æ˜¯ç©ºæ•°ç»„ï¼\n        // è‡³å°‘éœ€è¦4ä¸ªåæ ‡ç‚¹å½¢æˆä¸€ä¸ªå°é—­çš„å¤šè¾¹å½¢åŒºåŸŸ\n        // âš ï¸ é‡è¦ï¼šåŠ¿åŠ›èŒƒå›´å å¤§æ´²é¢ç§¯çš„5%-15%ï¼Œè·¨åº¦0.5-1.5ç»çº¬åº¦\n        {"longitude": ${h+2}, "latitude": ${x+1}},\n        {"longitude": ${h+3.5}, "latitude": ${x+1.2}},\n        {"longitude": ${h+3.2}, "latitude": ${x+2.5}},\n        {"longitude": ${h+1.8}, "latitude": ${x+2}}\n      ],\n      "leadership": {\n        "å®—ä¸»": "å…·ä½“å§“åï¼ˆå¿…å¡«ï¼Œå¦‚ï¼šæ¬§é˜³çƒˆé£ï¼‰",\n        "å®—ä¸»ä¿®ä¸º": "å…·ä½“å¢ƒç•Œï¼ˆå¿…å¡«ï¼Œå¦‚ï¼šåŒ–ç¥ä¸­æœŸã€ç‚¼è™šåæœŸã€åˆä½“åˆæœŸã€æ¸¡åŠ«åœ†æ»¡ç­‰ï¼‰",\n        "å‰¯å®—ä¸»": "å§“åï¼ˆå¯é€‰ï¼Œå¦‚ï¼šç‹æ˜æœˆæˆ–nullï¼‰",\n        "æœ€å¼ºä¿®ä¸º": "å®—é—¨å†…æœ€é«˜ä¿®ä¸ºå¢ƒç•Œï¼ˆå¿…å¡«ï¼Œå¦‚ï¼šåŒ–ç¥å¤§åœ†æ»¡ã€ç‚¼è™šæå¢ƒã€åˆä½“åæœŸã€æ¸¡åŠ«åœ†æ»¡ç­‰ï¼‰",\n        "ç»¼åˆæˆ˜åŠ›": æ•°å­—1-100ï¼ˆå¿…å¡«ï¼Œå¦‚ï¼š85ï¼‰ï¼Œ\n        "æ ¸å¿ƒå¼Ÿå­æ•°": å…·ä½“æ•°å­—ï¼ˆå¯é€‰ï¼‰ï¼Œ\n        "å†…é—¨å¼Ÿå­æ•°": å…·ä½“æ•°å­—ï¼ˆå¯é€‰ï¼‰ï¼Œ\n        "å¤–é—¨å¼Ÿå­æ•°": å…·ä½“æ•°å­—ï¼ˆå¯é€‰ï¼‰\n      },\n      "memberCount": {\n        "total": æ€»äººæ•°ï¼ˆå¿…å¡«æ•°å­—ï¼Œå¦‚ï¼š1565ï¼‰ï¼Œ\n        "byRealm": {\n          // é‡è¦ï¼šæ ¹æ®ä¸Šé¢çš„"æœ€å¼ºä¿®ä¸º"åŠ¨æ€è°ƒæ•´å¢ƒç•Œåˆ†å¸ƒï¼\n          // å¦‚æœæœ€å¼ºä¿®ä¸ºæ˜¯åŒ–ç¥æœŸ â†’ åªèƒ½æœ‰ç»ƒæ°”æœŸåˆ°åŒ–ç¥æœŸ\n          // å¦‚æœæœ€å¼ºä¿®ä¸ºæ˜¯æ¸¡åŠ«æœŸ â†’ å¯ä»¥æœ‰ç»ƒæ°”æœŸåˆ°æ¸¡åŠ«æœŸ\n          // å¦‚æœæœ€å¼ºä¿®ä¸ºæ˜¯ç‚¼è™šæœŸ â†’ åªèƒ½æœ‰ç»ƒæ°”æœŸåˆ°ç‚¼è™šæœŸ\n          "ç»ƒæ°”æœŸ": æ•°é‡,\n          "ç­‘åŸºæœŸ": æ•°é‡,\n          "é‡‘ä¸¹æœŸ": æ•°é‡,\n          "å…ƒå©´æœŸ": æ•°é‡\n        },\n        "byPosition": {\n          "æ•£ä¿®": 0,\n          "å¤–é—¨å¼Ÿå­": æ•°é‡ï¼ˆå¿…å¡«ï¼Œå¦‚ï¼š1200ï¼‰ï¼Œ\n          "å†…é—¨å¼Ÿå­": æ•°é‡ï¼ˆå¿…å¡«ï¼Œå¦‚ï¼š300ï¼‰ï¼Œ\n          "æ ¸å¿ƒå¼Ÿå­": æ•°é‡ï¼ˆå¿…å¡«ï¼Œå¦‚ï¼š50ï¼‰ï¼Œ\n          "ä¼ æ‰¿å¼Ÿå­": æ•°é‡ï¼ˆå¿…å¡«ï¼Œå¦‚ï¼š10ï¼‰ï¼Œ\n          "æ‰§äº‹": æ•°é‡ï¼ˆå¿…å¡«ï¼Œå¦‚ï¼š20ï¼‰ï¼Œ\n          "é•¿è€": æ•°é‡ï¼ˆå¿…å¡«ï¼Œå¦‚ï¼š15ï¼‰ï¼Œ\n          "å¤ªä¸Šé•¿è€": æ•°é‡ï¼ˆå¯é€‰ï¼Œå¦‚ï¼š0æˆ–1ï¼‰ï¼Œ\n          "å‰¯æŒé—¨": 1ï¼Œ\n          "æŒé—¨": 1\n        }\n      },\n      "continent_id": "æ‰€å±å¤§æ´²çš„ID"\n    }\n  ],\n  "locations": [\n    {\n      "id": "loc_1",\n      "name": "åœ°ç‚¹åç§°",\n      "type": "7ç§æ ‡å‡†ç±»å‹ä¹‹ä¸€",\n      "coordinates": {"longitude": ${h+2}, "latitude": ${x+1}},\n      "description": "åœ°ç‚¹è¯¦ç»†æè¿°",\n      "danger_level": "å®‰å…¨/æ™®é€š/å±é™©/æå±é™©",\n      "suitable_for": ["é€‚åˆç¾¤ä½“"],\n      "controlled_by": "æ§åˆ¶åŠ¿åŠ›(å¯é€‰)",\n      "special_features": ["åœ°ç‚¹ç‰¹è‰²"],\n      "special_attributes": ["ç‰¹æ®Šå±æ€§(å¯é€‰)"]\n    }\n  ]\n}\n\`\`\`\n\n## âš ï¸ æœ€ç»ˆæ£€æŸ¥è¦æ±‚\n- âœ… é¿å…é‡å¤æˆ–ç›¸ä¼¼çš„åŠ¿åŠ›/åœ°ç‚¹åç§°\n- âœ… ä¿æŒä¿®ä»™ä½“ç³»æ ¸å¿ƒï¼Œå¼ºè€…ä¸ºå°Š\n- âœ… åŠ¿åŠ›ç±»å‹å’Œä¸“é•¿ç¬¦åˆä¿®ä»™èƒŒæ™¯\n- âœ… JSONæ ¼å¼å®Œæ•´ï¼Œåæ ‡åœ¨æŒ‡å®šèŒƒå›´å†… (ç»åº¦${h}-${y}ï¼Œçº¬åº¦${x}-${k})\n- âœ… **å¿…é¡»ç”Ÿæˆå®Œæ•´çš„leadershipå­—æ®µ** - åŒ…å«å®—ä¸»ã€å®—ä¸»ä¿®ä¸ºã€æœ€å¼ºä¿®ä¸ºã€å¼Ÿå­æ•°é‡ç­‰\n- âœ… **å¿…é¡»ç”Ÿæˆå®Œæ•´çš„memberCountå­—æ®µ** - åŒ…å«totalã€byRealmã€byPositionç­‰å®Œæ•´ç»Ÿè®¡ä¿¡æ¯\n- âœ… **æ•°æ®ç±»å‹æ­£ç¡®** - æ‰€æœ‰æ•°é‡å­—æ®µå¿…é¡»æ˜¯æ•°å­—ï¼Œä¸èƒ½æ˜¯å­—ç¬¦ä¸²\n- âœ… **æ•°æ®ä¸€è‡´æ€§** - memberCount.totalå¿…é¡»ç­‰äºbyPositionå„èŒä½æ€»å’Œ\n\n**ğŸš¨ å‰ç«¯æ˜¾ç¤ºä¾èµ–è­¦å‘Šï¼š**\nåŠ¿åŠ›å®—é—¨é¡µé¢ä¼šç›´æ¥ä½¿ç”¨leadershipå’ŒmemberCountå­—æ®µæ˜¾ç¤ºå®—é—¨ä¿¡æ¯ï¼\nç¼ºå°‘è¿™äº›å­—æ®µå°†å¯¼è‡´é¡µé¢æ˜¾ç¤º"æš‚æ— å®—é—¨ä¿¡æ¯"ï¼\n\n**æ ¸å¿ƒç›®æ ‡**: åˆ›é€ ä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„ä¿®ä»™ä¸–ç•Œï¼ŒåŒ…å«å®Œæ•´çš„å®—é—¨ç»„ç»‡æ¶æ„ä¿¡æ¯ï¼\n`}}const w={ä¿®ä»™å®—é—¨:1,æ­£é“å®—é—¨:1,é­”é“å®—é—¨:1.1,é­”é“åŠ¿åŠ›:1.1,ä¿®ä»™ä¸–å®¶:.9,ä¸–å®¶:.9,å•†ä¼š:.7,å•†ä¼šç»„ç»‡:.7,ä¸­ç«‹å®—é—¨:.85,æ•£ä¿®è”ç›Ÿ:.75};function N(e){let n=0;const t=e.æœ€å¼ºä¿®ä¸º||e.å®—ä¸»ä¿®ä¸º||"";n=t.includes("ç»ƒæ°”")?5:t.includes("ç­‘åŸº")?15:t.includes("é‡‘ä¸¹")?25:t.includes("å…ƒå©´")?35:t.includes("åŒ–ç¥")?45:t.includes("ç‚¼è™š")?55:t.includes("åˆä½“")?65:t.includes("æ¸¡åŠ«")?75:20;const a=e.é•¿è€æ•°é‡||0,o=(e.æ ¸å¿ƒå¼Ÿå­æ•°||0)+(e.å†…é—¨å¼Ÿå­æ•°||0)+(e.å¤–é—¨å¼Ÿå­æ•°||0);let r=0;r+=a&gt;=50?15:a&gt;=30?12:a&gt;=20?10:a&gt;=10?7:a&gt;=5?4:Math.max(0,a),r+=o&gt;=1e4?10:o&gt;=5e3?8:o&gt;=2e3?6:o&gt;=1e3?4:o&gt;=500?2:Math.max(0,Math.floor(o/250));let l=0;switch(e.ç­‰çº§){case"è¶…çº§":case"è¶…çº§å®—é—¨":l=10;break;case"ä¸€æµ":case"ä¸€æµå®—é—¨":l=7;break;case"äºŒæµ":case"äºŒæµå®—é—¨":l=4;break;case"ä¸‰æµ":case"ä¸‰æµå®—é—¨":l=2;break;default:l=0}let i=0;switch(e.ç±»å‹){case"é­”é“å®—é—¨":case"é­”é“åŠ¿åŠ›":i=3;break;case"æ­£é“å®—é—¨":case"ä¿®ä»™å®—é—¨":i=1;break;case"ä¿®ä»™ä¸–å®¶":case"ä¸–å®¶":i=-1;break;case"å•†ä¼š":case"å•†ä¼šç»„ç»‡":i=-3;break;case"æ•£ä¿®è”ç›Ÿ":i=-2;break;default:i=0}let c=n+r+l+i;return t.includes("æ¸¡åŠ«")?c=Math.max(c,85):t.includes("åˆä½“")?c=Math.max(c,75):t.includes("ç‚¼è™š")?c=Math.max(c,65):t.includes("åŒ–ç¥")&amp;&amp;(c=Math.max(c,55)),Math.min(100,Math.max(1,Math.round(c)))}function E(e){let n=5;switch(e.ç­‰çº§){case"è¶…çº§":case"è¶…çº§å®—é—¨":n=25;break;case"ä¸€æµ":case"ä¸€æµå®—é—¨":n=20;break;case"äºŒæµ":case"äºŒæµå®—é—¨":n=15;break;case"ä¸‰æµ":case"ä¸‰æµå®—é—¨":n=10;break;default:n=5}const t=w[e.ç±»å‹]||1;let a=0;const o=e.é•¿è€æ•°é‡||0;o&gt;=10?a+=3:o&gt;=5?a+=2:o&gt;=3&amp;&amp;(a+=1);const r=.8+.4*Math.random(),l=Math.round((n*t+a)*r);return Math.min(30,Math.max(0,l))}class V{config;previousErrors=[];originalConfig;constructor(e){this.config=e,this.originalConfig={factionCount:e.factionCount,locationCount:e.locationCount,secretRealmsCount:e.secretRealmsCount,continentCount:e.continentCount}}async generateValidatedWorld(){console.log("[å¢å¼ºä¸–ç•Œç”Ÿæˆå™¨] å¼€å§‹ç”ŸæˆéªŒè¯è¿‡çš„ä¸–ç•Œæ•°æ®...");for(let e=0;e&lt;=this.config.maxRetries;e++)try{e&gt;0&amp;&amp;(console.log(`[å¢å¼ºä¸–ç•Œç”Ÿæˆå™¨] ç¬¬ ${e} æ¬¡é‡è¯•...`),await new Promise(n=&gt;setTimeout(n,this.config.retryDelay*e)),this.reduceCountsForRetry(e));const n=await this.generateWorldData(),t=this.validateWorldData(n);if(t.isValid)return console.log("[å¢å¼ºä¸–ç•Œç”Ÿæˆå™¨] ä¸–ç•Œç”Ÿæˆå¹¶éªŒè¯æˆåŠŸï¼"),{success:!0,worldInfo:n};this.previousErrors=t.errors.map(e=&gt;e.message),console.warn(`[å¢å¼ºä¸–ç•Œç”Ÿæˆå™¨] ç¬¬ ${e} æ¬¡å°è¯•éªŒè¯å¤±è´¥:`,this.previousErrors)}catch(n){const t=n instanceof Error?n.message:String(n);console.error(`[å¢å¼ºä¸–ç•Œç”Ÿæˆå™¨] ç¬¬ ${e} æ¬¡å°è¯•ç”Ÿæˆå¤±è´¥:`,t),this.previousErrors=[t]}return console.error("[å¢å¼ºä¸–ç•Œç”Ÿæˆå™¨] ä¸–ç•Œç”Ÿæˆå¤±è´¥ï¼Œå·²è¾¾æœ€å¤§é‡è¯•æ¬¡æ•°ã€‚"),{success:!1,errors:this.previousErrors}}reduceCountsForRetry(e){const n=Math.pow(.8,e);this.config.factionCount=Math.max(3,Math.floor(this.originalConfig.factionCount*n)),this.config.locationCount=Math.max(5,Math.floor(this.originalConfig.locationCount*n)),this.config.secretRealmsCount=Math.max(2,Math.floor(this.originalConfig.secretRealmsCount*n)),this.config.continentCount=Math.max(2,Math.floor(this.originalConfig.continentCount*n)),console.log(`[å¢å¼ºä¸–ç•Œç”Ÿæˆå™¨] é‡è¯• ${e} æ¬¡åè°ƒæ•´æ•°é‡å‚æ•°ï¼ˆåŸºäºåŸå§‹é…ç½®: faction=${this.originalConfig.factionCount}, location=${this.originalConfig.locationCount}ï¼‰:`,{factionCount:this.config.factionCount,locationCount:this.config.locationCount,secretRealmsCount:this.config.secretRealmsCount,continentCount:this.config.continentCount})}async generateWorldData(){const e=(0,f.getTavernHelper)();if(!e)throw new Error("é…’é¦†ç³»ç»Ÿä¸å¯ç”¨");const n=this.buildPromptWithErrors();console.log("[å¢å¼ºä¸–ç•Œç”Ÿæˆå™¨] å‘é€AIè¯·æ±‚..."),console.log("[å¢å¼ºä¸–ç•Œç”Ÿæˆå™¨] æç¤ºè¯é•¿åº¦:",n.length);try{const t=[{role:"system",content:n}],a=await e.generateRaw({ordered_prompts:t,should_stream:!1});console.log("[å¢å¼ºä¸–ç•Œç”Ÿæˆå™¨] AIå“åº”é•¿åº¦:",String(a).length);const o=this.parseAIResponse(String(a));return this.convertToWorldInfo(o)}catch(e){console.error("[å¢å¼ºä¸–ç•Œç”Ÿæˆå™¨] AIè¯·æ±‚å¤±è´¥:",e);const n=e instanceof Error?e.message:String(e);throw new Error(`AIç”Ÿæˆå¤±è´¥: ${n}`)}}buildPromptWithErrors(){const e=this.buildPrompt();return this.previousErrors.length&gt;0?`${e}\n---\nè¯·ä¿®æ­£ä»¥ä¸‹é”™è¯¯åé‡æ–°ç”Ÿæˆ:\n${this.previousErrors.join("\n")}\n---\n`:e}buildPrompt(){const{factionCount:e,locationCount:n,secretRealmsCount:t,continentCount:a,mapConfig:o}=this.config,r={factionCount:e,totalLocations:n,secretRealms:t,continentCount:a,characterBackground:this.config.characterBackground,worldBackground:this.config.worldBackground,worldEra:this.config.worldEra,worldName:this.config.worldName,mapConfig:o};return k.buildPrompt(r)}parseAIResponse(e){console.log("[å¢å¼ºä¸–ç•Œç”Ÿæˆå™¨] å¼€å§‹è§£æAIå“åº”..."),console.log("[å¢å¼ºä¸–ç•Œç”Ÿæˆå™¨] å“åº”å‰500å­—ç¬¦:",e.substring(0,500));try{let n=null,t="";if(n=e.match(/```json\s*(\{[\s\S]*?\})\s*```/),n&amp;&amp;(t=n[1],console.log("[å¢å¼ºä¸–ç•Œç”Ÿæˆå™¨] ä½¿ç”¨ç­–ç•¥1æå–JSON")),n||(n=e.match(/(\{[\s\S]*?"factions"\s*:\s*\[[\s\S]*?"locations"\s*:\s*\[[\s\S]*?\})/),n&amp;&amp;(t=n[1],console.log("[å¢å¼ºä¸–ç•Œç”Ÿæˆå™¨] ä½¿ç”¨ç­–ç•¥2æå–JSON"))),!n){const n=e.match(/\{[\s\S]*?\}/g);if(n)for(const e of n)try{const n=JSON.parse(e);if(n.factions||n.locations){t=e,console.log("[å¢å¼ºä¸–ç•Œç”Ÿæˆå™¨] ä½¿ç”¨ç­–ç•¥3æå–JSON");break}}catch{continue}}if(!t)throw console.error("[å¢å¼ºä¸–ç•Œç”Ÿæˆå™¨] æ— æ³•ä»AIå“åº”ä¸­æå–JSONæ•°æ®"),console.error("[å¢å¼ºä¸–ç•Œç”Ÿæˆå™¨] å®Œæ•´å“åº”:",e),new Error("æ— æ³•è§£æAIå“åº”ä¸­çš„JSONæ•°æ®");console.log("[å¢å¼ºä¸–ç•Œç”Ÿæˆå™¨] æå–çš„JSONå‰200å­—ç¬¦:",t.substring(0,200));const a=JSON.parse(t);console.log("[å¢å¼ºä¸–ç•Œç”Ÿæˆå™¨] JSONè§£ææˆåŠŸ"),console.log("[å¢å¼ºä¸–ç•Œç”Ÿæˆå™¨] è§£æå‡ºçš„æ•°æ®ç»“æ„:",{factions_count:a.factions?.length||0,locations_count:a.locations?.length||0,has_continents:!!a.continents});const o={continents:Array.isArray(a.continents)?a.continents:[],factions:Array.isArray(a.factions)?a.factions:[],locations:Array.isArray(a.locations)?a.locations:[]},r=Object.keys(a).filter(e=&gt;!["continents","factions","locations"].includes(e));return r.length&amp;&amp;console.log("[å¢å¼ºä¸–ç•Œç”Ÿæˆå™¨] å·²ä¸¢å¼ƒéåœ°å›¾å­—æ®µ:",r),o}catch(n){console.error("[å¢å¼ºä¸–ç•Œç”Ÿæˆå™¨] JSONè§£æå¤±è´¥:",n),console.error("[å¢å¼ºä¸–ç•Œç”Ÿæˆå™¨] å“åº”å†…å®¹:",e);const t=n instanceof Error?n.message:String(n);throw new Error(`JSONè§£æå¤±è´¥: ${t}`)}}convertToWorldInfo(e){return{ä¸–ç•Œåç§°:this.config.worldName||e.world_name||e.worldName||"ä¿®ä»™ç•Œ",ä¸–ç•ŒèƒŒæ™¯:e.world_background||e.worldBackground||this.config.worldBackground||"",å¤§é™†ä¿¡æ¯:(e.continents||[]).map(e=&gt;({åç§°:e.åç§°||e.name||"æœªåå¤§é™†",æè¿°:e.æè¿°||e.description||"ä¸€ç‰‡ç¥ç§˜çš„ä¿®ä»™å¤§é™†ï¼Œçµæ°”å……æ²›ï¼ŒåŠ¿åŠ›æ—ç«‹",åœ°ç†ç‰¹å¾:e.terrain_features||e.åœ°ç†ç‰¹å¾||[],ä¿®çœŸç¯å¢ƒ:e.cultivation_environment||e.ä¿®çœŸç¯å¢ƒ||"çµæ°”å……æ²›ï¼Œé€‚å®œä¿®è¡Œ",æ°”å€™:e.climate||e.æ°”å€™||"å››å­£åˆ†æ˜ï¼Œæ¸©å’Œå®œäºº",å¤©ç„¶å±éšœ:e.natural_barriers||e.å¤©ç„¶å±éšœ||[],å¤§æ´²è¾¹ç•Œ:e.continent_bounds||e.å¤§æ´²è¾¹ç•Œ||[]})),åŠ¿åŠ›ä¿¡æ¯:(e.factions||[]).map(e=&gt;{const n={å£°æœ›å€¼:E(t={åç§°:e.name||e.åç§°,ç±»å‹:e.type||e.ç±»å‹||"ä¿®ä»™å®—é—¨",ç­‰çº§:e.level||e.ç­‰çº§||"ä¸‰æµ",å®—ä¸»ä¿®ä¸º:e.leadership?.å®—ä¸»ä¿®ä¸º,æœ€å¼ºä¿®ä¸º:e.leadership?.æœ€å¼ºä¿®ä¸º,é•¿è€æ•°é‡:e.memberCount?.byPosition?.é•¿è€||0,æ ¸å¿ƒå¼Ÿå­æ•°:e.leadership?.æ ¸å¿ƒå¼Ÿå­æ•°,å†…é—¨å¼Ÿå­æ•°:e.leadership?.å†…é—¨å¼Ÿå­æ•°,å¤–é—¨å¼Ÿå­æ•°:e.leadership?.å¤–é—¨å¼Ÿå­æ•°}),ç»¼åˆæˆ˜åŠ›:N(t)};var t;return{åç§°:e.name||e.åç§°,ç±»å‹:e.type||e.ç±»å‹,ç­‰çº§:e.level||e.ç­‰çº§,ä½ç½®:e.location||e.headquarters||e.ä½ç½®,åŠ¿åŠ›èŒƒå›´:e.territory||e.territory_bounds||e.åŠ¿åŠ›èŒƒå›´||[],æè¿°:e.description||e.æè¿°,ç‰¹è‰²:e.specialties||e.features||e.ç‰¹è‰²||[],ä¸ç©å®¶å…³ç³»:e.player_relationship||e.ä¸ç©å®¶å…³ç³»||"ä¸­ç«‹",å£°æœ›å€¼:n.å£°æœ›å€¼,leadership:e.leadership?{å®—ä¸»:e.leadership.å®—ä¸»,å®—ä¸»ä¿®ä¸º:e.leadership.å®—ä¸»ä¿®ä¸º,å‰¯å®—ä¸»:e.leadership.å‰¯å®—ä¸»??void 0,å¤ªä¸Šé•¿è€:e.leadership.å¤ªä¸Šé•¿è€??void 0,å¤ªä¸Šé•¿è€ä¿®ä¸º:e.leadership.å¤ªä¸Šé•¿è€ä¿®ä¸º??void 0,æœ€å¼ºä¿®ä¸º:e.leadership.æœ€å¼ºä¿®ä¸º||e.leadership.å®—ä¸»ä¿®ä¸º,ç»¼åˆæˆ˜åŠ›:n.ç»¼åˆæˆ˜åŠ›,æ ¸å¿ƒå¼Ÿå­æ•°:e.leadership.æ ¸å¿ƒå¼Ÿå­æ•°,å†…é—¨å¼Ÿå­æ•°:e.leadership.å†…é—¨å¼Ÿå­æ•°,å¤–é—¨å¼Ÿå­æ•°:e.leadership.å¤–é—¨å¼Ÿå­æ•°}:void 0,memberCount:e.memberCount?{total:Number(e.memberCount.total)||0,byRealm:e.memberCount.byRealm||{},byPosition:e.memberCount.byPosition||{}}:void 0,territoryInfo:e.territoryInfo?{controlledAreas:e.territoryInfo.controlledAreas||[],influenceRange:e.territoryInfo.influenceRange,strategicValue:e.territoryInfo.strategicValue}:void 0,canJoin:void 0===e.canJoin||!!e.canJoin,joinRequirements:e.joinRequirements||[],benefits:e.benefits||[]}}),åœ°ç‚¹ä¿¡æ¯:(e.locations||[]).map(e=&gt;({åç§°:e.name||e.åç§°,ç±»å‹:e.type||e.ç±»å‹,ä½ç½®:e.position||e.location||e.ä½ç½®,coordinates:e.coordinates,æè¿°:e.description||e.æè¿°,ç‰¹è‰²:e.features||e.ç‰¹è‰²,å®‰å…¨ç­‰çº§:e.safety_level||e.danger_level||e.å®‰å…¨ç­‰çº§||"è¾ƒå®‰å…¨",å¼€æ”¾çŠ¶æ€:e.status||e.å¼€æ”¾çŠ¶æ€||"å¼€æ”¾",ç›¸å…³åŠ¿åŠ›:e.related_factions||e.ç›¸å…³åŠ¿åŠ›||[],ç‰¹æ®ŠåŠŸèƒ½:e.special_functions||e.ç‰¹æ®ŠåŠŸèƒ½||[]})),ç”Ÿæˆæ—¶é—´:(new Date).toISOString(),ä¸–ç•Œçºªå…ƒ:e.world_era||this.config.worldEra||"ä¿®ä»™çºªå…ƒ",ç‰¹æ®Šè®¾å®š:e.special_settings||[],ç‰ˆæœ¬:"2.0-Enhanced"}}validateWorldData(e){console.log("[å¢å¼ºä¸–ç•Œç”Ÿæˆå™¨] å¼€å§‹æ ¡éªŒä¸–ç•Œæ•°æ®...");const n={isValid:!0,errors:[]};return this.performCustomValidation(e,n),n.isValid?console.log("[å¢å¼ºä¸–ç•Œç”Ÿæˆå™¨] æ•°æ®æ ¡éªŒé€šè¿‡"):(this.previousErrors=n.errors.map(e=&gt;e.message),console.warn("[å¢å¼ºä¸–ç•Œç”Ÿæˆå™¨] æ•°æ®æ ¡éªŒå¤±è´¥:",n.errors)),n}performCustomValidation(e,n){e.åŠ¿åŠ›ä¿¡æ¯.length!==this.config.factionCount&amp;&amp;n.errors.push({path:"åŠ¿åŠ›ä¿¡æ¯",message:`åŠ¿åŠ›æ•°é‡ä¸æ­£ç¡®ï¼ŒæœŸæœ›${this.config.factionCount}ä¸ªï¼Œå®é™…${e.åŠ¿åŠ›ä¿¡æ¯.length}ä¸ª`,expected:this.config.factionCount,received:e.åŠ¿åŠ›ä¿¡æ¯.length}),e.åœ°ç‚¹ä¿¡æ¯.length!==this.config.locationCount&amp;&amp;n.errors.push({path:"åœ°ç‚¹ä¿¡æ¯",message:`åœ°ç‚¹æ•°é‡ä¸æ­£ç¡®ï¼ŒæœŸæœ›${this.config.locationCount}ä¸ªï¼Œå®é™…${e.åœ°ç‚¹ä¿¡æ¯.length}ä¸ª`,expected:this.config.locationCount,received:e.åœ°ç‚¹ä¿¡æ¯.length});const t=e.åŠ¿åŠ›ä¿¡æ¯.reduce((e,n)=&gt;{const t=n.ç­‰çº§;return e[t]=(e[t]||0)+1,e},{});t["è¶…çº§"]&gt;1&amp;&amp;n.errors.push({path:"åŠ¿åŠ›ä¿¡æ¯.ç­‰çº§",message:"è¶…çº§åŠ¿åŠ›ä¸èƒ½è¶…è¿‡1ä¸ª",expected:"1ä¸ªè¶…çº§åŠ¿åŠ›",received:`${t["è¶…çº§"]}ä¸ªè¶…çº§åŠ¿åŠ›`});const a=e.åŠ¿åŠ›ä¿¡æ¯.map(e=&gt;e.åç§°),o=new Set(a);a.length!==o.size&amp;&amp;n.errors.push({path:"åŠ¿åŠ›ä¿¡æ¯.åç§°",message:"åŠ¿åŠ›åç§°å­˜åœ¨é‡å¤",expected:"æ‰€æœ‰åç§°å”¯ä¸€",received:"å­˜åœ¨é‡å¤åç§°"});const r=e.åœ°ç‚¹ä¿¡æ¯.map(e=&gt;e.åç§°),l=new Set(r);r.length!==l.size&amp;&amp;n.errors.push({path:"åœ°ç‚¹ä¿¡æ¯.åç§°",message:"åœ°ç‚¹åç§°å­˜åœ¨é‡å¤",expected:"æ‰€æœ‰åç§°å”¯ä¸€",received:"å­˜åœ¨é‡å¤åç§°"}),this.config.worldName&amp;&amp;e.ä¸–ç•Œåç§°!==this.config.worldName&amp;&amp;n.errors.push({path:"ä¸–ç•Œåç§°",message:"ä¸–ç•Œåç§°å¿…é¡»ä¸ç©å®¶é€‰æ‹©ä¸€è‡´",expected:this.config.worldName,received:e.ä¸–ç•Œåç§°}),n.isValid=0===n.errors.length}}var C=t(7527);async function z(e,n){return new Promise(t=&gt;{(0,c.useUIStore)().showRetryDialog({title:`${e}å¤±è´¥`,message:`${e}ç»è¿‡å¤šæ¬¡å°è¯•åä»ç„¶å¤±è´¥ã€‚\n\né”™è¯¯ä¿¡æ¯ï¼š${n}\n\næ˜¯å¦ç»§ç»­é‡è¯•ï¼Ÿ\né€‰æ‹©"å–æ¶ˆ"å°†ç»ˆæ­¢è§’è‰²åˆ›å»ºæµç¨‹ã€‚`,onConfirm:()=&gt;t(!0),onCancel:()=&gt;t(!1)})})}function S(e,n){const{å…ˆå¤©å…­å¸:t,å¤©èµ‹:a}=e,o=Number(t?.æ ¹éª¨??0),r=Number(t?.çµæ€§??0),l=Number(t?.æ‚Ÿæ€§??0),i=100+10*o,c=50+5*r,s=30+3*l,d=80+5*o;let m=0;return a&amp;&amp;Array.isArray(a)&amp;&amp;a.some(e=&gt;"éœ¸ç‹è¡€è„‰"===e.åç§°)&amp;&amp;(m=1,console.log(`[è§’è‰²åˆå§‹åŒ–] æ£€æµ‹åˆ°å¤©èµ‹ "éœ¸ç‹è¡€è„‰"ï¼Œåˆå§‹å¤©é“ç‚¹ +${m}`)),console.log(`[è§’è‰²åˆå§‹åŒ–] å±æ€§è®¡ç®—: æ°”è¡€=${i}, çµæ°”=${c}, ç¥è¯†=${s}, å¹´é¾„=${n}/${d}`),console.log(`[è§’è‰²åˆå§‹åŒ–] å…ˆå¤©å…­å¸: æ ¹éª¨=${o}, çµæ€§=${r}, æ‚Ÿæ€§=${l}`),{å¢ƒç•Œ:{åç§°:"å‡¡äºº",é˜¶æ®µ:"",å½“å‰è¿›åº¦:0,ä¸‹ä¸€çº§æ‰€éœ€:100,çªç ´æè¿°:"å¼•æ°”å…¥ä½“ï¼Œæ„Ÿæ‚Ÿå¤©åœ°çµæ°”ï¼Œè¸ä¸Šä¿®ä»™ç¬¬ä¸€æ­¥"},å£°æœ›:0,ä½ç½®:{æè¿°:"ä½ç½®ç”Ÿæˆå¤±è´¥"},æ°”è¡€:{å½“å‰:i,ä¸Šé™:i},çµæ°”:{å½“å‰:c,ä¸Šé™:c},ç¥è¯†:{å½“å‰:s,ä¸Šé™:s},å¯¿å‘½:{å½“å‰:n,ä¸Šé™:d},çŠ¶æ€æ•ˆæœ:[],ç³»ç»Ÿä»»åŠ¡:{é…ç½®:{å¯ç”¨:!1,ä»»åŠ¡ç±»å‹:"all",é¢å‘æ•°é‡:3},è¿›è¡Œä¸­ä»»åŠ¡:[],å·²å®Œæˆä»»åŠ¡åç§°:[]},å¤©é“ç‚¹:m}}async function B(e,n,a,o){console.log("[åˆå§‹åŒ–æµç¨‹] ===== initializeCharacter å…¥å£ ====="),console.log("[åˆå§‹åŒ–æµç¨‹] æ¥æ”¶åˆ°çš„ baseInfo.å…ˆå¤©å…­å¸:",n.å…ˆå¤©å…­å¸);const r=(0,c.useUIStore)();try{const{saveData:e,processedBaseInfo:l}=function(e,n){let t;console.log("[åˆå§‹åŒ–æµç¨‹] 1. å‡†å¤‡åˆå§‹å­˜æ¡£æ•°æ®"),console.log("[åˆå§‹åŒ–æµç¨‹] prepareInitialData æ¥æ”¶åˆ°çš„ baseInfo.å…ˆå¤©å…­å¸:",e.å…ˆå¤©å…­å¸);try{t=JSON.parse(JSON.stringify(e)),console.log("[åˆå§‹åŒ–æµç¨‹] JSON åºåˆ—åŒ–åçš„ processedBaseInfo.å…ˆå¤©å…­å¸:",t.å…ˆå¤©å…­å¸)}catch(n){console.error("[è§’è‰²åˆå§‹åŒ–] JSON åºåˆ—åŒ–å¤±è´¥ï¼Œä½¿ç”¨åŸå§‹å¯¹è±¡",n),t=e}t.å¹´é¾„||(t.å¹´é¾„=n);var a;Math.floor(12*Math.random()),Math.floor(60*Math.random()),t.å‡ºç”Ÿæ—¥æœŸ||(t.å‡ºç”Ÿæ—¥æœŸ={å¹´:1e3-n,æœˆ:1,æ—¥:1,å°æ—¶:0,åˆ†é’Ÿ:0},console.log(`[è§’è‰²åˆå§‹åŒ–] è®¾ç½®å‡ºç”Ÿæ—¥æœŸ: ${t.å‡ºç”Ÿæ—¥æœŸ.å¹´}å¹´${t.å‡ºç”Ÿæ—¥æœŸ.æœˆ}æœˆ${t.å‡ºç”Ÿæ—¥æœŸ.æ—¥}æ—¥ (å½“å‰${n}å²)`)),t.åå¤©å…­å¸||(t.åå¤©å…­å¸={æ ¹éª¨:0,çµæ€§:0,æ‚Ÿæ€§:0,æ°”è¿:0,é­…åŠ›:0,å¿ƒæ€§:0},console.log("[è§’è‰²åˆå§‹åŒ–] åˆå§‹åŒ–åå¤©å…­å¸ä¸ºå…¨0")),"string"!=typeof(a=t.çµæ ¹)||"éšæœºçµæ ¹"!==a&amp;&amp;!a.includes("éšæœº")?console.log("[çµæ ¹ç”Ÿæˆ] æ£€æµ‹åˆ°ç©å®¶å·²é€‰æ‹©ç‰¹å®šçµæ ¹ï¼Œå°†ç›´æ¥ä½¿ç”¨è¯¥çµæ ¹ï¼Œä¸è¿›è¡ŒéšæœºåŒ–å¤„ç†ã€‚"):console.log("[çµæ ¹ç”Ÿæˆ] æ£€æµ‹åˆ°éšæœºçµæ ¹ï¼Œå°†ç”± AI åˆ›é€ æ€§ç”Ÿæˆ"),"string"!=typeof t.å‡ºç”Ÿ||"éšæœºå‡ºç”Ÿ"!==t.å‡ºç”Ÿ&amp;&amp;!t.å‡ºç”Ÿ.includes("éšæœº")||console.log("[å‡ºç”Ÿç”Ÿæˆ] æ£€æµ‹åˆ°éšæœºå‡ºç”Ÿï¼Œå°†ç”± AI åˆ›é€ æ€§ç”Ÿæˆ");const o={è§’è‰²åŸºç¡€ä¿¡æ¯:t,ç©å®¶è§’è‰²çŠ¶æ€:S(t,n),è£…å¤‡æ :{è£…å¤‡1:null,è£…å¤‡2:null,è£…å¤‡3:null,è£…å¤‡4:null,è£…å¤‡5:null,è£…å¤‡6:null},ä¸‰åƒå¤§é“:{å¤§é“åˆ—è¡¨:{}},èƒŒåŒ…:{çµçŸ³:{ä¸‹å“:0,ä¸­å“:0,ä¸Šå“:0,æå“:0},ç‰©å“:{}},äººç‰©å…³ç³»:{},å®—é—¨ç³»ç»Ÿ:{availableSects:[],sectRelationships:{},sectHistory:[]},è®°å¿†:{çŸ­æœŸè®°å¿†:[],ä¸­æœŸè®°å¿†:[],é•¿æœŸè®°å¿†:[]},æ¸¸æˆæ—¶é—´:{å¹´:1e3,æœˆ:1,æ—¥:1,å°æ—¶:Math.floor(12*Math.random())+6,åˆ†é’Ÿ:Math.floor(60*Math.random())},ä¿®ç‚¼åŠŸæ³•:null,æŒæ¡æŠ€èƒ½:[],ç³»ç»Ÿ:{è§„åˆ™:{å±æ€§ä¸Šé™:{å…ˆå¤©å…­å¸:{æ¯é¡¹ä¸Šé™:10}},è£…å¤‡ç³»ç»Ÿ:"è£…å¤‡æ å­˜å‚¨å¼•ç”¨{ç‰©å“ID,åç§°}ï¼Œå®Œæ•´æ•°æ®åœ¨èƒŒåŒ….ç‰©å“ä¸­",å“è´¨æ§åˆ¶:"ä¸¥æ ¼éµå®ˆå¢ƒç•Œå¯¹åº”å“è´¨èŒƒå›´ï¼Œä»™å“ä¸–ç•Œä¸Šå‡ ä¹æ²¡æœ‰ï¼Œæ¯ä¸€ä¸ªéƒ½æ˜¯ä»¤ä¸–ç•ŒåŠ¨è¡çš„å­˜åœ¨ï¼Œç¥å“ä¸å­˜åœ¨"},æç¤º:["âš ï¸ å…ˆåˆ›å»ºåä¿®æ”¹ï¼šä¿®æ”¹æ•°æ®å‰å¿…é¡»ç¡®ä¿æ•°æ®å·²å­˜åœ¨","è£…å¤‡æ å­—æ®µï¼šè£…å¤‡1-6"],nsfwMode:!0,nsfwGenderFilter:(()=&gt;{try{const e=localStorage.getItem("dad_game_settings");if(e)return JSON.parse(e).nsfwGenderFilter||"all"}catch(e){console.error("[åˆå§‹åŒ–] è¯»å–NSFWæ€§åˆ«è¿‡æ»¤è®¾ç½®å¤±è´¥:",e)}return"all"})()}};return o.è£…å¤‡æ ._AIé‡è¦æé†’="âš ï¸ å¼•ç”¨çš„ç‰©å“IDå¿…é¡»å·²ç»åœ¨èƒŒåŒ….ç‰©å“æ•°ç»„ä¸­å­˜åœ¨",o.äººç‰©å…³ç³»._AIé‡è¦æé†’="âš ï¸ æ¯æ¬¡ä¸NPCå¯¹è¯æˆ–è€…åœ¨å‘¨å›´å­˜åœ¨äº’åŠ¨å¿…é¡»æ·»åŠ äººç‰©è®°å¿†",{saveData:o,processedBaseInfo:t}}(n,o),i=await async function(e,n){console.log("[åˆå§‹åŒ–æµç¨‹] 2. ç”Ÿæˆä¸–ç•Œæ•°æ®");const t=(0,c.useUIStore)();t.updateLoadingText("ğŸŒ ä¸–ç•Œç”Ÿæˆ: å‡†å¤‡é…ç½®...");const a=(0,s.N)(),o=a.worldGenerationConfig,r=a.selectedWorld,l={worldName:r?.name||n.name,worldBackground:r?.description||n.description,worldEra:r?.era||n.era,factionCount:o.majorFactionsCount||7,locationCount:o.totalLocations||25,secretRealmsCount:o.secretRealmsCount||8,continentCount:o.continentCount||Math.floor(5*Math.random())+3,maxRetries:3,retryDelay:2e3,characterBackground:(e=&gt;{if("string"==typeof e)return e;if(e&amp;&amp;"object"==typeof e&amp;&amp;"åç§°"in e){const n=e.åç§°;if("string"==typeof n)return n}return String(e??"")})(e.å‡ºç”Ÿ),mapConfig:o.mapConfig};console.log("[åˆå§‹åŒ–æµç¨‹] å¼€å§‹è°ƒç”¨ä¸–ç•Œç”Ÿæˆå™¨..."),t.updateLoadingText("ğŸŒ ä¸–ç•Œç”Ÿæˆ: è°ƒç”¨AIç”Ÿæˆä¸–ç•Œæ¶æ„...");const i=new V(l),d=Date.now(),m=await i.generateValidatedWorld(),p=Date.now()-d;if(console.log(`[åˆå§‹åŒ–æµç¨‹] ä¸–ç•Œç”Ÿæˆå™¨è¿”å›,è€—æ—¶: ${p}ms`),m.success&amp;&amp;m.worldInfo)return console.log("[åˆå§‹åŒ–æµç¨‹] ä¸–ç•Œç”ŸæˆæˆåŠŸ"),t.updateLoadingText("ğŸŒ ä¸–ç•Œç”Ÿæˆ: å®Œæˆ"),m.worldInfo;throw new Error(`ä¸–ç•Œç”Ÿæˆå¤±è´¥ï¼š${m.errors?.join(", ")||"æœªçŸ¥é”™è¯¯"}`)}(l,a);e.ä¸–ç•Œä¿¡æ¯=i,console.log("[åˆå§‹åŒ–æµç¨‹] 2.5 å°†ä¸–ç•Œä¿¡æ¯ä¿å­˜åˆ°é…’é¦†å˜é‡..."),r.updateLoadingText("ğŸŒ ä¿å­˜ä¸–ç•Œä¿¡æ¯åˆ°é…’é¦†...");try{const e=(0,f.getTavernHelper)();if(e){const{deepCleanForClone:n}=await Promise.resolve().then(t.bind(t,3098)),a=n({ä¸–ç•Œä¿¡æ¯:i});await e.insertOrAssignVariables(a,{type:"chat"}),console.log("[åˆå§‹åŒ–æµç¨‹] âœ… ä¸–ç•Œä¿¡æ¯å·²ä¿å­˜åˆ°é…’é¦†ï¼ŒåŒ…å«",i.å¤§é™†ä¿¡æ¯?.length||0,"ä¸ªå¤§é™†"),console.log("[åˆå§‹åŒ–æµç¨‹] å¤§é™†åˆ—è¡¨:",i.å¤§é™†ä¿¡æ¯?.map(e=&gt;e.åç§°||e.name).join("ã€"))}else console.warn("[åˆå§‹åŒ–æµç¨‹] âš ï¸ é…’é¦†åŠ©æ‰‹ä¸å¯ç”¨ï¼Œè·³è¿‡ä¸–ç•Œä¿¡æ¯ä¿å­˜")}catch(e){console.error("[åˆå§‹åŒ–æµç¨‹] âŒ ä¿å­˜ä¸–ç•Œä¿¡æ¯åˆ°é…’é¦†å¤±è´¥:",e)}console.log("[åˆå§‹åŒ–æµç¨‹] å‡†å¤‡è°ƒç”¨generateOpeningScene...");const{finalSaveData:d}=await async function(e,n,t,a){console.log("[åˆå§‹åŒ–æµç¨‹] 3. ç”Ÿæˆå¼€åœºå‰§æƒ…"),(0,c.useUIStore)().updateLoadingText("å¤©é“æ­£åœ¨ä¸ºä½ ä¹¦å†™å‘½è¿ä¹‹ç« ...");const o={name:n.åå­—,gender:n.æ€§åˆ«,race:n.ç§æ—,age:a,world:t.name,talentTier:n.å¤©èµ„,origin:n.å‡ºç”Ÿ,spiritRoot:n.çµæ ¹,talents:n.å¤©èµ‹||[],attributes:n.å…ˆå¤©å…­å¸||{}},r=(0,y.IJ)(o),l=e=&gt;{if(!e)return"";if("string"==typeof e)return e;if("object"==typeof e){const n=e;if("string"==typeof n.åç§°)return n.åç§°;if("string"==typeof n.name)return n.name}return String(e)},i={baseInfo:n,saveData:e,world:{...t,description:`ä¸–ç•Œå: ${t.name}, çºªå…ƒ: ${t.era}. èƒŒæ™¯: ${t.description}`},creationDetails:{age:a,originName:l(n.å‡ºç”Ÿ),spiritRootName:l(n.çµæ ¹),talentTierName:l(n.å¤©èµ„),talentNames:Array.isArray(n.å¤©èµ‹)?n.å¤©èµ‹.map(e=&gt;e?.name||e?.åç§°||String(e)).filter(Boolean):[]},worldInfo:e.ä¸–ç•Œä¿¡æ¯,availableContinents:e.ä¸–ç•Œä¿¡æ¯?.å¤§é™†ä¿¡æ¯?.map(e=&gt;({åç§°:e.åç§°||e.name,æè¿°:e.æè¿°||e.description,å¤§æ´²è¾¹ç•Œ:e.å¤§æ´²è¾¹ç•Œ||e.continent_bounds}))||[],availableLocations:e.ä¸–ç•Œä¿¡æ¯?.åœ°ç‚¹ä¿¡æ¯?.map(e=&gt;({åç§°:e.åç§°||e.name,ç±»å‹:e.ç±»å‹||e.type,æè¿°:e.æè¿°||e.description,æ‰€å±åŠ¿åŠ›:e.æ‰€å±åŠ¿åŠ›||e.faction,coordinates:e.coordinates}))||[],mapConfig:e.ä¸–ç•Œä¿¡æ¯?.åœ°å›¾é…ç½®,systemSettings:e.ç³»ç»Ÿ||{nsfwMode:!0,nsfwGenderFilter:"all"}};console.log(`[åˆå§‹åŒ–] å‡†å¤‡ç”Ÿæˆå¼€åœºå‰§æƒ…ï¼Œè§’è‰²: ${n.åå­—}`),console.log("[åˆå§‹åŒ–] å¯ç”¨å¤§é™†åˆ—è¡¨:",i.availableContinents.map(e=&gt;e.åç§°)),console.log("[åˆå§‹åŒ–] å¯ç”¨åœ°ç‚¹æ•°é‡:",i.availableLocations?.length||0);const s=await async function(e,n,t,a){const o=(0,c.useUIStore)();let r=null,l=0;for(;;){l++;try{l&gt;1&amp;&amp;o.updateLoadingText(`${a} (ç¬¬ ${l-1} æ¬¡é‡è¯•)`),console.log(`[robustAICall] æ­£åœ¨å°è¯•: ${a}, ç¬¬ ${l} æ¬¡`);const t=await e();if(console.log(`[robustAICall] æ”¶åˆ°å“åº” for ${a}:`,t),n(t))return console.log(`[robustAICall] å“åº”éªŒè¯æˆåŠŸ for ${a}`),t;throw new Error("AIå“åº”æ ¼å¼æ— æ•ˆæˆ–æœªé€šè¿‡éªŒè¯")}catch(e){if(r=e instanceof Error?e:new Error(String(e)),console.warn(`[AIè°ƒç”¨é‡è¯•] ç¬¬ ${l} æ¬¡å°è¯•å¤±è´¥:`,r.message),l&gt;3){if(await z(a,r.message)){l=0;continue}throw new Error(`${a}å¤±è´¥ï¼Œç”¨æˆ·é€‰æ‹©ä¸ç»§ç»­é‡è¯•: ${r.message}`)}await new Promise(e=&gt;setTimeout(e,1e3*l))}}}(async()=&gt;{console.log("[åˆå§‹åŒ–] ===== å¼€å§‹ç”Ÿæˆå¼€åœºå‰§æƒ… =====");const e=Date.now();try{const n=await(0,b.generateInitialMessage)(i,{},r),t=Date.now()-e;return console.log(`[åˆå§‹åŒ–] âœ… AIç”Ÿæˆå®Œæˆ,è€—æ—¶: ${t}ms`),n}catch(e){throw console.error("[åˆå§‹åŒ–] âŒ AIç”Ÿæˆå¤±è´¥:",e),e}},e=&gt;!e||!e.text||"string"!=typeof e.text||e.text.trim().length&lt;200?(console.warn("[AIéªŒè¯] ç”Ÿæˆçš„æ–‡æœ¬å¤ªçŸ­æˆ–æ— æ•ˆ"),!1):e.text.includes("placeholder")||e.text.includes("TODO")||e.text.includes("å¾…å¡«å……")?(console.warn("[AIéªŒè¯] ç”Ÿæˆçš„æ–‡æœ¬åŒ…å«å ä½ç¬¦"),!1):(console.log("[AIéªŒè¯] âœ… éªŒè¯é€šè¿‡"),!0),0,"å¤©é“æ­£åœ¨ä¹¦å†™å‘½è¿ä¹‹ç« "),{saveData:d,stateChanges:m}=await(0,h.Dj)(s,e,!0);if(T().setInitialCreationStateChanges(m),!String(s.text||"").trim())throw new Error("AIç”Ÿæˆçš„å¼€åœºå‰§æƒ…ä¸ºç©º");return console.log("[åˆå§‹åŒ–] âœ… generateOpeningSceneå®Œæˆ,è¿”å›æ•°æ®"),{finalSaveData:d,aiResponse:s}}(e,l,a,o);console.log("[åˆå§‹åŒ–æµç¨‹] generateOpeningSceneå·²è¿”å›"),console.log("[åˆå§‹åŒ–æµç¨‹] æ ¸å¿ƒå±æ€§æ ¡å‡†ï¼šé‡æ–°åº”ç”¨è®¡ç®—å‡ºçš„åˆå§‹å±æ€§...");const m=S(n,o),p=d.ç©å®¶è§’è‰²çŠ¶æ€||{};d.ç©å®¶è§’è‰²çŠ¶æ€={...m,...p,å¯¿å‘½:m.å¯¿å‘½,æ°”è¡€:m.æ°”è¡€,çµæ°”:m.çµæ°”,ç¥è¯†:m.ç¥è¯†,å¢ƒç•Œ:m.å¢ƒç•Œ},console.log("[åˆå§‹åŒ–æµç¨‹] æ ¸å¿ƒå±æ€§æ ¡å‡†å®Œæˆã€‚"),console.log("[åˆå§‹åŒ–æµç¨‹] å‡†å¤‡æœ€ç»ˆåŒ–å¹¶åŒæ­¥æ•°æ®...");const v=await async function(e,n,a,o){console.log("[åˆå§‹åŒ–æµç¨‹] 4. åˆå¹¶ã€éªŒè¯å¹¶åŒæ­¥æœ€ç»ˆæ•°æ®");const r=(0,c.useUIStore)();r.updateLoadingText(`æ­£åœ¨åŒæ­¥æ•°æ®ï¼Œå³å°†è¿›å…¥${n.åå­—}çš„ä¿®ä»™ä¸–ç•Œ...`);const l=(0,f.getTavernHelper)();if(!l)throw new Error("æ— æ³•è¿æ¥åˆ°é…’é¦†æœåŠ¡");const{deepCleanForClone:i}=await Promise.resolve().then(t.bind(t,3098)),d={...e.è§’è‰²åŸºç¡€ä¿¡æ¯,...n,åå­—:n.åå­—,æ€§åˆ«:n.æ€§åˆ«,ç§æ—:n.ç§æ—,å¹´é¾„:o,å…ˆå¤©å…­å¸:n.å…ˆå¤©å…­å¸,å¤©èµ‹:n.å¤©èµ‹},m=(0,s.N)(),p=m.selectedSpiritRoot;if(p)console.log(`[æ•°æ®æœ€ç»ˆåŒ–] âœ… ç”¨æˆ·é€‰æ‹©ç‰¹å®šçµæ ¹ï¼Œä½¿ç”¨ç”¨æˆ·é€‰æ‹©: ${p.name}`),d.çµæ ¹={åç§°:p.name,å“çº§:p.tier,æè¿°:p.description,base_multiplier:p.base_multiplier,cultivation_speed:p.cultivation_speed,special_effects:p.special_effects};else{console.log("[æ•°æ®æœ€ç»ˆåŒ–] ğŸ² ç”¨æˆ·é€‰æ‹©éšæœºçµæ ¹ï¼Œä½¿ç”¨AIç”Ÿæˆçš„æ•°æ®");const t=e.è§’è‰²åŸºç¡€ä¿¡æ¯?.çµæ ¹;if(console.log("[æ•°æ®æœ€ç»ˆåŒ–] AIç”Ÿæˆçš„çµæ ¹æ•°æ®:",JSON.stringify(t)),d.çµæ ¹=t||"éšæœºçµæ ¹","string"==typeof d.çµæ ¹&amp;&amp;d.çµæ ¹.includes("éšæœº")){console.warn("[æ•°æ®æœ€ç»ˆåŒ–] âš ï¸ è­¦å‘Šï¼šAIæœªèƒ½æ­£ç¡®æ›¿æ¢éšæœºçµæ ¹ï¼Œä½¿ç”¨æœ¬åœ°æ•°æ®åº“ç”Ÿæˆ");const e=n.å¤©èµ„;let t=C.Gr.filter(n=&gt;"åºŸæŸ´"===e||"å‡¡äºº"===e?"å‡¡å“"===n.tier||"ä¸‹å“"===n.tier:"ä¿Šæ°"===e?"ä¸­å“"===n.tier||"ä¸Šå“"===n.tier:"å¤©éª„"===e?"ä¸Šå“"===n.tier||"æå“"===n.tier:"å¦–å­½"===e?"æå“"===n.tier||"ç¥å“"===n.tier:"å‡¡å“"===n.tier||"ä¸‹å“"===n.tier);0===t.length&amp;&amp;(t=C.Gr);const a=t[Math.floor(Math.random()*t.length)];d.çµæ ¹={åç§°:a.name,å“çº§:a.tier,æè¿°:a.description,base_multiplier:a.base_multiplier,cultivation_speed:a.cultivation_speed,special_effects:a.special_effects},console.log(`[æ•°æ®æœ€ç»ˆåŒ–] âœ… å·²ä»æœ¬åœ°æ•°æ®åº“ç”Ÿæˆéšæœºçµæ ¹: ${a.name} (${a.tier})`)}}const v=m.selectedOrigin;if(v)console.log(`[æ•°æ®æœ€ç»ˆåŒ–] âœ… ç”¨æˆ·é€‰æ‹©ç‰¹å®šå‡ºèº«ï¼Œä½¿ç”¨ç”¨æˆ·é€‰æ‹©: ${v.name}`),d.å‡ºç”Ÿ={åç§°:v.name,æè¿°:v.description};else{console.log("[æ•°æ®æœ€ç»ˆåŒ–] ğŸ² ç”¨æˆ·é€‰æ‹©éšæœºå‡ºèº«ï¼Œä½¿ç”¨AIç”Ÿæˆçš„æ•°æ®");const n=e.è§’è‰²åŸºç¡€ä¿¡æ¯?.å‡ºç”Ÿ;if(console.log("[æ•°æ®æœ€ç»ˆåŒ–] AIç”Ÿæˆçš„å‡ºèº«æ•°æ®:",JSON.stringify(n)),d.å‡ºç”Ÿ=n||"éšæœºå‡ºèº«","string"==typeof d.å‡ºç”Ÿ&amp;&amp;d.å‡ºç”Ÿ.includes("éšæœº")){console.warn("[æ•°æ®æœ€ç»ˆåŒ–] âš ï¸ è­¦å‘Šï¼šAIæœªèƒ½æ­£ç¡®æ›¿æ¢éšæœºå‡ºèº«ï¼Œä½¿ç”¨æœ¬åœ°æ•°æ®åº“ç”Ÿæˆ");const e=C.yM[Math.floor(Math.random()*C.yM.length)];d.å‡ºç”Ÿ={åç§°:e.name,æè¿°:e.description},console.log(`[æ•°æ®æœ€ç»ˆåŒ–] âœ… å·²ä»æœ¬åœ°æ•°æ®åº“ç”Ÿæˆéšæœºå‡ºèº«: ${e.name}`)}}const u=function(e,n){const t={...e},a=(0,s.N)();console.log("[æ•°æ®æ ¡å‡†] å¼€å§‹ä»åˆ›è§’ä»“åº“åŒæ­¥æ‰€æœ‰æƒå¨æ•°æ®..."),console.log("[æ•°æ®æ ¡å‡†] ã€é‡è¦ã€‘æ‰€æœ‰ç”¨æˆ·æ‰‹åŠ¨é€‰æ‹©çš„æ•°æ®éƒ½å°†è¢«ä¿æŠ¤ï¼Œä¸è¢«AIæˆ–ä»£ç ä¿®æ”¹"),t.ä¸–ç•Œ=n;const o=a.selectedTalentTier;o?(console.log(`[æ•°æ®æ ¡å‡†] âœ… åŒæ­¥ç”¨æˆ·é€‰æ‹©çš„å¤©èµ„: ${o.name}`),t.å¤©èµ„={åç§°:o.name,æè¿°:o.description}):console.warn("[æ•°æ®æ ¡å‡†] è­¦å‘Š: æ— æ³•æ‰¾åˆ°æƒå¨çš„å¤©èµ„æ•°æ®ã€‚");const r=a.selectedOrigin;r?(console.log(`[æ•°æ®æ ¡å‡†] âœ… åŒæ­¥ç”¨æˆ·é€‰æ‹©çš„å‡ºèº«: ${r.name}`),t.å‡ºç”Ÿ={åç§°:r.name,æè¿°:r.description}):null===a.characterPayload.origin_id?"object"==typeof t.å‡ºç”Ÿ&amp;&amp;t.å‡ºç”Ÿ&amp;&amp;"åç§°"in t.å‡ºç”Ÿ&amp;&amp;!t.å‡ºç”Ÿ.åç§°.includes("éšæœº")?console.log("[æ•°æ®æ ¡å‡†] âœ… æ£€æµ‹åˆ°AIå·²ç”Ÿæˆå…·ä½“å‡ºèº«ï¼Œä¿ç•™AIç»“æœ:",t.å‡ºç”Ÿ.åç§°):(console.log("[æ•°æ®æ ¡å‡†] ğŸ² ç”¨æˆ·é€‰æ‹©éšæœºå‡ºèº«ï¼Œå½“å‰æ— æœ‰æ•ˆå€¼ï¼Œæ ‡è®°ä¸ºéšæœº"),t.å‡ºç”Ÿ={åç§°:"éšæœºå‡ºèº«",æè¿°:"èº«ä¸–è¿·ç¦»ï¼Œä¸€åˆ‡çš†æœ‰å¯èƒ½ã€‚"}):console.warn("[æ•°æ®æ ¡å‡†] è­¦å‘Š: æ— æ³•æ‰¾åˆ°æƒå¨çš„å‡ºèº«æ•°æ®ã€‚");const l=a.selectedSpiritRoot;l?(console.log(`[æ•°æ®æ ¡å‡†] âœ… åŒæ­¥ç”¨æˆ·é€‰æ‹©çš„çµæ ¹: ${l.name} (${l.tier})`),t.çµæ ¹={åç§°:l.name,å“çº§:l.tier||"å‡¡å“",æè¿°:l.description||"åŸºç¡€çµæ ¹"}):null===a.characterPayload.spirit_root_id?"object"==typeof t.çµæ ¹&amp;&amp;t.çµæ ¹&amp;&amp;"åç§°"in t.çµæ ¹&amp;&amp;!t.çµæ ¹.åç§°.includes("éšæœº")?console.log("[æ•°æ®æ ¡å‡†] âœ… æ£€æµ‹åˆ°AIå·²ç”Ÿæˆå…·ä½“çµæ ¹ï¼Œä¿ç•™AIç»“æœ:",t.çµæ ¹.åç§°):(console.log("[æ•°æ®æ ¡å‡†] ğŸ² ç”¨æˆ·é€‰æ‹©éšæœºçµæ ¹ï¼Œå½“å‰æ— æœ‰æ•ˆå€¼ï¼Œæ ‡è®°ä¸ºéšæœº"),t.çµæ ¹={åç§°:"éšæœºçµæ ¹",å“çº§:"å‡¡å“",æè¿°:"å¤§é“äº”åï¼Œå¤©è¡å››ä¹ï¼Œäººéå…¶ä¸€"}):console.warn("[æ•°æ®æ ¡å‡†] è­¦å‘Š: æ— æ³•æ‰¾åˆ°æƒå¨çš„çµæ ¹æ•°æ®ã€‚");const i=a.selectedTalents;i&amp;&amp;i.length&gt;0?(console.log(`[æ•°æ®æ ¡å‡†] âœ… åŒæ­¥ç”¨æˆ·é€‰æ‹©çš„å¤©èµ‹ï¼Œå…± ${i.length} ä¸ª`),t.å¤©èµ‹=i.map(e=&gt;(console.log(`[æ•°æ®æ ¡å‡†]    -&gt; å¤©èµ‹: ${e.name}`),{åç§°:e.name,æè¿°:e.description}))):(console.log("[æ•°æ®æ ¡å‡†] ç”¨æˆ·æœªé€‰æ‹©ä»»ä½•å¤©èµ‹ï¼Œå¤©èµ‹å­—æ®µè®¾ç½®ä¸ºç©ºæ•°ç»„ã€‚"),t.å¤©èµ‹=[]);const c=a.attributes;return console.log("[æ•°æ®æ ¡å‡†] âœ… åŒæ­¥ç”¨æˆ·åˆ†é…çš„å…ˆå¤©å…­å¸:",c),t.å…ˆå¤©å…­å¸={æ ¹éª¨:c.root_bone,çµæ€§:c.spirituality,æ‚Ÿæ€§:c.comprehension,æ°”è¿:c.fortune,é­…åŠ›:c.charm,å¿ƒæ€§:c.temperament},console.log("[æ•°æ®æ ¡å‡†] æƒå¨æ•°æ®åŒæ­¥å®Œæˆã€‚"),t}(d,a.name);e.è§’è‰²åŸºç¡€ä¿¡æ¯=u,console.log("[æ•°æ®æœ€ç»ˆåŒ–] é‡æ–°è®¡ç®—å¹¶æ ¡å‡†æ ¸å¿ƒç©å®¶çŠ¶æ€...");const g=S(n,o),b=e.ç©å®¶è§’è‰²çŠ¶æ€?.ä½ç½®;if(e.ç©å®¶è§’è‰²çŠ¶æ€=g,b&amp;&amp;"string"==typeof b.æè¿°&amp;&amp;"ä½ç½®ç”Ÿæˆå¤±è´¥"!==b.æè¿°?(e.ç©å®¶è§’è‰²çŠ¶æ€.ä½ç½®=b,console.log(`[æ•°æ®æœ€ç»ˆåŒ–] å·²ä¿ç•™AIç”Ÿæˆçš„ä½ç½®ä¿¡æ¯: "${b.æè¿°}"`)):console.warn("[æ•°æ®æœ€ç»ˆåŒ–] AIæœªç”Ÿæˆæœ‰æ•ˆä½ç½®ï¼Œå°†ä½¿ç”¨é»˜è®¤ä½ç½®ã€‚"),console.log("[æ•°æ®æœ€ç»ˆåŒ–] æ ¸å¿ƒç©å®¶çŠ¶æ€æ ¡å‡†å®Œæˆã€‚"),e.æ¸¸æˆæ—¶é—´){const n={å¹´:e.æ¸¸æˆæ—¶é—´.å¹´-o,æœˆ:e.æ¸¸æˆæ—¶é—´.æœˆ,æ—¥:e.æ¸¸æˆæ—¶é—´.æ—¥,å°æ—¶:0,åˆ†é’Ÿ:0};e.è§’è‰²åŸºç¡€ä¿¡æ¯.å‡ºç”Ÿæ—¥æœŸ=n,console.log(`[æ•°æ®æœ€ç»ˆåŒ–] é‡æ–°è®¡ç®—å‡ºç”Ÿæ—¥æœŸ: ${n.å¹´}å¹´${n.æœˆ}æœˆ${n.æ—¥}æ—¥ (æ¸¸æˆæ—¶é—´${e.æ¸¸æˆæ—¶é—´.å¹´}å¹´ - å¼€å±€å¹´é¾„${o}å²)`)}const h=e.ç©å®¶è§’è‰²çŠ¶æ€?.ä½ç½®?.æè¿°;if(!h||"string"!=typeof h||!h.includes("Â·")||h.includes("undefined"))throw new Error(`æœ€ç»ˆæ•°æ®æ ¡éªŒå¤±è´¥ï¼šä½ç½®ä¿¡æ¯æ— æ•ˆæˆ–ç¼ºå¤±ã€‚è·å–åˆ°çš„ä½ç½®: "${h}"`);console.log(`[æ•°æ®æ ¡å‡†] ä½ç½®ä¿¡æ¯æ ¡éªŒé€šè¿‡: "${h}"`);const y=(0,x.zB)(e,{è§’è‰²åŸºç¡€ä¿¡æ¯:n,æ¨¡å¼:"å•æœº"},"creation");if(!y.isValid)throw new Error(`è§’è‰²æ•°æ®æœ€ç»ˆéªŒè¯å¤±è´¥: ${y.errors.join(", ")}`);if(e.ä¿®ç‚¼åŠŸæ³•){const n=e.ä¿®ç‚¼åŠŸæ³•.åç§°;Object.values(e.èƒŒåŒ…?.ç‰©å“||{}).find(e=&gt;"åŠŸæ³•"===e.ç±»å‹&amp;&amp;e.åç§°===n&amp;&amp;e.å·²è£…å¤‡)?console.log(`[æ•°æ®æ ¡å‡†] åŠŸæ³•ä¸€è‡´æ€§æ ¡éªŒé€šè¿‡: "${n}"`):(console.warn("[æ•°æ®æ ¡å‡†] æ£€æµ‹åˆ°æ— æ•ˆçš„â€œå¹½çµåŠŸæ³•â€ï¼šä¿®ç‚¼æ§½éç©ºï¼Œä½†èƒŒåŒ…ä¸­æ— å¯¹åº”å®ä½“ã€‚æ­£åœ¨æ¸…é™¤æ— æ•ˆä¿®ç‚¼çŠ¶æ€..."),e.ä¿®ç‚¼åŠŸæ³•=null)}if(e.ä¿®ç‚¼åŠŸæ³•&amp;&amp;e.ä¿®ç‚¼åŠŸæ³•.åŠŸæ³•æŠ€èƒ½){const n=e.ä¿®ç‚¼åŠŸæ³•.åŠŸæ³•æŠ€èƒ½;Object.entries(n).forEach(([n,t])=&gt;{"object"!=typeof t||null===t||t.æŠ€èƒ½æè¿°||(console.warn(`[æ•°æ®æ ¡å‡†] åŠŸæ³• "${e.ä¿®ç‚¼åŠŸæ³•?.åç§°}" çš„æŠ€èƒ½ "${n}" ç¼ºå°‘æè¿°ï¼Œå·²æ·»åŠ é»˜è®¤æè¿°ã€‚`),t.æŠ€èƒ½æè¿°="æ­¤æŠ€èƒ½ç„å¥¥éå‡¡ï¼Œå…·ä½“æ•ˆæœéœ€åœ¨å®æˆ˜ä¸­é¢†æ‚Ÿã€‚")})}try{console.log("[åˆå§‹åŒ–æµç¨‹] å¼€å§‹åŒæ­¥æ•°æ®åˆ°é…’é¦†..."),r.updateLoadingText("ğŸ’¾ æ­£åœ¨ä¿å­˜è§’è‰²æ•°æ®...");const{shardSaveData:a,saveAllShards:o}=await Promise.resolve().then(t.bind(t,9808));console.log("[åˆå§‹åŒ–æµç¨‹] æ­£åœ¨æ·±åº¦æ¸…ç†å­˜æ¡£æ•°æ®ä»¥ç§»é™¤å“åº”å¼ä»£ç†...");const c=i(e);console.log("[åˆå§‹åŒ–æµç¨‹] æ•°æ®æ¸…ç†å®Œæˆã€‚");const s=a(c);console.log("[åˆå§‹åŒ–æµç¨‹] å‡†å¤‡ä¿å­˜",Object.keys(s).length,"ä¸ªåˆ†ç‰‡"),r.updateLoadingText(`ğŸ’¾ ä¿å­˜ ${Object.keys(s).length} ä¸ªæ•°æ®åˆ†ç‰‡åˆ°é…’é¦†...`);const d=Date.now();await o(s,l);const m=Date.now()-d;console.log(`[åˆå§‹åŒ–æµç¨‹] âœ… æ‰€æœ‰åˆ†ç‰‡å·²ä¿å­˜ï¼Œè€—æ—¶: ${m}ms`);const p=i({"character.name":n.åå­—});r.updateLoadingText("ğŸ’¾ è®¾ç½®å…¨å±€è§’è‰²åç§°..."),await l.insertOrAssignVariables(p,{type:"global"}),console.log("[åˆå§‹åŒ–æµç¨‹] âœ… å·²è®¾ç½®å…¨å±€è§’è‰²åç§°"),console.log("[åˆå§‹åŒ–æµç¨‹] âœ… æ•°æ®åŒæ­¥åˆ°TavernæˆåŠŸ"),r.updateLoadingText("âœ… è§’è‰²åˆ›å»ºå®Œæˆï¼")}catch(e){console.error("[åˆå§‹åŒ–æµç¨‹] âŒ ä¿å­˜æ¸¸æˆæ•°æ®åˆ°é…’é¦†å¤±è´¥:",e),console.error("[åˆå§‹åŒ–æµç¨‹] é”™è¯¯è¯¦æƒ…:",e instanceof Error?e.stack:String(e)),console.warn("[åˆå§‹åŒ–æµç¨‹] ä¸å½±å“æœ¬åœ°æ¸¸æˆå¼€å§‹ï¼Œå°†ç»§ç»­")}return console.log("[åˆå§‹åŒ–æµç¨‹] finalizeAndSyncDataå³å°†è¿”å›saveData"),e}(d,n,a,o);return console.log("[åˆå§‹åŒ–æµç¨‹] æœ€ç»ˆåŒ–å®Œæˆ"),console.log("[åˆå§‹åŒ–æµç¨‹] âœ… è§’è‰²åˆ›å»ºæˆåŠŸï¼å‡†å¤‡è¿”å›completedSaveData"),console.log("[åˆå§‹åŒ–æµç¨‹] completedSaveDataç±»å‹:",typeof v),console.log("[åˆå§‹åŒ–æµç¨‹] completedSaveDataæœ‰æ•ˆ:",!!v),v}catch(e){throw console.error("[åˆå§‹åŒ–æµç¨‹] âŒ è§’è‰²åˆå§‹åŒ–å¤±è´¥ï¼š",e),console.error("[åˆå§‹åŒ–æµç¨‹] é”™è¯¯å †æ ˆ:",e instanceof Error?e.stack:"N/A"),e}finally{console.log("[åˆå§‹åŒ–æµç¨‹] initializeCharacterå‡½æ•°æ‰§è¡Œå®Œæ¯•")}}var D=t(9333),A=t(6939),_=t(8708),$=t(3943),I=t(9808);const T=(0,o.nY)("characterV3",()=&gt;{const e=(0,a.ref)({å½“å‰æ¿€æ´»å­˜æ¡£:null,è§’è‰²åˆ—è¡¨:{}}),n=(0,a.ref)(null),o=(0,a.ref)(!1),d=async()=&gt;{if(!o.value)try{await async function(){try{const e="DAD_SAVES_V3",n=localStorage.getItem(e);if(!n)return console.log("ã€ä¹¾å¤å®åº“-IDBã€‘æ— éœ€è¿ç§»ï¼ŒlocalStorageä¸­æ— æ•°æ®"),!1;console.log("ã€ä¹¾å¤å®åº“-IDBã€‘æ£€æµ‹åˆ°localStorageæ•°æ®ï¼Œå¼€å§‹è¿ç§»...");const t=JSON.parse(n);return await g(t),localStorage.setItem("DAD_SAVES_V3_BACKUP",n),localStorage.removeItem(e),console.log("ã€ä¹¾å¤å®åº“-IDBã€‘âœ… æ•°æ®è¿ç§»å®Œæˆï¼å·²å¤‡ä»½åˆ° localStorage (DAD_SAVES_V3_BACKUP)"),!0}catch(e){return console.error("ã€ä¹¾å¤å®åº“-IDBã€‘âŒ æ•°æ®è¿ç§»å¤±è´¥:",e),!1}}()&amp;&amp;i.Yz.log("è§’è‰²å•†åº—","âœ… æ•°æ®å·²ä»localStorageè¿ç§»åˆ°IndexedDB"),e.value=await u(),o.value=!0,i.Yz.log("è§’è‰²å•†åº—","âœ… Storeåˆå§‹åŒ–å®Œæˆï¼Œæ•°æ®å·²åŠ è½½")}catch(n){i.Yz.error("è§’è‰²å•†åº—","âŒ Storeåˆå§‹åŒ–å¤±è´¥",n),e.value={å½“å‰æ¿€æ´»å­˜æ¡£:null,è§’è‰²åˆ—è¡¨:{}},o.value=!0}};d();const m=(0,a.computed)(()=&gt;Object.values(e.value.è§’è‰²åˆ—è¡¨)),p=(0,a.computed)(()=&gt;{const n=e.value.å½“å‰æ¿€æ´»å­˜æ¡£;return n&amp;&amp;e.value.è§’è‰²åˆ—è¡¨[n.è§’è‰²ID]||null}),v=(0,a.computed)(()=&gt;{const n=e.value.å½“å‰æ¿€æ´»å­˜æ¡£,t=p.value;return n&amp;&amp;t?"å•æœº"===t.æ¨¡å¼&amp;&amp;t.å­˜æ¡£åˆ—è¡¨?t.å­˜æ¡£åˆ—è¡¨[n.å­˜æ¡£æ§½ä½]||null:"è”æœº"===t.æ¨¡å¼&amp;&amp;t.å­˜æ¡£?t.å­˜æ¡£:null:null}),b=(0,a.computed)(()=&gt;{const e=p.value;return e?"å•æœº"===e.æ¨¡å¼&amp;&amp;e.å­˜æ¡£åˆ—è¡¨?Object.entries(e.å­˜æ¡£åˆ—è¡¨).map(([n,t])=&gt;({...t,id:n,è§’è‰²åå­—:e.è§’è‰²åŸºç¡€ä¿¡æ¯.åå­—,å¢ƒç•Œ:t.å­˜æ¡£æ•°æ®?.ç©å®¶è§’è‰²çŠ¶æ€?.å¢ƒç•Œ?.åç§°||"å‡¡äºº",ä½ç½®:t.å­˜æ¡£æ•°æ®?.ç©å®¶è§’è‰²çŠ¶æ€?.ä½ç½®?.æè¿°||"åˆå§‹åœ°",æ¸¸æˆæ—¶é•¿:0,æœ€åä¿å­˜æ—¶é—´:t.æœ€åä¿å­˜æ—¶é—´||t.ä¿å­˜æ—¶é—´})):"è”æœº"===e.æ¨¡å¼&amp;&amp;e.å­˜æ¡£?[{...e.å­˜æ¡£,id:"online_save",è§’è‰²åå­—:e.è§’è‰²åŸºç¡€ä¿¡æ¯.åå­—,å¢ƒç•Œ:e.å­˜æ¡£.å­˜æ¡£æ•°æ®?.ç©å®¶è§’è‰²çŠ¶æ€?.å¢ƒç•Œ?.åç§°||"å‡¡äºº",ä½ç½®:e.å­˜æ¡£.å­˜æ¡£æ•°æ®?.ç©å®¶è§’è‰²çŠ¶æ€?.ä½ç½®?.æè¿°||"åˆå§‹åœ°",æ¸¸æˆæ—¶é•¿:0,æœ€åä¿å­˜æ—¶é—´:e.å­˜æ¡£.æœ€åä¿å­˜æ—¶é—´||e.å­˜æ¡£.ä¿å­˜æ—¶é—´}]:[]:[]}),h=async()=&gt;{try{await g(e.value),e.value={...e.value}}catch(e){throw i.Yz.error("è§’è‰²å•†åº—","æŒä¹…åŒ–åˆ°IndexedDBå¤±è´¥",e),e}},y=async n=&gt;{const t=e.value.å½“å‰æ¿€æ´»å­˜æ¡£,o=p.value,r=v.value;if(t&amp;&amp;o&amp;&amp;r?.å­˜æ¡£æ•°æ®)try{try{const e=(0,A.updateLifespanFromGameTime)(r.å­˜æ¡£æ•°æ®);if(i.Yz.log("è§’è‰²å•†åº—",`[åŒæ­¥] è‡ªåŠ¨æ›´æ–°ç©å®¶å¹´é¾„: ${e}å²`),r.å­˜æ¡£æ•°æ®?.äººç‰©å…³ç³»&amp;&amp;r.å­˜æ¡£æ•°æ®.æ¸¸æˆæ—¶é—´){let e=0;Object.entries(r.å­˜æ¡£æ•°æ®.äººç‰©å…³ç³»).forEach(([n,t])=&gt;{if(t&amp;&amp;"object"==typeof t)if(t.åå­—)try{r.å­˜æ¡£æ•°æ®&amp;&amp;((0,A.updateNpcLifespanFromGameTime)(t,r.å­˜æ¡£æ•°æ®.æ¸¸æˆæ—¶é—´),e++)}catch(e){i.Yz.warn("è§’è‰²å•†åº—",`[åŒæ­¥] æ›´æ–°NPC ${t.åå­—} å¹´é¾„å¤±è´¥:`,e)}else i.Yz.warn("è§’è‰²å•†åº—",`[åŒæ­¥] è·³è¿‡ç¼ºå°‘åå­—çš„NPC: ${n}`);else i.Yz.warn("è§’è‰²å•†åº—",`[åŒæ­¥] è·³è¿‡æ— æ•ˆçš„NPCæ•°æ®: ${n}`)}),i.Yz.log("è§’è‰²å•†åº—",`[åŒæ­¥] è‡ªåŠ¨æ›´æ–°${e}ä¸ªNPCå¹´é¾„`)}}catch(e){i.Yz.warn("è§’è‰²å•†åº—","[åŒæ­¥] è‡ªåŠ¨æ›´æ–°å¹´é¾„å¤±è´¥ï¼ˆéè‡´å‘½ï¼‰:",e)}const l=(0,f.getTavernHelper)();if(l)try{const e=n?.fullSync??!1,t=n?.changedPaths;if(e||!t||0===t.length){const e=(0,I.shardSaveData)(r.å­˜æ¡£æ•°æ®);await(0,I.saveAllShards)(e,l),i.Yz.log("è§’è‰²å•†åº—","[åŒæ­¥] âœ… å·²å°†å®Œæ•´å­˜æ¡£ä»¥åˆ†ç‰‡æ¨¡å¼åŒæ­¥åˆ°é…’é¦†")}else{const e={},n=new Set;for(const e of t){const t=(0,I.Oq)(e);t?n.add(t.shardKey):i.Yz.warn("è§’è‰²å•†åº—",`æ— æ³•æ˜ å°„è·¯å¾„åˆ°åˆ†ç‰‡: ${e}`)}for(const t of n){const n=(0,I.C4)(r.å­˜æ¡£æ•°æ®,t);null!=n&amp;&amp;(e[t]=n)}Object.keys(e).length&gt;0&amp;&amp;(await(0,I.xG)(e,l),i.Yz.log("è§’è‰²å•†åº—",`[åŒæ­¥] âœ… å·²å¢é‡åŒæ­¥ ${Object.keys(e).length} ä¸ªåˆ†ç‰‡`))}}catch(e){throw i.Yz.error("è§’è‰²å•†åº—","[åŒæ­¥] åŒæ­¥å¤±è´¥:",e),new Error(`åŒæ­¥é…’é¦†å¤±è´¥: ${e instanceof Error?e.message:String(e)}`)}else i.Yz.warn("è§’è‰²å•†åº—","[åŒæ­¥] helper ä¸ºç©ºï¼Œæ— æ³•åŒæ­¥åˆ°é…’é¦†");r.æœ€åä¿å­˜æ—¶é—´=(new Date).toISOString(),r.è§’è‰²åå­—=r.å­˜æ¡£æ•°æ®.è§’è‰²åŸºç¡€ä¿¡æ¯?.åå­—;const c=r.å­˜æ¡£æ•°æ®.ç©å®¶è§’è‰²çŠ¶æ€;if(c&amp;&amp;(r.å¢ƒç•Œ=c.å¢ƒç•Œ?.åç§°||"å‡¡äºº",r.ä½ç½®=c.ä½ç½®?.æè¿°||"æœªçŸ¥","object"==typeof c.å¢ƒç•Œ&amp;&amp;null!==c.å¢ƒç•Œ)){const e=c.å¢ƒç•Œ;e.ä¸‹ä¸€çº§æ‰€éœ€&gt;0&amp;&amp;(r.ä¿®ä¸ºè¿›åº¦=Math.floor(e.å½“å‰è¿›åº¦/e.ä¸‹ä¸€çº§æ‰€éœ€*100))}if(r.å­˜æ¡£æ•°æ®.æ¸¸æˆæ—¶é—´){const e=r.å­˜æ¡£æ•°æ®.æ¸¸æˆæ—¶é—´;r.æ¸¸æˆå†…æ—¶é—´=`${e.å¹´}å¹´${e.æœˆ}æœˆ${e.æ—¥}æ—¥`}"å•æœº"===o.æ¨¡å¼&amp;&amp;o.å­˜æ¡£åˆ—è¡¨?e.value.è§’è‰²åˆ—è¡¨[t.è§’è‰²ID].å­˜æ¡£åˆ—è¡¨={...o.å­˜æ¡£åˆ—è¡¨,[t.å­˜æ¡£æ§½ä½]:{...r}}:"è”æœº"===o.æ¨¡å¼&amp;&amp;(e.value.è§’è‰²åˆ—è¡¨[t.è§’è‰²ID].å­˜æ¡£={...r}),(0,a.triggerRef)(e),await h(),i.Yz.log("è§’è‰²å•†åº—","[åŒæ­¥] æ•°æ®å·²åŒæ­¥åˆ°é…’é¦†å¹¶ä¿å­˜åˆ°æœ¬åœ°ï¼Œå…ƒæ•°æ®å·²æ›´æ–°")}catch(e){throw i.Yz.error("è§’è‰²å•†åº—","[åŒæ­¥] åŒæ­¥åˆ°é…’é¦†å¹¶ä¿å­˜å¤±è´¥",e),e}else i.Yz.warn("è§’è‰²å•†åº—","[åŒæ­¥] æ²¡æœ‰æ¿€æ´»çš„å­˜æ¡£æ•°æ®")},k=async()=&gt;{e.value=await u(),i.Yz.log("è§’è‰²å•†åº—","å·²ä»ä¹¾å¤å®åº“é‡æ–°åŒæ­¥æ‰€æœ‰æ•°æ®")},w=async()=&gt;(i.Yz.log("è§’è‰²å•†åº—","syncRootStateToCloud called. (Placeholder - no backend implementation yet)"),Promise.resolve()),N=async(n,t)=&gt;{i.Yz.log("è§’è‰²å•†åº—",`å¼€å§‹åŠ è½½æ¸¸æˆï¼Œè§’è‰²ID: ${n}, å­˜æ¡£æ§½: ${t}`);const a=(0,c.useUIStore)(),o=e.value.è§’è‰²åˆ—è¡¨[n];if(!o)return i.Yz.error("è§’è‰²å•†åº—","æ‰¾ä¸åˆ°è¦åŠ è½½çš„è§’è‰²",n),l.o.error("æ‰¾ä¸åˆ°è¦åŠ è½½çš„è§’è‰²ï¼"),!1;let r;if(r="å•æœº"===o.æ¨¡å¼?o.å­˜æ¡£åˆ—è¡¨?.[t]:o.å­˜æ¡£,!r)return i.Yz.error("è§’è‰²å•†åº—","æ‰¾ä¸åˆ°æŒ‡å®šçš„å­˜æ¡£æ§½ä½",t),l.o.error("æ‰¾ä¸åˆ°æŒ‡å®šçš„å­˜æ¡£æ§½ä½ï¼"),!1;if(r.å­˜æ¡£æ•°æ®){const e=(0,x.zB)(r.å­˜æ¡£æ•°æ®,o);if(!e.isValid)return i.Yz.error("è§’è‰²å•†åº—","å­˜æ¡£æ•°æ®éªŒè¯å¤±è´¥",e.errors),a.showDataValidationErrorDialog(e.errors,()=&gt;{C(n,t)},"loading"),!1}try{return a.startLoading("å¼€å§‹åŠ è½½å­˜æ¡£..."),await(0,f.c$)(),a.updateLoadingText("å¤©æœºé‡ç½®å®Œæ¯•ï¼Œæ­£åœ¨åŠ è½½å­˜æ¡£..."),i.Yz.log("è§’è‰²å•†åº—","è®¾ç½®å½“å‰æ¿€æ´»å­˜æ¡£"),e.value.å½“å‰æ¿€æ´»å­˜æ¡£={è§’è‰²ID:n,å­˜æ¡£æ§½ä½:t},await h(),i.Yz.log("è§’è‰²å•†åº—","åŒæ­¥è§’è‰²æ¡£æ¡ˆåˆ°é…’é¦†"),await E(n),i.Yz.log("è§’è‰²å•†åº—","åŠ è½½å®Œæˆ"),l.o.success(`å·²æˆåŠŸåŠ è½½ã€${o.è§’è‰²åŸºç¡€ä¿¡æ¯.åå­—}ã€‘çš„å­˜æ¡£: ${r.å­˜æ¡£å||t}`),!0}catch(e){i.Yz.error("è§’è‰²å•†åº—","åŠ è½½è¿‡ç¨‹å‡ºé”™",e);const n=e instanceof Error?e.message:"æœªçŸ¥é”™è¯¯";return l.o.error(`å­˜æ¡£åŠ è½½å¤±è´¥ï¼š${n}`),!1}finally{a.stopLoading()}},E=async n=&gt;{const t=e.value.è§’è‰²åˆ—è¡¨[n];if(!t)throw new Error(`[å­˜æ¡£æ ¸å¿ƒ] æ— æ³•æ‰¾åˆ°IDä¸º ${n} çš„è§’è‰²æ¡£æ¡ˆ`);const a=v.value;if(a&amp;&amp;a.å­˜æ¡£æ•°æ®)try{const e=(0,f.getTavernHelper)();if(!e)throw new Error("[å­˜æ¡£æ ¸å¿ƒ] é…’é¦†è¿æ¥å°šæœªå»ºç«‹ï¼");i.Yz.log("è§’è‰²å•†åº—","ä½¿ç”¨åˆ†ç‰‡å­˜å‚¨æ¨¡å¼åŒæ­¥å­˜æ¡£åˆ°é…’é¦†"),await(0,I.clearAllShards)(e);const n=(0,I.shardSaveData)(a.å­˜æ¡£æ•°æ®);await(0,I.saveAllShards)(n,e),i.Yz.log("è§’è‰²å•†åº—",`âœ… å·²å°†ã€${t.è§’è‰²åŸºç¡€ä¿¡æ¯.åå­—}ã€‘çš„å­˜æ¡£ä»¥åˆ†ç‰‡æ¨¡å¼åŒæ­¥è‡³é…’é¦†`)}catch(e){throw i.Yz.error("è§’è‰²å•†åº—","åŒæ­¥è§’è‰²æ¡£æ¡ˆè‡³é…’é¦†å¤±è´¥",e),l.o.error("åŒæ­¥è§’è‰²æ¡£æ¡ˆè‡³é…’é¦†å¤±è´¥ï¼Œè¯·æ£€æŸ¥æ§åˆ¶å°ã€‚"),e}else i.Yz.warn("è§’è‰²å•†åº—",`è§’è‰² ${n} æ²¡æœ‰å¯ç”¨çš„å­˜æ¡£æ•°æ®æ¥åŒæ­¥åˆ°é…’é¦†`)},V=async(n,t)=&gt;{const a=e.value.è§’è‰²åˆ—è¡¨[n];if(!a||"å•æœº"!==a.æ¨¡å¼||!a.å­˜æ¡£åˆ—è¡¨)return void l.o.error("æ— æ³•åˆ é™¤å­˜æ¡£ï¼šè§’è‰²ä¸å­˜åœ¨æˆ–éå•æœºæ¨¡å¼");if(Object.values(a.å­˜æ¡£åˆ—è¡¨).filter(e=&gt;e&amp;&amp;"ä¸Šæ¬¡å¯¹è¯"!==e.å­˜æ¡£å&amp;&amp;e.å­˜æ¡£æ•°æ®).length&lt;=1)return void l.o.error("æœ€åä¸€ä¸ªå­˜æ¡£ä¸èƒ½åˆ é™¤");const o=a.å­˜æ¡£åˆ—è¡¨?.[t]?.å­˜æ¡£å||t;if(!a.å­˜æ¡£åˆ—è¡¨?.[t])return void l.o.error(`å­˜æ¡£ã€${o}ã€‘ä¸å­˜åœ¨`);const r=e.value.å½“å‰æ¿€æ´»å­˜æ¡£;if(r?.è§’è‰²ID===n&amp;&amp;r?.å­˜æ¡£æ§½ä½===t){try{await(0,f.c$)(),l.o.info("å½“å‰å­˜æ¡£å·²æ¿€æ´»ï¼ŒåŒæ­¥æ¸…ç†é…’é¦†ç¯å¢ƒå˜é‡ã€‚")}catch(e){i.Yz.error("è§’è‰²å•†åº—","åˆ é™¤æ¿€æ´»å­˜æ¡£æ—¶æ¸…ç†é…’é¦†æ•°æ®å¤±è´¥",e),l.o.error("æ¸…ç†é…’é¦†ç¯å¢ƒå˜é‡å¤±è´¥ï¼Œå»ºè®®åˆ·æ–°é¡µé¢ã€‚")}e.value.å½“å‰æ¿€æ´»å­˜æ¡£=null}delete a.å­˜æ¡£åˆ—è¡¨[t],await h();try{await w(),i.Yz.log("è§’è‰²å•†åº—","åˆ é™¤å­˜æ¡£åå·²åŒæ­¥åˆ°äº‘ç«¯")}catch(e){i.Yz.error("è§’è‰²å•†åº—","åˆ é™¤å­˜æ¡£ååŒæ­¥äº‘ç«¯å¤±è´¥",e)}l.o.success(`å­˜æ¡£ã€${o}ã€‘å·²åˆ é™¤`)},C=async(n,t)=&gt;{const a=(0,c.useUIStore)(),o=e.value.è§’è‰²åˆ—è¡¨[n];if(!o)return void l.o.error("ä¿®å¤å¤±è´¥ï¼šæ‰¾ä¸åˆ°è§’è‰²");let r;if(r="å•æœº"===o.æ¨¡å¼?o.å­˜æ¡£åˆ—è¡¨?.[t]:o.å­˜æ¡£,r&amp;&amp;r.å­˜æ¡£æ•°æ®)try{a.startLoading("AIæ­£åœ¨åˆ†æå­˜æ¡£ç»“æ„ï¼Œè¯·ç¨å€™...");const e=(s=r.å­˜æ¡£æ•°æ®,`\n# ä»»åŠ¡ï¼šä¿®å¤æ¸¸æˆæ•°æ®\n\nä½ éœ€è¦ä¿®å¤ä»¥ä¸‹æŸåçš„æ¸¸æˆæ•°æ®ï¼Œä½¿å…¶ç¬¦åˆç±»å‹å®šä¹‰è¦æ±‚ã€‚\n\n## ç±»å‹å®šä¹‰\n${JSON.stringify({},null,2)}\n\n## æŸåçš„æ•°æ®\n${JSON.stringify(s,null,2)}\n\n## ä¿®å¤è¦æ±‚\n1. è¡¥å…¨ç¼ºå¤±çš„å¿…å¡«å­—æ®µ\n2. ä¿®æ­£é”™è¯¯çš„æ•°æ®ç±»å‹\n3. å¡«å……åˆç†çš„é»˜è®¤å€¼\n4. ä¿æŒç°æœ‰æ­£ç¡®æ•°æ®ä¸å˜\n\n## è¾“å‡ºæ ¼å¼\nè¿”å›ä¿®å¤åçš„å®Œæ•´JSONå¯¹è±¡ã€‚\n`.trim()),c=(0,f.getTavernHelper)();if(!c)throw new Error("é…’é¦†è¿æ¥ä¸å¯ç”¨");a.updateLoadingText("å¤©é“æ­£åœ¨æ¨æ¼”ä¿®å¤æ–¹æ¡ˆ...");const d=await c.generate({user_input:e,overrides:{temperature:.7,max_context_length:8e3,max_length:2048}});if(!d)throw new Error("AIæœªèƒ½ç”Ÿæˆä¿®å¤æŒ‡ä»¤");let m=[];try{const e=d.replace(/```json/g,"").replace(/```/g,"").trim(),n=JSON.parse(e);if(!n.tavern_commands||!Array.isArray(n.tavern_commands))throw new Error("AIå“åº”ä¸­ç¼ºå°‘æœ‰æ•ˆçš„ tavern_commands æ•°ç»„");m=n.tavern_commands}catch(e){throw i.Yz.error("è§’è‰²å•†åº—","è§£æAIä¿®å¤æŒ‡ä»¤å¤±è´¥",{error:e,response:d}),new Error("è§£æAIä¿®å¤æŒ‡ä»¤å¤±è´¥")}if(0===m.length)return l.o.info("AIåˆ†æè®¤ä¸ºå½“å‰å­˜æ¡£æ— éœ€ä¿®å¤ã€‚"),void await N(n,t);a.updateLoadingText(`AIå·²ç”Ÿæˆ ${m.length} æ¡ä¿®å¤æŒ‡ä»¤ï¼Œæ­£åœ¨åº”ç”¨...`);const p=await(async(e,n,t)=&gt;{const a=[],o=(e,n,t)=&gt;{const a=n.split(".");let o=e;for(let e=0;e<a.length-1;e++)void 0!="=o[a[e]]&amp;&amp;&quot;object&quot;==typeof" o[a[e]]||(o[a[e]]="{}),o=o[a[e]];o[a[a.length-1]]=t};for(const" r="" of="" t)try{const{action:t,key:l,value:c}="r;if(!t||!l){a.push(`æ— æ•ˆæŒ‡ä»¤:" ${json.stringify(r)}`);continue}let="" s,d;l.startswith("character.profile.")?(s="n,d=l.substring(18)):(s=e,d=l),&quot;set&quot;===t?(o(s,d,c),i.Yz.log(&quot;AIä¿®å¤&quot;,`æ‰§è¡Œ" set:="" ${l}="`,c)):i.Yz.warn(&quot;AIä¿®å¤&quot;,`æš‚ä¸æ”¯æŒçš„æŒ‡ä»¤" action:="" ${t}`)}catch(e){a.push(`æ‰§è¡ŒæŒ‡ä»¤å¤±è´¥:="" ${json.stringify(r)}`),i.yz.error("aiä¿®å¤","æ‰§è¡ŒæŒ‡ä»¤æ—¶å‡ºé”™",e)}return="" a})(r.å­˜æ¡£æ•°æ®,o,m);p.length="">0&amp;&amp;(i.Yz.error("è§’è‰²å•†åº—","æ‰§è¡ŒAIä¿®å¤æŒ‡ä»¤æ—¶å‡ºé”™",p),l.o.error(`éƒ¨åˆ†ä¿®å¤æŒ‡ä»¤æ‰§è¡Œå¤±è´¥: ${p.join(", ")}`)),r.æœ€åä¿å­˜æ—¶é—´=(new Date).toISOString(),await h(),l.o.success("AIå·²å®Œæˆå­˜æ¡£ä¿®å¤ï¼æ­£åœ¨é‡æ–°åŠ è½½æ¸¸æˆ..."),await new Promise(e=&gt;setTimeout(e,500)),await N(n,t)}catch(e){i.Yz.error("è§’è‰²å•†åº—","AIä¿®å¤å­˜æ¡£å¤±è´¥",e),l.o.error(`å­˜æ¡£ä¿®å¤å¤±è´¥: ${e instanceof Error?e.message:"æœªçŸ¥é”™è¯¯"}`)}finally{a.stopLoading()}else l.o.error("ä¿®å¤å¤±è´¥ï¼šæ‰¾ä¸åˆ°å­˜æ¡£æ•°æ®");var s};return{rootState:e,initialized:o,allCharacterProfiles:m,activeCharacterProfile:p,activeSaveSlot:v,saveSlots:b,initializeStore:d,reloadFromStorage:k,createNewCharacter:async n=&gt;{const t=(0,c.useUIStore)(),a=(0,s.N)(),{charId:o,baseInfo:r,world:d,mode:m,age:p}=n;if(e.value.è§’è‰²åˆ—è¡¨[o])return void l.o.error(`è§’è‰²ID ${o} å·²å­˜åœ¨ï¼Œåˆ›å»ºå¤±è´¥ï¼`);const v={...r,ä¸–ç•Œ:a.selectedWorld?.name||r.ä¸–ç•Œ,å¤©èµ„:a.selectedTalentTier?.name||r.å¤©èµ„,å‡ºç”Ÿ:a.selectedOrigin?.name||"éšæœºå‡ºèº«",çµæ ¹:a.selectedSpiritRoot?{åç§°:a.selectedSpiritRoot.name,å“çº§:a.selectedSpiritRoot.tier,æè¿°:a.selectedSpiritRoot.description}:"éšæœºçµæ ¹",å¤©èµ‹:a.selectedTalents.map(e=&gt;({åç§°:e.name,æè¿°:e.description})),åå¤©å…­å¸:r.åå¤©å…­å¸||{æ ¹éª¨:0,çµæ€§:0,æ‚Ÿæ€§:0,æ°”è¿:0,é­…åŠ›:0,å¿ƒæ€§:0}};i.Yz.log("è§’è‰²å•†åº—","æ„å»ºæƒå¨åˆ›è§’ä¿¡æ¯:",v);try{if(t.updateLoadingText("å³å°†å¼€å§‹è§’è‰²åˆ›å»º..."),await(0,f.c$)(),"è”æœº"===m)try{t.updateLoadingText("æ­£åœ¨å‘äº‘ç«¯æäº¤è§’è‰²ä¿¡æ¯...");const e={char_id:o,base_info:v};i.Yz.log("è§’è‰²å•†åº—","å‘åç«¯æäº¤çš„æ•°æ®",e);const n=await(0,D.OW)(e);i.Yz.log("è§’è‰²å•†åº—","åç«¯è¿”å›ç»“æœ",n),t.updateLoadingText("è§’è‰²ä¿¡æ¯å·²æˆåŠŸæäº¤è‡³äº‘ç«¯ï¼")}catch(e){i.Yz.error("è§’è‰²å•†åº—","å‘åç«¯æäº¤å¤±è´¥",e),l.o.warning("å‘äº‘ç«¯æäº¤è§’è‰²ä¿¡æ¯å¤±è´¥ï¼Œå°†ç»§ç»­æœ¬åœ°åˆ›å»ºæµç¨‹")}console.log("[è§’è‰²å•†åº—] å‡†å¤‡è°ƒç”¨initializeCharacter...");let n,a=null;try{console.log("[è§’è‰²å•†åº—] è°ƒç”¨initializeCharacter,å‚æ•°:",{charId:o,baseInfo:v,world:d.name,age:p}),a=await B(0,v,d,p),console.log("[è§’è‰²å•†åº—] âœ… initializeCharacterè¿”å›æˆåŠŸ,æ•°æ®æœ‰æ•ˆ:",!!a)}catch(e){if(console.error("[è§’è‰²å•†åº—] âŒ initializeCharacterå¤±è´¥:",e),"å•æœº"!==m)throw e;console.log("[è§’è‰²å•†åº—] å•æœºæ¨¡å¼,å°è¯•ç¦»çº¿åˆå§‹åŒ–..."),a=await async function(e,n,t,a){console.log("[ç¦»çº¿åˆå§‹åŒ–] å¼€å§‹æ‰§è¡Œæœ¬åœ°è§’è‰²åˆ›å»º..."),n.åå¤©å…­å¸||(n.åå¤©å…­å¸={æ ¹éª¨:0,çµæ€§:0,æ‚Ÿæ€§:0,æ°”è¿:0,é­…åŠ›:0,å¿ƒæ€§:0},console.log("[ç¦»çº¿åˆå§‹åŒ–] åˆå§‹åŒ–åå¤©å…­å¸ä¸ºå…¨0"));const o=S(n,a);o.ä½ç½®={æè¿°:"ä¸´æ—¶ä½ç½®ï¼ˆç­‰å¾…AIåˆå§‹åŒ–ï¼‰",x:115,y:35},o.ç³»ç»Ÿä»»åŠ¡={é…ç½®:{å¯ç”¨:!1,ä»»åŠ¡ç±»å‹:"all",é¢å‘æ•°é‡:3},è¿›è¡Œä¸­ä»»åŠ¡:[],å·²å®Œæˆä»»åŠ¡åç§°:[]};const r={è§’è‰²åŸºç¡€ä¿¡æ¯:n,ç©å®¶è§’è‰²çŠ¶æ€:o,è£…å¤‡æ :{è£…å¤‡1:null,è£…å¤‡2:null,è£…å¤‡3:null,è£…å¤‡4:null,è£…å¤‡5:null,è£…å¤‡6:null},ä¸‰åƒå¤§é“:{å¤§é“åˆ—è¡¨:{}},èƒŒåŒ…:{çµçŸ³:{ä¸‹å“:10,ä¸­å“:0,ä¸Šå“:0,æå“:0},ç‰©å“:{consumable_xinshou_danyao_01:{ç‰©å“ID:"consumable_xinshou_danyao_01",åç§°:"æ–°æ‰‹ä¸¹è¯",ç±»å‹:"å…¶ä»–",æ•°é‡:3,å“è´¨:{quality:"å‡¡",grade:1},æè¿°:"ä¸€é¢—æ™®é€šçš„ä¸¹è¯ï¼Œèƒ½æ¢å¤å°‘é‡æ°”è¡€ã€‚"},equipment_cubuyi_01:{ç‰©å“ID:"equipment_cubuyi_01",åç§°:"ç²—å¸ƒè¡£",ç±»å‹:"è£…å¤‡",æ•°é‡:1,å“è´¨:{quality:"å‡¡",grade:1},æè¿°:"ä¸€ä»¶æœ´ç´ çš„ç²—å¸ƒè¡£æœï¼Œèƒ½æä¾›å¾®ä¸è¶³é“çš„é˜²å¾¡ã€‚"}}},äººç‰©å…³ç³»:{},å®—é—¨ç³»ç»Ÿ:{availableSects:[],sectRelationships:{},sectHistory:[]},è®°å¿†:{çŸ­æœŸè®°å¿†:[],ä¸­æœŸè®°å¿†:[],é•¿æœŸè®°å¿†:[]},æ¸¸æˆæ—¶é—´:{å¹´:1,æœˆ:1,æ—¥:1,å°æ—¶:8,åˆ†é’Ÿ:0},ä¿®ç‚¼åŠŸæ³•:null,æŒæ¡æŠ€èƒ½:[],ç³»ç»Ÿ:{åˆå§‹å¹´é¾„:a,å¼€å±€æ—¶é—´:{å¹´:1,æœˆ:1,æ—¥:1,å°æ—¶:8,åˆ†é’Ÿ:0},è§„åˆ™:{å±æ€§ä¸Šé™:{å…ˆå¤©å…­å¸:{æ¯é¡¹ä¸Šé™:10}}},æç¤º:["ç³»ç»Ÿè§„åˆ™ï¼šå…ˆå¤©å…­å¸æ¯é¡¹ä¸Šé™ä¸º10ï¼ˆNPCåŒæ ·é€‚ç”¨ï¼‰ï¼Œå¦‚è¶…é™éœ€è£å‰ªè‡³ä¸Šé™ã€‚","ç³»ç»Ÿä¼šæ ¹æ®æ¸¸æˆæ—¶é—´è‡ªåŠ¨è®¡ç®—å½“å‰å¹´é¾„ï¼Œæ— éœ€æ‰‹åŠ¨æ›´æ–°å¯¿å‘½.å½“å‰å­—æ®µã€‚"]},ä¸–ç•Œä¿¡æ¯:{ä¸–ç•Œåç§°:t.name,å¤§é™†ä¿¡æ¯:[],åŠ¿åŠ›ä¿¡æ¯:[],åœ°ç‚¹ä¿¡æ¯:[],ç”Ÿæˆæ—¶é—´:(new Date).toISOString(),ä¸–ç•ŒèƒŒæ™¯:t.description,ä¸–ç•Œçºªå…ƒ:t.era||"æœªçŸ¥çºªå…ƒ",ç‰¹æ®Šè®¾å®š:[],ç‰ˆæœ¬:"offline-1.1"}};return console.log("[ç¦»çº¿åˆå§‹åŒ–] æœ¬åœ°è§’è‰²åˆ›å»ºå®Œæˆ:",r),r}(0,v,d,p)}if("å•æœº"===m){const e=(new Date).toISOString();n={æ¨¡å¼:"å•æœº",è§’è‰²åŸºç¡€ä¿¡æ¯:a.è§’è‰²åŸºç¡€ä¿¡æ¯||v,å­˜æ¡£åˆ—è¡¨:{å­˜æ¡£1:{å­˜æ¡£å:"å­˜æ¡£1",ä¿å­˜æ—¶é—´:e,æœ€åä¿å­˜æ—¶é—´:e,æ¸¸æˆå†…æ—¶é—´:"ä¿®ä»™å…ƒå¹´ æ˜¥",è§’è‰²åå­—:v.åå­—,å¢ƒç•Œ:"å‡¡äºº",ä½ç½®:"æœªçŸ¥",ä¿®ä¸ºè¿›åº¦:0,å­˜æ¡£æ•°æ®:a},ä¸Šæ¬¡å¯¹è¯:{å­˜æ¡£å:"ä¸Šæ¬¡å¯¹è¯",ä¿å­˜æ—¶é—´:null,æœ€åä¿å­˜æ—¶é—´:null,å­˜æ¡£æ•°æ®:null}}}}else n={æ¨¡å¼:"è”æœº",è§’è‰²åŸºç¡€ä¿¡æ¯:a.è§’è‰²åŸºç¡€ä¿¡æ¯||v,å­˜æ¡£:{å­˜æ¡£å:"äº‘ç«¯ä¿®è¡Œ",ä¿å­˜æ—¶é—´:(new Date).toISOString(),æ¸¸æˆå†…æ—¶é—´:"ä¿®ä»™å…ƒå¹´ æ˜¥",å­˜æ¡£æ•°æ®:a,äº‘ç«¯åŒæ­¥ä¿¡æ¯:{æœ€ååŒæ­¥:(new Date).toISOString(),ç‰ˆæœ¬:1,éœ€è¦åŒæ­¥:!1}}};e.value.è§’è‰²åˆ—è¡¨[o]=n;const r="å•æœº"===m?"å­˜æ¡£1":"å­˜æ¡£";if(e.value.å½“å‰æ¿€æ´»å­˜æ¡£={è§’è‰²ID:o,å­˜æ¡£æ§½ä½:r},await h(),t.updateLoadingText("æ­£åœ¨å°†è§’è‰²æ¡£æ¡ˆåŒæ­¥è‡³é…’é¦†..."),await E(o),"è”æœº"===m)try{t.updateLoadingText("æ­£åœ¨åŒæ­¥å®Œæ•´å­˜æ¡£åˆ°äº‘ç«¯...");const e={save_data:a,world_map:{},game_time:"ä¿®ä»™å…ƒå¹´ æ˜¥"};i.Yz.log("è§’è‰²å•†åº—","å‡†å¤‡åŒæ­¥åˆ°äº‘ç«¯çš„å­˜æ¡£æ•°æ®",e),await(0,D.Sj)(o,e),t.updateLoadingText("å®Œæ•´å­˜æ¡£å·²æˆåŠŸåŒæ­¥åˆ°äº‘ç«¯ï¼")}catch(e){i.Yz.warn("è§’è‰²å•†åº—","åŒæ­¥å­˜æ¡£æ•°æ®åˆ°äº‘ç«¯å¤±è´¥",e);const n=e instanceof Error?e.message:"æœªçŸ¥é”™è¯¯";l.o.warning(`å­˜æ¡£åŒæ­¥å¤±è´¥: ${n}`)}return v}catch(e){i.Yz.error("è§’è‰²å•†åº—","è§’è‰²åˆ›å»ºå¤±è´¥",e);const n=e instanceof Error?e.message:String(e);throw new Error(`è§’è‰²åˆ›å»ºå¤±è´¥: ${n}`)}},deleteCharacter:async n=&gt;{if(!e.value.è§’è‰²åˆ—è¡¨[n])return;const t=e.value.è§’è‰²åˆ—è¡¨[n]?.è§’è‰²åŸºç¡€ä¿¡æ¯.åå­—||n;if(e.value.å½“å‰æ¿€æ´»å­˜æ¡£?.è§’è‰²ID===n){try{await(0,f.c$)(),l.o.info("å·²åŒæ­¥æ¸…ç†é…’é¦†ç¯å¢ƒå˜é‡ã€‚")}catch(e){i.Yz.error("è§’è‰²å•†åº—","åˆ é™¤è§’è‰²æ—¶æ¸…ç†é…’é¦†æ•°æ®å¤±è´¥",e),l.o.error("æ¸…ç†é…’é¦†ç¯å¢ƒå˜é‡å¤±è´¥ï¼Œå»ºè®®åˆ·æ–°é¡µé¢ã€‚")}e.value.å½“å‰æ¿€æ´»å­˜æ¡£=null}delete e.value.è§’è‰²åˆ—è¡¨[n],await h();try{await w(),i.Yz.log("è§’è‰²å•†åº—","åˆ é™¤è§’è‰²åå·²åŒæ­¥åˆ°äº‘ç«¯")}catch(e){i.Yz.error("è§’è‰²å•†åº—","åˆ é™¤è§’è‰²ååŒæ­¥äº‘ç«¯å¤±è´¥",e)}l.o.success(`è§’è‰²ã€${t}ã€‘å·²å½»åº•åˆ é™¤ã€‚`)},deleteNpc:async n=&gt;{const t=e.value.å½“å‰æ¿€æ´»å­˜æ¡£,o=p.value,r=v.value;if(!t||!o||!r?.å­˜æ¡£æ•°æ®?.äººç‰©å…³ç³»)return void l.o.error("æ— æ³•åˆ é™¤NPCï¼šæ²¡æœ‰æ¿€æ´»çš„å­˜æ¡£æˆ–äººç‰©å…³ç³»æ•°æ®ã€‚");const c=Object.keys(r.å­˜æ¡£æ•°æ®.äººç‰©å…³ç³»).find(e=&gt;r.å­˜æ¡£æ•°æ®.äººç‰©å…³ç³»[e]?.åå­—===n);if(!c)return void l.o.error(`æ‰¾ä¸åˆ°åä¸º ${n} çš„NPCã€‚`);const s={...r.å­˜æ¡£æ•°æ®.äººç‰©å…³ç³»[c]};try{delete r.å­˜æ¡£æ•°æ®.äººç‰©å…³ç³»[c],i.Yz.log("è§’è‰²å•†åº—",`å·²ä»å­˜æ¡£æ•°æ®ä¸­åˆ é™¤NPC: ${n} (key: ${c})`),r.å­˜æ¡£æ•°æ®.äººç‰©å…³ç³»={...r.å­˜æ¡£æ•°æ®.äººç‰©å…³ç³»},(0,a.triggerRef)(e),await y({fullSync:!0}),i.Yz.log("è§’è‰²å•†åº—",`âœ… NPC ${n} å·²æˆåŠŸåˆ é™¤å¹¶åŒæ­¥åˆ°é…’é¦†`),l.o.success(`NPCã€${n}ã€‘å·²æˆåŠŸåˆ é™¤ã€‚`)}catch(t){throw i.Yz.error("è§’è‰²å•†åº—",`åˆ é™¤NPC ${n} åä¿å­˜å¤±è´¥`,t),r.å­˜æ¡£æ•°æ®?.äººç‰©å…³ç³»&amp;&amp;(r.å­˜æ¡£æ•°æ®.äººç‰©å…³ç³»[c]=s,r.å­˜æ¡£æ•°æ®.äººç‰©å…³ç³»={...r.å­˜æ¡£æ•°æ®.äººç‰©å…³ç³»},(0,a.triggerRef)(e),i.Yz.log("è§’è‰²å•†åº—",`å·²å›æ»šNPCåˆ é™¤æ“ä½œ: ${n}`)),l.o.error(`åˆ é™¤NPCå¤±è´¥: ${t instanceof Error?t.message:"æœªçŸ¥é”™è¯¯"}`),t}},deleteSave:V,deleteSaveById:async n=&gt;{const t=e.value.å½“å‰æ¿€æ´»å­˜æ¡£?.è§’è‰²ID;if(t)return V(t,n);l.o.error("æ— æ³•ç¡®å®šè§’è‰²ID")},createNewSave:async(n,t)=&gt;{const a=e.value.è§’è‰²åˆ—è¡¨[n];a&amp;&amp;"å•æœº"===a.æ¨¡å¼?(a.å­˜æ¡£åˆ—è¡¨||(a.å­˜æ¡£åˆ—è¡¨={}),a.å­˜æ¡£åˆ—è¡¨[t]?l.o.error("å­˜æ¡£åç§°å·²å­˜åœ¨"):(a.å­˜æ¡£åˆ—è¡¨[t]={å­˜æ¡£å:t,ä¿å­˜æ—¶é—´:null,æœ€åä¿å­˜æ—¶é—´:null,å­˜æ¡£æ•°æ®:null},await h(),l.o.success(`å­˜æ¡£ã€${t}ã€‘å·²åˆ›å»º`))):l.o.error("æ— æ³•åˆ›å»ºå­˜æ¡£ï¼šè§’è‰²ä¸å­˜åœ¨æˆ–éå•æœºæ¨¡å¼")},saveAsNewSlot:async n=&gt;{const t=e.value.å½“å‰æ¿€æ´»å­˜æ¡£,a=p.value,o=v.value;if(!t||!a||!o?.å­˜æ¡£æ•°æ®)return l.o.error("æ²¡æœ‰æ¿€æ´»çš„æ¸¸æˆè¿›åº¦"),null;if("å•æœº"!==a.æ¨¡å¼)return l.o.error("è”æœºæ¨¡å¼ä¸æ”¯æŒå¤šå­˜æ¡£"),null;if(a.å­˜æ¡£åˆ—è¡¨||(a.å­˜æ¡£åˆ—è¡¨={}),a.å­˜æ¡£åˆ—è¡¨[n])return l.o.error("å­˜æ¡£åç§°å·²å­˜åœ¨"),null;try{const e=(new Date).toISOString(),t={å­˜æ¡£å:n,ä¿å­˜æ—¶é—´:e,æœ€åä¿å­˜æ—¶é—´:e,æ¸¸æˆå†…æ—¶é—´:o.æ¸¸æˆå†…æ—¶é—´,æ¸¸æˆæ—¶é•¿:o.æ¸¸æˆæ—¶é•¿,è§’è‰²åå­—:o.è§’è‰²åå­—,å¢ƒç•Œ:o.å¢ƒç•Œ,ä½ç½®:o.ä½ç½®,ä¿®ä¸ºè¿›åº¦:o.ä¿®ä¸ºè¿›åº¦,ä¸–ç•Œåœ°å›¾:o.ä¸–ç•Œåœ°å›¾,å­˜æ¡£æ•°æ®:JSON.parse(JSON.stringify(o.å­˜æ¡£æ•°æ®))};return a.å­˜æ¡£åˆ—è¡¨[n]=t,await h(),l.o.success(`å·²å¦å­˜ä¸ºæ–°å­˜æ¡£ï¼š${n}`),i.Yz.log("è§’è‰²å•†åº—",`å·²åˆ›å»ºæ–°å­˜æ¡£æ§½ä½: ${n}`),n}catch(e){return i.Yz.error("è§’è‰²å•†åº—","å¦å­˜ä¸ºæ–°å­˜æ¡£å¤±è´¥",e),l.o.error("å¦å­˜ä¸ºæ–°å­˜æ¡£å¤±è´¥"),null}},saveToSlot:async n=&gt;{const t=e.value.å½“å‰æ¿€æ´»å­˜æ¡£,a=p.value;if(!t||!a){const e=`æ²¡æœ‰æ¿€æ´»çš„è§’è‰²ï¼Œæ— æ³•ä¿å­˜åˆ° ${n}`;throw i.Yz.error("è§’è‰²å•†åº—",`[saveToSlot] ${e}`),console.error(`[saveToSlot] ${e}`,{active:t,profile:a}),new Error(e)}if("å•æœº"!==a.æ¨¡å¼){const e=`è”æœºæ¨¡å¼ä¸æ”¯æŒå¤šå­˜æ¡£ï¼Œæ— æ³•ä¿å­˜åˆ° ${n}`;throw i.Yz.warn("è§’è‰²å•†åº—",`[saveToSlot] ${e}`),console.warn(`[saveToSlot] ${e}`,{æ¨¡å¼:a.æ¨¡å¼}),new Error(e)}a.å­˜æ¡£åˆ—è¡¨||(a.å­˜æ¡£åˆ—è¡¨={});try{const e=(0,f.getTavernHelper)();if(!e)throw new Error("é…’é¦†è¿æ¥å°šæœªå»ºç«‹ï¼");const o=await(0,I.xc)(e),r=(0,I.assembleSaveData)(o);if(!r)throw new Error("æ— æ³•ä»é…’é¦†è·å–å½“å‰å­˜æ¡£æ•°æ®");try{(0,A.updateLifespanFromGameTime)(r),r.äººç‰©å…³ç³»&amp;&amp;r.æ¸¸æˆæ—¶é—´&amp;&amp;Object.values(r.äººç‰©å…³ç³»).forEach(e=&gt;{e&amp;&amp;"object"==typeof e&amp;&amp;(0,A.updateNpcLifespanFromGameTime)(e,r.æ¸¸æˆæ—¶é—´)})}catch(e){i.Yz.warn("è§’è‰²å•†åº—","[saveToSlot] è‡ªåŠ¨æ›´æ–°å¹´é¾„å¤±è´¥ï¼ˆéè‡´å‘½ï¼‰:",e)}const l=r.ç©å®¶è§’è‰²çŠ¶æ€,c=(new Date).toISOString(),s=a.å­˜æ¡£åˆ—è¡¨,d=s[n];console.log(`[saveToSlot] ä¿å­˜åˆ°æ§½ä½ "${n}"`,{è§’è‰²ID:t.è§’è‰²ID,è§’è‰²å:a.è§’è‰²åŸºç¡€ä¿¡æ¯?.åå­—,å½“å‰æ¿€æ´»æ§½ä½:t.å­˜æ¡£æ§½ä½,ç›®æ ‡æ§½ä½:n,è¯´æ˜:"ç‰¹æ®Šå­˜æ¡£ä¸å—å½“å‰æ¿€æ´»å­˜æ¡£å½±å“ï¼Œå§‹ç»ˆä¿å­˜åˆ°è§’è‰²çº§åˆ«"});const m={å­˜æ¡£å:n,ä¿å­˜æ—¶é—´:d?.ä¿å­˜æ—¶é—´||c,æœ€åä¿å­˜æ—¶é—´:c,å­˜æ¡£æ•°æ®:r,è§’è‰²åå­—:r.è§’è‰²åŸºç¡€ä¿¡æ¯?.åå­—,å¢ƒç•Œ:l?.å¢ƒç•Œ?.åç§°||"å‡¡äºº",ä½ç½®:l?.ä½ç½®?.æè¿°||"æœªçŸ¥",ä¿®ä¸ºè¿›åº¦:0,æ¸¸æˆå†…æ—¶é—´:void 0};if(l?.å¢ƒç•Œ&amp;&amp;l.å¢ƒç•Œ.ä¸‹ä¸€çº§æ‰€éœ€&gt;0&amp;&amp;(m.ä¿®ä¸ºè¿›åº¦=Math.floor(l.å¢ƒç•Œ.å½“å‰è¿›åº¦/l.å¢ƒç•Œ.ä¸‹ä¸€çº§æ‰€éœ€*100)),r.æ¸¸æˆæ—¶é—´){const e=r.æ¸¸æˆæ—¶é—´;m.æ¸¸æˆå†…æ—¶é—´=`${e.å¹´}å¹´${e.æœˆ}æœˆ${e.æ—¥}æ—¥`}s[n]=m,await h(),i.Yz.log("è§’è‰²å•†åº—",`âœ… å·²ä¿å­˜åˆ°å­˜æ¡£æ§½ä½: ${n}`)}catch(e){throw i.Yz.error("è§’è‰²å•†åº—",`ä¿å­˜åˆ°æ§½ä½ ${n} å¤±è´¥`,e),e}},renameSave:async(n,t,a)=&gt;{const o=e.value.è§’è‰²åˆ—è¡¨[n];if(!o||"å•æœº"!==o.æ¨¡å¼||!o.å­˜æ¡£åˆ—è¡¨)return void l.o.error("æ— æ³•é‡å‘½åå­˜æ¡£ï¼šè§’è‰²ä¸å­˜åœ¨æˆ–éå•æœºæ¨¡å¼");const r=o.å­˜æ¡£åˆ—è¡¨[t];if(!r)return void l.o.error("è¦é‡å‘½åçš„å­˜æ¡£ä¸å­˜åœ¨");if(a===t)return r.å­˜æ¡£å=a,await h(),void l.o.success("å­˜æ¡£åç§°å·²æ›´æ–°");if(o.å­˜æ¡£åˆ—è¡¨[a])return void l.o.error("æ–°å­˜æ¡£åç§°å·²å­˜åœ¨");o.å­˜æ¡£åˆ—è¡¨[a]={...r,å­˜æ¡£å:a};const i=e.value.å½“å‰æ¿€æ´»å­˜æ¡£;i?.è§’è‰²ID===n&amp;&amp;i?.å­˜æ¡£æ§½ä½===t&amp;&amp;(e.value.å½“å‰æ¿€æ´»å­˜æ¡£={è§’è‰²ID:n,å­˜æ¡£æ§½ä½:a}),delete o.å­˜æ¡£åˆ—è¡¨[t],await h(),l.o.success(`å­˜æ¡£å·²é‡å‘½åä¸ºã€${a}ã€‘`)},loadGame:N,loadGameById:async n=&gt;{const t=p.value;if(!t)return l.o.error("æ²¡æœ‰æ¿€æ´»çš„è§’è‰²"),!1;const a=e.value.å½“å‰æ¿€æ´»å­˜æ¡£?.è§’è‰²ID;return a?"å•æœº"===t.æ¨¡å¼?await N(a,n):await N(a,"å­˜æ¡£"):(l.o.error("æ— æ³•ç¡®å®šè§’è‰²ID"),!1)},saveCurrentGame:async()=&gt;{const n=e.value.å½“å‰æ¿€æ´»å­˜æ¡£,t=p.value,a=v.value;if(!n||!t||!a)return void l.o.error("æ²¡æœ‰æ¿€æ´»çš„å­˜æ¡£ï¼Œæ— æ³•ä¿å­˜ï¼");const o=`save-game-${Date.now()}`;try{l.o.loading("æ­£åœ¨ä¿å­˜è¿›åº¦...",{id:o});const e=(0,f.getTavernHelper)();if(!e)throw new Error("é…’é¦†è¿æ¥å°šæœªå»ºç«‹ï¼");const r=await(0,I.xc)(e),c=(0,I.assembleSaveData)(r);if(!c)throw new Error("æ— æ³•ä»é…’é¦†è·å–å½“å‰å­˜æ¡£æ•°æ®ï¼Œå¯èƒ½å°šæœªåˆå§‹åŒ–ã€‚");const s=a.å­˜æ¡£æ•°æ®?.å™äº‹å†å²;s&amp;&amp;Array.isArray(s)&amp;&amp;s.length&gt;0&amp;&amp;(c.å™äº‹å†å²=s,i.Yz.log("è§’è‰²å•†åº—",`[ä¿å­˜] ä¿ç•™æœ¬åœ°å™äº‹å†å²æ•°æ® (${s.length}æ¡)`));try{const e=(0,A.updateLifespanFromGameTime)(c);if(i.Yz.log("è§’è‰²å•†åº—",`[ä¿å­˜] è‡ªåŠ¨æ›´æ–°ç©å®¶å¹´é¾„: ${e}å²`),c.äººç‰©å…³ç³»&amp;&amp;c.æ¸¸æˆæ—¶é—´){let e=0;Object.values(c.äººç‰©å…³ç³»).forEach(n=&gt;{n&amp;&amp;"object"==typeof n&amp;&amp;((0,A.updateNpcLifespanFromGameTime)(n,c.æ¸¸æˆæ—¶é—´),e++)}),i.Yz.log("è§’è‰²å•†åº—",`[ä¿å­˜] è‡ªåŠ¨æ›´æ–°${e}ä¸ªNPCå¹´é¾„`)}}catch(e){i.Yz.warn("è§’è‰²å•†åº—","[ä¿å­˜] è‡ªåŠ¨æ›´æ–°å¹´é¾„å¤±è´¥ï¼ˆéè‡´å‘½ï¼‰:",e)}try{const e=(0,_.F)(c);i.Yz.log("è§’è‰²å•†åº—",`[ä¿å­˜] å·²æ›´æ–°æŒæ¡æŠ€èƒ½åˆ—è¡¨ï¼Œå…± ${e.length} ä¸ªæŠ€èƒ½`)}catch(e){i.Yz.warn("è§’è‰²å•†åº—","[ä¿å­˜] è‡ªåŠ¨è®¡ç®—æŒæ¡æŠ€èƒ½å¤±è´¥ï¼ˆéè‡´å‘½ï¼‰:",e)}a.æœ€åä¿å­˜æ—¶é—´=(new Date).toISOString(),a.å­˜æ¡£æ•°æ®=c,a.è§’è‰²åå­—=c.è§’è‰²åŸºç¡€ä¿¡æ¯?.åå­—;const d=c.ç©å®¶è§’è‰²çŠ¶æ€;if(d&amp;&amp;(a.å¢ƒç•Œ=d.å¢ƒç•Œ?.åç§°||"å‡¡äºº",a.ä½ç½®=d.ä½ç½®?.æè¿°||"æœªçŸ¥","object"==typeof d.å¢ƒç•Œ&amp;&amp;null!==d.å¢ƒç•Œ)){const e=d.å¢ƒç•Œ;e.ä¸‹ä¸€çº§æ‰€éœ€&gt;0&amp;&amp;(a.ä¿®ä¸ºè¿›åº¦=Math.floor(e.å½“å‰è¿›åº¦/e.ä¸‹ä¸€çº§æ‰€éœ€*100))}if(c.æ¸¸æˆæ—¶é—´){const e=c.æ¸¸æˆæ—¶é—´;a.æ¸¸æˆå†…æ—¶é—´=`${e.å¹´}å¹´${e.æœˆ}æœˆ${e.æ—¥}æ—¥`}if("å•æœº"===t.æ¨¡å¼&amp;&amp;t.å­˜æ¡£åˆ—è¡¨?t.å­˜æ¡£åˆ—è¡¨[n.å­˜æ¡£æ§½ä½]=a:"è”æœº"===t.æ¨¡å¼&amp;&amp;(t.å­˜æ¡£=a),await h(),"è”æœº"===t.æ¨¡å¼)try{l.o.loading("æ­£åœ¨åŒæ­¥å­˜æ¡£åˆ°äº‘ç«¯...",{id:o});const e={save_data:c,world_map:{},game_time:a.æ¸¸æˆå†…æ—¶é—´||"æœªçŸ¥æ—¶é—´"};await(0,D.Sj)(n.è§’è‰²ID,e),l.o.success("å­˜æ¡£å·²æˆåŠŸåŒæ­¥åˆ°äº‘ç«¯ï¼",{id:o}),t.å­˜æ¡£?.äº‘ç«¯åŒæ­¥ä¿¡æ¯&amp;&amp;(t.å­˜æ¡£.äº‘ç«¯åŒæ­¥ä¿¡æ¯.æœ€ååŒæ­¥=(new Date).toISOString(),t.å­˜æ¡£.äº‘ç«¯åŒæ­¥ä¿¡æ¯.éœ€è¦åŒæ­¥=!1,t.å­˜æ¡£.äº‘ç«¯åŒæ­¥ä¿¡æ¯.ç‰ˆæœ¬++,await h())}catch(e){i.Yz.error("è§’è‰²å•†åº—","äº‘ç«¯åŒæ­¥-ä¿å­˜æ—¶åŒæ­¥å¤±è´¥",e);const n=e instanceof Error?e.message:"æœªçŸ¥é”™è¯¯";l.o.error(`äº‘ç«¯åŒæ­¥å¤±è´¥: ${n}`,{id:o}),t.å­˜æ¡£?.äº‘ç«¯åŒæ­¥ä¿¡æ¯&amp;&amp;(t.å­˜æ¡£.äº‘ç«¯åŒæ­¥ä¿¡æ¯.éœ€è¦åŒæ­¥=!0,await h())}"è”æœº"!==t.æ¨¡å¼&amp;&amp;(l.o.hide(o),i.Yz.log("è§’è‰²å•†åº—",`å­˜æ¡£ã€${a.å­˜æ¡£å}ã€‘å·²æˆåŠŸä¿å­˜`))}catch(e){i.Yz.error("è§’è‰²å•†åº—","å­˜æ¡£ä¿å­˜è¿‡ç¨‹å‡ºé”™",e);const n=e instanceof Error?e.message:"æœªçŸ¥é”™è¯¯";l.o.error(`å­˜æ¡£ä¿å­˜å¤±è´¥ï¼š${n}`,{id:o})}},updateSaveDataDirectly:async n=&gt;{const t=e.value.å½“å‰æ¿€æ´»å­˜æ¡£,a=p.value,o=v.value;if(!(t&amp;&amp;a&amp;&amp;o&amp;&amp;n))return void i.Yz.warn("è§’è‰²å•†åº—","[ç›´æ¥æ›´æ–°] ç¼ºå°‘å¿…è¦å‚æ•°ï¼Œè·³è¿‡æ›´æ–°");const r=t.è§’è‰²ID,l=t.å­˜æ¡£æ§½ä½;i.Yz.log("è§’è‰²å•†åº—","[ç›´æ¥æ›´æ–°] å¼€å§‹æ›´æ–°å­˜æ¡£æ•°æ®åˆ°Store...");const c=o.å­˜æ¡£æ•°æ®?.å™äº‹å†å²;c&amp;&amp;Array.isArray(c)&amp;&amp;c.length&gt;0&amp;&amp;(n.å™äº‹å†å²=c,i.Yz.log("è§’è‰²å•†åº—",`[ç›´æ¥æ›´æ–°] ä¿ç•™æœ¬åœ°å™äº‹å†å²æ•°æ® (${c.length}æ¡)`)),"å•æœº"===a.æ¨¡å¼&amp;&amp;a.å­˜æ¡£åˆ—è¡¨?e.value.è§’è‰²åˆ—è¡¨[r].å­˜æ¡£åˆ—è¡¨={...a.å­˜æ¡£åˆ—è¡¨,[l]:{...a.å­˜æ¡£åˆ—è¡¨[l],å­˜æ¡£æ•°æ®:n,æœ€åä¿å­˜æ—¶é—´:(new Date).toISOString()}}:"è”æœº"===a.æ¨¡å¼&amp;&amp;a.å­˜æ¡£&amp;&amp;(e.value.è§’è‰²åˆ—è¡¨[r].å­˜æ¡£={...a.å­˜æ¡£,å­˜æ¡£æ•°æ®:n,æœ€åä¿å­˜æ—¶é—´:(new Date).toISOString()}),await h(),i.Yz.log("è§’è‰²å•†åº—","âœ… [ç›´æ¥æ›´æ–°] å­˜æ¡£æ•°æ®å·²æ›´æ–°åˆ°Storeå¹¶æŒä¹…åŒ–")},updateCharacterData:async n=&gt;{const t=e.value.å½“å‰æ¿€æ´»å­˜æ¡£,o=p.value,l=v.value;if(!l?.å­˜æ¡£æ•°æ®||!t||!o)return void i.Yz.warn("è§’è‰²å•†åº—","æ²¡æœ‰æ¿€æ´»çš„å­˜æ¡£ï¼Œæ— æ³•æ›´æ–°è§’è‰²æ•°æ®");const c=[];if(n?.changes)for(const e of n.changes)c.push(e.key),(0,r.set)(l.å­˜æ¡£æ•°æ®,e.key,e.newValue);const s=t.è§’è‰²ID,d=t.å­˜æ¡£æ§½ä½;"å•æœº"===o.æ¨¡å¼&amp;&amp;o.å­˜æ¡£åˆ—è¡¨?e.value.è§’è‰²åˆ—è¡¨[s].å­˜æ¡£åˆ—è¡¨={...o.å­˜æ¡£åˆ—è¡¨,[d]:{...o.å­˜æ¡£åˆ—è¡¨[d],å­˜æ¡£æ•°æ®:(0,r.cloneDeep)(l.å­˜æ¡£æ•°æ®),æœ€åä¿å­˜æ—¶é—´:(new Date).toISOString()}}:"è”æœº"===o.æ¨¡å¼&amp;&amp;o.å­˜æ¡£&amp;&amp;(e.value.è§’è‰²åˆ—è¡¨[s].å­˜æ¡£={...o.å­˜æ¡£,å­˜æ¡£æ•°æ®:(0,r.cloneDeep)(l.å­˜æ¡£æ•°æ®),æœ€åä¿å­˜æ—¶é—´:(new Date).toISOString()}),(0,a.triggerRef)(e),await h(),c.length&gt;0&amp;&amp;(await y({changedPaths:c}),i.Yz.log("è§’è‰²å•†åº—",`âœ… è§’è‰²æ•°æ®å·²æ›´æ–°å¹¶å¢é‡åŒæ­¥ ${c.length} ä¸ªå­—æ®µ`,c))},loadSaves:async()=&gt;{k()},importSave:async n=&gt;{const t=p.value,a=e.value.å½“å‰æ¿€æ´»å­˜æ¡£?.è§’è‰²ID;if(!t||!a)return void l.o.error("æ²¡æœ‰æ¿€æ´»çš„è§’è‰²ï¼Œæ— æ³•å¯¼å…¥å­˜æ¡£");if("å•æœº"!==t.æ¨¡å¼)return void l.o.error("è”æœºæ¨¡å¼ä¸æ”¯æŒå­˜æ¡£å¯¼å…¥");t.å­˜æ¡£åˆ—è¡¨||(t.å­˜æ¡£åˆ—è¡¨={});let o=n.å­˜æ¡£å||"å¯¼å…¥å­˜æ¡£",r=1;for(;t.å­˜æ¡£åˆ—è¡¨[o];)o=`${n.å­˜æ¡£å||"å¯¼å…¥å­˜æ¡£"}_${r}`,r++;t.å­˜æ¡£åˆ—è¡¨[o]={...n,å­˜æ¡£å:o},await h(),l.o.success(`å­˜æ¡£ã€${o}ã€‘å¯¼å…¥æˆåŠŸ`)},clearAllSaves:async()=&gt;{const n=p.value,t=e.value.å½“å‰æ¿€æ´»å­˜æ¡£?.è§’è‰²ID;n&amp;&amp;t?("å•æœº"===n.æ¨¡å¼&amp;&amp;n.å­˜æ¡£åˆ—è¡¨?n.å­˜æ¡£åˆ—è¡¨={}:"è”æœº"===n.æ¨¡å¼&amp;&amp;n.å­˜æ¡£&amp;&amp;(n.å­˜æ¡£.å­˜æ¡£æ•°æ®=null,n.å­˜æ¡£.ä¿å­˜æ—¶é—´=null),e.value.å½“å‰æ¿€æ´»å­˜æ¡£=null,await h(),l.o.success("æ‰€æœ‰å­˜æ¡£å·²æ¸…ç©º")):l.o.error("æ²¡æœ‰æ¿€æ´»çš„è§’è‰²")},exitGameSession:async()=&gt;{if(!e.value.å½“å‰æ¿€æ´»å­˜æ¡£)return;const n=(0,c.useUIStore)();try{n.startLoading("æ­£åœ¨é€€å‡ºæ¸¸æˆ..."),await(0,f.c$)(),e.value.å½“å‰æ¿€æ´»å­˜æ¡£=null,await h(),l.o.success("å·²æˆåŠŸé€€å‡ºæ¸¸æˆï¼Œé…’é¦†ç¯å¢ƒå·²é‡ç½®ã€‚")}catch(e){i.Yz.error("è§’è‰²å•†åº—","é€€å‡ºæ¸¸æˆä¼šè¯å¤±è´¥",e),l.o.error("é€€å‡ºæ¸¸æˆå¤±è´¥ï¼Œå»ºè®®åˆ·æ–°é¡µé¢ä»¥ç¡®ä¿ç¯å¢ƒçº¯å‡€ã€‚")}finally{n.stopLoading()}},rollbackToLastConversation:async()=&gt;{const n=p.value,t=e.value.å½“å‰æ¿€æ´»å­˜æ¡£;if(!n||!t||"å•æœº"!==n.æ¨¡å¼||!n.å­˜æ¡£åˆ—è¡¨)throw new Error("æ— æ³•æ‰§è¡Œå›æ»šï¼šæ— æ•ˆçš„å­˜æ¡£çŠ¶æ€");const a=n.å­˜æ¡£åˆ—è¡¨["ä¸Šæ¬¡å¯¹è¯"]?.å­˜æ¡£æ•°æ®;if(!a)throw new Error("æ²¡æœ‰å¯ç”¨äºå›æ»šçš„â€œä¸Šæ¬¡å¯¹è¯â€å­˜æ¡£");const o=n.å­˜æ¡£åˆ—è¡¨[t.å­˜æ¡£æ§½ä½];if(!o)throw new Error(`æ‰¾ä¸åˆ°å½“å‰æ¿€æ´»çš„å­˜æ¡£æ§½ä½: ${t.å­˜æ¡£æ§½ä½}`);o.å­˜æ¡£æ•°æ®=JSON.parse(JSON.stringify(a)),o.æœ€åä¿å­˜æ—¶é—´=(new Date).toISOString(),await h(),await E(t.è§’è‰²ID),i.Yz.log("è§’è‰²å•†åº—","âœ… å·²æˆåŠŸå›æ»šåˆ°ä¸Šæ¬¡å¯¹è¯å‰çš„çŠ¶æ€")},commitToStorage:h,syncToTavernAndSave:y,updateTavernField:async(e,n)=&gt;{try{const a=(0,f.getTavernHelper)();if(!a)return void i.Yz.warn("è§’è‰²å•†åº—","[å¢é‡æ›´æ–°] helper ä¸ºç©ºï¼Œæ— æ³•åŒæ­¥åˆ°é…’é¦†");const{deepCleanForClone:o}=await Promise.resolve().then(t.bind(t,3098)),r=o({[e]:n});await a.insertOrAssignVariables(r,{type:"chat"}),i.Yz.log("è§’è‰²å•†åº—",`[å¢é‡æ›´æ–°] å·²æ›´æ–°é…’é¦†å­—æ®µ: ${e}`)}catch(n){throw i.Yz.error("è§’è‰²å•†åº—",`[å¢é‡æ›´æ–°] æ›´æ–°å­—æ®µ ${e} å¤±è´¥:`,n),n}},updateTavernFields:async e=&gt;{try{const n=(0,f.getTavernHelper)();if(!n)return void i.Yz.warn("è§’è‰²å•†åº—","[æ‰¹é‡å¢é‡æ›´æ–°] helper ä¸ºç©ºï¼Œæ— æ³•åŒæ­¥åˆ°é…’é¦†");const{deepCleanForClone:a}=await Promise.resolve().then(t.bind(t,3098)),o=a(e);await n.insertOrAssignVariables(o,{type:"chat"}),i.Yz.log("è§’è‰²å•†åº—",`[æ‰¹é‡å¢é‡æ›´æ–°] å·²æ›´æ–° ${Object.keys(e).length} ä¸ªé…’é¦†å­—æ®µ`)}catch(e){throw i.Yz.error("è§’è‰²å•†åº—","[æ‰¹é‡å¢é‡æ›´æ–°] æ‰¹é‡æ›´æ–°å¤±è´¥:",e),e}},setActiveCharacterInTavern:E,syncFromTavern:async()=&gt;{const n=e.value.å½“å‰æ¿€æ´»å­˜æ¡£,t=p.value,a=v.value;if(n&amp;&amp;t&amp;&amp;a)try{const o=(0,f.getTavernHelper)();if(!o)throw new Error("é…’é¦†è¿æ¥å°šæœªå»ºç«‹ï¼");const r=await(0,I.xc)(o),l=(0,I.assembleSaveData)(r);if(l.ä¸‰åƒå¤§é“){const e=l.ä¸‰åƒå¤§é“;e.å¤§é“åˆ—è¡¨?Object.keys(e.å¤§é“åˆ—è¡¨).forEach(n=&gt;{const t=e.å¤§é“åˆ—è¡¨[n];t&amp;&amp;(void 0!==t.å½“å‰ç»éªŒ&amp;&amp;null!==t.å½“å‰ç»éªŒ||(t.å½“å‰ç»éªŒ=0),void 0!==t.æ€»ç»éªŒ&amp;&amp;null!==t.æ€»ç»éªŒ||(t.æ€»ç»éªŒ=0),void 0!==t.å½“å‰é˜¶æ®µ&amp;&amp;null!==t.å½“å‰é˜¶æ®µ||(t.å½“å‰é˜¶æ®µ=0),void 0===t.æ˜¯å¦è§£é”&amp;&amp;(t.æ˜¯å¦è§£é”=!0),t.é“å||(t.é“å=n),t.é˜¶æ®µåˆ—è¡¨||(t.é˜¶æ®µåˆ—è¡¨=[]),t.æè¿°||(t.æè¿°="ç¥ç§˜çš„å¤§é“"))}):e.å¤§é“åˆ—è¡¨={}}try{const e=(0,A.updateLifespanFromGameTime)(l);if(i.Yz.log("è§’è‰²å•†åº—",`[åŒæ­¥] è‡ªåŠ¨æ›´æ–°ç©å®¶å¹´é¾„: ${e}å²`),l.äººç‰©å…³ç³»&amp;&amp;l.æ¸¸æˆæ—¶é—´){let e=0;Object.values(l.äººç‰©å…³ç³»).forEach(n=&gt;{n&amp;&amp;"object"==typeof n&amp;&amp;((0,A.updateNpcLifespanFromGameTime)(n,l.æ¸¸æˆæ—¶é—´),e++)}),i.Yz.log("è§’è‰²å•†åº—",`[åŒæ­¥] è‡ªåŠ¨æ›´æ–°${e}ä¸ªNPCå¹´é¾„`)}}catch(e){i.Yz.warn("è§’è‰²å•†åº—","[åŒæ­¥] è‡ªåŠ¨æ›´æ–°å¹´é¾„å¤±è´¥ï¼ˆéè‡´å‘½ï¼‰:",e)}try{const e=(0,_.F)(l);i.Yz.log("è§’è‰²å•†åº—",`[åŒæ­¥] å·²æ›´æ–°æŒæ¡æŠ€èƒ½åˆ—è¡¨ï¼Œå…± ${e.length} ä¸ªæŠ€èƒ½`)}catch(e){i.Yz.warn("è§’è‰²å•†åº—","[åŒæ­¥] è‡ªåŠ¨è®¡ç®—æŒæ¡æŠ€èƒ½å¤±è´¥ï¼ˆéè‡´å‘½ï¼‰:",e)}let c=!1;try{(0,$.UZ)(l)&amp;&amp;(i.Yz.log("è§’è‰²å•†åº—","[åŒæ­¥] å·²è‡ªåŠ¨ç§»é™¤è¿‡æœŸçš„çŠ¶æ€æ•ˆæœ"),c=!0)}catch(e){i.Yz.warn("è§’è‰²å•†åº—","[åŒæ­¥] è‡ªåŠ¨æ¸…ç†è¿‡æœŸçŠ¶æ€æ•ˆæœå¤±è´¥ï¼ˆéè‡´å‘½ï¼‰:",e)}const s=a.å­˜æ¡£æ•°æ®?.è®°å¿†;s&amp;&amp;(l.è®°å¿†=s,i.Yz.log("è§’è‰²å•†åº—","[åŒæ­¥] ä¿ç•™æœ¬åœ°è®°å¿†æ•°æ®ï¼Œé¿å…è¢«é…’é¦†æ—§æ•°æ®è¦†ç›–"));const d=a.å­˜æ¡£æ•°æ®?.å™äº‹å†å²;d&amp;&amp;Array.isArray(d)&amp;&amp;d.length&gt;0&amp;&amp;(l.å™äº‹å†å²=d,i.Yz.log("è§’è‰²å•†åº—",`[åŒæ­¥] ä¿ç•™æœ¬åœ°å™äº‹å†å²æ•°æ® (${d.length}æ¡)ï¼Œé¿å…è¢«é…’é¦†æ—§æ•°æ®è¦†ç›–`));const m=n.è§’è‰²ID,p=n.å­˜æ¡£æ§½ä½;if("å•æœº"===t.æ¨¡å¼&amp;&amp;t.å­˜æ¡£åˆ—è¡¨?e.value.è§’è‰²åˆ—è¡¨[m].å­˜æ¡£åˆ—è¡¨={...t.å­˜æ¡£åˆ—è¡¨,[p]:{...t.å­˜æ¡£åˆ—è¡¨[p],å­˜æ¡£æ•°æ®:l,æœ€åä¿å­˜æ—¶é—´:(new Date).toISOString()}}:"è”æœº"===t.æ¨¡å¼&amp;&amp;t.å­˜æ¡£&amp;&amp;(e.value.è§’è‰²åˆ—è¡¨[m].å­˜æ¡£={...t.å­˜æ¡£,å­˜æ¡£æ•°æ®:l,æœ€åä¿å­˜æ—¶é—´:(new Date).toISOString()}),await h(),i.Yz.log("è§’è‰²å•†åº—","âœ… å·²ä»é…’é¦†åˆ†ç‰‡åŒæ­¥æœ€æ–°å­˜æ¡£æ•°æ®"),i.Yz.log("è§’è‰²å•†åº—",`æœ€ç»ˆèƒŒåŒ…ç‰©å“æ•°é‡: ${Object.keys(l.èƒŒåŒ…?.ç‰©å“||{}).length}`),i.Yz.log("è§’è‰²å•†åº—",`æ˜¯å¦æœ‰ä¸–ç•Œä¿¡æ¯: ${!!l.ä¸–ç•Œä¿¡æ¯}`),c)try{i.Yz.log("è§’è‰²å•†åº—","[åŒæ­¥] çŠ¶æ€æ•ˆæœå·²æ¸…ç†ï¼Œå¼€å§‹åŒæ­¥å›é…’é¦†...");const e=(0,f.getTavernHelper)();if(e){const n=(0,I.shardSaveData)(l);await(0,I.saveAllShards)(n,e),i.Yz.log("è§’è‰²å•†åº—","[åŒæ­¥] âœ… å·²å°†æ¸…ç†åçš„çŠ¶æ€æ•ˆæœåŒæ­¥å›é…’é¦†")}}catch(e){i.Yz.warn("è§’è‰²å•†åº—","[åŒæ­¥] åŒæ­¥æ¸…ç†åçš„çŠ¶æ€æ•ˆæœåˆ°é…’é¦†å¤±è´¥ï¼ˆéè‡´å‘½ï¼‰:",e)}}catch(e){i.Yz.error("è§’è‰²å•†åº—","ä»é…’é¦†åŒæ­¥æ•°æ®å¤±è´¥",e)}else i.Yz.warn("è§’è‰²å•†åº—","æ²¡æœ‰æ¿€æ´»çš„å­˜æ¡£ï¼Œæ— æ³•ä»é…’é¦†åŒæ­¥æ•°æ®")},repairCharacterDataWithAI:C,initialCreationStateChanges:n,setInitialCreationStateChanges:e=&gt;{i.Yz.log("è§’è‰²å•†åº—","æš‚å­˜åˆå§‹è§’è‰²åˆ›å»ºçš„çŠ¶æ€å˜æ›´",e),n.value=e},consumeInitialCreationStateChanges:()=&gt;{const e=n.value;return e&amp;&amp;(i.Yz.log("è§’è‰²å•†åº—","æ¶ˆè´¹åˆå§‹çŠ¶æ€å˜æ›´æ—¥å¿—",e),n.value=null),e},equipTechnique:async e=&gt;{const n=v.value;if(!n?.å­˜æ¡£æ•°æ®)return void l.o.error("å­˜æ¡£æ•°æ®ä¸å­˜åœ¨");const t=n.å­˜æ¡£æ•°æ®,a=t.èƒŒåŒ…?.ç‰©å“?.[e];if(!a||"åŠŸæ³•"!==a.ç±»å‹)return void l.o.error("è¦è£…å¤‡çš„ç‰©å“ä¸æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„åŠŸæ³•");console.log("[è§’è‰²å•†åº—-è°ƒè¯•] è£…å¤‡åŠŸæ³•å‰çš„æ•°æ®:",{åŠŸæ³•åç§°:a.åç§°,å“è´¨å­—æ®µå­˜åœ¨:!!a.å“è´¨,å“è´¨å†…å®¹:a.å“è´¨,å®Œæ•´ç‰©å“æ•°æ®:a}),Object.values(t.èƒŒåŒ….ç‰©å“).forEach(e=&gt;{"åŠŸæ³•"===e.ç±»å‹&amp;&amp;(e.å·²è£…å¤‡=!1)}),a.å·²è£…å¤‡=!0,t.ä¿®ç‚¼åŠŸæ³•={ç‰©å“ID:a.ç‰©å“ID,åç§°:a.åç§°,æ­£åœ¨ä¿®ç‚¼:!0,ä¿®ç‚¼è¿›åº¦:("åŠŸæ³•"===a.ç±»å‹?a.ä¿®ç‚¼è¿›åº¦:void 0)||0,åŠŸæ³•æŠ€èƒ½:"åŠŸæ³•"===a.ç±»å‹?a.åŠŸæ³•æŠ€èƒ½:void 0},i.Yz.log("è§’è‰²å•†åº—",`å·²è£…å¤‡åŠŸæ³•: ${a.åç§°}ï¼Œä¿®ç‚¼è¿›åº¦: ${t.ä¿®ç‚¼åŠŸæ³•?.ä¿®ç‚¼è¿›åº¦}%`);try{const e=(0,_.F)(t);i.Yz.log("è§’è‰²å•†åº—",`è£…å¤‡åŠŸæ³•åå·²æ›´æ–°æŒæ¡æŠ€èƒ½åˆ—è¡¨ï¼Œå…± ${e.length} ä¸ªæŠ€èƒ½`)}catch(e){i.Yz.error("è§’è‰²å•†åº—","è£…å¤‡åŠŸæ³•åè‡ªåŠ¨è®¡ç®—æŒæ¡æŠ€èƒ½å¤±è´¥:",e)}await y({fullSync:!0});const o=t.èƒŒåŒ…?.ç‰©å“?.[e];console.log("[è§’è‰²å•†åº—-è°ƒè¯•] åŒæ­¥åˆ°é…’é¦†åçš„åŠŸæ³•æ•°æ®:",{åŠŸæ³•åç§°:o?.åç§°,å“è´¨å­—æ®µå­˜åœ¨:!!o?.å“è´¨,å“è´¨å†…å®¹:o?.å“è´¨,å®Œæ•´ç‰©å“æ•°æ®:o}),l.o.success(`å·²å¼€å§‹ä¿®ç‚¼ã€Š${a.åç§°}ã€‹`)},unequipTechnique:async n=&gt;{const t=v.value;if(!t?.å­˜æ¡£æ•°æ®)return void l.o.error("å­˜æ¡£æ•°æ®ä¸å­˜åœ¨");const o=t.å­˜æ¡£æ•°æ®,r=o.èƒŒåŒ…?.ç‰©å“?.[n],c=o.ä¿®ç‚¼åŠŸæ³•;if(!r||"åŠŸæ³•"!==r.ç±»å‹||!c||c.ç‰©å“ID!==n)return void l.o.error("è¦å¸ä¸‹çš„åŠŸæ³•ä¸å½“å‰ä¿®ç‚¼çš„åŠŸæ³•ä¸åŒ¹é…");const s=c.ä¿®ç‚¼è¿›åº¦||0;r.å·²è£…å¤‡=!1,r.ä¿®ç‚¼è¿›åº¦=s,o.ä¿®ç‚¼åŠŸæ³•=null,i.Yz.log("è§’è‰²å•†åº—",`å·²å¸ä¸‹åŠŸæ³•: ${r.åç§°}ï¼Œæœ€ç»ˆè¿›åº¦: ${s}%`);try{const e=(0,_.F)(o);i.Yz.log("è§’è‰²å•†åº—",`å¸ä¸‹åŠŸæ³•åå·²æ›´æ–°æŒæ¡æŠ€èƒ½åˆ—è¡¨ï¼Œå…± ${e.length} ä¸ªæŠ€èƒ½`)}catch(e){i.Yz.error("è§’è‰²å•†åº—","å¸ä¸‹åŠŸæ³•åè‡ªåŠ¨è®¡ç®—æŒæ¡æŠ€èƒ½å¤±è´¥:",e)}(0,a.triggerRef)(e),await y({fullSync:!0}),l.o.info(`å·²åœæ­¢ä¿®ç‚¼ã€Š${r.åç§°}ã€‹`)},importCharacter:async n=&gt;{if(!n||!n.è§’è‰²åŸºç¡€ä¿¡æ¯||!n.æ¨¡å¼)throw new Error("æ— æ•ˆçš„è§’è‰²æ–‡ä»¶æ ¼å¼ã€‚");const t=`char_${Date.now()}`,a=n.è§’è‰²åŸºç¡€ä¿¡æ¯.åå­—||"æœªçŸ¥è§’è‰²";if(Object.values(e.value.è§’è‰²åˆ—è¡¨).some(e=&gt;e.è§’è‰²åŸºç¡€ä¿¡æ¯.åå­—===a))throw new Error(`è§’è‰² "${a}" å·²å­˜åœ¨ï¼Œè¯·å…ˆåˆ é™¤æˆ–é‡å‘½åç°æœ‰è§’è‰²ã€‚`);e.value.è§’è‰²åˆ—è¡¨[t]={...n},await h(),i.Yz.log("è§’è‰²å•†åº—",`æˆåŠŸå¯¼å…¥è§’è‰²: ${a} (æ–°ID: ${t})`)}}})},1021:(e,n,t)=&gt;{t.d(n,{A:()=&gt;i});var a=t(1601),o=t.n(a),r=t(6314),l=t.n(r)()(o());l.push([e.id,"\n.character-section[data-v-6885fec6] {\n  border-radius: 8px;\n  padding: 1rem;\n}\n.section-header[data-v-6885fec6] {\n  margin-bottom: 1rem;\n}\n.section-title[data-v-6885fec6] {\n  margin: 0;\n  font-size: 1.1rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.info-grid[data-v-6885fec6] {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  gap: 1rem;\n  margin-bottom: 1rem;\n}\n.info-item[data-v-6885fec6] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0.75rem;\n  background: var(--color-background);\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n}\n.info-label[data-v-6885fec6] {\n  font-size: 0.875rem;\n  color: var(--color-text-secondary);\n  font-weight: 500;\n}\n.info-value[data-v-6885fec6] {\n  font-size: 0.875rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.data-detail[data-v-6885fec6] {\n  margin-top: 1rem;\n  border-top: 1px solid var(--color-border);\n  padding-top: 1rem;\n}\n.detail-title[data-v-6885fec6] {\n  margin: 0 0 1rem 0;\n  font-size: 1rem;\n  font-weight: 600;\n  color: var(--color-text);\n  border-bottom: 1px solid var(--color-border);\n  padding-bottom: 0.5rem;\n}\n.code-pre[data-v-6885fec6] {\n  margin: 0;\n  padding: 0.75rem;\n  background: var(--color-code-bg);\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  max-height: 60vh;\n  overflow: auto;\n  font-family: 'Consolas', 'Monaco', monospace;\n  font-size: 0.85rem;\n  line-height: 1.5;\n  word-wrap: break-word;\n  white-space: pre-wrap;\n}\n.empty-state[data-v-6885fec6] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 1rem;\n  padding: 3rem;\n  color: var(--color-text-secondary);\n}\n\n/* æ‰‹æœºç«¯é€‚é… */\n@media (max-width: 768px) {\n.code-pre[data-v-6885fec6] {\n    max-height: 50vh;\n    font-size: 0.8rem;\n    padding: 0.5rem;\n}\n.character-section[data-v-6885fec6] {\n    padding: 0.75rem;\n}\n.info-grid[data-v-6885fec6] {\n    grid-template-columns: 1fr;\n    gap: 0.75rem;\n}\n}\n@media (max-width: 480px) {\n.code-pre[data-v-6885fec6] {\n    max-height: 40vh;\n    font-size: 0.75rem;\n    padding: 0.4rem;\n}\n.character-section[data-v-6885fec6] {\n    padding: 0.5rem;\n}\n.empty-state[data-v-6885fec6] {\n    padding: 2rem;\n}\n}\n",""]);const i=l},1113:e=&gt;{e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}},1208:(e,n,t)=&gt;{t.d(n,{A:()=&gt;i});var a=t(1601),o=t.n(a),r=t(6314),l=t.n(r)()(o());l.push([e.id,"/* --- Design Tokens (The Alchemist's Formula) --- */\n:root {\n  /* --- Light Theme Colors --- */\n  --color-background: #e8e6e3;\n  --color-background-transparent: rgba(232, 230, 227, 0.85);\n  --color-surface: #f2f1ee; /* æ¸©æ¶¦çš„ç±³ç™½è‰²ï¼Œç±»ä¼¼å¤å®£çº¸ */\n  --color-surface-transparent: rgba(242, 241, 238, 0.75);\n  --color-surface-light: #ebe9e6; /* æ›´æ¸©æ¶¦çš„æµ…è‰² */\n  /* Derived/interactive states (light) */\n  --color-surface-hover: #eeede9; /* æ‚¬æµ®æ—¶çš„æ¸©æ¶¦è‰² */\n  --color-primary: #2e5cb8;\n  --color-primary-rgb: 46, 92, 184;\n  --color-primary-hover: #274f9d;\n  --color-primary-active: #1f3f80;\n  /* Lighten variant used by some components */\n  --color-primary-light: rgba(46, 92, 184, 0.12);\n  --color-accent: #7c4dff;\n  --color-accent-hover: #6c3eff;\n  --color-accent-light: rgba(124, 77, 255, 0.15);\n  --color-text: #1a1a1a;\n  --color-text-secondary: #606060; /* å¢å¼ºå¯¹æ¯”åº¦ */\n  --color-text-muted: #757575; /* å¢å¼ºå¯¹æ¯”åº¦ */\n  --color-white-soft: #f2f1ee; /* æ–°å¢ï¼šæ¸©æ¶¦çš„ç™½è‰²ï¼Œæ›¿ä»£çº¯ç™½ */\n  --color-border: rgba(0, 0, 0, 0.1);\n  --color-border-hover: rgba(0, 0, 0, 0.2);\n  --color-success: #4caf50;\n  --color-success-hover: #43a047;\n  --color-warning: #ff9800;\n  --color-warning-hover: #fb8c00;\n  --color-error: #ff2929; /* ä¸æ°”è¡€ç»Ÿä¸€ï¼Œæ›´çº¢ä¸€äº› */\n  --color-error-hover: #e6375a;\n  --color-info: #2196f3;\n  --color-info-hover: #1e88e5;\n  /* Keep danger alias for components that expect it */\n  --color-danger: var(--color-error);\n  --color-danger-hover: #e53935;\n  /* Generic hover background alias used in components */\n  --color-hover: var(--color-surface-hover);\n  /* Code block background used in data views */\n  --color-code-bg: #0f172a0f; /* subtle deep slate with opacity */\n  /* Global scrollbar tokens (light) â€“ hide track, show only thumb */\n  --scrollbar-track-color: transparent;\n  --scrollbar-thumb-color: rgba(0, 0, 0, 0.35);\n  --scrollbar-thumb-hover-color: rgba(0, 0, 0, 0.5);\n\n  /* Vital colors (light theme) */\n  --vital-health: #ff2929;   /* æ°”è¡€/å¥åº·ï¼ˆä¸ --color-error ä¿æŒä¸€è‡´ï¼‰ */\n  --vital-lingqi: #3b82f6;   /* çµæ°”(ç»Ÿä¸€è“) */\n  --vital-spirit: #ffeb00;   /* ç¥è¯†(é‡‘è‰²) */\n  --vital-lifespan: #c253ff; /* å¯¿å…ƒ(ç´«è‰²) */\n\n  /* Derived RGB triplets for rgba() usage (light) */\n  --color-background-rgb: 232, 230, 227;\n  --color-surface-rgb: 242, 241, 238;\n  --color-accent-rgb: 124, 77, 255;\n  --color-border-rgb: 0, 0, 0;\n  --color-success-rgb: 76, 175, 80;\n  --color-warning-rgb: 255, 152, 0;\n  --color-error-rgb: 255, 41, 41;\n  --color-info-rgb: 33, 150, 243;\n\n  /* UIç¼©æ”¾å˜é‡ */\n  --ui-scale: 1;\n  --base-font-size: 1rem;\n\n  /* å­—ä½“ä¸è¿‡æ¸¡ */\n  --font-family-serif: 'SimSun', 'NSimSun', 'STSong', 'å®‹ä½“', 'Noto Serif SC', 'KaiTi', 'STKaiti', serif;\n  --font-family-sans-serif: 'SimSun', 'NSimSun', 'STSong', 'å®‹ä½“', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n  --transition-fast: all 0.2s ease-in-out;\n}\n\n/* --- æš—è‰²ä¸»é¢˜çµè„‰: \"æ¾çƒŸç„å¢¨\" (é€šè¿‡ data-theme å±æ€§æ¿€æ´») --- */\n:root[data-theme='dark'] {\n  /* --- Dark Theme Colors --- */\n  --color-background: rgb(30, 41, 59);\n  --color-background-transparent: rgba(26, 27, 38, 0.85);\n  --color-surface: #232e40;\n  --color-surface-transparent: rgba(41, 51, 72, 0.6);\n  --color-surface-light: #414868;\n  /* Derived/interactive states (dark) */\n  --color-surface-hover: #33415f;\n  --color-primary: #82a3f5;\n  --color-primary-rgb: 130, 163, 245;\n  --color-primary-hover: #6f93f2;\n  --color-primary-active: #597ee6;\n  --color-primary-light: rgba(130, 163, 245, 0.18);\n  --color-accent: #c0caf5;\n  --color-accent-hover: #a9b8f2;\n  --color-accent-light: rgba(192, 202, 245, 0.15);\n  --color-text: #f7f7f5; /* æŸ”å’Œçš„æš–ç™½è‰²ï¼Œä¸é‚£ä¹ˆåˆºçœ¼ */\n  --color-text-secondary: #d0d0d0;\n  --color-text-muted: #b9b9b9; /* å¢å¼ºå¯¹æ¯”åº¦ */\n  --color-white-soft: #f7f7f5; /* æš—è‰²ä¸»é¢˜ä¸‹çš„æŸ”å’Œç™½è‰² */\n  --color-border: rgba(173, 216, 230, 0.5);\n  --color-border-hover: rgba(173, 216, 230, 0.8);\n  --color-success: #9ece6a;\n  --color-success-hover: #88b85b;\n  --color-warning: #ffd500;\n  --color-warning-hover: #e6c200;\n  --color-error: #ff2f49; /* æš—è‰²ä¸‹æ›´çº¢ä¸€äº› */\n  --color-error-hover: #e64470;\n  --color-info: #77cdfe;\n  --color-info-hover: #66bff4;\n  --color-danger: var(--color-error);\n  --color-danger-hover: #e66a81;\n  --color-hover: var(--color-surface-hover);\n  --color-code-bg: rgba(20, 26, 43, 0.6);\n  /* Global scrollbar tokens (dark) â€“ hide track, show only thumb */\n  --scrollbar-track-color: transparent;\n  --scrollbar-thumb-color: rgba(255, 255, 255, 0.35);\n  --scrollbar-thumb-hover-color: rgba(255, 255, 255, 0.5);\n\n  /* Vital colors (dark theme) */\n  --vital-health: #ff2f49;   /* æ°”è¡€/å¥åº·ï¼ˆæš—è‰²ï¼Œä¸ --color-error ä¿æŒä¸€è‡´ï¼‰ */\n  --vital-lingqi: #3b82f6;   /* çµæ°”(ç»Ÿä¸€è“) */\n  --vital-spirit: #ffeb00;   /* ç¥è¯†(é‡‘è‰²) */\n  --vital-lifespan: #c253ff; /* å¯¿å…ƒ(ç´«è‰²) */\n\n  /* Derived RGB triplets for rgba() usage (dark) */\n  --color-background-rgb: 26, 27, 38;\n  --color-surface-rgb: 41, 51, 72;\n  --color-accent-rgb: 192, 202, 245;\n  --color-border-rgb: 173, 216, 230;\n  --color-success-rgb: 158, 206, 106;\n  --color-warning-rgb: 255, 213, 0;\n  --color-error-rgb: 255, 47, 73;\n  --color-info-rgb: 119, 205, 254;\n}\n\n/* --- Base Styles --- */\nhtml,\nbody {\n  /* é«˜åº¦å°†ç”± App.vue ä¸­çš„è„šæœ¬åŠ¨æ€è®¾ç½®ï¼Œæ­¤å¤„ä¸åº”æœ‰ height æˆ– min-height */\n  margin: 0;\n  padding: 0;\n  /* ç§»é™¤ overflow: hidden; åº”ç”¨å†…æ»šåŠ¨ç”± #app æ§åˆ¶ */\n  font-family: var(--font-family-serif);\n  background-color: transparent; /* ç§»é™¤èƒŒæ™¯è‰²ï¼Œè®©è§†é¢‘é€å‡º */\n  color: var(--color-text);\n  /* éµé“å‹æ³•æ—¨ï¼Œå»é™¤æ‰€æœ‰æ–‡å­—é˜´å½±ï¼Œè¿”ç’å½’çœŸã€‚ */\n  text-shadow: none;\n}\n\n#app {\n  position: absolute; /* ä½¿ç”¨ç»å¯¹å®šä½å¼ºåˆ¶æ’‘æ»¡body */\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  height: 100%;\n  width: 100%;\n  box-sizing: border-box;\n  overflow: auto; /* åº”ç”¨å†…çš„æ»šåŠ¨ç”±appè‡ªèº«ç®¡ç† */\n  /* åº”ç”¨UIç¼©æ”¾ï¼Œä½¿ç”¨zoomå±æ€§ï¼ˆChrome, Safariç­‰æ”¯æŒï¼‰ */\n  zoom: var(--ui-scale);\n  /* åº”ç”¨åŸºç¡€å­—ä½“å¤§å° */\n  font-size: var(--base-font-size);\n}\n\n/* --- Reusable Button Class (The Master's Touch) --- */\n.btn {\n  display: inline-block;\n  padding: 0.75rem 1.5rem;\n  border: 1px solid var(--color-primary);\n  border-radius: 8px;\n  background-color: transparent;\n  color: var(--color-primary);\n  font-family: var(--font-family-serif);\n  font-size: 1rem;\n  font-weight: bold;\n  text-align: center;\n  text-decoration: none;\n  cursor: pointer;\n  transition: var(--transition-fast);\n  user-select: none; /* Prevent text selection on click */\n  position: relative;\n  overflow: hidden;\n}\n\n/* --- Button States (Guaranteed Visual Feedback) --- */\n.btn:hover {\n  background-color: var(--color-primary);\n  color: var(--color-background);\n  box-shadow: 0 0 15px rgba(200, 160, 100, 0.5);\n}\n\n.btn:active {\n  transform: scale(0.98);\n  background-color: var(--color-primary-active);\n  border-color: var(--color-primary-active);\n  box-shadow: none;\n}\n\n.btn:focus-visible {\n  outline: 2px solid var(--color-primary-hover);\n  outline-offset: 2px;\n}\n\n/* --- Disabled Button State --- */\n.btn:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n  background-color: transparent;\n  color: var(--color-border);\n  border-color: var(--color-border);\n  box-shadow: none;\n}\n\n/* --- ç§»é™¤æµå…‰ç‰¹æ•ˆ --- */\n\n/* --- Button Variants --- */\n.btn.btn-secondary {\n  border-color: var(--color-border);\n  color: var(--color-text);\n}\n\n.btn.btn-secondary:hover {\n  background-color: var(--color-surface);\n  border-color: var(--color-text);\n}\n\n.btn.btn-complete {\n  border-color: var(--color-accent); /* é’ç‰è‰² */\n  color: var(--color-accent);\n  animation: pulse-glow 2s ease-in-out infinite;\n}\n\n.btn.btn-complete:hover {\n  background-color: var(--color-accent);\n  color: var(--color-background);\n  box-shadow: 0 0 20px rgba(111, 179, 184, 0.5);\n}\n\n@keyframes pulse-glow {\n  0%,\n  100% {\n    box-shadow: 0 0 10px rgba(111, 179, 184, 0.3);\n  }\n  50% {\n    box-shadow: 0 0 20px rgba(111, 179, 184, 0.6);\n  }\n}\n\n/* --- å…¨å±€æ»šåŠ¨æ¡ç¾åŒ– (å…¼å®¹ WebKit &amp; Firefox) --- */\n/* WebKit browsers (Chrome, Safari, Edge) */\n#app::-webkit-scrollbar {\n  width: 10px; /* ç¨å¾®åŠ å®½ä»¥è·å¾—æ›´å¥½çš„ç‚¹å‡»åŒºåŸŸ */\n  height: 10px;\n}\n\n#app::-webkit-scrollbar-track {\n  background: var(--scrollbar-track-color);\n}\n\n#app::-webkit-scrollbar-thumb {\n  background-color: var(--scrollbar-thumb-color);\n  border-radius: 5px;\n  border: 2px solid transparent;\n  background-clip: content-box;\n  transition: background-color 0.3s ease-in-out;\n}\n\n#app::-webkit-scrollbar-thumb:hover {\n  background-color: var(--scrollbar-thumb-hover-color);\n}\n\n/* Firefox */\n#app {\n  scrollbar-width: thin;\n  scrollbar-color: var(--scrollbar-thumb-color) var(--scrollbar-track-color);\n}\n\n/* --- é€šç”¨æ³•å™¨æ ·å¼ï¼šå¡ç‰‡/é¢æ¿ (æµ®ç©ºæœ¯) --- */\n.card-panel {\n  background: var(--color-surface);\n  border: 2px solid var(--color-primary); /* åšå›ºã€é†’ç›®çš„ä¸»è‰²è¾¹æ¡† */\n  border-radius: 12px;\n  box-shadow: none; /* ç§»é™¤æ‰€æœ‰é˜´å½± */\n  transition: border-color 0.3s ease;\n}\n\n.card-panel:hover {\n  border-color: var(--color-primary-hover); /* æ‚¬æµ®æ—¶è¾¹æ¡†é¢œè‰²å˜äº® */\n  transform: none; /* ç§»é™¤æ‚¬æµ®æ—¶çš„ä½ç§» */\n}\n\n/* --- æ–°å¢æ ·å¼ï¼šå¤©æœºæ¨æ¼”åŠ¨ç”» (for Login Button) --- */\n.btn.is-loading .btn-text {\n  opacity: 0; /* Hide original text */\n}\n\n.btn.is-loading::before,\n.btn.is-loading::after {\n  content: '';\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  width: 20px;\n  height: 20px;\n  margin-top: -10px;\n  margin-left: -10px;\n  border-radius: 50%;\n  border: 2px solid var(--color-primary);\n  animation-duration: 1.5s;\n  animation-iteration-count: infinite;\n  animation-timing-function: ease-in-out;\n}\n\n.btn.is-loading::before {\n  border-style: solid solid dashed dashed;\n  animation-name: spin-left;\n}\n\n.btn.is-loading::after {\n  border-style: dashed dashed solid solid;\n  animation-name: spin-right;\n}\n\n@keyframes spin-left {\n  from { transform: rotate(0deg); }\n  to { transform: rotate(360deg); }\n}\n\n@keyframes spin-right {\n  from { transform: rotate(360deg); }\n  to { transform: rotate(0deg); }\n}\n\n/* --- æ–°å¢æ ·å¼ï¼šå¼€å¤©è¾Ÿåœ° (for MainGame Empty State) --- */\n.genesis-prompt {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  padding: 2rem;\n  text-align: center;\n  background: radial-gradient(ellipse at center, var(--color-surface-light) 0%, var(--color-background) 70%);\n}\n\n.genesis-title {\n  font-family: var(--font-family-serif);\n  font-size: 2.5rem;\n  color: var(--color-primary);\n  margin-bottom: 1rem;\n  text-shadow: 0 0 10px rgba(var(--color-primary-rgb), 0.3);\n}\n\n.genesis-subtitle {\n  font-size: 1.2rem;\n  color: var(--color-text-secondary);\n  max-width: 500px;\n  margin-bottom: 3rem;\n}\n\n.genesis-cta {\n  padding: 1.2rem 2.5rem;\n  font-size: 1.5rem;\n  border-width: 2px;\n  animation: pulse-glow 2.5s ease-in-out infinite;\n}\n\n/* --- æ–°å¢æ ·å¼ï¼šé“é€”é€‰æ‹©ç•Œé¢ --- */\n.mode-selection-container {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  max-height: 800px; /* é™åˆ¶æœ€å¤§é«˜åº¦é€‚åº”iframe */\n  overflow-y: auto;\n  color: var(--color-text);\n  display: flex;\n  flex-direction: column;\n  align-items: center; /* æ°´å¹³å±…ä¸­ */\n  justify-content: center; /* å‚ç›´å±…ä¸­ */\n  padding: 1rem 0; /* å‡å°å†…éƒ¨å‚ç›´è¾¹è· */\n  box-sizing: border-box; /* ç¡®ä¿ padding ä¸ä¼šå¯¼è‡´æº¢å‡º */\n}\n\n.video-background {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  transform: translate(-50%, -50%);\n  z-index: -2;\n}\n\n.video-overlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.5); /* é»˜è®¤é®ç½©ï¼Œæš—è‰²ä¸»é¢˜ä¸‹å¯è°ƒæ•´ */\n  z-index: -1;\n}\n\n:root[data-theme='dark'] .video-overlay {\n    background-color: rgba(10, 15, 24, 0.4); /* é™ä½é®ç½©é€æ˜åº¦ï¼Œè®©èƒŒæ™¯æ›´äº® */\n}\n\n.selection-content {\n  position: relative;\n  z-index: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 1.5rem;\n  background: var(--color-surface-light);\n  border-radius: 16px;\n  border: 1px solid var(--color-border);\n  backdrop-filter: blur(10px);\n  -webkit-backdrop-filter: blur(10px);\n  width: 90%;\n  max-width: 1000px;\n  max-height: calc(100% - 2rem); /* ç¡®ä¿ä¸è¶…å‡ºå®¹å™¨ */\n  overflow-y: auto; /* å…è®¸å†…å®¹æ»šåŠ¨ */\n  /* ç§»é™¤ marginï¼Œç”±çˆ¶å®¹å™¨çš„ padding æ§åˆ¶é—´è· */\n}\n\n.main-title {\n  font-family: var(--font-family-serif);\n  font-size: 3rem;\n  font-weight: 500;\n  margin-bottom: 2.5rem;\n  letter-spacing: 0.2em;\n  text-shadow: 0 0 15px rgba(var(--color-primary-rgb), 0.4);\n}\n\n.paths-container {\n  display: flex;\n  justify-content: center;\n  gap: 3rem;\n  width: 100%;\n}\n\n.path-card {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 2rem;\n  border-radius: 1rem;\n  border: 2px solid var(--color-primary);\n  background: var(--color-surface);\n  cursor: pointer;\n  transition: all 0.3s ease-in-out;\n  position: relative;\n  overflow: hidden;\n}\n\n.path-card:hover {\n  transform: translateY(-10px);\n  background: rgba(var(--color-primary-rgb), 0.4);\n}\n\n.path-card .path-icon {\n    font-size: 4rem;\n    margin-bottom: 1rem;\n    color: var(--color-primary);\n    transition: var(--transition-fast);\n}\n\n.path-card:hover .path-icon {\n    color: var(--color-accent);\n    transform: scale(1.1);\n}\n\n.path-title {\n  font-family: var(--font-family-serif);\n  font-size: 1.75rem;\n  margin-bottom: 0.75rem;\n}\n\n.path-description {\n  font-size: 1rem;\n  color: var(--color-text-secondary);\n  text-align: center;\n  max-width: 300px;\n}\n\n.bottom-actions {\n  position: fixed;\n  z-index: 100; /* Ensure it's on top of everything */\n  bottom: 2rem;\n  right: 2rem;\n  display: flex;\n  gap: 1rem;\n}\n\n.action-btn {\n  width: 48px;\n  height: 48px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 1.5rem;\n  border: 1px solid var(--color-border);\n  background-color: var(--color-surface);\n  color: var(--color-text-secondary);\n  border-radius: 50%;\n  cursor: pointer;\n  transition: var(--transition-fast);\n  backdrop-filter: blur(5px);\n}\n\n.action-btn:hover {\n  background-color: var(--color-surface-light);\n  color: var(--color-text);\n  border-color: var(--color-border-hover);\n  transform: scale(1.1);\n}\n\n/* --- é€šç”¨æ³•å™¨æ ·å¼ï¼šæ¨¡æ€å¯¹è¯æ¡†/å¼¹çª— (é¡»å¼¥èŠ¥å­) --- */\n.modal-dialog {\n  background-color: var(--color-surface);\n  color: var(--color-text); /* æ˜¾å¼è®¾ç½®æ–‡å­—é¢œè‰²ï¼Œé˜²æ­¢ç»§æ‰¿é—®é¢˜ */\n  border: 1px solid var(--color-border);\n  border-radius: 12px;\n  padding: 1.5rem;\n  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);\n}\n\n:root[data-theme='dark'] .modal-dialog {\n    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);\n}\n\n/* --- å…¨å±€æ“ä½œæŒ‰é’®æ ·å¼ (æ–°ç‰ˆ) --- */\n.global-actions {\n  position: fixed;\n  top: 20px;\n  right: 20px;\n  z-index: 1000;\n  display: flex;\n  gap: 12px;\n  pointer-events: auto;\n}\n\n.theme-toggle,\n.fullscreen-toggle {\n  --color: #a5a5b0;\n  --size: 24px;\n  width: 48px;\n  height: 48px;\n  border: none;\n  border-radius: 12px;\n  background: rgba(242, 241, 238, 0.9); /* ä½¿ç”¨æ›´æ¸©æ¶¦çš„èƒŒæ™¯è‰² */\n  backdrop-filter: blur(10px);\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  transition: all 0.3s ease;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n  color: var(--color);\n  font-size: var(--size);\n  user-select: none;\n  fill: var(--color);\n}\n\n.theme-toggle:hover,\n.fullscreen-toggle:hover {\n  transform: translateY(-2px) scale(1.05);\n  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);\n  background: rgba(242, 241, 238, 0.95); /* æ‚¬æµ®æ—¶ä¹Ÿä½¿ç”¨æ¸©æ¶¦èƒŒæ™¯è‰² */\n}\n\n.theme-toggle:active,\n.fullscreen-toggle:active {\n  transform: translateY(0);\n}\n\n/* ä¸»é¢˜åˆ‡æ¢å›¾æ ‡ */\n.theme-toggle .moon {\n  position: absolute;\n  animation: keyframes-fill .5s;\n  width: 24px;\n  height: 24px;\n}\n\n.theme-toggle .sun {\n  position: absolute;\n  display: none;\n  animation: keyframes-fill .5s;\n  width: 24px;\n  height: 24px;\n}\n\n.theme-toggle input:checked ~ .moon {\n  display: none;\n}\n\n.theme-toggle input:checked ~ .sun {\n  display: block;\n}\n\n/* å…¨å±åˆ‡æ¢å›¾æ ‡ */\n.fullscreen-toggle .expand {\n  position: absolute;\n  animation: fullscreen-fill .5s;\n  width: 24px;\n  height: 24px;\n}\n\n.fullscreen-toggle .compress {\n  position: absolute;\n  display: none;\n  animation: fullscreen-fill .5s;\n  width: 24px;\n  height: 24px;\n}\n\n.fullscreen-toggle input:checked ~ .expand {\n  display: none;\n}\n\n.fullscreen-toggle input:checked ~ .compress {\n  display: block;\n}\n\n/* éšè—checkbox */\n.theme-toggle input,\n.fullscreen-toggle input {\n  position: absolute;\n  opacity: 0;\n  cursor: pointer;\n  height: 0;\n  width: 0;\n}\n\n/* åŠ¨ç”»æ•ˆæœ */\n@keyframes keyframes-fill {\n  0% {\n    transform: rotate(-360deg) scale(0);\n    opacity: 0;\n  }\n  75% {\n    transform: rotate(25deg);\n  }\n  100% {\n    transform: rotate(0deg) scale(1);\n    opacity: 1;\n  }\n}\n\n@keyframes fullscreen-fill {\n  0% {\n    transform: scale(0);\n    opacity: 0;\n  }\n  50% {\n    transform: scale(1.2);\n  }\n  100% {\n    transform: scale(1);\n    opacity: 1;\n  }\n}\n\n/* æš—è‰²ä¸»é¢˜é€‚é… */\n[data-theme=\"dark\"] .theme-toggle,\n[data-theme=\"dark\"] .fullscreen-toggle {\n  background: rgba(41, 51, 72, 0.9);\n  --color: #82A3F5;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\n}\n\n[data-theme=\"dark\"] .theme-toggle:hover,\n[data-theme=\"dark\"] .fullscreen-toggle:hover {\n  background: rgba(41, 51, 72, 0.95);\n  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.4);\n}\n\n/* --- App Root &amp; Transitions --- */\n.fade-enter-active,\n.fade-leave-active {\n  transition: opacity 0.3s ease;\n}\n\n.fade-enter-from,\n.fade-leave-to {\n  opacity: 0;\n}\n\n#app-container {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  overflow-x: hidden;\n  position: relative;\n}\n\n/* --- Author Modal Styles --- */\n.author-modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.7);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n  backdrop-filter: blur(5px);\n}\n\n.author-modal {\n  background: var(--color-surface);\n  padding: 1.5rem 2rem;\n  border-radius: 12px;\n  border: 1px solid var(--color-border);\n  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);\n  width: 90%;\n  max-width: 500px;\n  color: var(--color-text);\n}\n\n.author-modal-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  border-bottom: 1px solid var(--color-border);\n  padding-bottom: 1rem;\n  margin-bottom: 1rem;\n}\n\n.author-modal-header h3 {\n  margin: 0;\n  font-size: 1.4rem;\n  font-family: var(--font-family-serif);\n}\n\n.author-modal-body p {\n  margin: 0.8rem 0;\n  font-size: 1rem;\n  line-height: 1.6;\n}\n\n.author-modal-body a {\n  color: var(--color-primary);\n  text-decoration: none;\n  word-break: break-all;\n}\n\n.author-modal-body a:hover {\n  text-decoration: underline;\n}\n\n.close-btn {\n  background: none;\n  border: none;\n  font-size: 2rem;\n  color: var(--color-text-muted);\n  cursor: pointer;\n  line-height: 1;\n  padding: 0;\n}\n\n.close-btn:hover {\n  color: var(--color-text);\n}\n",""]);const i=l},1211:(e,n,t)=&gt;{t.d(n,{N:()=&gt;s});var a=t(1774),o=t(4061),r=t(8651),l=t(9333),i=t(7527);function c(e){if(null===e||"object"!=typeof e)return!1;const n=e;return Array.isArray(n.worlds)&amp;&amp;Array.isArray(n.talentTiers)&amp;&amp;Array.isArray(n.origins)&amp;&amp;Array.isArray(n.spiritRoots)&amp;&amp;Array.isArray(n.talents)}const s=(0,a.nY)("characterCreation",()=&gt;{const e=(0,o.ref)("single"),n=(0,o.ref)(!1),a=(0,o.ref)(null),s=(0,o.ref)({worlds:[],talentTiers:[],origins:[],spiritRoots:[],talents:[]}),d=(0,o.ref)({gender:"ç”·",character_name:"",race:"äººæ—",world_id:"",talent_tier_id:"",current_age:18,root_bone:0,spirituality:0,comprehension:0,fortune:0,charm:0,temperament:0,origin_id:null,spirit_root_id:null,selected_talent_ids:[]}),m=(0,o.ref)(1),p=(0,o.ref)(!0),v=(0,o.ref)(null),u=(0,o.ref)({majorFactionsCount:Math.floor(4*Math.random())+5,totalLocations:Math.floor(11*Math.random())+20,secretRealmsCount:Math.floor(6*Math.random())+6,continentCount:Math.floor(5*Math.random())+3,hasImmortalEmpires:!1,hasDemonicFactions:!0,hasAncientSects:!0,mapConfig:{width:3600,height:2400,minLng:100,maxLng:130,minLat:25,maxLat:45}}),g=(0,o.computed)(()=&gt;7),f=(0,o.computed)(()=&gt;({root_bone:d.value.root_bone,spirituality:d.value.spirituality,comprehension:d.value.comprehension,fortune:d.value.fortune,charm:d.value.charm,temperament:d.value.temperament})),b=(0,o.computed)(()=&gt;s.value.worlds.find(e=&gt;e.id===d.value.world_id)||null),h=(0,o.computed)(()=&gt;s.value.talentTiers.find(e=&gt;e.id===d.value.talent_tier_id)||null),y=(0,o.computed)(()=&gt;s.value.origins.find(e=&gt;e.id===d.value.origin_id)||null),x=(0,o.computed)(()=&gt;s.value.spiritRoots.find(e=&gt;e.id===d.value.spirit_root_id)||null),k=(0,o.computed)(()=&gt;s.value.talents.filter(e=&gt;d.value.selected_talent_ids.includes(e.id))),w=(0,o.computed)(()=&gt;{let e=0;return k.value.some(e=&gt;"éœ¸ç‹è¡€è„‰"===e.name)&amp;&amp;(e+=1,console.log('[å¤©é“ç‚¹è®¡ç®—] æ£€æµ‹åˆ° "éœ¸ç‹è¡€è„‰" å¤©èµ‹, å¢åŠ  1 å¤©é“ç‚¹')),e}),N=(0,o.computed)(()=&gt;{if(!h.value)return 0;let e=h.value.total_points;console.log("[å¤©é“ç‚¹è®¡ç®—] åˆå§‹å¤©é“ç‚¹:",e),e+=w.value,y.value&amp;&amp;(console.log("[å¤©é“ç‚¹è®¡ç®—] å‡ºç”Ÿæ¶ˆè€—:",y.value.talent_cost),e-=y.value.talent_cost),x.value&amp;&amp;(console.log("[å¤©é“ç‚¹è®¡ç®—] çµæ ¹æ¶ˆè€—:",x.value.talent_cost),e-=x.value.talent_cost);const n=k.value.reduce((e,n)=&gt;e+n.talent_cost,0);console.log("[å¤©é“ç‚¹è®¡ç®—] å·²é€‰å¤©èµ‹æ•°é‡:",k.value.length),console.log("[å¤©é“ç‚¹è®¡ç®—] å·²é€‰å¤©èµ‹åˆ—è¡¨:",k.value.map(e=&gt;({åç§°:e.name,æ¶ˆè€—:e.talent_cost}))),console.log("[å¤©é“ç‚¹è®¡ç®—] å¤©èµ‹æ€»æ¶ˆè€—:",n),e-=n;const t=Object.values(f.value).reduce((e,n)=&gt;e+n,0);return console.log("[å¤©é“ç‚¹è®¡ç®—] å…ˆå¤©å…­å¸æ€»å’Œ:",t),e-=t,console.log("[å¤©é“ç‚¹è®¡ç®—] æœ€ç»ˆå‰©ä½™:",e),e}),E=(0,o.computed)(()=&gt;{if(!h.value)return 0;const e=h.value.total_points-N.value;return Math.max(0,e)});async function V(){const e=(0,r.getTavernHelper)();if(!e)return void console.error("ã€åˆ›ä¸–ç¥æ®¿ã€‘æ— æ³•è¿æ¥åˆ°é…’é¦†åŠ©æ‰‹ï¼Œæ•°æ®æ— æ³•æŒä¹…åŒ–ï¼");const n={worlds:s.value.worlds.filter(e=&gt;"cloud"===e.source),talentTiers:s.value.talentTiers.filter(e=&gt;"cloud"===e.source),origins:s.value.origins.filter(e=&gt;"cloud"===e.source),spiritRoots:s.value.spiritRoots.filter(e=&gt;"cloud"===e.source),talents:s.value.talents.filter(e=&gt;"cloud"===e.source)},{deepCleanForClone:a}=await Promise.resolve().then(t.bind(t,3098)),o=a({DAD_creationData:n});await e.insertOrAssignVariables(o,{type:"global"}),console.log("ã€åˆ›ä¸–ç¥æ®¿ã€‘äº‘ç«¯åˆ›ä¸–æ•°æ®å·²å­˜å…¥å…¨å±€å˜é‡ï¼")}function C(e){s.value.worlds.unshift({...e,source:"cloud"}),V()}function z(e){s.value.talentTiers.unshift({...e,source:"cloud"}),V()}function S(e){s.value.origins.unshift({...e,source:"cloud"}),V()}function B(e){s.value.spiritRoots.unshift({...e,source:"cloud"}),V()}function D(e){s.value.talents.unshift({...e,source:"cloud"}),V()}async function A(e,n){const a=s.value[e].findIndex(e=&gt;e.id===n);if(a&gt;-1){const o=s.value[e][a];if(s.value[e].splice(a,1),console.log(`ã€åˆ›ä¸–ç¥æ®¿ã€‘å·²åˆ é™¤ ${e} é¡¹ç›®ï¼ŒID: ${n}ï¼Œæ¥æº: ${o.source}`),await V(),"cloud"===o.source){console.log("ã€åˆ›ä¸–ç¥æ®¿ã€‘åˆ é™¤äº‘ç«¯æ•°æ®ï¼Œå¼ºåˆ¶åŒæ­¥é…’é¦†å…¨å±€å˜é‡");try{const a=(0,r.getTavernHelper)();if(a){console.log("ã€åˆ›ä¸–ç¥æ®¿ã€‘æ–¹æ¡ˆ1ï¼šå®Œå…¨é‡ç½® DAD_creationData");const o={worlds:s.value.worlds.filter(e=&gt;"cloud"===e.source),talentTiers:s.value.talentTiers.filter(e=&gt;"cloud"===e.source),origins:s.value.origins.filter(e=&gt;"cloud"===e.source),spiritRoots:s.value.spiritRoots.filter(e=&gt;"cloud"===e.source),talents:s.value.talents.filter(e=&gt;"cloud"===e.source)};console.log("ã€åˆ›ä¸–ç¥æ®¿ã€‘å‡†å¤‡ä¿å­˜çš„æ–°æ•°æ®:",JSON.stringify(o,null,2));try{await a.deleteVariable("DAD_creationData",{type:"global"}),console.log("ã€åˆ›ä¸–ç¥æ®¿ã€‘å·²åˆ é™¤æ—§çš„ DAD_creationData")}catch(e){console.warn("ã€åˆ›ä¸–ç¥æ®¿ã€‘åˆ é™¤æ—§å˜é‡å¤±è´¥ï¼ˆå¯èƒ½ä¸å­˜åœ¨ï¼‰:",e)}const{deepCleanForClone:r}=await Promise.resolve().then(t.bind(t,3098)),l=r({DAD_creationData:o});await a.insertOrAssignVariables(l,{type:"global"}),console.log("ã€åˆ›ä¸–ç¥æ®¿ã€‘å·²é‡æ–°åˆ›å»º DAD_creationData");const i=(await a.getVariables({type:"global"})).DAD_creationData;if(console.log("ã€åˆ›ä¸–ç¥æ®¿ã€‘éªŒè¯ï¼šæ›´æ–°åçš„ DAD_creationData:",JSON.stringify(i,null,2)),i&amp;&amp;c(i)){const t=i[e].filter(e=&gt;e.id===n);0===t.length?console.log(`ã€åˆ›ä¸–ç¥æ®¿ã€‘âœ… éªŒè¯æˆåŠŸï¼š${e} é¡¹ç›® ID: ${n} å·²ä»é…’é¦†å…¨å±€å˜é‡ä¸­åˆ é™¤`):(console.error(`ã€åˆ›ä¸–ç¥æ®¿ã€‘âŒ éªŒè¯å¤±è´¥ï¼š${e} é¡¹ç›® ID: ${n} ä»åœ¨é…’é¦†å…¨å±€å˜é‡ä¸­`),console.error("ã€åˆ›ä¸–ç¥æ®¿ã€‘å‰©ä½™é¡¹ç›®:",t))}else console.error("ã€åˆ›ä¸–ç¥æ®¿ã€‘âŒ éªŒè¯å¤±è´¥ï¼šDAD_creationData æ ¼å¼æ— æ•ˆ")}else console.error("ã€åˆ›ä¸–ç¥æ®¿ã€‘âŒ é…’é¦†åŠ©æ‰‹ä¸å¯ç”¨")}catch(e){console.error("ã€åˆ›ä¸–ç¥æ®¿ã€‘âŒ åŒæ­¥é…’é¦†å…¨å±€å˜é‡å¤±è´¥:",e)}}}else console.warn(`ã€åˆ›ä¸–ç¥æ®¿ã€‘åˆ é™¤å¤±è´¥ï¼šæœªæ‰¾åˆ° ${e} é¡¹ç›®ï¼ŒID: ${n}`)}function _(e,n,t){const a=s.value[e].findIndex(e=&gt;e.id===n);if(a&gt;-1){const o=s.value[e][a];return s.value[e][a]={...o,...t},console.log(`ã€åˆ›ä¸–ç¥æ®¿ã€‘å·²æ›´æ–° ${e} é¡¹ç›®ï¼ŒID: ${n}`),V(),!0}return!1}async function $(){const e=await async function(){let e="";try{e=await(0,r.wz)()||""}catch(n){console.warn("è·å–ç”¨æˆ·åå­—å¤±è´¥:",n),e=""}return{gender:"ç”·",character_name:e,race:"äººæ—",world_id:"",talent_tier_id:"",current_age:18,root_bone:0,spirituality:0,comprehension:0,fortune:0,charm:0,temperament:0,origin_id:null,spirit_root_id:null,selected_talent_ids:[]}}();d.value=e,m.value=1}return{mode:e,isLoading:n,error:a,creationData:s,characterPayload:d,currentStep:m,isLocalCreation:p,initialGameMessage:v,worldGenerationConfig:u,totalSteps:g,attributes:f,selectedWorld:b,selectedTalentTier:h,selectedOrigin:y,selectedSpiritRoot:x,selectedTalents:k,remainingTalentPoints:N,totalTalentCost:E,bonusTalentPoints:w,initializeStore:async function(t){n.value=!0,a.value=null,e.value=t;try{const e=await(0,r.wz)();e&amp;&amp;(d.value.character_name=e,console.log("ã€åˆ›ä¸–ç¥æ®¿ã€‘å·²è·å–ç”¨æˆ·é“å·:",e))}catch(e){console.warn("ã€åˆ›ä¸–ç¥æ®¿ã€‘è·å–ç”¨æˆ·é“å·å¤±è´¥",e)}try{if("single"===t){console.log("ã€åˆ›ä¸–ç¥æ®¿ã€‘åˆå§‹åŒ–å•æœºæ¨¡å¼ï¼ŒåŠ è½½æœ¬åœ°æ•°æ®å’Œè‡ªå®šä¹‰æ•°æ®ï¼");const e=i.eQ.map(e=&gt;({...e,source:"local"})),n=i.VQ.map(e=&gt;({...e,source:"local"})),t=i.yM.map(e=&gt;({...e,source:"local"})),a=i.Gr.map(e=&gt;({...e,source:"local"})),o=i.qS.map(e=&gt;({...e,source:"local"})),l=(0,r.getTavernHelper)();let d={worlds:[],talentTiers:[],origins:[],spiritRoots:[],talents:[]};if(l)try{const e=await l.getVariables({type:"global"}),n=e?.DAD_creationData;c(n)&amp;&amp;(d=n,console.log("ã€åˆ›ä¸–ç¥æ®¿ã€‘å•æœºæ¨¡å¼ä¹ŸæˆåŠŸåŠ è½½äº†è‡ªå®šä¹‰æ•°æ®:",{worlds:d.worlds.length,talentTiers:d.talentTiers.length,origins:d.origins.length,spiritRoots:d.spiritRoots.length,talents:d.talents.length}))}catch(e){console.warn("ã€åˆ›ä¸–ç¥æ®¿ã€‘å•æœºæ¨¡å¼åŠ è½½è‡ªå®šä¹‰æ•°æ®å¤±è´¥ï¼Œä»…ä½¿ç”¨æœ¬åœ°æ•°æ®:",e)}const m=d.worlds.map(e=&gt;({...e,source:"cloud"})),p=d.talentTiers.map(e=&gt;({...e,source:"cloud"})),v=d.origins.map(e=&gt;({...e,source:"cloud"})),u=d.spiritRoots.map(e=&gt;({...e,source:"cloud"})),g=d.talents.map(e=&gt;({...e,source:"cloud"})),f=(e,n)=&gt;{const t=new Map;return e.forEach(e=&gt;t.set(e.id,e)),n.forEach(e=&gt;t.set(e.id,e)),Array.from(t.values())};s.value.worlds=f(e,m),s.value.talentTiers=f(n,p),s.value.origins=f(t,v),s.value.spiritRoots=f(a,u),s.value.talents=f(o,g)}else{console.log("ã€åˆ›ä¸–ç¥æ®¿ã€‘åˆå§‹åŒ–è”æœºæ¨¡å¼ï¼ŒåŠ è½½æœ¬åœ°åŠç¼“å­˜çš„äº‘ç«¯æ•°æ®ï¼");const e=(0,r.getTavernHelper)();let n={worlds:[],talentTiers:[],origins:[],spiritRoots:[],talents:[]};if(e){const t=await e.getVariables({type:"global"}),a=t?.DAD_creationData;c(a)&amp;&amp;(n=a,console.log("ã€åˆ›ä¸–ç¥æ®¿ã€‘ä»å…¨å±€å˜é‡ä¸­åŠ è½½äº†å·²ç¼“å­˜çš„äº‘ç«¯åˆ›ä¸–æ•°æ®ï¼"))}const t=i.eQ.map(e=&gt;({...e,source:"local"})),a=i.VQ.map(e=&gt;({...e,source:"local"})),o=i.yM.map(e=&gt;({...e,source:"local"})),l=i.Gr.map(e=&gt;({...e,source:"local"})),d=i.qS.map(e=&gt;({...e,source:"local"})),m=n.worlds.map(e=&gt;({...e,source:"cloud"})),p=n.talentTiers.map(e=&gt;({...e,source:"cloud"})),v=n.origins.map(e=&gt;({...e,source:"cloud"})),u=n.spiritRoots.map(e=&gt;({...e,source:"cloud"})),g=n.talents.map(e=&gt;({...e,source:"cloud"})),f=(e,n)=&gt;{const t=new Map;return e.forEach(e=&gt;t.set(e.id,e)),n.forEach(e=&gt;t.set(e.id,e)),Array.from(t.values())};s.value.worlds=f(t,m),s.value.talentTiers=f(a,p),s.value.origins=f(o,v),s.value.spiritRoots=f(l,u),s.value.talents=f(d,g)}}catch(e){console.error("åŠ è½½æ•°æ®å¤±è´¥:",e),a.value="åŠ è½½æ•°æ®å¤±è´¥",s.value.talentTiers=i.VQ.map(e=&gt;({...e,source:"local"})),s.value.origins=i.yM.map(e=&gt;({...e,source:"local"})),s.value.spiritRoots=i.Gr.map(e=&gt;({...e,source:"local"})),s.value.talents=i.qS.map(e=&gt;({...e,source:"local"}))}finally{n.value=!1}},fetchCloudWorlds:async function(){console.log("ã€åˆ›ä¸–ç¥æ®¿ã€‘æ­£åœ¨ä»äº‘ç«¯è·å–ä¸–ç•Œåˆ—è¡¨..."),n.value=!0,a.value=null;try{const e=await(0,l.w2)();console.log("ã€åˆ›ä¸–ç¥æ®¿ã€‘æˆåŠŸè·å–äº‘ç«¯ä¸–ç•Œæ•°æ®",e);const n=e.map(e=&gt;({...e,source:"cloud"})),t=(i.eQ.map(e=&gt;({...e,source:"local"})),new Map);n.forEach(e=&gt;t.set(e.id,e)),s.value.worlds=Array.from(t.values()),console.log("ã€åˆ›ä¸–ç¥æ®¿ã€‘ä¸–ç•Œåˆ—è¡¨å·²æ›´æ–°:",s.value.worlds.length,"ä¸ªä¸–ç•Œ"),console.log("ã€åˆ›ä¸–ç¥æ®¿ã€‘äº‘ç«¯ä¸–ç•Œ",s.value.worlds.filter(e=&gt;"cloud"===e.source))}catch(e){console.error("ã€åˆ›ä¸–ç¥æ®¿ã€‘ä»äº‘ç«¯è·å–ä¸–ç•Œåˆ—è¡¨å¤±è´¥:",e),a.value=`è·å–äº‘ç«¯ä¸–ç•Œåˆ—è¡¨å¤±è´¥: ${e instanceof Error?e.message:"æœªçŸ¥é”™è¯¯"}`;const n=i.eQ.map(e=&gt;({...e,source:"local"}));s.value.worlds=n,console.warn("ã€åˆ›ä¸–ç¥æ®¿ã€‘äº‘ç«¯æ•°æ®è·å–å¤±è´¥ï¼Œå·²æä¾›æœ¬åœ°å¤‡é€‰æ•°æ®")}finally{n.value=!1}},fetchAllCloudData:async function(){console.log("ã€åˆ›ä¸–ç¥æ®¿ã€‘æ­£åœ¨ä»äº‘ç«¯è·å–å®Œæ•´åˆ›ä¸–æ•°æ®..."),n.value=!0,a.value=null;try{const[e,n,t,a,o]=await Promise.all([(0,l.w2)(),(0,l.yZ)(),(0,l.Uy)(),(0,l.xJ)(),(0,l.Qc)()]);console.log("ã€åˆ›ä¸–ç¥æ®¿ã€‘æˆåŠŸè·å–æ‰€æœ‰äº‘ç«¯æ•°æ®"),console.log("- ä¸–ç•Œ:",e.length,"ä¸ª"),console.log("- å¤©èµ„ç­‰çº§:",n.length,"ä¸ª"),console.log("- å‡ºèº«:",t.length,"ä¸ª"),console.log("- çµæ ¹:",a.length,"ä¸ª"),console.log("- å¤©èµ‹:",o.length,"ä¸ª");const r={worlds:s.value.worlds.length,talentTiers:s.value.talentTiers.length,origins:s.value.origins.length,spiritRoots:s.value.spiritRoots.length,talents:s.value.talents.length},i=(e,n)=&gt;(e||[]).filter(Boolean).map(e=&gt;({...n,...e,source:"cloud"})),c=i(e,{id:0,name:"",era:"",description:""}),d=i(n,{id:0,name:"æœªçŸ¥å¤©èµ„",description:"",total_points:20,rarity:1,color:"#FFFFFF"}),m=i(t,{id:0,name:"",description:"",talent_cost:0,attribute_modifiers:{},rarity:0}),p=i(a,{id:0,name:"",tier:"",description:"",base_multiplier:0,talent_cost:0}),v=i(o,{id:0,name:"",description:"",talent_cost:0,rarity:0}),u=s.value.worlds,g=s.value.talentTiers,f=s.value.origins,b=s.value.spiritRoots,h=s.value.talents,y=(e,n)=&gt;{const t=[],a=new Set(e.map(e=&gt;e.name));let o=Math.max(...e.map(e=&gt;e.id),0);return n.forEach(e=&gt;{if(!a.has(e.name)){o++;const n={...e,id:o};t.push(n),a.add(n.name)}}),t},x=(e,n)=&gt;{n.length&gt;0&amp;&amp;e.push(...n)};x(s.value.worlds,y(u,c)),x(s.value.talentTiers,y(g,d)),x(s.value.origins,y(f,m)),x(s.value.spiritRoots,y(b,p)),x(s.value.talents,y(h,v)),console.log("ã€åˆ›ä¸–ç¥æ®¿ã€‘æ‰€æœ‰äº‘ç«¯æ•°æ®åˆå¹¶å®Œæˆ"),console.log("ã€åˆ›ä¸–ç¥æ®¿ã€‘æœ€ç»ˆæ•°æ®éªŒè¯"),console.log("- ä¸–ç•Œ (äº‘ç«¯):",s.value.worlds.filter(e=&gt;"cloud"===e.source).length),console.log("- å¤©èµ„ (äº‘ç«¯):",s.value.talentTiers.filter(e=&gt;"cloud"===e.source).length),console.log("- å‡ºèº« (äº‘ç«¯):",s.value.origins.filter(e=&gt;"cloud"===e.source).length),console.log("- çµæ ¹ (äº‘ç«¯):",s.value.spiritRoots.filter(e=&gt;"cloud"===e.source).length),console.log("- å¤©èµ‹ (äº‘ç«¯):",s.value.talents.filter(e=&gt;"cloud"===e.source).length),console.log("ã€åˆ›ä¸–ç¥æ®¿ã€‘å¤©èµ„æ•°æ®ç¤ºä¾‹",s.value.talentTiers.slice(0,3).map(e=&gt;({name:e.name,source:e.source})));const k={worlds:s.value.worlds.length,talentTiers:s.value.talentTiers.length,origins:s.value.origins.length,spiritRoots:s.value.spiritRoots.length,talents:s.value.talents.length},w=k.worlds-r.worlds+(k.talentTiers-r.talentTiers)+(k.origins-r.origins)+(k.spiritRoots-r.spiritRoots)+(k.talents-r.talents);return console.log(`ã€åˆ›ä¸–ç¥æ®¿ã€‘åŒæ­¥å®Œæˆï¼Œæ–°å¢ ${w} é¡¹æ•°æ®ã€‚`),await V(),w}catch(e){console.error("ã€åˆ›ä¸–ç¥æ®¿ã€‘è·å–äº‘ç«¯åˆ›ä¸–æ•°æ®å¤±è´¥",e),a.value=`è·å–äº‘ç«¯åˆ›ä¸–æ•°æ®å¤±è´¥: ${e instanceof Error?e.message:"æœªçŸ¥é”™è¯¯"}`;const n=i.eQ.map(e=&gt;({...e,source:"local"})),t=i.VQ.map(e=&gt;({...e,source:"local"})),o=i.yM.map(e=&gt;({...e,source:"local"})),r=i.Gr.map(e=&gt;({...e,source:"local"})),l=i.qS.map(e=&gt;({...e,source:"local"}));return s.value.worlds=n,s.value.talentTiers=t,s.value.origins=o,s.value.spiritRoots=r,s.value.talents=l,console.warn("ã€åˆ›ä¸–ç¥æ®¿ã€‘äº‘ç«¯æ•°æ®è·å–å¤±è´¥ï¼Œå·²æä¾›æœ¬åœ°å¤‡é€‰æ•°æ®"),0}finally{n.value=!1}},addWorld:C,addTalentTier:z,addOrigin:S,addSpiritRoot:B,addTalent:D,addGeneratedData:function(e,n){switch(e){case"world":C(n);break;case"talent_tier":z(n);break;case"origin":S(n);break;case"spirit_root":B(n);break;case"talent":D(n);break;default:console.warn(`Unknown data type for addGeneratedData: ${e}`)}},removeWorld:async e=&gt;await A("worlds",e),removeTalentTier:async e=&gt;await A("talentTiers",e),removeOrigin:async e=&gt;await A("origins",e),removeSpiritRoot:async e=&gt;await A("spiritRoots",e),removeTalent:async e=&gt;await A("talents",e),updateWorld:(e,n)=&gt;_("worlds",e,n),updateTalentTier:(e,n)=&gt;_("talentTiers",e,n),updateOrigin:(e,n)=&gt;_("origins",e,n),updateSpiritRoot:(e,n)=&gt;_("spiritRoots",e,n),updateTalent:(e,n)=&gt;_("talents",e,n),getItemById:(e,n)=&gt;s.value[e].find(e=&gt;e.id===n)||null,selectWorld:function(e){d.value.world_id=e},selectTalentTier:function(e){d.value.talent_tier_id=e,d.value.origin_id=null,d.value.spirit_root_id=null,d.value.selected_talent_ids=[],d.value.root_bone=0,d.value.spirituality=0,d.value.comprehension=0,d.value.fortune=0,d.value.charm=0,d.value.temperament=0},selectOrigin:function(e){d.value.origin_id=e},selectSpiritRoot:function(e){d.value.spirit_root_id=e},toggleTalent:function(e){const n=d.value.selected_talent_ids.indexOf(e);n&gt;-1?d.value.selected_talent_ids.splice(n,1):d.value.selected_talent_ids.push(e)},setAttribute:function(e,n){e in d.value&amp;&amp;(d.value[e]=n)},resetCharacter:$,nextStep:function(){m.value&lt;7&amp;&amp;m.value++},prevStep:function(){m.value&gt;1&amp;&amp;m.value--},goToStep:function(e){e&gt;=1&amp;&amp;e&lt;=7&amp;&amp;(m.value=e)},setMode:function(n){e.value=n,p.value="single"===n},toggleLocalCreation:function(){p.value=!p.value},setInitialGameMessage:function(e){v.value=e},setWorldGenerationConfig:function(e){u.value={...u.value,...e}},resetOnExit:async function(){await $(),e.value="single",p.value=!0},startLocalCreation:async function(){await $(),p.value=!0,e.value="single"},startCloudCreation:async function(){await $(),p.value=!1,e.value="cloud"},persistCustomData:V}})},1214:(e,n,t)=&gt;{t.d(n,{A:()=&gt;i});var a=t(1601),o=t.n(a),r=t(6314),l=t.n(r)()(o());l.push([e.id,'\n/* å‘½ä»¤æ—¥å¿—å¼¹çª—æ ·å¼ */\n.command-log-overlay[data-v-b63a96a6] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  z-index: 1000;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 20px;\n  backdrop-filter: blur(4px);\n}\n.command-log-modal[data-v-b63a96a6] {\n  background: var(--color-surface);\n  border-radius: 16px;\n  width: 100%;\n  max-width: 500px;\n  max-height: 80vh;\n  overflow: hidden;\n  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);\n  border: 1px solid var(--color-border);\n  display: flex;\n  flex-direction: column;\n}\n\n/* å¼¹çª—åŠ¨ç”» */\n.command-log-modal-enter-active[data-v-b63a96a6],\n.command-log-modal-leave-active[data-v-b63a96a6] {\n  transition: all 0.3s ease;\n}\n.command-log-modal-enter-from[data-v-b63a96a6],\n.command-log-modal-leave-to[data-v-b63a96a6] {\n  opacity: 0;\n  transform: scale(0.9) translateY(20px);\n}\n.command-log-header[data-v-b63a96a6] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 16px 20px;\n  background: linear-gradient(135deg, var(--color-surface-light) 0%, var(--color-surface-hover) 100%);\n  border-bottom: 1px solid var(--color-border);\n  flex-shrink: 0;\n}\n.command-log-header h3[data-v-b63a96a6] {\n  margin: 0;\n  font-size: 1rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.close-log-btn[data-v-b63a96a6] {\n  background: none;\n  border: none;\n  color: var(--color-text-secondary);\n  cursor: pointer;\n  padding: 6px;\n  border-radius: 50%;\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.close-log-btn[data-v-b63a96a6]:hover {\n  background: var(--color-surface-hover);\n  color: var(--color-text);\n  transform: rotate(90deg);\n}\n.command-log-content[data-v-b63a96a6] {\n  padding: 16px;\n  overflow-y: auto;\n  flex: 1;\n}\n.command-list[data-v-b63a96a6] {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n}\n.command-item[data-v-b63a96a6] {\n  display: flex;\n  gap: 12px;\n  padding: 12px;\n  background: var(--color-surface-light);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  transition: all 0.2s ease;\n}\n.command-item[data-v-b63a96a6]:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n  border-color: var(--color-primary);\n}\n.command-icon-wrapper[data-v-b63a96a6] {\n  width: 40px;\n  height: 40px;\n  flex-shrink: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 50%;\n  background: var(--color-primary-light);\n  color: var(--color-primary);\n}\n.command-details[data-v-b63a96a6] {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n.command-description[data-v-b63a96a6] {\n  margin: 0;\n  font-size: 0.9rem;\n  font-weight: 500;\n  color: var(--color-text);\n  line-height: 1.4;\n}\n.command-values[data-v-b63a96a6] {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  font-size: 0.85rem;\n  font-family: var(--font-family-mono);\n}\n.old-value[data-v-b63a96a6], .new-value[data-v-b63a96a6] {\n  padding: 4px 8px;\n  border-radius: 4px;\n}\n.old-value[data-v-b63a96a6] {\n  background: rgba(var(--color-error-rgb), 0.1);\n  color: var(--color-danger);\n  text-decoration: line-through;\n}\n.new-value[data-v-b63a96a6] {\n  background: rgba(var(--color-success-rgb), 0.1);\n  color: var(--color-success);\n  font-weight: 600;\n}\n.arrow[data-v-b63a96a6] {\n  color: var(--color-text-secondary);\n  font-weight: 600;\n}\n.no-commands[data-v-b63a96a6] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 2rem;\n  text-align: center;\n  color: var(--color-text-secondary);\n}\n.no-commands .empty-icon[data-v-b63a96a6] {\n  opacity: 0.5;\n  margin-bottom: 1rem;\n}\n.no-commands .empty-text[data-v-b63a96a6] {\n  font-weight: 600;\n  margin-bottom: 0.5rem;\n  color: var(--color-text);\n  font-size: 1rem;\n}\n.no-commands .empty-hint[data-v-b63a96a6] {\n  font-size: 0.85rem;\n  opacity: 0.8;\n}\n\n/* æ·±è‰²ä¸»é¢˜é€‚é… */\n[data-theme="dark"] .command-log-modal[data-v-b63a96a6] {\n  background: #1e293b;\n  border-color: #475569;\n}\n[data-theme="dark"] .command-log-header[data-v-b63a96a6] {\n  background: linear-gradient(135deg, #334155 0%, #1e293b 100%);\n  border-color: #475569;\n}\n[data-theme="dark"] .command-item[data-v-b63a96a6] {\n  background: #334155;\n  border-color: #475569;\n}\n[data-theme="dark"] .command-item[data-v-b63a96a6]:hover {\n  border-color: var(--color-primary);\n}\n[data-theme="dark"] .command-icon-wrapper[data-v-b63a96a6] {\n  background: rgba(var(--color-primary-rgb), 0.1);\n}\n[data-theme="dark"] .old-value[data-v-b63a96a6] {\n  background: rgba(var(--color-error-rgb), 0.2);\n}\n[data-theme="dark"] .new-value[data-v-b63a96a6] {\n  background: rgba(var(--color-success-rgb), 0.2);\n}\n.main-game-panel[data-v-b63a96a6] {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  background: var(--color-background);\n  font-family: -apple-system, BlinkMacSystemFont, \'Segoe UI\', Roboto, sans-serif;\n  box-sizing: border-box;\n}\n\n/* çŸ­æœŸè®°å¿†åŒºåŸŸ */\n.memory-section[data-v-b63a96a6] {\n  padding: 12px 20px;\n  background: linear-gradient(135deg, #fefbff 0%, #f8fafc 100%);\n  border-bottom: 1px solid #e2e8f0;\n  position: relative;\n  z-index: 20;\n  flex-shrink: 0;\n}\n.memory-header[data-v-b63a96a6] {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  cursor: pointer;\n  padding: 4px 0;\n  transition: all 0.2s ease;\n}\n.memory-header[data-v-b63a96a6]:hover {\n  background: rgba(99, 102, 241, 0.05);\n  border-radius: 6px;\n  margin: -4px;\n  padding: 8px 4px;\n}\n.memory-title[data-v-b63a96a6] {\n  font-size: 0.85rem;\n  font-weight: 600;\n  color: #6366f1;\n}\n.memory-icon[data-v-b63a96a6] {\n  color: #94a3b8;\n  transition: transform 0.2s ease;\n}\n\n/* ä¸‹æ‹‰æ‚¬æµ®æ•ˆæœ */\n.memory-dropdown[data-v-b63a96a6] {\n  position: absolute;\n  top: 100%;\n  left: 0;\n  right: 0;\n  background: var(--color-background);\n  border: 1px solid #e2e8f0;\n  border-top: none;\n  border-radius: 0 0 12px 12px;\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);\n  z-index: 19;\n  max-height: 300px;\n  overflow-y: auto;\n}\n.memory-content[data-v-b63a96a6] {\n  padding: 16px 20px;\n}\n.memory-item[data-v-b63a96a6] {\n  font-size: 0.85rem;\n  color: #374151;\n  margin-bottom: 12px;\n  padding: 12px 16px;\n  background: rgba(99, 102, 241, 0.05);\n  border-radius: 8px;\n  border-left: 3px solid #6366f1;\n  line-height: 1.5;\n}\n.memory-item[data-v-b63a96a6]:last-child {\n  margin-bottom: 0;\n}\n.no-memory[data-v-b63a96a6] {\n  font-size: 0.9rem;\n  color: #9ca3af;\n  font-style: italic;\n  text-align: center;\n  padding: 20px;\n}\n\n/* ä¸‹æ‹‰åŠ¨ç”» */\n.memory-dropdown-enter-active[data-v-b63a96a6],\n.memory-dropdown-leave-active[data-v-b63a96a6] {\n  transition: all 0.3s ease;\n}\n.memory-dropdown-enter-from[data-v-b63a96a6] {\n  opacity: 0;\n  transform: translateY(-10px);\n}\n.memory-dropdown-leave-to[data-v-b63a96a6] {\n  opacity: 0;\n  transform: translateY(-10px);\n}\n\n/* å½“å‰å™è¿°æ˜¾ç¤ºåŒºåŸŸ */\n.current-narrative[data-v-b63a96a6] {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  min-width: 0; /* é˜²æ­¢flexæ”¶ç¼©é—®é¢˜ */\n  border-radius: 12px; /* åœ†è§’ */\n  box-shadow: none !important; /* ç§»é™¤é˜´å½± */\n  background-color: var(--color-background) !important; /* ä¸paddingåŒºåŸŸç›¸åŒèƒŒæ™¯è‰² */\n}\n.content-area[data-v-b63a96a6] {\n  background-color: var(--color-background) !important; /* å¼ºåˆ¶åº”ç”¨èƒŒæ™¯è‰² */\n  padding: 20px;\n  flex: 1;\n  overflow-y: auto;\n  scrollbar-width: thin;\n  /* æ˜¾ç¤ºå¯è§çš„æ»šåŠ¨æ‹‡æŒ‡ï¼Œä½†è½¨é“é€æ˜ */\n  scrollbar-color: rgba(148, 163, 184, 0.6) transparent;\n  box-sizing: border-box;\n  min-height: 200px;\n  display: flex; /* è®©å­å…ƒç´ å¯ä»¥æ’‘æ»¡é«˜åº¦ */\n  box-shadow: none !important; /* ç§»é™¤é˜´å½± */\n}\n\n/* WebKitæ»šåŠ¨æ¡æ ·å¼ */\n.content-area[data-v-b63a96a6]::-webkit-scrollbar {\n  width: 6px;\n  background: transparent;\n}\n.content-area[data-v-b63a96a6]::-webkit-scrollbar-track {\n  background: transparent;\n}\n.content-area[data-v-b63a96a6]::-webkit-scrollbar-track-piece {\n  background: transparent;\n}\n.content-area[data-v-b63a96a6]::-webkit-scrollbar-thumb {\n  border-radius: 3px;\n  background-color: rgba(148, 163, 184, 0.6);\n}\n\n/* æ‚¬åœæ—¶ç•¥å¾®å¢å¼ºå¯è§åº¦ */\n.content-area[data-v-b63a96a6]:hover::-webkit-scrollbar-thumb {\n  background-color: rgba(148, 163, 184, 0.8);\n}\n.content-area[data-v-b63a96a6]::-webkit-scrollbar-button {\n  display: none;\n}\n.content-area[data-v-b63a96a6]::-webkit-scrollbar-corner {\n  background: transparent;\n}\n\n\n/* AIå¤„ç†æ—¶çš„æ˜¾ç¤ºæ ·å¼ */\n.ai-processing-display[data-v-b63a96a6] {\n  width: 100%;\n  background: var(--color-surface); /* ç¡®ä¿AIå¤„ç†åŒºåŸŸä½¿ç”¨ä¸»é¢˜è¡¨é¢é¢œè‰² */\n}\n\n/* é‡ç½®çŠ¶æ€æŒ‰é’® */\n.reset-state-btn[data-v-b63a96a6] {\n  padding: 6px;\n  font-size: 13px;\n  background: transparent;\n  color: var(--color-text-secondary);\n  border: 1px solid transparent;\n  border-radius: 50%;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-left: auto; /* æ¨åˆ°å³ä¾§ */\n}\n.reset-state-btn[data-v-b63a96a6]:hover {\n  background: var(--color-surface-hover);\n  color: var(--color-danger);\n  border-color: var(--color-border-hover);\n  transform: translateY(-1px);\n}\n\n/* æµå¼å†…å®¹æ˜¾ç¤º */\n.streaming-content[data-v-b63a96a6] {\n  width: 100%;\n}\n.streaming-meta[data-v-b63a96a6] {\n  justify-content: center !important; /* å¼ºåˆ¶å±…ä¸­ï¼Œè¦†ç›– narrative-meta çš„ space-between */\n  position: relative; /* æ·»åŠ ç›¸å¯¹å®šä½ï¼Œè®©æ—¶é—´å’ŒæŒ‰é’®å¯ä»¥ç»å¯¹å®šä½ */\n}\n.streaming-meta .narrative-time[data-v-b63a96a6] {\n  position: absolute;\n  left: 0;\n}\n.streaming-meta .reset-state-btn[data-v-b63a96a6] {\n  position: absolute;\n  right: 0;\n}\n.streaming-indicator[data-v-b63a96a6] {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  font-size: 0.8rem;\n  color: var(--color-primary);\n  /* ç°åœ¨è¿™ä¸ªä¼šçœŸæ­£å±…ä¸­ */\n}\n.streaming-dot[data-v-b63a96a6] {\n  width: 6px;\n  height: 6px;\n  border-radius: 50%;\n  background: var(--color-primary);\n  animation: pulse-b63a96a6 1.2s ease-in-out infinite;\n}\n.streaming-text[data-v-b63a96a6] {\n  font-weight: 500;\n}\n\n/* ç­‰å¾…åŠ¨ç”»æ ·å¼ */\n.waiting-animation[data-v-b63a96a6] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 60px 0; /* å¢åŠ ä¸€äº›å‚ç›´ç©ºé—´ */\n}\n.thinking-dots[data-v-b63a96a6] {\n  display: flex;\n  gap: 8px;\n}\n.thinking-dots .dot[data-v-b63a96a6] {\n  width: 12px;\n  height: 12px;\n  border-radius: 50%;\n  background: var(--color-primary);\n  animation: thinking-b63a96a6 1.4s ease-in-out infinite;\n}\n.thinking-dots .dot[data-v-b63a96a6]:nth-child(1) {\n  animation-delay: 0s;\n}\n.thinking-dots .dot[data-v-b63a96a6]:nth-child(2) {\n  animation-delay: 0.2s;\n}\n.thinking-dots .dot[data-v-b63a96a6]:nth-child(3) {\n  animation-delay: 0.4s;\n}\n@keyframes thinking-b63a96a6 {\n0%, 60%, 100% {\n    transform: scale(1);\n    opacity: 0.7;\n}\n30% {\n    transform: scale(1.3);\n    opacity: 1;\n}\n}\n\n/* .waiting-text is no longer used */\n@keyframes pulse-b63a96a6 {\n0% { box-shadow: 0 0 0 0 currentColor; opacity: 0.8;\n}\n70% { box-shadow: 0 0 0 6px transparent; opacity: 1;\n}\n100% { box-shadow: 0 0 0 0 transparent; opacity: 0.8;\n}\n}\n\n/* è¾“å…¥æ¡†å³ä¾§çš„æµå¼ä¼ è¾“é€‰é¡¹æ ·å¼ - åˆ é™¤æ—§æ ·å¼ */\n\n/* è¾“å…¥æ¡†å®¹å™¨æ ·å¼ */\n.input-container[data-v-b63a96a6] {\n  flex: 1;\n  position: relative;\n  display: flex;\n  align-items: stretch; /* è®©å†…éƒ¨å…ƒç´ å‚ç›´æ‹‰ä¼¸ */\n  border: 1px solid #d1d5db;\n  border-radius: 8px;\n  background: var(--color-background);\n  transition: all 0.2s ease;\n  min-height: 32px; /* å‡å°æœ€å°é«˜åº¦ä»¥å¯¹åº”å•è¡Œ */\n  max-width: 100%; /* é˜²æ­¢æ¨ªå‘æ‰©å±• */\n  overflow: hidden; /* ç¡®ä¿å†…å®¹ä¸ä¼šæº¢å‡ºå®¹å™¨ */\n}\n.input-container[data-v-b63a96a6]:focus-within {\n  border-color: #3b82f6;\n  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n}\n.input-container[data-v-b63a96a6]:has(.game-input:disabled) {\n  background: #f9fafb;\n}\n\n/* è¾“å…¥æ¡†å†…éƒ¨çš„æ–‡æœ¬åŒºåŸŸ */\n.input-container .game-input[data-v-b63a96a6] {\n  flex: 1;\n  border: none;\n  background: transparent;\n  padding: 8px 16px;\n  padding-right: 0; /* å³ä¾§ç•™ç»™æµå¼ä¼ è¾“é€‰é¡¹ */\n  outline: none;\n  box-shadow: none;\n  resize: none;\n  overflow-y: auto;\n  width: 100%; /* ç¡®ä¿å®½åº¦å¡«æ»¡å®¹å™¨ */\n  min-height: 24px; /* å•è¡Œé«˜åº¦ */\n  max-height: 120px;\n  min-width: 0; /* å…è®¸ç¼©å° */\n  box-sizing: border-box;\n  word-wrap: break-word;\n  white-space: pre-wrap; /* ä¿æŒæ¢è¡Œå’Œç©ºæ ¼ */\n  overflow-wrap: break-word;\n  /* ç§»é™¤è‡ªåŠ¨é«˜åº¦ç›¸å…³æ ·å¼ï¼Œç”¨JSæ§åˆ¶ */\n  height: auto;\n  line-height: 1.4;\n  /* é€æ˜æ»šåŠ¨æ¡ï¼ˆFirefoxï¼‰ */\n  scrollbar-width: thin;\n  scrollbar-color: rgba(148, 163, 184, 0.6) transparent;\n}\n.input-container .game-input[data-v-b63a96a6]:focus {\n  border: none;\n  box-shadow: none;\n}\n\n/* é€æ˜æ»šåŠ¨æ¡ï¼ˆWebKitï¼‰ */\n.input-container .game-input[data-v-b63a96a6]::-webkit-scrollbar {\n  width: 6px;\n  background: transparent;\n}\n.input-container .game-input[data-v-b63a96a6]::-webkit-scrollbar-track,\n.input-container .game-input[data-v-b63a96a6]::-webkit-scrollbar-track-piece,\n.input-container .game-input[data-v-b63a96a6]::-webkit-scrollbar-corner {\n  background: transparent;\n}\n.input-container .game-input[data-v-b63a96a6]::-webkit-scrollbar-thumb {\n  border-radius: 3px;\n  background-color: rgba(148, 163, 184, 0.6);\n}\n.input-container .game-input[data-v-b63a96a6]:hover::-webkit-scrollbar-thumb {\n  background-color: rgba(148, 163, 184, 0.8);\n}\n\n/* è¾“å…¥æ¡†å†…éƒ¨çš„æµå¼ä¼ è¾“é€‰é¡¹ */\n.stream-toggle-inside[data-v-b63a96a6] {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  gap: 4px;\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n  white-space: nowrap;\n  padding: 4px 12px;\n  border-left: 1px solid #e5e7eb;\n  margin-left: 8px;\n  cursor: pointer;\n  user-select: none;\n  flex-shrink: 0;\n  align-self: stretch; /* å‚ç›´æ‹‰ä¼¸ä»¥åŒ¹é…å®¹å™¨é«˜åº¦ */\n  min-height: 32px; /* å‡å°æœ€å°é«˜åº¦ä»¥å¯¹åº”å•è¡Œ */\n}\n.stream-toggle-inside[data-v-b63a96a6]:hover {\n  color: var(--color-text);\n}\n.stream-toggle-inside input[type="checkbox"][data-v-b63a96a6] {\n  width: 12px;\n  height: 12px;\n  cursor: pointer;\n}\n.stream-toggle-inside .label-text[data-v-b63a96a6] {\n  cursor: pointer;\n}\n\n/* å½“å‰å™è¿°æ˜¾ç¤ºåŒºåŸŸ */\n/* .current-narrative æ ·å¼å·²åˆå¹¶åˆ° line 1996 */\n.narrative-content[data-v-b63a96a6] {\n  line-height: 1.8;\n  color: var(--color-text);\n  font-size: 0.95rem;\n  background: var(--color-surface); /* ç¡®ä¿å™è¿°å†…å®¹åŒºåŸŸèƒŒæ™¯ä¸€è‡´ */\n}\n.narrative-meta[data-v-b63a96a6] {\n  margin-bottom: 12px;\n  padding-bottom: 8px;\n  border-bottom: 1px solid #f3f4f6;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n.meta-buttons[data-v-b63a96a6] {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n.header-action-btn.rollback-btn[data-v-b63a96a6] {\n  background: transparent;\n  border: 1px solid transparent;\n  color: var(--color-text-secondary);\n  cursor: pointer;\n  padding: 6px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.2s ease;\n}\n.header-action-btn.rollback-btn[data-v-b63a96a6]:hover {\n  background: var(--color-surface-hover);\n  color: var(--color-primary);\n}\n.narrative-time[data-v-b63a96a6] {\n  font-size: 0.8rem;\n  color: #6b7280;\n  font-weight: 500;\n}\n\n/* å˜é‡æ›´æ–°æŒ‰é’® */\n.variable-updates-toggle[data-v-b63a96a6] {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  padding: 6px 12px;\n  background: linear-gradient(135deg, #3b82f6, #1d4ed8);\n  color: white;\n  border: none;\n  border-radius: 20px;\n  font-size: 0.75rem;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  box-shadow: 0 2px 8px rgba(59, 130, 246, 0.3);\n  position: relative;\n  overflow: hidden;\n}\n.variable-updates-toggle[data-v-b63a96a6]::before {\n  content: \'\';\n  position: absolute;\n  top: 0;\n  left: -100%;\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);\n  transition: left 0.5s ease;\n}\n.variable-updates-toggle[data-v-b63a96a6]:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 4px 16px rgba(59, 130, 246, 0.4);\n  background: linear-gradient(135deg, #2563eb, #1e40af);\n}\n.variable-updates-toggle[data-v-b63a96a6]:hover::before {\n  left: 100%;\n}\n.variable-updates-toggle.active[data-v-b63a96a6] {\n  background: linear-gradient(135deg, #10b981, #059669);\n  box-shadow: 0 2px 8px rgba(16, 185, 129, 0.3);\n}\n.variable-updates-toggle.disabled[data-v-b63a96a6] {\n  opacity: 0.5;\n  cursor: not-allowed;\n  background: linear-gradient(135deg, #9ca3af, #6b7280);\n  box-shadow: 0 2px 8px rgba(156, 163, 175, 0.3);\n}\n.variable-updates-toggle.disabled[data-v-b63a96a6]:hover {\n  transform: none;\n  background: linear-gradient(135deg, #9ca3af, #6b7280);\n  box-shadow: 0 2px 8px rgba(156, 163, 175, 0.3);\n}\n.variable-updates-toggle.disabled[data-v-b63a96a6]::before {\n  display: none;\n}\n.update-count[data-v-b63a96a6] {\n  background: rgba(255, 255, 255, 0.2);\n  color: white;\n  font-size: 0.7rem;\n  font-weight: 700;\n  padding: 2px 6px;\n  border-radius: 10px;\n  min-width: 18px;\n  text-align: center;\n  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1);\n}\n\n/* æ‚¬æµ®é¢æ¿è¦†ç›–å±‚ */\n.variable-updates-overlay[data-v-b63a96a6] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  z-index: 1000;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 20px;\n  backdrop-filter: blur(4px);\n}\n\n/* æ‚¬æµ®é¢æ¿ä¸»ä½“ */\n.variable-updates-modal[data-v-b63a96a6] {\n  background: var(--color-surface);\n  border-radius: 16px;\n  width: 100%;\n  max-width: 500px;\n  max-height: 80vh;\n  overflow: hidden;\n  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);\n  border: 1px solid var(--color-border);\n  animation: modal-appear-b63a96a6 0.3s ease-out;\n}\n@keyframes modal-appear-b63a96a6 {\nfrom {\n    opacity: 0;\n    transform: scale(0.9) translateY(20px);\n}\nto {\n    opacity: 1;\n    transform: scale(1) translateY(0);\n}\n}\n\n/* æ‚¬æµ®é¢æ¿åŠ¨ç”» */\n.variable-updates-modal-enter-active[data-v-b63a96a6],\n.variable-updates-modal-leave-active[data-v-b63a96a6] {\n  transition: all 0.3s ease;\n}\n.variable-updates-modal-enter-from[data-v-b63a96a6] {\n  opacity: 0;\n  transform: scale(0.9) translateY(20px);\n}\n.variable-updates-modal-leave-to[data-v-b63a96a6] {\n  opacity: 0;\n  transform: scale(0.9) translateY(20px);\n}\n\n/* æ‚¬æµ®é¢æ¿å¤´éƒ¨ */\n.variable-updates-modal .updates-header[data-v-b63a96a6] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 16px 20px;\n  background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);\n  border-bottom: 1px solid var(--color-border);\n}\n.variable-updates-modal .updates-header h4[data-v-b63a96a6] {\n  margin: 0;\n  font-size: 1rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.close-updates-btn[data-v-b63a96a6] {\n  background: none;\n  border: none;\n  color: var(--color-text-secondary);\n  cursor: pointer;\n  padding: 6px;\n  border-radius: 6px;\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.close-updates-btn[data-v-b63a96a6]:hover {\n  background: var(--color-surface-hover);\n  color: var(--color-text);\n  transform: rotate(90deg);\n}\n\n/* æ‚¬æµ®é¢æ¿å†…å®¹ */\n.variable-updates-modal .updates-content[data-v-b63a96a6] {\n  padding: 16px;\n  overflow-y: auto;\n  max-height: 60vh;\n}\n\n/* ç§»é™¤é‡å¤çš„æ ·å¼ï¼Œè®©å†…éƒ¨FormattedTextç»„ä»¶å¤„ç† */\n.empty-narrative[data-v-b63a96a6] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  color: #9ca3af;\n  font-style: italic;\n  font-size: 0.9rem;\n}\n\n/* åŠ¨ä½œé˜Ÿåˆ—æ˜¾ç¤ºåŒºåŸŸ */\n.action-queue-display[data-v-b63a96a6] {\n  margin-bottom: 12px;\n  background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);\n  border: 1px solid #e2e8f0;\n  border-radius: 8px;\n  padding: 12px;\n}\n.queue-header[data-v-b63a96a6] {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 8px;\n}\n.queue-title[data-v-b63a96a6] {\n  font-size: 0.85rem;\n  font-weight: 600;\n  color: #6366f1;\n}\n.clear-queue-btn[data-v-b63a96a6] {\n  background: transparent;\n  border: none;\n  color: #9ca3af;\n  cursor: pointer;\n  padding: 4px;\n  border-radius: 4px;\n  transition: all 0.2s ease;\n}\n.clear-queue-btn[data-v-b63a96a6]:hover {\n  background: rgba(239, 68, 68, 0.1);\n  color: #ef4444;\n}\n.queue-actions[data-v-b63a96a6] {\n  display: flex;\n  flex-direction: column;\n  gap: 6px;\n  max-height: 150px;\n  overflow-y: auto;\n}\n.queue-action-item[data-v-b63a96a6] {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 8px 12px;\n  background: rgba(99, 102, 241, 0.05);\n  border: 1px solid rgba(99, 102, 241, 0.1);\n  border-radius: 6px;\n  font-size: 0.85rem;\n}\n.action-text[data-v-b63a96a6] {\n  flex: 1;\n  color: #374151;\n  line-height: 1.4;\n  margin-right: 8px;\n}\n.action-controls[data-v-b63a96a6] {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  flex-shrink: 0;\n}\n.undo-indicator[data-v-b63a96a6] {\n  font-size: 12px;\n  opacity: 0.7;\n  animation: rotate-b63a96a6 2s linear infinite;\n}\n@keyframes rotate-b63a96a6 {\nfrom { transform: rotate(0deg);\n}\nto { transform: rotate(360deg);\n}\n}\n.remove-action-btn[data-v-b63a96a6] {\n  background: transparent;\n  border: none;\n  color: #9ca3af;\n  cursor: pointer;\n  padding: 2px 6px;\n  border-radius: 4px;\n  font-size: 16px;\n  line-height: 1;\n  transition: all 0.2s ease;\n  flex-shrink: 0;\n}\n.remove-action-btn[data-v-b63a96a6]:hover {\n  background: rgba(239, 68, 68, 0.1);\n  color: #ef4444;\n}\n.input-section[data-v-b63a96a6] {\n  padding: 16px 20px 20px 20px; /* è¿›ä¸€æ­¥å¢åŠ åº•éƒ¨å†…è¾¹è· */\n  border-top: 1px solid #e2e8f0;\n  background: #f8fafc;\n  box-sizing: border-box;\n  flex-shrink: 0;\n}\n.input-wrapper[data-v-b63a96a6] {\n  display: flex;\n  gap: 12px;\n  align-items: stretch; /* æ”¹ä¸ºstretchè®©æ‰€æœ‰å…ƒç´ é«˜åº¦ä¸€è‡´ */\n  width: 100%;\n  max-width: none;\n}\n.game-input[data-v-b63a96a6] {\n  /* è¿™äº›æ ·å¼ç°åœ¨ç”± .input-container å¤„ç† */\n  font-size: 0.9rem;\n  line-height: 1.4;\n  color: #374151;\n  resize: none;\n  /* ç§»é™¤å›ºå®šé«˜åº¦ï¼Œæ”¹ä¸ºè‡ªåŠ¨è°ƒæ•´ */\n  /* min-height: 44px; */\n  /* max-height: 120px; */\n  font-family: inherit;\n  /* ç§»é™¤è¿‡æ¸¡æ•ˆæœï¼Œé¿å…é«˜åº¦è°ƒæ•´æ—¶çš„é—ªçƒ */\n  /* transition: all 0.2s ease; */\n}\n\n/* ç§»é™¤åŸæ¥çš„ focus æ ·å¼ï¼Œç°åœ¨ç”±å®¹å™¨å¤„ç† */\n/* .game-input:focus {\n  outline: none;\n  border-color: #3b82f6;\n  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n} */\n.game-input[data-v-b63a96a6]:disabled {\n  /* background: #f9fafb; */\n  color: #9ca3af;\n  cursor: not-allowed;\n}\n.game-input[data-v-b63a96a6]::placeholder {\n  color: #9ca3af;\n}\n.send-button[data-v-b63a96a6] {\n  padding: 12px 24px;\n  background: #3b82f6;\n  color: white;\n  border: none;\n  border-radius: 8px;\n  font-size: 0.875rem;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  flex-shrink: 0;\n  font-family: inherit;\n  min-height: 32px; /* å‡å°æœ€å°é«˜åº¦ä»¥åŒ¹é…è¾“å…¥æ¡† */\n  align-self: stretch; /* å‚ç›´æ‹‰ä¼¸ä»¥åŒ¹é…å®¹å™¨é«˜åº¦ */\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.send-button[data-v-b63a96a6]:hover:not(:disabled) {\n  background: #2563eb;\n  transform: translateY(-1px);\n  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);\n}\n.send-button[data-v-b63a96a6]:disabled {\n  background: #d1d5db;\n  color: #9ca3af;\n  cursor: not-allowed;\n  transform: none;\n  box-shadow: none;\n}\n.animate-spin[data-v-b63a96a6] {\n  animation: spin-b63a96a6 1s linear infinite;\n}\n@keyframes spin-b63a96a6 {\nfrom {\n    transform: rotate(0deg);\n}\nto {\n    transform: rotate(360deg);\n}\n}\n\n/* æ·±è‰²ä¸»é¢˜ */\n[data-theme="dark"] .main-game-panel[data-v-b63a96a6] {\n  background: var(--color-background);\n}\n\n/* å™è¿°å†…å®¹æ·±è‰²ä¸»é¢˜ */\n[data-theme="dark"] .narrative-content[data-v-b63a96a6] {\n  background: #1e293b;\n  color: #e2e8f0;\n}\n[data-theme="dark"] .narrative-meta[data-v-b63a96a6] {\n  border-bottom-color: #374151;\n}\n[data-theme="dark"] .narrative-time[data-v-b63a96a6] {\n  color: #94a3b8;\n}\n\n/* æ·±è‰²ä¸»é¢˜ - å˜é‡æ›´æ–°æŒ‰é’® */\n[data-theme="dark"] .variable-updates-toggle[data-v-b63a96a6] {\n  background: linear-gradient(135deg, #3b82f6, #1e3a8a);\n  box-shadow: 0 2px 8px rgba(59, 130, 246, 0.4);\n}\n[data-theme="dark"] .variable-updates-toggle[data-v-b63a96a6]:hover {\n  background: linear-gradient(135deg, #2563eb, #1e40af);\n  box-shadow: 0 4px 16px rgba(59, 130, 246, 0.5);\n}\n[data-theme="dark"] .variable-updates-toggle.active[data-v-b63a96a6] {\n  background: linear-gradient(135deg, #10b981, #065f46);\n  box-shadow: 0 2px 8px rgba(16, 185, 129, 0.4);\n}\n[data-theme="dark"] .variable-updates-toggle.active[data-v-b63a96a6]:hover {\n  background: linear-gradient(135deg, #059669, #047857);\n  box-shadow: 0 4px 16px rgba(16, 185, 129, 0.5);\n}\n[data-theme="dark"] .variable-updates-toggle.disabled[data-v-b63a96a6] {\n  background: linear-gradient(135deg, #4b5563, #374151);\n  box-shadow: 0 2px 8px rgba(75, 85, 99, 0.4);\n}\n[data-theme="dark"] .variable-updates-toggle.disabled[data-v-b63a96a6]:hover {\n  background: linear-gradient(135deg, #4b5563, #374151);\n  box-shadow: 0 2px 8px rgba(75, 85, 99, 0.4);\n}\n[data-theme="dark"] .variable-updates-overlay[data-v-b63a96a6] {\n  background: rgba(0, 0, 0, 0.7);\n}\n[data-theme="dark"] .variable-updates-modal[data-v-b63a96a6] {\n  background: #1e293b;\n  border-color: #475569;\n}\n[data-theme="dark"] .variable-updates-modal .updates-header[data-v-b63a96a6] {\n  background: linear-gradient(135deg, #334155 0%, #475569 100%);\n  border-color: #475569;\n}\n[data-theme="dark"] .variable-updates-modal .updates-header h4[data-v-b63a96a6] {\n  color: #e2e8f0;\n}\n[data-theme="dark"] .close-updates-btn[data-v-b63a96a6] {\n  color: #94a3b8;\n}\n[data-theme="dark"] .close-updates-btn[data-v-b63a96a6]:hover {\n  background: #475569;\n  color: #e2e8f0;\n}\n[data-theme="dark"] .empty-narrative[data-v-b63a96a6] {\n  color: #6b7280;\n}\n\n/* ç¡®ä¿æ·±è‰²ä¸»é¢˜ä¸‹å½“å‰å™è¿°åŒºåŸŸèƒŒæ™¯ä¸€è‡´ */\n[data-theme="dark"] .current-narrative[data-v-b63a96a6] {\n  background: #1e293b;\n}\n[data-theme="dark"] .ai-processing-display[data-v-b63a96a6] {\n  background: #1e293b !important;\n}\n[data-theme="dark"] .reset-state-btn[data-v-b63a96a6] {\n  background: rgba(var(--color-error-rgb), 0.2);\n  color: var(--color-danger);\n  border-color: rgba(var(--color-error-rgb), 0.3);\n}\n[data-theme="dark"] .reset-state-btn[data-v-b63a96a6]:hover {\n  background: rgba(var(--color-error-rgb), 0.3);\n  border-color: rgba(var(--color-error-rgb), 0.5);\n}\n[data-theme="dark"] .narrative-content[data-v-b63a96a6] {\n  background: #1e293b !important;\n}\n[data-theme="dark"] .input-section[data-v-b63a96a6] {\n  background: #334155;\n  border-top-color: #475569;\n}\n[data-theme="dark"] .game-input[data-v-b63a96a6] {\n  /* background: #1e293b; - ç°åœ¨ç”±å®¹å™¨å¤„ç† */\n  /* border-color: #475569; - ç°åœ¨ç”±å®¹å™¨å¤„ç† */\n  color: #e2e8f0;\n}\n\n/* ç§»é™¤é‡å¤çš„æ·±è‰²ä¸»é¢˜ focus æ ·å¼ */\n/* [data-theme="dark"] .game-input:focus {\n  border-color: #3b82f6;\n  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2);\n} */\n[data-theme="dark"] .game-input[data-v-b63a96a6]:disabled {\n  /* background: #0f172a; - ç°åœ¨ç”±å®¹å™¨å¤„ç† */\n  color: #64748b;\n}\n[data-theme="dark"] .game-input[data-v-b63a96a6]::placeholder {\n  color: #64748b;\n}\n[data-theme="dark"] .send-button[data-v-b63a96a6] {\n  background: #3b82f6;\n}\n[data-theme="dark"] .send-button[data-v-b63a96a6]:hover:not(:disabled) {\n  background: #2563eb;\n}\n[data-theme="dark"] .send-button[data-v-b63a96a6]:disabled {\n  background: #374151;\n  color: #64748b;\n}\n\n/* çŸ­æœŸè®°å¿†æ·±è‰²ä¸»é¢˜ */\n[data-theme="dark"] .memory-section[data-v-b63a96a6] {\n  background: linear-gradient(135deg, #1e293b 0%, #334155 100%);\n  border-color: #475569;\n}\n[data-theme="dark"] .memory-header[data-v-b63a96a6]:hover {\n  background: rgba(99, 102, 241, 0.1);\n}\n[data-theme="dark"] .memory-title[data-v-b63a96a6] {\n  color: #818cf8;\n}\n[data-theme="dark"] .memory-icon[data-v-b63a96a6] {\n  color: #64748b;\n}\n[data-theme="dark"] .memory-dropdown[data-v-b63a96a6] {\n  background: #1e293b;\n  border-color: #475569;\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);\n}\n[data-theme="dark"] .memory-item[data-v-b63a96a6] {\n  background: rgba(129, 140, 248, 0.1);\n  border-left-color: #818cf8;\n  color: #e2e8f0;\n}\n\n/* ç­‰å¾…è¦†ç›–å±‚æ·±è‰²ä¸»é¢˜ - æ›´æ–°ä¸ºAIå¤„ç†æ˜¾ç¤ºæ ·å¼ */\n[data-theme="dark"] .streaming-meta[data-v-b63a96a6] {\n  border-bottom-color: #374151;\n}\n[data-theme="dark"] .streaming-indicator[data-v-b63a96a6] {\n  color: #60a5fa;\n}\n[data-theme="dark"] .streaming-dot[data-v-b63a96a6] {\n  background: #60a5fa;\n}\n[data-theme="dark"] .thinking-dots .dot[data-v-b63a96a6] {\n  background: #60a5fa;\n}\n[data-theme="dark"] .waiting-text[data-v-b63a96a6] {\n  color: #94a3b8;\n}\n\n/* è¾“å…¥æ¡†å³ä¾§æµå¼ä¼ è¾“é€‰é¡¹æ·±è‰²ä¸»é¢˜ - æ›´æ–°ä¸ºå†…éƒ¨æ ·å¼ */\n[data-theme="dark"] .input-container[data-v-b63a96a6] {\n  background: #1e293b;\n  border-color: #475569;\n}\n[data-theme="dark"] .input-container[data-v-b63a96a6]:focus-within {\n  border-color: #3b82f6;\n  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2);\n}\n[data-theme="dark"] .input-container[data-v-b63a96a6]:has(.game-input:disabled) {\n  background: #0f172a;\n}\n[data-theme="dark"] .stream-toggle-inside[data-v-b63a96a6] {\n  color: #94a3b8;\n  border-left-color: #475569;\n}\n[data-theme="dark"] .stream-toggle-inside[data-v-b63a96a6]:hover {\n  color: #e2e8f0;\n}\n\n/* è¡ŒåŠ¨é€‰æ‹©å™¨æŒ‰é’® */\n.action-selector-btn[data-v-b63a96a6] {\n  width: 44px;\n  min-height: 32px; /* å‡å°æœ€å°é«˜åº¦ä»¥åŒ¹é…è¾“å…¥æ¡† */\n  background: #f8fafc;\n  border: 1px solid #e2e8f0;\n  border-radius: 8px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  color: #6366f1;\n  align-self: stretch; /* å‚ç›´æ‹‰ä¼¸ä»¥åŒ¹é…å®¹å™¨é«˜åº¦ */\n  flex-shrink: 0;\n}\n.action-selector-btn[data-v-b63a96a6]:hover:not(:disabled) {\n  background: #f1f5f9;\n  border-color: #6366f1;\n  transform: translateY(-1px);\n  box-shadow: 0 2px 8px rgba(99, 102, 241, 0.15);\n}\n.action-selector-btn[data-v-b63a96a6]:disabled {\n  opacity: 0.4;\n  cursor: not-allowed;\n}\n\n/* è¡ŒåŠ¨é€‰æ‹©å¼¹çª— */\n.action-modal-overlay[data-v-b63a96a6],\n.action-config-overlay[data-v-b63a96a6] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.4);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n  backdrop-filter: blur(2px);\n}\n.action-modal[data-v-b63a96a6] {\n  background: var(--color-background);\n  border-radius: 12px;\n  max-width: 480px;\n  width: 90%;\n  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);\n  overflow: hidden;\n}\n.action-config-modal[data-v-b63a96a6] {\n  background: var(--color-background);\n  border-radius: 12px;\n  max-width: 400px;\n  width: 90%;\n  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);\n  overflow: hidden;\n}\n.modal-header[data-v-b63a96a6],\n.config-header[data-v-b63a96a6] {\n  padding: 16px 20px;\n  border-bottom: 1px solid #e5e7eb;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  background: var(--color-primary, #3b82f6);\n}\n.modal-header h3[data-v-b63a96a6],\n.config-header h3[data-v-b63a96a6] {\n  margin: 0;\n  font-size: 1rem;\n  font-weight: 600;\n  color: white;\n}\n.close-btn[data-v-b63a96a6] {\n  width: 28px;\n  height: 28px;\n  border: none;\n  background: var(--color-surface-light);\n  border-radius: 6px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  color: white;\n  transition: all 0.2s ease;\n}\n.close-btn[data-v-b63a96a6]:hover {\n  background: var(--color-surface-hover);\n  color: var(--color-text);\n}\n.action-grid[data-v-b63a96a6] {\n  padding: 16px;\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 8px;\n}\n.quick-action-btn[data-v-b63a96a6] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 6px;\n  padding: 12px 8px;\n  border: 1px solid #e5e7eb;\n  border-radius: 8px;\n  background: var(--color-background);\n  cursor: pointer;\n  transition: all 0.2s ease;\n  font-size: 0.8rem;\n  min-height: 70px;\n}\n.quick-action-btn[data-v-b63a96a6]:hover {\n  border-color: #3b82f6;\n  background: #f8fafc;\n  transform: translateY(-1px);\n  box-shadow: 0 2px 8px rgba(59, 130, 246, 0.15);\n}\n.quick-action-btn.cultivation[data-v-b63a96a6] {\n  border-color: rgba(34, 197, 94, 0.2);\n  background: rgba(34, 197, 94, 0.03);\n}\n.quick-action-btn.cultivation[data-v-b63a96a6]:hover {\n  border-color: #22c55e;\n  background: rgba(34, 197, 94, 0.08);\n}\n.quick-action-btn.exploration[data-v-b63a96a6] {\n  border-color: rgba(59, 130, 246, 0.2);\n  background: rgba(59, 130, 246, 0.03);\n}\n.quick-action-btn.exploration[data-v-b63a96a6]:hover {\n  border-color: #3b82f6;\n  background: rgba(59, 130, 246, 0.08);\n}\n.quick-action-btn.social[data-v-b63a96a6] {\n  border-color: rgba(168, 85, 247, 0.2);\n  background: rgba(168, 85, 247, 0.03);\n}\n.quick-action-btn.social[data-v-b63a96a6]:hover {\n  border-color: #a855f7;\n  background: rgba(168, 85, 247, 0.08);\n}\n.quick-action-btn.other[data-v-b63a96a6] {\n  border-color: rgba(156, 163, 175, 0.2);\n  background: rgba(156, 163, 175, 0.03);\n}\n.quick-action-btn.other[data-v-b63a96a6]:hover {\n  border-color: #9ca3af;\n  background: rgba(156, 163, 175, 0.08);\n}\n.action-icon[data-v-b63a96a6] {\n  font-size: 1.2rem;\n  line-height: 1;\n}\n.action-text[data-v-b63a96a6] {\n  font-weight: 500;\n  color: #374151;\n  text-align: center;\n  line-height: 1.2;\n}\n\n/* é…ç½®å¼¹çª—å†…å®¹ */\n.config-content[data-v-b63a96a6] {\n  padding: 20px;\n}\n.action-description[data-v-b63a96a6] {\n  margin: 0 0 20px 0;\n  color: #6b7280;\n  line-height: 1.5;\n}\n.config-section[data-v-b63a96a6] {\n  margin-bottom: 20px;\n}\n.config-section[data-v-b63a96a6]:last-child {\n  margin-bottom: 0;\n}\n.config-label[data-v-b63a96a6] {\n  display: block;\n  margin-bottom: 8px;\n  font-weight: 500;\n  color: #374151;\n  font-size: 0.875rem;\n}\n.time-selector[data-v-b63a96a6] {\n  display: flex;\n  gap: 8px;\n  margin-bottom: 12px;\n}\n.time-btn[data-v-b63a96a6] {\n  padding: 8px 16px;\n  border: 1px solid #d1d5db;\n  border-radius: 6px;\n  background: var(--color-background);\n  cursor: pointer;\n  font-size: 0.875rem;\n  transition: all 0.2s ease;\n}\n.time-btn[data-v-b63a96a6]:hover {\n  border-color: #3b82f6;\n}\n.time-btn.active[data-v-b63a96a6] {\n  border-color: #3b82f6;\n  background: #3b82f6;\n  color: white;\n}\n.time-custom[data-v-b63a96a6] {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  font-size: 0.875rem;\n}\n.time-input[data-v-b63a96a6] {\n  width: 80px;\n  padding: 6px 10px;\n  border: 1px solid #d1d5db;\n  border-radius: 4px;\n  font-size: 0.875rem;\n}\n.action-options[data-v-b63a96a6] {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n.option-item[data-v-b63a96a6] {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 8px 12px;\n  border: 1px solid #e5e7eb;\n  border-radius: 6px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n.option-item[data-v-b63a96a6]:hover {\n  border-color: #3b82f6;\n  background: #f8fafc;\n}\n.option-item input[type="radio"][data-v-b63a96a6] {\n  margin: 0;\n}\n.config-actions[data-v-b63a96a6] {\n  padding: 20px;\n  border-top: 1px solid #e5e7eb;\n  display: flex;\n  gap: 12px;\n  justify-content: flex-end;\n}\n.cancel-btn[data-v-b63a96a6],\n.confirm-btn[data-v-b63a96a6] {\n  padding: 8px 20px;\n  border-radius: 6px;\n  font-size: 0.875rem;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n.cancel-btn[data-v-b63a96a6] {\n  border: 1px solid #d1d5db;\n  background: var(--color-background);\n  color: #6b7280;\n}\n.cancel-btn[data-v-b63a96a6]:hover {\n  background: #f9fafb;\n  border-color: #9ca3af;\n}\n.confirm-btn[data-v-b63a96a6] {\n  border: 1px solid #3b82f6;\n  background: #3b82f6;\n  color: white;\n}\n.confirm-btn[data-v-b63a96a6]:hover {\n  background: #2563eb;\n  border-color: #2563eb;\n}\n\n/* æ·±è‰²ä¸»é¢˜é€‚é… */\n[data-theme="dark"] .action-selector-btn[data-v-b63a96a6] {\n  background: #374151;\n  border-color: #4b5563;\n  color: #d1d5db;\n}\n[data-theme="dark"] .action-selector-btn[data-v-b63a96a6]:hover:not(:disabled) {\n  background: #4b5563;\n  border-color: #6b7280;\n}\n[data-theme="dark"] .action-modal[data-v-b63a96a6],\n[data-theme="dark"] .action-config-modal[data-v-b63a96a6] {\n  background: #1f2937;\n}\n[data-theme="dark"] .modal-header[data-v-b63a96a6],\n[data-theme="dark"] .config-header[data-v-b63a96a6],\n[data-theme="dark"] .config-actions[data-v-b63a96a6] {\n  border-color: #374151;\n}\n[data-theme="dark"] .modal-header h3[data-v-b63a96a6],\n[data-theme="dark"] .config-header h3[data-v-b63a96a6],\n[data-theme="dark"] .category-title[data-v-b63a96a6],\n[data-theme="dark"] .config-label[data-v-b63a96a6],\n[data-theme="dark"] .action-name[data-v-b63a96a6] {\n  color: #f9fafb;\n}\n[data-theme="dark"] .close-btn[data-v-b63a96a6] {\n  background: #374151;\n  color: #d1d5db;\n}\n[data-theme="dark"] .close-btn[data-v-b63a96a6]:hover {\n  background: #4b5563;\n  color: #f9fafb;\n}\n[data-theme="dark"] .action-btn[data-v-b63a96a6] {\n  background: #374151;\n  border-color: #4b5563;\n}\n[data-theme="dark"] .action-btn[data-v-b63a96a6]:hover {\n  border-color: #3b82f6;\n  background: #1f2937;\n}\n[data-theme="dark"] .time-btn[data-v-b63a96a6],\n[data-theme="dark"] .option-item[data-v-b63a96a6] {\n  background: #374151;\n  border-color: #4b5563;\n  color: #d1d5db;\n}\n[data-theme="dark"] .time-input[data-v-b63a96a6] {\n  background: #374151;\n  border-color: #4b5563;\n  color: #f9fafb;\n}\n[data-theme="dark"] .cancel-btn[data-v-b63a96a6] {\n  background: #374151;\n  border-color: #4b5563;\n  color: #d1d5db;\n}\n[data-theme="dark"] .cancel-btn[data-v-b63a96a6]:hover {\n  background: #4b5563;\n}\n\n/* æ·±è‰²ä¸»é¢˜åŠ¨ä½œé˜Ÿåˆ—æ ·å¼ */\n[data-theme="dark"] .action-queue-display[data-v-b63a96a6] {\n  background: linear-gradient(135deg, #374151 0%, #1f2937 100%);\n  border-color: #4b5563;\n}\n[data-theme="dark"] .queue-title[data-v-b63a96a6] {\n  color: #818cf8;\n}\n[data-theme="dark"] .clear-queue-btn[data-v-b63a96a6] {\n  color: #9ca3af;\n}\n[data-theme="dark"] .clear-queue-btn[data-v-b63a96a6]:hover {\n  background: rgba(239, 68, 68, 0.2);\n  color: #f87171;\n}\n[data-theme="dark"] .queue-action-item[data-v-b63a96a6] {\n  background: rgba(129, 140, 248, 0.1);\n  border-color: rgba(129, 140, 248, 0.2);\n}\n[data-theme="dark"] .action-text[data-v-b63a96a6] {\n  color: #e5e7eb;\n}\n[data-theme="dark"] .remove-action-btn[data-v-b63a96a6] {\n  color: #9ca3af;\n}\n[data-theme="dark"] .remove-action-btn[data-v-b63a96a6]:hover {\n  background: rgba(239, 68, 68, 0.2);\n  color: #f87171;\n}\n[data-theme="dark"] .action-controls[data-v-b63a96a6] {\n  color: #d1d5db;\n}\n[data-theme="dark"] .undo-indicator[data-v-b63a96a6] {\n  filter: brightness(1.2);\n}\n\n/* å˜æ›´æè¿°æ ·å¼ */\n.change-description[data-v-b63a96a6] {\n  color: var(--color-text);\n  font-size: 0.8rem;\n  margin-bottom: 6px;\n  padding: 4px 8px;\n  background: var(--color-surface-light);\n  border-radius: 4px;\n  border-left: 2px solid var(--color-primary);\n  line-height: 1.3;\n  font-style: italic;\n}\n\n/* æ·±è‰²ä¸»é¢˜ä¸‹çš„å˜æ›´æè¿° */\n[data-theme="dark"] .change-description[data-v-b63a96a6] {\n  background: #334155;\n  color: #e2e8f0;\n  border-left-color: #60a5fa;\n}\n\n/* ç©ºçŠ¶æ€æ ·å¼ */\n.no-changes[data-v-b63a96a6] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 2rem;\n  text-align: center;\n  color: var(--color-text-secondary);\n}\n.no-changes .empty-icon[data-v-b63a96a6] {\n  opacity: 0.5;\n  margin-bottom: 1rem;\n  color: var(--color-text-secondary);\n}\n.no-changes .empty-text[data-v-b63a96a6] {\n  font-weight: 600;\n  margin-bottom: 0.5rem;\n  color: var(--color-text);\n  font-size: 0.9rem;\n}\n.no-changes .empty-hint[data-v-b63a96a6] {\n  font-size: 0.8rem;\n  opacity: 0.8;\n  line-height: 1.4;\n}\n\n/* å›¾ç‰‡é¢„è§ˆå®¹å™¨æ ·å¼ */\n.image-preview-container[data-v-b63a96a6] {\n  display: flex;\n  gap: 8px;\n  padding: 8px;\n  flex-wrap: wrap;\n  border-bottom: 1px solid #e5e7eb;\n  background: #f9fafb;\n}\n.image-preview-item[data-v-b63a96a6] {\n  position: relative;\n  width: 60px;\n  height: 60px;\n  border-radius: 6px;\n  overflow: hidden;\n  border: 2px solid #e5e7eb;\n  transition: all 0.2s ease;\n}\n.image-preview-item[data-v-b63a96a6]:hover {\n  border-color: #3b82f6;\n  transform: scale(1.05);\n}\n.image-preview-item img[data-v-b63a96a6] {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n.remove-image-btn[data-v-b63a96a6] {\n  position: absolute;\n  top: 2px;\n  right: 2px;\n  width: 20px;\n  height: 20px;\n  padding: 0;\n  background: rgba(239, 68, 68, 0.9);\n  border: none;\n  border-radius: 50%;\n  color: white;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  opacity: 0;\n  transition: all 0.2s ease;\n}\n.image-preview-item:hover .remove-image-btn[data-v-b63a96a6] {\n  opacity: 1;\n}\n.remove-image-btn[data-v-b63a96a6]:hover {\n  background: rgba(220, 38, 38, 1);\n  transform: scale(1.1);\n}\n\n/* å›¾ç‰‡ä¸Šä¼ æŒ‰é’®ç‰¹æ®Šæ ·å¼ */\n.image-upload-btn svg[data-v-b63a96a6] {\n  color: #10b981;\n}\n.image-upload-btn:hover:not(:disabled) svg[data-v-b63a96a6] {\n  color: #059669;\n}\n\n/* æ·±è‰²ä¸»é¢˜å›¾ç‰‡é¢„è§ˆæ ·å¼ */\n[data-theme="dark"] .image-preview-container[data-v-b63a96a6] {\n  background: #0f172a;\n  border-bottom-color: #475569;\n}\n[data-theme="dark"] .image-preview-item[data-v-b63a96a6] {\n  border-color: #475569;\n}\n[data-theme="dark"] .image-preview-item[data-v-b63a96a6]:hover {\n  border-color: #3b82f6;\n}\n\n/* æœ€æ–°æ¶ˆæ¯textæ ·å¼ */\n.latest-message-text[data-v-b63a96a6] {\n  margin-top: 20px;\n  padding: 16px;\n  background: #f8fafc;\n  border: 1px solid #e2e8f0;\n  border-left: 4px solid #818cf8;\n  border-radius: 8px;\n  font-size: 0.9rem;\n  color: #475569;\n  line-height: 1.7;\n}\n.latest-text-header[data-v-b63a96a6] {\n  font-weight: 600;\n  color: #6366f1;\n  margin-bottom: 8px;\n  font-size: 0.85rem;\n}\n[data-theme="dark"] .latest-message-text[data-v-b63a96a6] {\n  background: #334155;\n  border-color: #4b5563;\n  border-left-color: #818cf8;\n  color: #cbd5e1;\n}\n[data-theme="dark"] .latest-text-header[data-v-b63a96a6] {\n  color: #a5b4fc;\n}\n',""]);const i=l},1265:(e,n,t)=&gt;{t.d(n,{EF:()=&gt;o,Iz:()=&gt;i,bk:()=&gt;l,hp:()=&gt;r,kp:()=&gt;a});const a='\n========== ã€æœ€é«˜ä¼˜å…ˆçº§ã€‘æ•°æ®åŒæ­¥é“å¾‹ ==========\n\nã€æ ¸å¿ƒåŸåˆ™ã€‘å™äº‹æ–‡æœ¬(text)ä¸­çš„ä»»ä½•å˜åŒ–ï¼Œéƒ½å¿…é¡»æœ‰å¯¹åº”çš„tavern_commandsæ‰§è¡Œï¼Œè¿åæ­¤è§„åˆ™å°†å¯¼è‡´æ•°æ®ä¸ä¸€è‡´\n\nã€å¿…é¡»åŒæ­¥çš„äº‹ä»¶æ£€æŸ¥æ¸…å•ã€‘\n- ä¿®ç‚¼ â†’ æ¨è¿›æ—¶é—´ + å¢åŠ åŠŸæ³•è¿›åº¦ + æ¶ˆè€—çµæ°” + æ›´æ–°åŠŸæ³•ç›¸å…³æ•°æ®\n- çªç ´ â†’ æ›´æ–°å¢ƒç•Œ(åç§°+é˜¶æ®µ+è¿›åº¦+æ‰€éœ€) + å¢åŠ å¯¿å‘½ä¸Šé™(ç”¨add) + å¢åŠ å±æ€§ä¸Šé™\n- å—ä¼¤ â†’ æ‰£é™¤æ°”è¡€(ç”¨addè´Ÿæ•°)\n- è·å¾—ç‰©å“ â†’ set èƒŒåŒ….ç‰©å“.{ç‰©å“ID} (æ³¨æ„ï¼šä¿®æ”¹å…·ä½“ç‰©å“ï¼Œä¸æ˜¯æ•´ä¸ªèƒŒåŒ…å¯¹è±¡)\n- æ¶ˆè€—ç‰©å“ â†’ add èƒŒåŒ….ç‰©å“.{ç‰©å“ID}.æ•°é‡ (è´Ÿæ•°) æˆ– delete èƒŒåŒ….ç‰©å“.{ç‰©å“ID}\n- NPCäº’åŠ¨ â†’ pushè®°å¿† + è°ƒæ•´å¥½æ„Ÿåº¦(add) + æ›´æ–°å½“å‰çŠ¶æ€ + æ›´æ–°å†…å¿ƒæƒ³æ³•\n- ä½ç½®ç§»åŠ¨ â†’ åŒæ—¶æ›´æ–°æè¿° + longitude + latitude ä¸‰ä¸ªå­—æ®µ\n\nã€æ­£ç¡®æ“ä½œåŸåˆ™ã€‘\n[æ­£ç¡®åšæ³•]\n- ä¿®æ”¹å…·ä½“å­—æ®µè·¯å¾„ï¼Œä¾‹å¦‚ï¼š"èƒŒåŒ….ç‰©å“.sword_001.æ•°é‡"\n- ä½¿ç”¨ add/set ä¿®æ”¹å•ä¸ªå±æ€§å€¼\n- æ•°å€¼å¢å‡ç”¨addï¼Œå¯¹è±¡æ›¿æ¢ç”¨set\n\n[é”™è¯¯åšæ³• - ç¦æ­¢]\n- ä½¿ç”¨setæ›¿æ¢æ•´ä¸ªå¯¹è±¡ï¼ˆå¦‚æ•´ä¸ª"èƒŒåŒ…"ã€æ•´ä¸ª"è£…å¤‡æ "ï¼‰\n- textä¸­æœ‰å‰§æƒ…å˜åŒ–ä½†commandsä¸ºç©ºæ•°ç»„\n- åªæ›´æ–°éƒ¨åˆ†åº”è¯¥åŒæ­¥æ›´æ–°çš„å­—æ®µ\n\nã€æ­£ç¡®ç¤ºä¾‹ã€‘\n- è·å¾—1æŠŠå‰‘ â†’ {"action":"set","key":"èƒŒåŒ….ç‰©å“.sword_001","value":{å®Œæ•´ç‰©å“å¯¹è±¡}}\n- æ¶ˆè€—1é¢—ä¸¹è¯ â†’ {"action":"add","key":"èƒŒåŒ….ç‰©å“.pill_001.æ•°é‡","value":-1}\n- å¢åŠ å¥½æ„Ÿåº¦ â†’ {"action":"add","key":"äººç‰©å…³ç³».å¼ ä¸‰.å¥½æ„Ÿåº¦","value":5}\n\nã€é”™è¯¯ç¤ºä¾‹ - ä¼šå¯¼è‡´æ•°æ®ä¸¢å¤±ã€‘\n- é”™è¯¯ï¼š{"action":"set","key":"èƒŒåŒ…","value":{æ•´ä¸ªèƒŒåŒ…å¯¹è±¡}}\n- é”™è¯¯ï¼š{"action":"set","key":"è£…å¤‡æ ","value":{æ•´ä¸ªè£…å¤‡æ å¯¹è±¡}}\n',o='\nã€å¢ƒç•Œé˜¶æ®µå‘½åè§„åˆ™ã€‘\n[æ­£ç¡®çš„é˜¶æ®µåç§°] åˆæœŸã€ä¸­æœŸã€åæœŸã€åœ†æ»¡ã€æå¢ƒ\n[é”™è¯¯çš„é˜¶æ®µåç§°] ä¸€å±‚ã€äºŒå±‚ã€ä¸€é‡ã€ç¬¬Xå±‚ã€ç¬¬Xé˜¶æ®µ\n[ç‰¹æ®Šæƒ…å†µ] å‡¡äººå¢ƒç•Œæ— é˜¶æ®µï¼Œé˜¶æ®µå­—æ®µä¸ºç©ºå­—ç¬¦ä¸²("")ï¼Œç‚¼æ°”å¢ƒåŠä»¥ä¸Šå¿…é¡»ä½¿ç”¨æ ‡å‡†é˜¶æ®µå',r="\nã€JSONæ ¼å¼ä¸¥æ ¼è¦æ±‚ã€‘\n- ä¸å¾—åŒ…å«æ³¨é‡Šï¼ˆä¸èƒ½ä½¿ç”¨ // æˆ– /* */ ï¼‰\n- ä¸å¾—æœ‰å°¾éšé€—å·ï¼ˆæ•°ç»„æˆ–å¯¹è±¡æœ€åä¸€é¡¹åé¢ä¸èƒ½æœ‰é€—å·ï¼‰\n- å¿…é¡»ä½¿ç”¨åŒå¼•å·ï¼Œæ‰€æœ‰å­—æ®µåå¿…é¡»åŠ å¼•å·\n- æ•°å­—ä¸èƒ½æœ‰å‰å¯¼0ï¼ˆä¾‹å¦‚ï¼šä¸èƒ½å†™ 01ï¼Œåº”è¯¥å†™ 1ï¼‰\n- ç©ºå€¼å¿…é¡»ä½¿ç”¨ nullï¼Œä¸èƒ½ä½¿ç”¨ undefined\n- å¸ƒå°”å€¼å¿…é¡»å°å†™ï¼štrue / falseï¼ˆä¸èƒ½å†™ True / FALSEï¼‰",l='\nã€å…­å¸ç³»ç»Ÿè§„åˆ™ã€‘äººç‰©å±æ€§åˆ†ä¸ºå…ˆå¤©å’Œåå¤©ä¸¤éƒ¨åˆ†\n\n[å…ˆå¤©å…­å¸] å¤©ç”Ÿå±æ€§ï¼Œç”±å‡ºç”Ÿæ—¶ç¡®å®šï¼Œç»ˆç”Ÿä¸å¯æ”¹å˜\n- åŒ…å«ï¼šæ ¹éª¨ã€çµæ€§ã€æ‚Ÿæ€§ã€æ°”è¿ã€é­…åŠ›ã€å¿ƒæ€§\n- æ•°å€¼èŒƒå›´ï¼š1-10\n- ã€ç¦æ­¢æ“ä½œã€‘ä»»ä½•æƒ…å†µä¸‹éƒ½ä¸å¾—ä¿®æ”¹å…ˆå¤©å…­å¸\n\n[åå¤©å…­å¸] å¯å˜å±æ€§ï¼Œé€šè¿‡è£…å¤‡ã€å¤§é“æ„Ÿæ‚Ÿç­‰è·å¾—\n- åŒ…å«ï¼šæ ¹éª¨ã€çµæ€§ã€æ‚Ÿæ€§ã€æ°”è¿ã€é­…åŠ›ã€å¿ƒæ€§\n- æ¥æºï¼šè£…å¤‡åŠ æˆã€å¤§é“æ„Ÿæ‚Ÿã€ç‰¹æ®Šæœºç¼˜\n- ã€ä¿®æ”¹æ–¹å¼ã€‘ä½¿ç”¨addæ“ä½œï¼š{"action":"add","key":"è§’è‰²åŸºç¡€ä¿¡æ¯.åå¤©å…­å¸.æ ¹éª¨","value":1}\n\n[å±æ€§è®¡ç®—å…¬å¼]\næœ€ç»ˆå±æ€§å€¼ = å…ˆå¤©å…­å¸ Ã— 100% + åå¤©å…­å¸ Ã— 20%',i='\n========== ã€æœ€é«˜ä¼˜å…ˆçº§ã€‘è§’è‰²ç§å¯†ä¿¡æ¯ç”Ÿæˆè§„åˆ™ ==========\n\nã€å¼ºåˆ¶æ‰§è¡Œæ¡ä»¶ã€‘\nå½“ ç³»ç»Ÿ.nsfwMode === true æ—¶ï¼Œå¿…é¡»ä¸ºç¬¦åˆæ€§åˆ«è¿‡æ»¤æ¡ä»¶çš„æ‰€æœ‰NPCç”Ÿæˆå®Œæ•´çš„ç§å¯†ä¿¡æ¯å¯¹è±¡\n\nã€ä¸¥æ ¼è¦æ±‚ã€‘\nä¸å¾—ä»¥ä»»ä½•ç†ç”±è·³è¿‡ã€ç®€åŒ–æˆ–çœç•¥ç§å¯†ä¿¡æ¯çš„ç”Ÿæˆ\nè¿™æ˜¯å¼ºåˆ¶æ€§è¦æ±‚ï¼Œè¿åå°†å¯¼è‡´ç”Ÿæˆå¤±è´¥\n\nã€ç¬¬ä¸€æ­¥ï¼šç”Ÿæˆæ—¶æœºã€‘\n- åˆ›å»ºNPCæ—¶ï¼šå¿…é¡»ç«‹å³ç”Ÿæˆå®Œæ•´çš„ç§å¯†ä¿¡æ¯å¯¹è±¡ï¼Œä¸å¾—é—æ¼ä»»ä½•å­—æ®µ\n- åç»­æ›´æ–°ï¼šå¯ä»¥æ›´æ–°åŠ¨æ€å­—æ®µï¼ˆå¦‚æ€§æ¸´æœ›ç¨‹åº¦ã€å½“å‰æ€§çŠ¶æ€ç­‰ï¼‰\n\nã€ç¬¬äºŒæ­¥ï¼šå¿…å¡«å­—æ®µã€‘ç§å¯†ä¿¡æ¯å¯¹è±¡å¿…é¡»åŒ…å«ä»¥ä¸‹14ä¸ªå­—æ®µï¼Œç¼ºä¸€ä¸å¯\n\n[æ ¸å¿ƒå­—æ®µåˆ—è¡¨]\n1. æ˜¯å¦ä¸ºå¤„å¥³: booleanï¼ˆå¥³æ€§NPCå¿…å¡«ï¼‰\n2. æ˜¯å¦ä¸ºå¤„ç”·: booleanï¼ˆç”·æ€§NPCå¿…å¡«ï¼‰\n3. èº«ä½“éƒ¨ä½: Arrayï¼ˆå¿…é¡»åŒ…å«3-5ä¸ªéƒ¨ä½å¯¹è±¡ï¼‰\n   æ¯ä¸ªéƒ¨ä½å¯¹è±¡åŒ…å«ï¼šéƒ¨ä½åç§°ã€å¼€å‘åº¦(0-100)ã€æ•æ„Ÿåº¦(0-100)ã€ç‰¹å¾æè¿°ã€ç‰¹æ®Šå°è®°\n4. æ€§æ ¼å€¾å‘: stringï¼ˆå¯é€‰å€¼ï¼š"çº¯æƒ…" | "ä¸»åŠ¨" | "è¢«åŠ¨" | "æ·«è¡" | "M" | "S" | "åŒæ€§"ï¼‰\n5. æ€§å–å‘: stringï¼ˆå¯é€‰å€¼ï¼š"å¼‚æ€§æ‹" | "åŒæ€§æ‹" | "åŒæ€§æ‹" | "æ³›æ€§æ‹"ï¼‰\n6. æ€§ç™–å¥½: Arrayï¼ˆ0-3ä¸ªå…ƒç´ ï¼‰\n7. æ€§æ¸´æœ›ç¨‹åº¦: numberï¼ˆèŒƒå›´ï¼š0-100ï¼‰\n8. å½“å‰æ€§çŠ¶æ€: stringï¼ˆå¯é€‰å€¼ï¼š"æ­£å¸¸" | "å¾®æ¹¿" | "å…´å¥‹" | "å‘æƒ…" | "é«˜æ½®"ç­‰ï¼‰\n9. ä½“æ¶²åˆ†æ³ŒçŠ¶æ€: stringï¼ˆæè¿°æ€§æ–‡å­—ï¼‰\n10. æ€§äº¤æ€»æ¬¡æ•°: numberï¼ˆéè´Ÿæ•´æ•°ï¼‰\n11. æ€§ä¼´ä¾£æ•°é‡: numberï¼ˆéè´Ÿæ•´æ•°ï¼‰\n12. æ€§ä¼´ä¾£åå•: Array<string>ï¼ˆç¦æ­¢ä½¿ç”¨"ä¿å¯†"ã€"æœªçŸ¥"ç­‰å ä½ç¬¦ï¼‰\n13. æœ€è¿‘ä¸€æ¬¡æ€§è¡Œä¸ºæ—¶é—´: stringï¼ˆæ—¶é—´æ ¼å¼æˆ–"ä»æœª"ï¼‰\n14. ç‰¹æ®Šä½“è´¨: Arrayï¼ˆ0-Nä¸ªå…ƒç´ ï¼‰\n\nã€ç¬¬ä¸‰æ­¥ï¼šé€»è¾‘çº¦æŸã€‘å¿…é¡»ä¿æŒæ•°æ®ä¸€è‡´æ€§\n- æ‰€æœ‰æ•°å€¼å­—æ®µèŒƒå›´ï¼š0-100\n- é€»è¾‘ä¸€è‡´æ€§ï¼šæ˜¯å¦ä¸ºå¤„å¥³/å¤„ç”·=true â†’ æ€§äº¤æ€»æ¬¡æ•°=0 ä¸” æ€§ä¼´ä¾£æ•°é‡=0 ä¸” æ€§ä¼´ä¾£åå•=[]\n- æ•°é‡åŒ¹é…ï¼šæ€§ä¼´ä¾£æ•°é‡ å¿…é¡»ç­‰äº æ€§ä¼´ä¾£åå•.length\n\nã€ç¬¬å››æ­¥ï¼šå™äº‹æ•´åˆã€‘ç§å¯†ä¿¡æ¯å¿…é¡»å½±å“NPCè¡Œä¸º\n- NPCçš„è¡Œä¸ºå’Œå¯¹è¯å¿…é¡»ä¸æ€§æ ¼å€¾å‘ã€æ€§æ¸´æœ›ç¨‹åº¦ä¿æŒä¸€è‡´\n- å¥½æ„Ÿåº¦ä½äº60æ—¶ï¼ŒNPCä¼šæ‹’ç»äº²å¯†è¡Œä¸º\n- è¿åäººæ ¼åº•çº¿çš„è¡Œä¸ºä¼šå¯¼è‡´å¥½æ„Ÿåº¦æš´è·Œ\n- äº²å¯†è¡Œä¸ºçš„é—¨æ§›ï¼šå¥½æ„Ÿåº¦â‰¥60 æˆ– æ€§æ¸´æœ›â‰¥70ï¼ˆçº¯æƒ…æ€§æ ¼éœ€è¦å¥½æ„Ÿåº¦â‰¥80ï¼‰\n\nã€é‡è¦æé†’ã€‘\nå½“nsfwMode=trueæ—¶ï¼Œåˆ›å»ºä»»ä½•NPCéƒ½å¿…é¡»åŒ…å«å®Œæ•´çš„ç§å¯†ä¿¡æ¯å¯¹è±¡ï¼ˆ14ä¸ªå¿…å¡«å­—æ®µï¼‰\nè¿™æ˜¯å¼ºåˆ¶æ€§è¦æ±‚ï¼Œä¸å¯çœç•¥ã€ç®€åŒ–æˆ–å»¶åç”Ÿæˆ\n'},1325:(e,n,t)=&gt;{t.d(n,{A:()=&gt;i});var a=t(1601),o=t.n(a),r=t(6314),l=t.n(r)()(o());l.push([e.id,"\n.mode-selection-container[data-v-6b737fda] {\n  width: 100%;\n  height: auto;\n  min-height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 2rem;\n  box-sizing: border-box;\n  background: transparent;\n  overflow: hidden; /* ç§»é™¤æ»šåŠ¨ */\n}\n.selection-content[data-v-6b737fda] {\n  /* æ·»åŠ é€æ˜ç£¨ç ‚æ•ˆæœ */\n  background: var(--color-surface-transparent);\n  backdrop-filter: blur(12px);\n  -webkit-backdrop-filter: blur(12px);\n  border-radius: 20px;\n  padding: 2rem;\n  border: 1px solid var(--color-border);\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);\n  /* è°ƒæ•´åˆ°åˆé€‚é«˜åº¦ï¼Œç¡®ä¿å†…å®¹å®Œå…¨å¯è§ */\n  height: auto;\n  max-height: 90vh;\n  max-width: 1000px;\n  width: 90%;\n  overflow-y: auto;  /* å…è®¸å†…éƒ¨æ»šåŠ¨ */\n  overflow-x: hidden;\n  /* éšè—æ»šåŠ¨æ¡ä½†ä¿æŒæ»šåŠ¨åŠŸèƒ½ */\n  scrollbar-width: none; /* Firefox */\n  -ms-overflow-style: none; /* IE and Edge */\n  display: flex;\n  flex-direction: column;\n  gap: 1.5rem;\n}\n\n/* éšè—Webkitæµè§ˆå™¨çš„æ»šåŠ¨æ¡ */\n.selection-content[data-v-6b737fda]::-webkit-scrollbar {\n  display: none;\n}\n.header-container[data-v-6b737fda] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 100%;\n  margin-bottom: 1.5rem; /* å‡å°‘åº•éƒ¨é—´è· */\n}\n.title-version-row[data-v-6b737fda] {\n  position: relative;\n  display: flex;\n  justify-content: center; /* Center the title */\n  align-items: center;\n  width: 100%;\n  margin-bottom: 0.5rem; /* Space between title row and subtitle */\n}\n.version-tag[data-v-6b737fda] {\n  position: absolute;\n  right: 0;\n  top: 0; /* Align to the top of the container */\n  font-size: 0.8rem; /* Adjusted size */\n  font-family: 'Consolas', 'monospace';\n  color: var(--color-warning);\n  padding: 0.2rem 0.6rem;\n  background: rgba(var(--color-warning-rgb, 255, 193, 7), 0.1);\n  border: 1px solid rgba(var(--color-warning-rgb, 255, 193, 7), 0.4);\n  border-radius: 4px;\n  opacity: 0.85;\n  font-weight: bold;\n  backdrop-filter: blur(8px);\n  -webkit-backdrop-filter: blur(8px);\n}\n.main-title[data-v-6b737fda] {\n  font-family: var(--font-family-serif);\n  font-size: 3.5rem;\n  font-weight: 500;\n  letter-spacing: 0.5em;\n  color: var(--color-text);\n  text-shadow: 0 0 25px rgba(var(--color-primary-rgb), 0.5);\n  margin: 0;\n  text-align: center;\n  /* Add padding to compensate for letter-spacing and ensure true centering */\n  padding-left: 0.5em;\n}\n.sub-title[data-v-6b737fda] {\n  font-size: 1.2rem;\n  color: var(--color-text-secondary);\n  letter-spacing: 0.1em;\n  opacity: 0.9;\n  margin: 0;\n}\n.gate-container[data-v-6b737fda] {\n  display: flex;\n  gap: 2rem;\n  width: 100%;\n  max-width: 900px;\n  justify-content: center;\n}\n.gate-card[data-v-6b737fda] {\n  flex: 1;\n  max-width: 300px;\n  padding: 1.5rem 1.5rem;\n  background: var(--color-surface-transparent);\n  border: 1px solid var(--color-border);\n  border-radius: 12px;\n  cursor: pointer;\n  text-align: center;\n  transition: all 0.4s ease;\n  backdrop-filter: blur(10px);\n  -webkit-backdrop-filter: blur(10px);\n}\n.gate-card[data-v-6b737fda]:hover {\n  transform: translateY(-10px);\n  border-color: var(--color-primary);\n  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2), 0 0 20px rgba(var(--color-primary-rgb), 0.3);\n  background: var(--color-surface);\n}\n.gate-card.disabled[data-v-6b737fda] {\n  opacity: 0.5;\n  cursor: not-allowed;\n  pointer-events: none;\n}\n.gate-icon[data-v-6b737fda] {\n  display: flex;\n  justify-content: center;\n  color: var(--color-primary);\n  margin-bottom: 1.5rem;\n  transition: all 0.4s ease;\n}\n.gate-card:hover .gate-icon[data-v-6b737fda] {\n  transform: scale(1.1);\n  color: var(--color-accent);\n  filter: drop-shadow(0 0 10px rgba(var(--color-accent-rgb), 0.7));\n}\n.gate-title[data-v-6b737fda] {\n  font-family: var(--font-family-serif);\n  font-size: 1.6rem;\n  margin: 0 0 0.5rem 0;\n  color: var(--color-text);\n}\n.gate-description[data-v-6b737fda] {\n  font-size: 1rem;\n  color: var(--color-text-secondary);\n  margin-bottom: 0.5rem;\n}\n.gate-detail[data-v-6b737fda] {\n  font-size: 0.85rem;\n  color: var(--color-text-muted);\n  line-height: 1.4;\n  opacity: 0.8;\n}\n.privacy-notice[data-v-6b737fda] {\n  margin-top: 1rem; /* å‡å°‘é¡¶éƒ¨é—´è· */\n  padding: 0.8rem; /* å‡å°‘å†…è¾¹è· */\n  background: rgba(var(--color-warning-rgb), 0.1);\n  border: 1px solid rgba(var(--color-warning-rgb), 0.3);\n  border-radius: 8px;\n  max-width: 600px;\n  text-align: center;\n}\n.privacy-notice p[data-v-6b737fda] {\n  font-size: 0.9rem;\n  color: var(--color-text-secondary);\n  margin: 0.5rem 0;\n  line-height: 1.5;\n}\n.privacy-notice strong[data-v-6b737fda] {\n  color: var(--color-warning);\n}\n.scroll-btn[data-v-6b737fda] {\n  margin-top: 1rem; /* å‡å°‘é¡¶éƒ¨é—´è· */\n  background: transparent;\n  border: 1px solid var(--color-border);\n  color: var(--color-text-secondary);\n  font-family: var(--font-family-serif);\n  font-size: 1rem;\n  letter-spacing: 0.3em;\n  padding: 0.6rem 2rem;\n  border-radius: 50px;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  /* Prevent squishing and keep text on one line */\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  align-self: center;\n  white-space: nowrap;\n  flex: 0 0 auto;\n  max-width: 100%;\n}\n.scroll-btn[data-v-6b737fda]:hover {\n  background: var(--color-surface);\n  color: var(--color-text);\n  border-color: var(--color-primary);\n  box-shadow: 0 0 15px rgba(var(--color-primary-rgb), 0.3);\n}\n.footer-actions[data-v-6b737fda] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 1rem;\n  margin-top: 1rem; /* å‡å°‘é¡¶éƒ¨é—´è· */\n}\n@media (max-width: 640px) {\n.footer-actions[data-v-6b737fda] {\n    margin-top: 1.5rem;\n}\n.mode-selection-container[data-v-6b737fda] {\n    padding: 1rem;\n    height: auto;\n    min-height: 100%;\n    align-items: center; /* å±…ä¸­æ˜¾ç¤º */\n    justify-content: center;\n}\n.selection-content[data-v-6b737fda] {\n    padding: 1.5rem;\n    height: auto;\n    max-height: 95vh;\n    overflow-y: auto; /* ç§»åŠ¨ç«¯å…è®¸æ»šåŠ¨ */\n    overflow-x: hidden;\n    /* éšè—æ»šåŠ¨æ¡ä½†ä¿æŒæ»šåŠ¨åŠŸèƒ½ */\n    scrollbar-width: none; /* Firefox */\n    -ms-overflow-style: none; /* IE and Edge */\n    gap: 1.5rem;\n}\n\n  /* ç§»åŠ¨ç«¯ä¹Ÿéšè—æ»šåŠ¨æ¡ */\n.selection-content[data-v-6b737fda]::-webkit-scrollbar {\n    display: none;\n}\n.main-title[data-v-6b737fda] {\n    font-size: 2.5rem;\n}\n.header-container[data-v-6b737fda] {\n    margin-bottom: 2rem;\n    flex-shrink: 0;\n}\n\n  /* ç§»åŠ¨ç«¯ç‰ˆæœ¬å·ç§»åˆ°åº•éƒ¨ */\n.title-version-row[data-v-6b737fda] {\n    flex-direction: column;\n    gap: 0.5rem;\n}\n.version-tag[data-v-6b737fda] {\n    position: static; /* å–æ¶ˆç»å¯¹å®šä½ */\n    align-self: center; /* å±…ä¸­æ˜¾ç¤º */\n    margin-top: 0.5rem;\n}\n.gate-container[data-v-6b737fda] {\n    flex-direction: column;\n    align-items: center;\n    gap: 1.5rem;\n    flex-shrink: 0;\n}\n.gate-card[data-v-6b737fda] {\n    width: 100%;\n    max-width: 350px;\n    padding: 2rem 1.5rem;\n}\n.gate-detail[data-v-6b737fda] {\n    font-size: 0.8rem;\n}\n.privacy-notice[data-v-6b737fda] {\n    margin-top: 1.5rem;\n    padding: 1rem;\n    max-width: 100%;\n    flex-shrink: 0;\n}\n.privacy-notice p[data-v-6b737fda] {\n    font-size: 0.85rem;\n}\n.scroll-btn[data-v-6b737fda] {\n    margin-top: 1.5rem;\n    margin-bottom: 1rem;\n    flex-shrink: 0;\n    padding: 0.8rem 2rem;\n    font-size: 0.95rem;\n}\n}\n\n/* è¶…å°å±å¹•ä¼˜åŒ–ï¼ˆæ‰‹æœºç«–å±ï¼‰ */\n@media (max-width: 480px) {\n.mode-selection-container[data-v-6b737fda] {\n    padding: 0.5rem;\n}\n.selection-content[data-v-6b737fda] {\n    padding: 1rem;\n    border-radius: 15px;\n    gap: 1rem;\n}\n.main-title[data-v-6b737fda] {\n    font-size: 2rem;\n    letter-spacing: 0.3em;\n    padding-left: 0.3em;\n}\n.header-container[data-v-6b737fda] {\n    margin-bottom: 1.5rem;\n}\n.version-tag[data-v-6b737fda] {\n    font-size: 0.7rem;\n    padding: 0.15rem 0.5rem;\n}\n.gate-container[data-v-6b737fda] {\n    gap: 1rem;\n}\n.gate-card[data-v-6b737fda] {\n    padding: 1.5rem 1rem;\n}\n.gate-title[data-v-6b737fda] {\n    font-size: 1.4rem;\n}\n.privacy-notice[data-v-6b737fda] {\n    margin-top: 1rem;\n    padding: 0.8rem;\n}\n.scroll-btn[data-v-6b737fda] {\n    margin-top: 1rem;\n    margin-bottom: 0.5rem;\n    padding: 0.7rem 1.5rem;\n    font-size: 0.9rem;\n}\n}\n",""]);const i=l},1417:(e,n,t)=&gt;{t.d(n,{A:()=&gt;i});var a=t(1601),o=t.n(a),r=t(6314),l=t.n(r)()(o());l.push([e.id,"\n.skills-content[data-v-075e9794] {\n  width: 100%;\n  display: grid;\n  grid-template-columns: minmax(0, 1fr) minmax(280px, 420px);\n  gap: 0;\n  background: var(--color-background);\n  overflow: hidden;\n}\n\n/* å·¦ä¾§ï¼šå½“å‰ä¿®ç‚¼+åŠŸæ³•åº“ */\n.skills-main[data-v-075e9794] {\n  display: flex;\n  flex-direction: column;\n  overflow-y: auto;\n  padding: 24px;\n  gap: 24px;\n}\n.skills-and-library-grid[data-v-075e9794] {\n  display: grid;\n  grid-template-columns: minmax(0, 1fr) minmax(300px, 360px);\n  gap: 24px;\n  align-items: flex-start;\n}\n@media (max-width: 1200px) {\n.skills-and-library-grid[data-v-075e9794] {\n    grid-template-columns: 1fr;\n}\n}\n.skills-column[data-v-075e9794] {\n  display: flex;\n  flex-direction: column;\n  gap: 24px;\n  min-width: 0;\n}\n.current-technique-section[data-v-075e9794],\n.technique-library-section[data-v-075e9794] {\n  display: flex;\n  flex-direction: column;\n}\n\n/* åŒºå—æ ‡é¢˜ */\n.section-header[data-v-075e9794] {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  margin-bottom: 16px;\n  padding-bottom: 12px;\n  border-bottom: 2px solid var(--color-border);\n}\n.header-icon[data-v-075e9794] {\n  font-size: 1.2rem;\n}\n.header-text[data-v-075e9794] {\n  font-size: 1.1rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.count-badge[data-v-075e9794] {\n  margin-left: auto;\n  padding: 2px 10px;\n  background: var(--color-primary);\n  color: white;\n  border-radius: 12px;\n  font-size: 0.85rem;\n  font-weight: 600;\n}\n\n/* å½“å‰ä¿®ç‚¼æ§½ä½ */\n.current-technique-slot[data-v-075e9794] {\n  background: linear-gradient(135deg, var(--color-surface) 0%, var(--color-background) 100%);\n  border: 2px solid var(--color-border);\n  border-radius: 12px;\n  padding: 20px;\n  transition: all 0.3s ease;\n  min-height: 120px;\n  display: flex;\n  align-items: center;\n  position: relative;\n  overflow: hidden;\n}\n.current-technique-slot[data-v-075e9794]::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 4px;\n  background: linear-gradient(90deg, transparent, var(--color-primary), transparent);\n  opacity: 0;\n  transition: opacity 0.3s ease;\n}\n.current-technique-slot.has-technique[data-v-075e9794] {\n  cursor: pointer;\n  border-color: var(--color-success);\n  background: linear-gradient(135deg, rgba(var(--color-success-rgb), 0.05) 0%, var(--color-surface) 100%);\n}\n.current-technique-slot.has-technique[data-v-075e9794]::before {\n  opacity: 0.6;\n  background: linear-gradient(90deg, transparent, var(--color-success), transparent);\n}\n.current-technique-slot.has-technique[data-v-075e9794]:hover {\n  border-color: var(--color-primary);\n  transform: translateY(-2px);\n  box-shadow: 0 6px 16px rgba(var(--color-success-rgb), 0.3);\n}\n.current-technique-slot.has-technique[data-v-075e9794]:hover::before {\n  opacity: 1;\n  background: linear-gradient(90deg, transparent, var(--color-primary), transparent);\n}\n.technique-content[data-v-075e9794] {\n  display: flex;\n  align-items: center;\n  gap: 16px;\n  width: 100%;\n}\n.technique-icon-wrapper[data-v-075e9794] {\n  width: 64px;\n  height: 64px;\n  border-radius: 12px;\n  border: 3px solid var(--color-border);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: var(--color-surface-light);\n  flex-shrink: 0;\n}\n.technique-icon-text[data-v-075e9794] {\n  font-size: 28px;\n  font-weight: bold;\n  color: var(--color-text);\n}\n.technique-info[data-v-075e9794] {\n  flex: 1;\n}\n.technique-name[data-v-075e9794] {\n  font-size: 1.2rem;\n  font-weight: 700;\n  margin-bottom: 4px;\n}\n.technique-quality[data-v-075e9794] {\n  font-size: 0.9rem;\n  color: var(--color-text-secondary);\n  margin-bottom: 8px;\n}\n.technique-progress[data-v-075e9794] {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n.progress-bar-wrapper[data-v-075e9794] {\n  flex: 1;\n}\n.progress-text[data-v-075e9794] {\n  font-size: 0.9rem;\n  font-weight: 600;\n  color: var(--color-text);\n  min-width: 45px;\n  text-align: right;\n}\n\n/* ç©ºæ§½ä½å ä½ç¬¦ */\n.empty-slot-placeholder[data-v-075e9794] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  width: 100%;\n  gap: 8px;\n  padding: 20px;\n}\n.empty-icon[data-v-075e9794] {\n  font-size: 3rem;\n  opacity: 0.5;\n}\n.empty-text[data-v-075e9794] {\n  font-size: 1rem;\n  color: var(--color-text-secondary);\n  font-weight: 500;\n}\n.empty-hint[data-v-075e9794] {\n  font-size: 0.85rem;\n  color: var(--color-text-muted);\n}\n\n/* å·²å­¦æŠ€èƒ½åŒºåŸŸ */\n.learned-skills-section[data-v-075e9794] {\n  display: flex;\n  flex-direction: column;\n}\n.learned-skills-grid[data-v-075e9794] {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n  gap: 12px;\n  max-height: 300px;\n  overflow-y: auto;\n  padding-right: 8px;\n}\n.learned-skill-card[data-v-075e9794] {\n  background: linear-gradient(135deg, rgba(var(--color-success-rgb), 0.08) 0%, var(--color-surface) 100%);\n  border: 2px solid var(--color-success);\n  border-radius: 10px;\n  padding: 12px;\n  display: flex;\n  gap: 10px;\n  transition: all 0.3s ease;\n  position: relative;\n  overflow: hidden;\n}\n.learned-skill-card[data-v-075e9794]::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 3px;\n  background: linear-gradient(90deg, transparent, var(--color-success), transparent);\n  opacity: 0.6;\n}\n.learned-skill-card[data-v-075e9794]:hover {\n  border-color: var(--color-primary);\n  transform: translateY(-2px);\n  box-shadow: 0 6px 16px rgba(var(--color-success-rgb), 0.25);\n}\n.skill-card-icon[data-v-075e9794] {\n  width: 36px;\n  height: 36px;\n  border-radius: 8px;\n  background: linear-gradient(135deg, var(--color-success), var(--color-info));\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 20px;\n  flex-shrink: 0;\n}\n.skill-card-body[data-v-075e9794] {\n  flex: 1;\n  min-width: 0;\n}\n.skill-card-name[data-v-075e9794] {\n  font-size: 0.95rem;\n  font-weight: 700;\n  color: var(--color-text);\n  margin-bottom: 4px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.skill-card-source[data-v-075e9794] {\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n  margin-bottom: 4px;\n}\n.skill-card-desc[data-v-075e9794] {\n  font-size: 0.7rem;\n  color: var(--color-text-muted);\n  line-height: 1.3;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  line-clamp: 2;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n  margin-bottom: 4px;\n}\n.skill-card-cost[data-v-075e9794] {\n  font-size: 0.7rem;\n  color: var(--color-info);\n  font-weight: 500;\n}\n\n/* æœªæŒæ¡æŠ€èƒ½åŒºåŸŸ */\n.unmastered-skills-section[data-v-075e9794] {\n  display: flex;\n  flex-direction: column;\n}\n.unmastered-skills-grid[data-v-075e9794] {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n  gap: 12px;\n  max-height: 300px;\n  overflow-y: auto;\n  padding-right: 8px;\n}\n.unmastered-skill-card[data-v-075e9794] {\n  background: linear-gradient(135deg, rgba(var(--color-warning-rgb), 0.05) 0%, var(--color-surface) 100%);\n  border: 2px dashed var(--color-warning);\n  border-radius: 10px;\n  padding: 12px;\n  display: flex;\n  gap: 10px;\n  opacity: 0.8;\n  transition: all 0.3s ease;\n  position: relative;\n  overflow: hidden;\n}\n.unmastered-skill-card[data-v-075e9794]::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 2px;\n  background: linear-gradient(90deg, transparent, var(--color-warning), transparent);\n  opacity: 0.5;\n}\n.unmastered-skill-card[data-v-075e9794]:hover {\n  opacity: 1;\n  border-color: var(--color-info);\n  border-style: solid;\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(var(--color-warning-rgb), 0.2);\n}\n.unmastered-skill-card .skill-card-icon[data-v-075e9794] {\n  background: var(--color-surface-light);\n  color: var(--color-text-secondary);\n  width: 36px;\n  height: 36px;\n  border-radius: 8px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 20px;\n  flex-shrink: 0;\n}\n.unmastered-skill-card .skill-card-body[data-v-075e9794] {\n  flex: 1;\n  min-width: 0;\n}\n.unmastered-skill-card .skill-card-name[data-v-075e9794] {\n  font-size: 0.95rem;\n  font-weight: 700;\n  color: var(--color-text-secondary);\n  margin-bottom: 4px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.unmastered-skill-card .skill-card-source[data-v-075e9794] {\n  font-size: 0.75rem;\n  color: var(--color-warning);\n  margin-bottom: 4px;\n  font-weight: 500;\n}\n.unmastered-skill-card .skill-card-progress[data-v-075e9794] {\n  margin: 6px 0;\n}\n.unmastered-skill-card .skill-progress-bar[data-v-075e9794] {\n  width: 100%;\n  height: 6px;\n  background: var(--color-surface-light);\n  border-radius: 3px;\n  overflow: hidden;\n  border: 1px solid var(--color-border);\n}\n.unmastered-skill-card .skill-progress-fill[data-v-075e9794] {\n  height: 100%;\n  background: linear-gradient(90deg, var(--color-info), var(--color-primary));\n  transition: width 0.3s ease;\n  border-radius: 2px;\n}\n.unmastered-skill-card .skill-card-desc[data-v-075e9794] {\n  font-size: 0.7rem;\n  color: var(--color-text-muted);\n  line-height: 1.3;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  line-clamp: 2;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n}\n\n/* åŠŸæ³•åº“åŒºåŸŸ */\n.technique-library-section[data-v-075e9794] {\n  flex: 1;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n}\n.mobile-library-backdrop[data-v-075e9794] {\n  display: none;\n}\n.empty-library[data-v-075e9794] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 60px 20px;\n  text-align: center;\n  gap: 12px;\n}\n.empty-library .empty-icon[data-v-075e9794] {\n  font-size: 4rem;\n  opacity: 0.4;\n}\n.empty-library .empty-text[data-v-075e9794] {\n  font-size: 1.1rem;\n  color: var(--color-text-secondary);\n}\n.empty-library .empty-hint[data-v-075e9794] {\n  font-size: 0.9rem;\n  color: var(--color-text-muted);\n}\n\n/* åŠŸæ³•å¡ç‰‡ç½‘æ ¼ */\n.technique-grid[data-v-075e9794] {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));\n  gap: 16px;\n  overflow-y: auto;\n  padding-right: 8px;\n}\n.mobile-library-close[data-v-075e9794],\n.mobile-library-toggle[data-v-075e9794] {\n  display: none;\n  border: none;\n  background: none;\n  font: inherit;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n.mobile-library-close[data-v-075e9794] {\n  align-self: flex-end;\n  color: var(--color-text-secondary);\n  padding: 6px 12px;\n  border-radius: 999px;\n  border: 1px solid var(--color-border);\n  background: var(--color-surface-light);\n}\n.mobile-library-close[data-v-075e9794]:hover {\n  color: var(--color-text);\n  border-color: var(--color-text-secondary);\n}\n.mobile-library-toggle[data-v-075e9794] {\n  align-items: center;\n  gap: 8px;\n  border-radius: 999px;\n  padding: 12px 20px;\n  font-weight: 600;\n  background: var(--color-primary);\n  color: #ffffff;\n  box-shadow: 0 12px 20px rgba(var(--color-primary-rgb), 0.3);\n  position: fixed;\n  right: 24px;\n  bottom: 32px;\n  z-index: 1200;\n}\n.mobile-library-toggle .toggle-icon[data-v-075e9794] {\n  font-size: 1.2rem;\n}\n.mobile-library-toggle[data-v-075e9794]:disabled {\n  opacity: 0.7;\n  cursor: default;\n}\n.mobile-library-toggle[data-v-075e9794]:not(:disabled):hover {\n  transform: translateY(-2px);\n  box-shadow: 0 16px 24px rgba(var(--color-primary-rgb), 0.35);\n}\n.technique-card[data-v-075e9794] {\n  background: linear-gradient(135deg, var(--color-surface) 0%, var(--color-background) 100%);\n  border: 2px solid var(--color-border);\n  border-radius: 12px;\n  padding: 16px;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n  position: relative;\n  overflow: hidden;\n}\n.technique-card[data-v-075e9794]::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 4px;\n  background: linear-gradient(90deg, transparent, var(--color-primary), transparent);\n  opacity: 0;\n  transition: opacity 0.3s ease;\n}\n.technique-card[data-v-075e9794]:hover::before {\n  opacity: 1;\n}\n.technique-card[data-v-075e9794]:hover {\n  border-color: var(--color-primary);\n  transform: translateY(-4px);\n  box-shadow: 0 8px 20px rgba(var(--color-primary-rgb), 0.15);\n}\n.technique-card.selected[data-v-075e9794] {\n  border-color: var(--color-accent);\n  background: linear-gradient(135deg, var(--color-surface-hover) 0%, var(--color-surface) 100%);\n  box-shadow: 0 4px 16px rgba(var(--color-accent-rgb), 0.25);\n}\n.technique-card.selected[data-v-075e9794]::before {\n  opacity: 1;\n  background: linear-gradient(90deg, transparent, var(--color-accent), transparent);\n}\n.card-icon[data-v-075e9794] {\n  width: 56px;\n  height: 56px;\n  border-radius: 12px;\n  border: 3px solid var(--color-border);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: var(--color-surface-light);\n  flex-shrink: 0;\n  margin: 0 auto;\n  box-shadow: 0 2px 8px rgba(0,0,0,0.08);\n}\n.icon-text[data-v-075e9794] {\n  font-size: 24px;\n  font-weight: bold;\n  color: var(--color-text);\n}\n.card-body[data-v-075e9794] {\n  flex: 1;\n  min-width: 0;\n  text-align: center;\n}\n.card-title[data-v-075e9794] {\n  font-size: 1.05rem;\n  font-weight: 700;\n  margin-bottom: 6px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.card-quality[data-v-075e9794] {\n  font-size: 0.8rem;\n  color: var(--color-text-secondary);\n  margin-bottom: 8px;\n  font-weight: 500;\n}\n.card-desc[data-v-075e9794] {\n  font-size: 0.75rem;\n  color: var(--color-text-muted);\n  line-height: 1.5;\n  display: -webkit-box;\n  -webkit-line-clamp: 3;\n  line-clamp: 3;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n  text-align: left;\n}\n\n\n\n/* æŠ€èƒ½æ§½ä½ */\n.skill-slot[data-v-075e9794] {\n  background: var(--color-background);\n  border: 2px solid var(--color-border);\n  border-radius: 12px;\n  padding: 16px;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  min-height: 80px;\n  display: flex;\n  align-items: center;\n}\n.skill-slot[data-v-075e9794]:hover {\n  border-color: var(--color-primary);\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(var(--color-primary-rgb), 0.2);\n}\n.skill-slot.has-skill[data-v-075e9794] {\n  border-color: var(--color-success);\n  background: rgba(var(--color-success-rgb), 0.05);\n}\n\n/* æŠ€èƒ½ä¿¡æ¯ */\n.skill-info[data-v-075e9794] {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  width: 100%;\n}\n.skill-icon[data-v-075e9794] {\n  width: 48px;\n  height: 48px;\n  border-radius: 8px;\n  border: 2px solid var(--color-border);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: var(--color-surface);\n  flex-shrink: 0;\n  font-weight: bold;\n  color: var(--color-text);\n}\n.skill-type-text[data-v-075e9794] {\n  font-size: 18px;\n  font-weight: bold;\n}\n.skill-details[data-v-075e9794] {\n  flex: 1;\n  min-width: 0;\n}\n.skill-name[data-v-075e9794] {\n  font-weight: 600;\n  font-size: 1rem;\n  margin-bottom: 8px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n/* è¿›åº¦æ¡ */\n.skill-progress[data-v-075e9794] {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n.progress-flex[data-v-075e9794] {\n  flex: 1;\n}\n.legacy-progress-bar[data-v-075e9794] {\n  flex: 1;\n  height: 8px; /* å¢åŠ é«˜åº¦ */\n  background: #e2e8f0; /* æ›´æ˜æ˜¾çš„èƒŒæ™¯è‰² */\n  border: 1px solid #cbd5e1; /* æ·»åŠ è¾¹æ¡† */\n  border-radius: 4px;\n  overflow: hidden;\n  box-shadow: inset 0 1px 2px rgba(0,0,0,0.05); /* æ·»åŠ è½»å¾®é˜´å½± */\n}\n.legacy-progress-fill[data-v-075e9794] {\n  height: 100%;\n  min-width: 1px; /* ç¡®ä¿æœ€å°å¯è§å®½åº¦ */\n  background: linear-gradient(90deg, #22c55e, #3b82f6); /* æ˜ç¡®çš„é¢œè‰² */\n  border-radius: 3px;\n  transition: width 0.5s ease;\n}\n.progress-text[data-v-075e9794] {\n  font-size: 0.8rem;\n  color: var(--color-text-secondary);\n  font-weight: 600;\n  min-width: 35px;\n}\n\n/* ç©ºæ§½ä½ */\n.empty-slot[data-v-075e9794] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  color: var(--color-text-secondary);\n  width: 100%;\n  gap: 8px;\n}\n.empty-icon[data-v-075e9794] {\n  font-size: 2rem;\n  opacity: 0.5;\n  margin-bottom: 4px;\n}\n\n/* è¯¦æƒ…ä¾§è¾¹æ  */\n.skill-details-sidebar[data-v-075e9794] {\n  width: 380px; /* å¢åŠ å®½åº¦ä»¥å®¹çº³æ–°è®¾è®¡ */\n  border-left: 1px solid var(--color-border);\n  background: var(--color-background); /* æ”¹ä¸ºèƒŒæ™¯è‰² */\n  display: flex;\n  flex-direction: column;\n  transition: all 0.3s ease;\n}\n.skill-details-sidebar.no-selection[data-v-075e9794] {\n  background: var(--color-surface);\n}\n.skill-details-content[data-v-075e9794] {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  padding: 20px; /* ç»Ÿä¸€å†…è¾¹è· */\n  gap: 16px; /* æ¨¡å—é—´è· */\n}\n\n/* æ–°å¢ï¼šé¡¶éƒ¨ä¿¡æ¯å¡ç‰‡ */\n.details-card[data-v-075e9794] {\n  background: var(--color-surface);\n  border: 1px solid var(--color-border);\n  border-radius: 12px;\n  padding: 16px;\n  position: relative;\n  overflow: hidden;\n}\n.card-bg-glow[data-v-075e9794] {\n  position: absolute;\n  top: -50%;\n  left: -50%;\n  width: 200%;\n  height: 200%;\n  background: radial-gradient(circle, rgba(var(--color-primary-rgb), 0.1) 0%, transparent 40%);\n  animation: rotate-glow-075e9794 10s linear infinite;\n  opacity: 0;\n  transition: opacity 0.5s ease;\n}\n.details-card:hover .card-bg-glow[data-v-075e9794] {\n  opacity: 1;\n}\n@keyframes rotate-glow-075e9794 {\nfrom { transform: rotate(0deg);\n}\nto { transform: rotate(360deg);\n}\n}\n.card-header[data-v-075e9794] {\n  display: flex;\n  align-items: center;\n  gap: 16px;\n  margin-bottom: 12px;\n}\n.details-icon-large[data-v-075e9794] {\n  width: 64px;\n  height: 64px;\n  border-radius: 10px;\n  border: 2px solid var(--color-border);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: var(--color-background);\n  flex-shrink: 0;\n  font-weight: bold;\n}\n.skill-type-text-large[data-v-075e9794] {\n  font-size: 24px;\n  font-weight: bold;\n}\n.details-title-area h3[data-v-075e9794] {\n  margin: 0;\n  font-size: 1.2rem; /* å¢å¤§å­—ä½“ */\n  font-weight: 700; /* åŠ ç²— */\n}\n.details-meta[data-v-075e9794] {\n  display: flex;\n  gap: 8px;\n  margin-top: 6px;\n}\n.meta-tag[data-v-075e9794] {\n  font-size: 0.75rem;\n  font-weight: 500;\n  padding: 3px 8px;\n  border-radius: 12px;\n  background: var(--color-surface-light);\n  border: 1px solid var(--color-border);\n}\n.meta-tag.quality-tag[data-v-075e9794] {\n  background: rgba(var(--quality-color-rgb), 0.1);\n  border-color: rgba(var(--quality-color-rgb), 0.3);\n  color: var(--quality-color);\n}\n.text-quality-ç¥[data-v-075e9794] { --quality-color-rgb: 239, 68, 68; --quality-color: #ef4444;\n}\n.text-quality-ä»™[data-v-075e9794] { --quality-color-rgb: 245, 158, 11; --quality-color: #f59e0b;\n}\n.text-quality-å¤©[data-v-075e9794] { --quality-color-rgb: 139, 92, 246; --quality-color: #8b5cf6;\n}\n.text-quality-åœ°[data-v-075e9794] { --quality-color-rgb: 59, 130, 246; --quality-color: #3b82f6;\n}\n.text-quality-äºº[data-v-075e9794] { --quality-color-rgb: 16, 185, 129; --quality-color: #10b981;\n}\n.text-quality-å‡¡[data-v-075e9794] { --quality-color-rgb: 107, 114, 128; --quality-color: #6b7280;\n}\n.details-description[data-v-075e9794] {\n  color: var(--color-text-secondary);\n  line-height: 1.6;\n  font-size: 0.85rem;\n  margin: 0;\n}\n\n/* æ–°å¢ï¼šæ ‡ç­¾é¡µç³»ç»Ÿ */\n.details-tabs[data-v-075e9794] {\n  display: flex;\n  background: var(--color-surface);\n  border-radius: 8px;\n  padding: 4px;\n  border: 1px solid var(--color-border);\n}\n.tab-btn[data-v-075e9794] {\n  flex: 1;\n  padding: 8px 12px;\n  border: none;\n  background: transparent;\n  border-radius: 6px;\n  cursor: pointer;\n  font-weight: 500;\n  color: var(--color-text-secondary);\n  transition: all 0.2s ease;\n}\n.tab-btn.active[data-v-075e9794] {\n  background: var(--color-primary);\n  color: white;\n  box-shadow: 0 2px 8px rgba(var(--color-primary-rgb), 0.3);\n}\n.tab-btn[data-v-075e9794]:not(.active):hover {\n  background: var(--color-surface-hover);\n  color: var(--color-text);\n}\n.details-body[data-v-075e9794] {\n  flex: 1;\n  background: var(--color-surface);\n  border: 1px solid var(--color-border);\n  border-radius: 12px;\n  padding: 16px;\n  overflow-y: auto;\n}\n.tab-content[data-v-075e9794] {\n  animation: fadeIn-075e9794 0.3s ease;\n}\n@keyframes fadeIn-075e9794 {\nfrom { opacity: 0; transform: translateY(10px);\n}\nto { opacity: 1; transform: translateY(0);\n}\n}\n.empty-tab[data-v-075e9794] {\n  text-align: center;\n  color: var(--color-text-secondary);\n  padding: 24px;\n  font-style: italic;\n}\n\n/* ä¿®ç‚¼æ¦‚è§ˆ */\n.overview-section h4[data-v-075e9794],\n.technique-level-section h4[data-v-075e9794],\n.cultivation-progress-section h4[data-v-075e9794],\n.skill-effects-section h4[data-v-075e9794],\n.technique-skills-section h4[data-v-075e9794],\n.unlocked-skills-section h4[data-v-075e9794],\n.cultivation-time-input h4[data-v-075e9794] {\n  margin: 0 0 12px 0;\n  font-size: 0.9rem;\n  color: var(--color-text-secondary);\n  font-weight: 600;\n}\n.overview-grid[data-v-075e9794] {\n  display: grid;\n  grid-template-columns: repeat(2, minmax(0, 1fr));\n  gap: 12px 16px;\n  margin-bottom: 16px;\n}\n.overview-item[data-v-075e9794] {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n.overview-item .label[data-v-075e9794] {\n  color: var(--color-text-secondary);\n  font-size: 0.9rem;\n  min-width: 72px;\n}\n.overview-item .value[data-v-075e9794] {\n  color: var(--color-text);\n  font-weight: 600;\n}\n.overview-item .with-bar[data-v-075e9794] {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n.overview-item .with-bar .num[data-v-075e9794] {\n  min-width: 40px;\n  color: var(--color-success);\n  font-weight: 600;\n}\n\n/* ä¿®ç‚¼è¿›åº¦éƒ¨åˆ† */\n.cultivation-progress-section[data-v-075e9794] {\n  margin-bottom: 20px;\n}\n.progress-container[data-v-075e9794] {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n.progress-container .progress[data-v-075e9794] {\n  background: var(--color-background) !important;\n  border: 2px solid var(--color-primary) !important;\n  box-shadow: 0 1px 3px rgba(0,0,0,0.2) !important;\n  min-width: 200px;\n}\n.legacy-progress-bar-large[data-v-075e9794] {\n  flex: 1;\n  height: 16px; /* å¢åŠ é«˜åº¦è®©å¤§è¿›åº¦æ¡æ›´æ˜æ˜¾ */\n  background: #e2e8f0; /* æ›´æ˜æ˜¾çš„èƒŒæ™¯è‰² */\n  border: 1px solid #cbd5e1; /* æ·»åŠ è¾¹æ¡† */\n  border-radius: 8px;\n  overflow: hidden;\n  box-shadow: inset 0 2px 4px rgba(0,0,0,0.1); /* æ·»åŠ æ›´æ˜æ˜¾çš„å†…é˜´å½± */\n}\n.progress-percentage[data-v-075e9794] {\n  font-weight: 600;\n  color: var(--color-success);\n  min-width: 40px;\n}\n\n/* åŠŸæ³•æ•ˆæœéƒ¨åˆ† */\n.effect-text[data-v-075e9794] {\n  background: var(--color-background);\n  border-radius: 6px;\n  padding: 12px;\n  font-size: 0.9rem;\n  color: var(--color-text);\n  line-height: 1.4;\n  word-break: break-all;\n}\n\n/* å ä½ç¬¦ */\n.details-placeholder[data-v-075e9794] {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  color: var(--color-text-secondary);\n  text-align: center;\n  padding: 40px 20px;\n}\n.placeholder-icon[data-v-075e9794] {\n  font-size: 3rem;\n  margin-bottom: 16px;\n  opacity: 0.5;\n}\n.placeholder-tip[data-v-075e9794] {\n  font-size: 0.8rem;\n  color: var(--color-text-muted);\n  margin-top: 8px;\n  opacity: 0.8;\n}\n.details-actions[data-v-075e9794] {\n  padding: 16px 20px;\n  border-top: 1px solid var(--color-border);\n  display: flex;\n  gap: 8px;\n}\n.action-btn[data-v-075e9794] {\n  flex: 1;\n  padding: 10px 16px;\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  background: var(--color-surface-hover);\n  color: var(--color-text);\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  font-size: 0.9rem;\n}\n.action-btn[data-v-075e9794]:hover {\n  transform: translateY(-1px);\n}\n\n/* å“çº§æ ·å¼ */\n.grade-display[data-v-075e9794] {\n  font-size: 0.8rem;\n  font-weight: bold;\n  padding: 2px 6px;\n  border-radius: 4px;\n  border: 1px solid currentColor;\n  white-space: nowrap;\n}\n.grade-broken[data-v-075e9794] { background: #6b7280; color: white; border-color: #6b7280;\n}\n.grade-low[data-v-075e9794] { background: #10b981; color: white; border-color: #10b981;\n}\n.grade-mid[data-v-075e9794] { background: #3b82f6; color: white; border-color: #3b82f6;\n}\n.grade-high[data-v-075e9794] { background: #8b5cf6; color: white; border-color: #8b5cf6;\n}\n.grade-perfect[data-v-075e9794] { background: #f59e0b; color: white; border-color: #f59e0b;\n}\n.grade-unknown[data-v-075e9794] { background: #9ca3af; color: white; border-color: #9ca3af;\n}\n.cultivate-btn[data-v-075e9794] {\n  background: var(--color-info);\n  border-color: var(--color-info);\n  color: white;\n}\n.cultivate-btn[data-v-075e9794]:hover {\n  background: var(--color-info-hover);\n}\n.unequip-btn[data-v-075e9794] {\n  background: var(--color-warning);\n  border-color: var(--color-warning);\n  color: white;\n}\n.unequip-btn[data-v-075e9794]:hover {\n  background: var(--color-warning-hover);\n}\n\n/* å“è´¨æ ·å¼ */\n.border-quality-ç¥[data-v-075e9794] { border-color: #ef4444 !important;\n}\n.border-quality-ä»™[data-v-075e9794] { border-color: #f59e0b !important;\n}\n.border-quality-å¤©[data-v-075e9794] { border-color: #8b5cf6 !important;\n}\n.border-quality-åœ°[data-v-075e9794] { border-color: #3b82f6 !important;\n}\n.border-quality-äºº[data-v-075e9794] { border-color: #10b981 !important;\n}\n.border-quality-å‡¡[data-v-075e9794] { border-color: var(--color-border) !important;\n}\n.text-quality-ç¥[data-v-075e9794] { color: #ef4444 !important;\n}\n.text-quality-ä»™[data-v-075e9794] { color: #f59e0b !important;\n}\n.text-quality-å¤©[data-v-075e9794] { color: #8b5cf6 !important;\n}\n.text-quality-åœ°[data-v-075e9794] { color: #3b82f6 !important;\n}\n.text-quality-äºº[data-v-075e9794] { color: #10b981 !important;\n}\n.text-quality-å‡¡[data-v-075e9794] { color: var(--color-text) !important;\n}\n\n/* åŠŸæ³•ç­‰çº§æ˜¾ç¤º */\n.technique-level-section h4[data-v-075e9794] {\n  margin: 0 0 12px 0;\n  font-size: 0.9rem;\n  color: var(--color-text-secondary);\n}\n.quality-display[data-v-075e9794] {\n  font-weight: 600;\n  font-size: 1.1rem;\n  padding: 8px 12px;\n  border-radius: 6px;\n  background: var(--color-surface-light);\n  text-align: center;\n  border: 2px solid transparent;\n}\n.quality-display.text-quality-ç¥[data-v-075e9794] {\n  background: rgba(239, 68, 68, 0.1);\n  border-color: rgba(239, 68, 68, 0.3);\n}\n.quality-display.text-quality-ä»™[data-v-075e9794] {\n  background: rgba(245, 158, 11, 0.1);\n  border-color: rgba(245, 158, 11, 0.3);\n}\n.quality-display.text-quality-å¤©[data-v-075e9794] {\n  background: rgba(139, 92, 246, 0.1);\n  border-color: rgba(139, 92, 246, 0.3);\n}\n.quality-display.text-quality-åœ°[data-v-075e9794] {\n  background: rgba(59, 130, 246, 0.1);\n  border-color: rgba(59, 130, 246, 0.3);\n}\n.quality-display.text-quality-äºº[data-v-075e9794] {\n  background: rgba(16, 185, 129, 0.1);\n  border-color: rgba(16, 185, 129, 0.3);\n}\n\n/* ç†Ÿç»ƒåº¦ä¿¡æ¯ */\n.proficiency-info[data-v-075e9794] {\n  margin-top: 8px;\n  font-size: 0.8rem;\n  color: var(--color-info);\n  font-weight: 500;\n}\n\n/* åŠŸæ³•æ•ˆæœè¯¦æƒ… */\n.effect-details[data-v-075e9794] {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n.effect-item[data-v-075e9794] {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 6px 0;\n}\n.effect-label[data-v-075e9794] {\n  font-weight: 600;\n  color: var(--color-text-secondary);\n  min-width: 80px;\n}\n.effect-value[data-v-075e9794] {\n  color: var(--color-success);\n  font-weight: 500;\n}\n.special-abilities[data-v-075e9794] {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 4px;\n}\n.ability-tag[data-v-075e9794] {\n  background: var(--color-info);\n  color: white;\n  padding: 2px 8px;\n  border-radius: 12px;\n  font-size: 0.7rem;\n  font-weight: 500;\n}\n\n/* åŠŸæ³•æŠ€èƒ½åˆ—è¡¨ */\n.skills-list[data-v-075e9794] {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n}\n.skill-item[data-v-075e9794] {\n  background: var(--color-background);\n  border-radius: 8px;\n  padding: 12px;\n  border: 1px solid var(--color-border);\n  transition: all 0.2s ease;\n}\n.skill-item[data-v-075e9794]:hover {\n  border-color: var(--color-primary);\n  transform: translateY(-1px);\n}\n.skill-header[data-v-075e9794] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 6px;\n}\n.skill-name[data-v-075e9794] {\n  font-weight: 600;\n  color: var(--color-text);\n}\n.skill-type[data-v-075e9794] {\n  padding: 2px 6px;\n  border-radius: 4px;\n  font-size: 0.7rem;\n  font-weight: 500;\n}\n.type-æ”»å‡»[data-v-075e9794] { background: #fee2e2; color: #dc2626;\n}\n.type-é˜²å¾¡[data-v-075e9794] { background: #dbeafe; color: #2563eb;\n}\n.type-è¾…åŠ©[data-v-075e9794] { background: #ecfccb; color: #65a30d;\n}\n.type-ç§»åŠ¨[data-v-075e9794] { background: #fef3c7; color: #d97706;\n}\n.type-å…¶ä»–[data-v-075e9794] { background: #f3f4f6; color: #6b7280;\n}\n.skill-description[data-v-075e9794] {\n  font-size: 0.8rem;\n  color: var(--color-text);\n  line-height: 1.4;\n  margin-bottom: 6px;\n}\n.skill-unlock[data-v-075e9794] {\n  font-size: 0.7rem;\n  color: var(--color-text-secondary);\n  margin-bottom: 6px;\n}\n.skill-status[data-v-075e9794] {\n  font-size: 0.7rem;\n  font-weight: 600;\n  padding: 2px 6px;\n  border-radius: 4px;\n  display: inline-block;\n}\n.skill-status.unlocked[data-v-075e9794] {\n  background: #dcfce7;\n  color: #16a34a;\n}\n.skill-status.locked[data-v-075e9794] {\n  background: #fee2e2;\n  color: #dc2626;\n}\n\n/* å·²è§£é”æŠ€èƒ½ */\n.unlocked-skills[data-v-075e9794] {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 6px;\n}\n.unlocked-skill-tag[data-v-075e9794] {\n  background: var(--color-success);\n  color: white;\n  padding: 4px 10px;\n  border-radius: 16px;\n  font-size: 0.8rem;\n  font-weight: 500;\n}\n\n/* è‡ªå®šä¹‰ä¿®ç‚¼æ—¶é—´è¾“å…¥ */\n.time-input-group[data-v-075e9794] {\n  background: var(--color-surface);\n  border-radius: 8px;\n  padding: 16px;\n  border: 1px solid var(--color-border);\n}\n.input-row[data-v-075e9794] {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  margin-bottom: 12px;\n}\n.input-row label[data-v-075e9794] {\n  font-size: 0.9rem;\n  color: var(--color-text-secondary);\n  font-weight: 500;\n  min-width: 30px;\n}\n.time-input[data-v-075e9794] {\n  width: 80px;\n  padding: 6px 10px;\n  border: 1px solid var(--color-border);\n  border-radius: 4px;\n  font-size: 0.9rem;\n  text-align: center;\n  background: var(--color-background);\n  color: var(--color-text);\n}\n.time-input[data-v-075e9794]:focus {\n  outline: none;\n  border-color: var(--color-primary);\n  box-shadow: 0 0 0 2px rgba(var(--color-primary-rgb), 0.2);\n}\n.time-total[data-v-075e9794] {\n  font-size: 0.9rem;\n  color: var(--color-accent);\n  font-weight: 600;\n  text-align: center;\n  padding: 8px;\n  background: rgba(var(--color-primary-rgb), 0.1);\n  border-radius: 4px;\n  border: 1px solid rgba(var(--color-primary-rgb), 0.2);\n}\n\n/* å“åº”å¼è®¾è®¡ */\n@media (max-width: 1024px) {\n.skills-bottom[data-v-075e9794] {\n    grid-template-columns: 1fr;\n}\n.technique-library-section[data-v-075e9794] {\n    max-width: none;\n}\n}\n@media (max-width: 768px) {\n.skills-content[data-v-075e9794] {\n    display: flex;\n    flex-direction: column;\n    overflow-y: auto;\n}\n.skills-main[data-v-075e9794] {\n    overflow-y: visible;\n    padding: 16px;\n}\n.skills-bottom[data-v-075e9794] {\n    gap: 16px;\n}\n.technique-library-section[data-v-075e9794] {\n    display: none;\n}\n.technique-library-section.is-mobile[data-v-075e9794] {\n    display: flex;\n    position: fixed;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    transform: translateY(calc(100% + 32px));\n    max-height: 80vh;\n    padding: 20px 20px 28px;\n    background: var(--color-background);\n    box-shadow: 0 -16px 32px rgba(0, 0, 0, 0.35);\n    border-top-left-radius: 16px;\n    border-top-right-radius: 16px;\n    z-index: 1500;\n    opacity: 0;\n    pointer-events: none;\n}\n.technique-library-section.is-mobile.is-open[data-v-075e9794] {\n    transform: translateY(0);\n    opacity: 1;\n    pointer-events: auto;\n}\n.technique-library-section.is-mobile .technique-grid[data-v-075e9794] {\n    max-height: calc(80vh - 140px);\n    overflow-y: auto;\n    padding-right: 4px;\n}\n.mobile-library-close[data-v-075e9794] {\n    display: inline-flex;\n}\n.mobile-library-toggle[data-v-075e9794] {\n    display: inline-flex;\n}\n.mobile-library-backdrop[data-v-075e9794] {\n    display: block;\n    position: fixed;\n    inset: 0;\n    background: rgba(0, 0, 0, 0.45);\n    z-index: 1400;\n}\n.skill-details-sidebar[data-v-075e9794] {\n    position: static;\n    width: 100%;\n    max-height: none;\n    min-height: 400px;\n    border-left: none;\n    border-top: 2px solid var(--color-border);\n    overflow-y: visible;\n}\n.skill-details-sidebar.no-selection[data-v-075e9794] {\n    min-height: 200px;\n}\n}\n@media (max-width: 640px) {\n.skills-main[data-v-075e9794] {\n    padding: 12px;\n}\n.cultivation-section[data-v-075e9794] {\n    padding: 16px;\n}\n.skill-slot[data-v-075e9794] {\n    min-height: 60px;\n    padding: 12px;\n}\n.skill-icon[data-v-075e9794] {\n    width: 40px;\n    height: 40px;\n}\n.skill-type-text[data-v-075e9794] {\n    font-size: 16px;\n}\n.technique-grid[data-v-075e9794] {\n    grid-template-columns: 1fr;\n}\n.current-technique-section[data-v-075e9794],\n  .technique-library-section[data-v-075e9794] {\n    gap: 12px;\n}\n}\n@media (max-width: 480px) {\n.section-header h3[data-v-075e9794] {\n    font-size: 1.3rem;\n}\n.skill-slot-group[data-v-075e9794] {\n    padding: 16px;\n}\n.skill-info[data-v-075e9794] {\n    gap: 8px;\n}\n.details-header[data-v-075e9794] {\n    padding: 16px;\n    gap: 12px;\n}\n.details-icon-large[data-v-075e9794] {\n    width: 50px;\n    height: 50px;\n}\n.skill-type-text-large[data-v-075e9794] {\n    font-size: 20px;\n}\n}\n",""]);const i=l},1524:(e,n,t)=&gt;{t.d(n,{A:()=&gt;i});var a=t(1601),o=t.n(a),r=t(6314),l=t.n(r)()(o());l.push([e.id,"\n/* é¡¶æ åŠ¨ä½œç»Ÿä¸€å¤„ç†ï¼Œç§»é™¤æœ¬åœ°å·¥å…·æ  */\n/* å®¹å™¨çº¦æŸé˜²æ­¢æº¢å‡º */\n.memory-center-panel[data-v-722c190a] {\n  width: 100%;\n  max-width: 100%;\n  height: 100%;\n  overflow: hidden;\n  box-sizing: border-box;\n  container-type: inline-size;\n  margin: 0;\n  padding: 1rem;\n  display: flex;\n  flex-direction: column;\n}\n.filter-section[data-v-722c190a] {\n  width: 100%;\n  max-width: 100%;\n  overflow: hidden;\n  box-sizing: border-box;\n}\n.filter-tabs[data-v-722c190a] {\n  display: flex;\n  gap: 0.75rem;\n  flex-wrap: wrap;\n  width: 100%;\n  max-width: 100%;\n  overflow: hidden;\n  box-sizing: border-box;\n  align-items: center;\n  margin: 0 0 1rem 0;\n  padding: 1rem;\n  background: rgba(var(--color-surface-rgb), 0.3);\n  border: 1px solid rgba(var(--color-border-rgb), 0.3);\n  border-radius: 12px;\n  backdrop-filter: blur(10px);\n}\n.filter-tabs .filter-tab[data-v-722c190a] {\n  flex: 0 0 auto;\n  margin: 0;\n}\n.filter-tabs .settings-toggle-btn[data-v-722c190a] {\n  margin-left: auto;\n}\n.filter-tab[data-v-722c190a] {\n  flex-shrink: 0;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  max-width: 150px;\n  margin: 0;\n  padding: 0.75rem 1rem;\n  border: 1px solid var(--color-border);\n  background: var(--color-surface);\n  color: var(--color-text-secondary);\n  border-radius: 8px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 0.5rem;\n  box-sizing: border-box;\n  font-size: 0.875rem;\n  font-weight: 500;\n  min-height: 40px;\n  position: relative;\n}\n.filter-tab[data-v-722c190a]:hover {\n  background: var(--color-surface-light);\n  border-color: var(--color-border-hover);\n  transform: translateY(-1px);\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n}\n.filter-tab.active[data-v-722c190a] {\n  background: linear-gradient(135deg, var(--color-primary), var(--color-accent));\n  border-color: var(--color-primary);\n  color: white;\n  box-shadow: 0 4px 12px rgba(var(--color-primary-rgb), 0.3);\n}\n.filter-tab .tab-icon[data-v-722c190a] {\n  font-size: 1.1rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.filter-tab .tab-name[data-v-722c190a] {\n  font-weight: 500;\n  letter-spacing: 0.3px;\n}\n.filter-tab .tab-count[data-v-722c190a] {\n  background: rgba(255, 255, 255, 0.2);\n  color: var(--color-text);\n  padding: 0.2rem 0.5rem;\n  border-radius: 12px;\n  font-size: 0.75rem;\n  font-weight: 600;\n  min-width: 20px;\n  text-align: center;\n  line-height: 1;\n}\n.filter-tab.active .tab-count[data-v-722c190a] {\n  background: rgba(255, 255, 255, 0.25);\n  color: white;\n}\n.filter-section[data-v-722c190a] {\n  width: 100%;\n  max-width: 100%;\n  overflow: hidden;\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n}\n.panel-content[data-v-722c190a] {\n  width: 100%;\n  max-width: 100%;\n  height: calc(100% - 80px);\n  overflow-y: auto;\n  overflow-x: hidden;\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n}\n\n/* è®¾ç½®ç•Œé¢æ ·å¼ */\n.settings-section[data-v-722c190a] {\n  margin: 0;\n  padding: 0;\n  background: rgba(var(--color-surface-rgb), 0.95);\n  border: 1px solid var(--color-border);\n  border-radius: 12px;\n  animation: fadeIn-722c190a 0.3s ease-in-out;\n  max-width: 100%;\n  width: 100%;\n  height: 100%;\n  max-height: calc(100% - 80px);\n  box-sizing: border-box;\n  overflow: hidden;\n  backdrop-filter: blur(10px);\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);\n  display: flex;\n  flex-direction: column;\n}\n.settings-header[data-v-722c190a] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 0;\n  padding: 1rem 1rem 0.5rem 1rem;\n  border-bottom: 1px solid var(--color-border);\n  max-width: 100%;\n  overflow: hidden;\n  box-sizing: border-box;\n  flex-shrink: 0;\n}\n.header-actions[data-v-722c190a] {\n  display: flex;\n  gap: 0.5rem;\n  align-items: center;\n}\n.test-btn[data-v-722c190a] {\n  background: linear-gradient(135deg, #10b981, #059669);\n  color: white;\n  border: none;\n  padding: 0.4rem 0.8rem;\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 0.85rem;\n  font-weight: 500;\n  transition: all 0.2s;\n  white-space: nowrap;\n}\n.test-btn[data-v-722c190a]:hover {\n  background: linear-gradient(135deg, #059669, #047857);\n  transform: translateY(-1px);\n  box-shadow: 0 2px 8px rgba(16, 185, 129, 0.3);\n}\n.settings-title[data-v-722c190a] {\n  font-size: 1rem;\n  font-weight: 600;\n  color: var(--color-primary);\n  flex: 1;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.settings-close-btn[data-v-722c190a] {\n  background: none;\n  border: none;\n  color: var(--color-text-secondary);\n  cursor: pointer;\n  font-size: 1.2rem;\n  padding: 0.2rem;\n  border-radius: 4px;\n  transition: var(--transition-fast);\n  flex-shrink: 0;\n}\n.settings-close-btn[data-v-722c190a]:hover {\n  background: rgba(var(--color-danger-rgb), 0.1);\n  color: var(--color-danger);\n}\n.settings-content[data-v-722c190a] {\n  display: block;\n  max-width: 100%;\n  overflow-y: auto;\n  overflow-x: hidden;\n  box-sizing: border-box;\n  flex: 1;\n  min-height: 0;\n  padding: 1rem;\n  scrollbar-width: thin;\n  scrollbar-color: var(--color-border) transparent;\n}\n.settings-content[data-v-722c190a]::-webkit-scrollbar {\n  width: 8px;\n}\n.settings-content[data-v-722c190a]::-webkit-scrollbar-track {\n  background: rgba(var(--color-border-rgb), 0.1);\n  border-radius: 4px;\n}\n.settings-content[data-v-722c190a]::-webkit-scrollbar-thumb {\n  background: var(--color-border);\n  border-radius: 4px;\n}\n.settings-content[data-v-722c190a]::-webkit-scrollbar-thumb:hover {\n  background: var(--color-border-hover);\n}\n.setting-item[data-v-722c190a] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n  max-width: 100%;\n  overflow: visible;\n  box-sizing: border-box;\n  margin-bottom: 1.5rem;\n}\n.setting-label[data-v-722c190a] {\n  font-size: 0.875rem;\n  font-weight: 500;\n  color: var(--color-text);\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  max-width: 100%;\n  overflow: hidden;\n  word-wrap: break-word;\n}\n.setting-input[data-v-722c190a] {\n  padding: 0.5rem;\n  border: 1px solid var(--color-border);\n  border-radius: 4px;\n  background: var(--color-surface);\n  color: var(--color-text);\n  font-size: 0.875rem;\n  width: 100px;\n  max-width: 120px;\n  transition: var(--transition-fast);\n  box-sizing: border-box;\n}\n.setting-input[data-v-722c190a]:focus {\n  outline: none;\n  border-color: var(--color-primary);\n  box-shadow: 0 0 0 2px rgba(var(--color-primary-rgb), 0.2);\n}\n.setting-textarea[data-v-722c190a] {\n  padding: 0.75rem;\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  background: var(--color-surface);\n  color: var(--color-text);\n  font-size: 0.875rem;\n  width: 100%;\n  max-width: 100%;\n  transition: var(--transition-fast);\n  box-sizing: border-box;\n  resize: vertical;\n  min-height: 100px;\n  font-family: monospace;\n  line-height: 1.4;\n}\n.setting-textarea[data-v-722c190a]:focus {\n  outline: none;\n  border-color: var(--color-primary);\n  box-shadow: 0 0 0 2px rgba(var(--color-primary-rgb), 0.2);\n}\n.setting-textarea[data-v-722c190a]::placeholder {\n  color: var(--color-text-secondary);\n  opacity: 0.7;\n}\n.setting-checkbox[data-v-722c190a] {\n  margin-right: 0.5rem;\n  accent-color: var(--color-primary);\n  flex-shrink: 0;\n}\n.setting-hint[data-v-722c190a] {\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n  opacity: 0.8;\n  max-width: 100%;\n  overflow: hidden;\n  word-wrap: break-word;\n}\n.settings-actions[data-v-722c190a] {\n  display: flex;\n  gap: 0.75rem;\n  margin-top: 2rem;\n  flex-wrap: wrap;\n  max-width: 100%;\n  overflow: visible;\n  box-sizing: border-box;\n}\n\n/* æ‰‹åŠ¨æ€»ç»“åŒºåŸŸ */\n.manual-summary-section[data-v-722c190a] {\n  margin-top: 1.5rem;\n  padding: 1rem;\n  background: var(--color-surface-light);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n}\n.summary-info[data-v-722c190a] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n  margin-bottom: 0.75rem;\n}\n.info-text[data-v-722c190a] {\n  font-size: 0.9rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.info-hint[data-v-722c190a] {\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n}\n\n/* é€šç”¨æ“ä½œæŒ‰é’®åŸºæ ·å¼ï¼Œç¡®ä¿æœ‰æ¸…æ™°è¾¹æ¡† */\n.action-btn[data-v-722c190a] {\n  padding: 0.5rem 1rem;\n  border: 1px solid var(--color-border);\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 0.875rem;\n  transition: var(--transition-fast);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  box-sizing: border-box;\n  background: var(--color-surface);\n  color: var(--color-text);\n}\n@keyframes fadeIn-722c190a {\nfrom {\n    opacity: 0;\n    transform: translateY(-10px);\n}\nto {\n    opacity: 1;\n    transform: translateY(0);\n}\n}\n.action-btn.success[data-v-722c190a] {\n  background: rgba(var(--color-success-rgb), 0.1);\n  border: 1px solid rgba(var(--color-success-rgb), 0.3);\n  color: var(--color-success);\n  padding: 0.5rem 1rem;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 0.875rem;\n  transition: var(--transition-fast);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  box-sizing: border-box;\n}\n.action-btn.success[data-v-722c190a]:hover {\n  background: rgba(var(--color-success-rgb), 0.2);\n  border-color: var(--color-success);\n}\n\n/* ä¿¡æ¯æŒ‰é’®ï¼Œç”¨äºâ€œé‡ç½®é»˜è®¤â€ç­‰æ“ä½œ */\n.action-btn.info[data-v-722c190a] {\n  background: rgba(var(--color-info-rgb), 0.1);\n  border: 1px solid rgba(var(--color-info-rgb), 0.3);\n  color: var(--color-info);\n}\n.action-btn.info[data-v-722c190a]:hover {\n  background: rgba(var(--color-info-rgb), 0.2);\n  border-color: var(--color-info);\n}\n.settings-toggle-btn[data-v-722c190a] {\n  background: rgba(var(--color-surface-rgb), 0.8);\n  border: 1px solid var(--color-border);\n  padding: 0.6rem;\n  border-radius: 8px;\n  cursor: pointer;\n  color: var(--color-text-secondary);\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-shrink: 0;\n  width: 40px;\n  height: 40px;\n  box-sizing: border-box;\n  backdrop-filter: blur(10px);\n}\n.settings-toggle-btn[data-v-722c190a]:hover,\n.settings-toggle-btn.active[data-v-722c190a] {\n  background: rgba(var(--color-primary-rgb), 0.15);\n  border-color: var(--color-primary);\n  color: var(--color-primary);\n  transform: translateY(-1px);\n  box-shadow: 0 4px 12px rgba(var(--color-primary-rgb), 0.2);\n}\n\n/* è®°å¿†å¡ç‰‡ç‰¹å®šæ ·å¼ */\n.memory-list[data-v-722c190a] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n  width: 100%;\n  max-width: 100%;\n  overflow: hidden;\n  box-sizing: border-box;\n}\n.memory-card[data-v-722c190a] {\n  padding: 1rem;\n  background: var(--color-surface);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  transition: var(--transition-fast);\n  cursor: pointer;\n  width: 100%;\n  max-width: 100%;\n  overflow: hidden;\n  box-sizing: border-box;\n  word-wrap: break-word;\n  word-break: break-word;\n}\n.memory-card[data-v-722c190a]:hover {\n  background: var(--color-surface-light);\n  border-color: var(--color-border-hover);\n  transform: translateY(-1px);\n  box-shadow: 0 4px 12px rgba(var(--color-primary-rgb), 0.1);\n}\n.memory-header[data-v-722c190a] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 0.75rem;\n}\n.memory-actions[data-v-722c190a] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n.delete-memory-btn[data-v-722c190a] {\n  background: transparent;\n  border: 1px solid var(--color-border);\n  border-radius: 4px;\n  padding: 0.25rem 0.5rem;\n  cursor: pointer;\n  font-size: 0.9rem;\n  transition: all 0.2s ease;\n  opacity: 0.6;\n}\n.delete-memory-btn[data-v-722c190a]:hover {\n  opacity: 1;\n  background: rgba(220, 38, 38, 0.1);\n  border-color: #dc2626;\n  transform: scale(1.1);\n}\n.memory-type-badge[data-v-722c190a] {\n  padding: 0.25rem 0.5rem;\n  border-radius: 1rem;\n  font-size: 0.75rem;\n  font-weight: 500;\n  border: 1px solid var(--color-border);\n  background: var(--color-surface-light);\n  color: var(--color-text-secondary);\n}\n.badge-short[data-v-722c190a] {\n  border-color: rgba(var(--color-warning-rgb), 0.3);\n  background: rgba(var(--color-warning-rgb), 0.1);\n  color: var(--color-warning);\n}\n.badge-medium[data-v-722c190a] {\n  border-color: rgba(var(--color-success-rgb), 0.3);\n  background: rgba(var(--color-success-rgb), 0.1);\n  color: var(--color-success);\n}\n.badge-long[data-v-722c190a] {\n  border-color: rgba(var(--color-info-rgb), 0.3);\n  background: rgba(var(--color-info-rgb), 0.1);\n  color: var(--color-info);\n}\n.memory-time[data-v-722c190a] {\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n}\n.memory-content[data-v-722c190a] {\n  font-size: 0.875rem;\n  color: var(--color-text);\n  line-height: 1.5;\n  margin-bottom: 0.5rem;\n  width: 100%;\n  max-width: 100%;\n  overflow: hidden;\n  word-wrap: break-word;\n  word-break: break-word;\n}\n.memory-title[data-v-722c190a] {\n  font-size: 1rem;\n  font-weight: 600;\n  color: var(--color-primary);\n  margin-bottom: 0.75rem;\n  text-align: center;\n  padding: 0.5rem;\n  background: linear-gradient(135deg, rgba(var(--color-primary-rgb), 0.1), rgba(var(--color-accent-rgb), 0.05));\n  border-radius: 6px;\n  border: 1px solid rgba(var(--color-primary-rgb), 0.2);\n}\n.memory-section[data-v-722c190a] {\n  display: flex;\n  align-items: center;\n  margin: 0.75rem 0 0.5rem 0;\n  padding: 0.5rem 0;\n  border-bottom: 1px solid rgba(var(--color-border-rgb), 0.3);\n}\n.memory-icon[data-v-722c190a] {\n  font-size: 1.2rem;\n  margin-right: 0.5rem;\n}\n.memory-section-title[data-v-722c190a] {\n  font-weight: 600;\n  color: var(--color-text);\n  font-size: 0.9rem;\n}\n.memory-item[data-v-722c190a] {\n  margin: 0.3rem 0;\n  padding-left: 1rem;\n  color: var(--color-text);\n  line-height: 1.4;\n  position: relative;\n  width: 100%;\n  max-width: 100%;\n  overflow: hidden;\n  word-wrap: break-word;\n  word-break: break-word;\n}\n.memory-item[data-v-722c190a]::before {\n  content: '';\n  position: absolute;\n  left: 0.25rem;\n  top: 0.6rem;\n  width: 3px;\n  height: 3px;\n  background: var(--color-accent);\n  border-radius: 50%;\n}\n.memory-importance[data-v-722c190a] {\n  font-size: 0.75rem;\n  color: var(--color-accent);\n  font-weight: 500;\n  padding: 0.25rem 0.5rem;\n  background: rgba(var(--color-accent-rgb), 0.1);\n  border-radius: 4px;\n  border: 1px solid rgba(var(--color-accent-rgb), 0.3);\n  display: inline-block;\n}\n.empty-hint[data-v-722c190a] {\n  font-size: 0.875rem;\n  color: var(--color-text-secondary);\n  opacity: 0.7;\n}\n\n/* å“åº”å¼è®¾è®¡ */\n@media (max-width: 640px) {\n.memory-center-panel[data-v-722c190a] {\n    gap: 0.75rem;\n    width: 100%;\n    max-width: 100%;\n    overflow: hidden;\n}\n.header-actions .btn-text[data-v-722c190a] {\n    display: none;\n}\n.filter-tabs[data-v-722c190a] {\n    gap: 0.3rem;\n}\n.filter-tab[data-v-722c190a] {\n    max-width: 120px;\n    font-size: 0.8rem;\n}\n.memory-status[data-v-722c190a] {\n    gap: 0.5rem;\n    padding: 0.6rem;\n    flex-direction: column;\n}\n.status-item[data-v-722c190a] {\n    min-width: 80px;\n    flex: 1 1 100px;\n    width: 100%;\n    max-width: 100%;\n}\n.status-text[data-v-722c190a] {\n    font-size: 0.7rem;\n    min-width: 2.5rem;\n}\n.memory-card[data-v-722c190a] {\n    padding: 0.8rem;\n}\n.memory-content[data-v-722c190a] {\n    font-size: 0.8rem;\n}\n.memory-header[data-v-722c190a] {\n    flex-direction: column;\n    gap: 0.5rem;\n    align-items: flex-start;\n}\n.memory-type-badge[data-v-722c190a] {\n    align-self: flex-start;\n}\n.memory-time[data-v-722c190a] {\n    align-self: flex-end;\n    font-size: 0.7rem;\n}\n}\n@media (max-width: 480px) {\n.memory-center-panel[data-v-722c190a] {\n    gap: 0.5rem;\n}\n.filter-tabs[data-v-722c190a] {\n    gap: 0.2rem;\n}\n.filter-tab[data-v-722c190a] {\n    max-width: 100px;\n    font-size: 0.75rem;\n    padding: 0.4rem 0.6rem;\n}\n.memory-status[data-v-722c190a] {\n    padding: 0.5rem;\n}\n.status-item[data-v-722c190a] {\n    gap: 0.3rem;\n}\n.status-label[data-v-722c190a] {\n    font-size: 0.7rem;\n    min-width: 1.5rem;\n}\n.status-bar[data-v-722c190a] {\n    height: 4px;\n}\n.status-text[data-v-722c190a] {\n    font-size: 0.65rem;\n    min-width: 2rem;\n}\n.memory-card[data-v-722c190a] {\n    padding: 0.6rem;\n}\n.memory-content[data-v-722c190a] {\n    font-size: 0.75rem;\n}\n.memory-section-title[data-v-722c190a] {\n    font-size: 0.8rem;\n}\n.memory-item[data-v-722c190a] {\n    font-size: 0.75rem;\n    padding-left: 0.8rem;\n}\n}\n",""]);const i=l},1530:e=&gt;{e.exports="data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2712%27 height=%2712%27 viewBox=%270 0 12 12%27%3E%3Cpath fill=%27%23e5e7eb%27 d=%27M6 9L1 4h10z%27/%3E%3C/svg%3E"},1591:(e,n,t)=&gt;{t.d(n,{A:()=&gt;i});var a=t(1601),o=t.n(a),r=t(6314),l=t.n(r)()(o());l.push([e.id,"\n.game-view[data-v-61af6578] {\n  width: 100%;\n  height: 100%;\n  background: var(--color-background);\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n  font-size: 14px;\n  display: grid;\n  grid-template-rows: auto 1fr;\n  overflow: hidden;\n}\n.game-content[data-v-61af6578] {\n  flex: 1;\n  display: flex;\n  align-items: stretch;\n  gap: 0;\n  padding: 0;\n  position: relative;\n  min-height: 0;\n  background: var(--color-background);\n}\n.left-sidebar[data-v-61af6578] {\n  width: 240px;\n  background: var(--color-surface);\n  transition: all 0.3s ease;\n  z-index: 10;\n  display: flex;\n  flex-direction: column;\n  border-right: 1px solid var(--color-border);\n  flex-shrink: 0;\n}\n.left-sidebar.collapsed[data-v-61af6578] {\n  width: 0;\n  overflow: hidden;\n}\n.right-panel-area[data-v-61af6578] {\n  width: 280px;\n  background: var(--color-surface);\n  transition: all 0.3s ease;\n  border-left: 1px solid var(--color-border);\n  flex-shrink: 0;\n  display: flex;\n  flex-direction: column;\n}\n.right-panel-area.collapsed[data-v-61af6578] {\n  width: 0;\n  overflow: hidden;\n}\n.sidebar-wrapper[data-v-61af6578] {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n.main-content[data-v-61af6578] {\n  flex: 1;\n  background: var(--color-background);\n  margin: 0;\n  display: flex;\n  flex-direction: column;\n  min-height: 0;\n  position: relative;\n}\n\n/* æ”¶ç¼©æŒ‰é’®æ ·å¼ */\n.collapse-btn[data-v-61af6578] {\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  width: 24px;\n  height: 48px;\n  background: var(--color-surface);\n  border: 1px solid var(--color-border);\n  cursor: pointer;\n  transition: all 0.3s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 20;\n  color: var(--color-text-secondary);\n}\n.collapse-btn[data-v-61af6578]:hover {\n  background: var(--color-surface-light);\n  color: var(--color-text);\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n}\n\n/* å·¦ä¾§æ”¶ç¼©æŒ‰é’® */\n.collapse-btn.left[data-v-61af6578] {\n  left: 240px;\n  border-radius: 0 8px 8px 0;\n  transition: left 0.3s ease, background 0.2s ease;\n}\n\n/* å·¦ä¾§æ æ”¶ç¼©æ—¶ï¼ŒæŒ‰é’®ç§»åŠ¨åˆ°æœ€å·¦ä¾§ */\n.left-sidebar.collapsed ~ .collapse-btn.left[data-v-61af6578] {\n  left: 0;\n}\n\n/* å³ä¾§æ”¶ç¼©æŒ‰é’® */\n.collapse-btn.right[data-v-61af6578] {\n  right: 280px;\n  border-radius: 8px 0 0 8px;\n  transition: right 0.3s ease, background 0.2s ease;\n}\n\n/* å³ä¾§æ æ”¶ç¼©æ—¶ï¼ŒæŒ‰é’®ç§»åŠ¨åˆ°æœ€å³ä¾§ */\n.right-panel-area.collapsed ~ .collapse-btn.right[data-v-61af6578],\n.collapse-btn.right.collapsed[data-v-61af6578] {\n  right: 0;\n}\n\n/* é¢æ¿è¦†ç›–æ¨¡å¼æ ·å¼ - åªéšè—å³ä¾§æ ï¼Œä¿ç•™å·¦ä¾§æ  */\n.game-content.panel-mode .right-panel-area[data-v-61af6578] {\n  display: none;\n}\n.panel-overlay[data-v-61af6578] {\n  width: 100%;\n  height: 100%;\n  background: var(--color-background);\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n.panel-header[data-v-61af6578] { position: relative; display: flex; align-items: center; gap: 8px; padding: 6px 12px; min-height: 30px; height: auto; background: transparent; border-bottom: none; flex-shrink: 0;\n}\n.panel-header[data-v-61af6578]::after { content: ''; position: absolute; left: 8px; right: 8px; bottom: 0; height: 1px; background: linear-gradient(90deg, transparent, rgba(var(--color-primary-rgb,46,92,184), .35), transparent);\n}\n.panel-header.compact[data-v-61af6578]::after {\n  content: '';\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  height: 2px;\n  background: linear-gradient(90deg, transparent, var(--color-primary), transparent);\n  opacity: 0.25;\n}\n.panel-title-icon[data-v-61af6578] { color: var(--color-primary); flex-shrink: 0;\n}\n.panel-title-compact[data-v-61af6578] { display: flex; align-items: center; gap: 8px; min-width: 0; flex: 1; justify-content: center;\n}\n.panel-title-compact .title-text[data-v-61af6578] { font-size: 0.92rem; font-weight: 600; color: var(--color-text); letter-spacing: 0.2px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\n}\n.back-btn[data-v-61af6578] { background: transparent; border: none; padding: 2px 6px; border-radius: 4px; color: var(--color-text-secondary); cursor: pointer; transition: all 0.2s ease; display: inline-flex; align-items: center;\n}\n.back-btn[data-v-61af6578]:hover { background: var(--color-surface-hover); color: var(--color-text);\n}\n.panel-actions[data-v-61af6578] { margin-left: auto; display: flex; align-items: center; gap: 4px;\n}\n.action-btn-compact[data-v-61af6578] { background: transparent; border: none; width: 26px; height: 26px; border-radius: 4px; color: var(--color-text-secondary); display: inline-flex; align-items: center; justify-content: center; cursor: pointer; transition: var(--transition-fast);\n}\n.action-btn-compact[data-v-61af6578]:hover { background: var(--color-surface-hover); color: var(--color-text);\n}\n.panel-content[data-v-61af6578] {\n  flex: 1;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n}\n.panel-header.compact[data-v-61af6578] { padding: 6px 10px; position: sticky; top: 0; z-index: 2; background: var(--color-background);\n}\n.panel-content.compact[data-v-61af6578] { padding: 6px 10px 10px 10px;\n}\n\n/* æ•°æ®åŠ è½½æç¤ºæ ·å¼ */\n.data-loading[data-v-61af6578] {\n  flex: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: linear-gradient(135deg, var(--color-background) 0%, var(--color-surface) 100%);\n  position: relative;\n  overflow: hidden;\n}\n.data-loading[data-v-61af6578]::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: radial-gradient(circle at 50% 50%, rgba(var(--color-primary-rgb, 46, 92, 184), 0.05) 0%, transparent 70%);\n  animation: pulse-61af6578 3s ease-in-out infinite;\n}\n.loading-content[data-v-61af6578] {\n  text-align: center;\n  padding: 60px 40px;\n  max-width: 500px;\n  position: relative;\n  z-index: 1;\n}\n.loading-spinner-wrapper[data-v-61af6578] {\n  position: relative;\n  width: 80px;\n  height: 80px;\n  margin: 0 auto 32px;\n}\n.loading-spinner[data-v-61af6578] {\n  width: 80px;\n  height: 80px;\n  border: 3px solid transparent;\n  border-top: 3px solid var(--color-primary);\n  border-right: 3px solid var(--color-primary);\n  border-radius: 50%;\n  animation: spin-61af6578 1.2s cubic-bezier(0.68, -0.55, 0.27, 1.55) infinite;\n  position: relative;\n}\n.spinner-glow[data-v-61af6578] {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 60px;\n  height: 60px;\n  border-radius: 50%;\n  background: radial-gradient(circle, rgba(var(--color-primary-rgb, 46, 92, 184), 0.3) 0%, transparent 70%);\n  animation: glow-61af6578 2s ease-in-out infinite;\n}\n@keyframes spin-61af6578 {\n0% { transform: rotate(0deg);\n}\n100% { transform: rotate(360deg);\n}\n}\n@keyframes glow-61af6578 {\n0%, 100% { opacity: 0.3; transform: translate(-50%, -50%) scale(0.9);\n}\n50% { opacity: 0.8; transform: translate(-50%, -50%) scale(1.1);\n}\n}\n@keyframes pulse-61af6578 {\n0%, 100% { opacity: 0.5;\n}\n50% { opacity: 1;\n}\n}\n.loading-title[data-v-61af6578] {\n  font-size: 1.5rem;\n  font-weight: 600;\n  color: var(--color-text);\n  margin: 0 0 12px 0;\n  letter-spacing: 2px;\n  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-accent) 100%);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-clip: text;\n}\n.loading-message[data-v-61af6578] {\n  font-size: 1rem;\n  color: var(--color-text-secondary);\n  margin: 0 0 32px 0;\n  font-weight: 500;\n}\n.loading-steps[data-v-61af6578] {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n  margin-bottom: 32px;\n  text-align: left;\n}\n.loading-step[data-v-61af6578] {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  padding: 10px 16px;\n  background: var(--color-surface);\n  border-radius: 8px;\n  border: 1px solid var(--color-border);\n  transition: all 0.3s ease;\n}\n.loading-step.active[data-v-61af6578] {\n  background: rgba(var(--color-primary-rgb, 46, 92, 184), 0.1);\n  border-color: var(--color-primary);\n}\n.step-icon[data-v-61af6578] {\n  font-size: 1.2rem;\n  font-weight: bold;\n  color: var(--color-success);\n  width: 24px;\n  height: 24px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-shrink: 0;\n}\n.loading-step.active .step-icon[data-v-61af6578] {\n  color: var(--color-primary);\n  animation: bounce-61af6578 1s ease-in-out infinite;\n}\n@keyframes bounce-61af6578 {\n0%, 100% { transform: translateY(0);\n}\n50% { transform: translateY(-4px);\n}\n}\n.step-text[data-v-61af6578] {\n  font-size: 0.95rem;\n  color: var(--color-text);\n  font-weight: 500;\n}\n.loading-hint[data-v-61af6578] {\n  font-size: 0.875rem;\n  color: var(--color-text-secondary);\n  margin: 0;\n  padding: 12px 20px;\n  background: var(--color-surface);\n  border-radius: 8px;\n  border-left: 3px solid var(--color-primary);\n}\n\n/* ç§»åŠ¨ç«¯é€‚é… */\n@media (max-width: 768px) {\n.game-view[data-v-61af6578] {\n    font-size: 13px;\n}\n\n  /* ç§»åŠ¨ç«¯ä¾§è¾¹æ æµ®åŠ¨æ˜¾ç¤ºï¼Œä¸å ç”¨ä¸»å†…å®¹ç©ºé—´ */\n.left-sidebar[data-v-61af6578] {\n    position: fixed;\n    top: 0; /* ä»é¡¶éƒ¨å¼€å§‹ */\n    left: 0;\n    bottom: 0;\n    height: 100%;\n    width: 280px;\n    z-index: 1000;\n    transform: translateX(-100%);\n    transition: transform 0.3s ease;\n    box-shadow: 2px 0 8px rgba(0, 0, 0, 0.15);\n    overflow: hidden;\n    background: var(--color-surface); /* å’Œå³ä¾§æ ä¸€æ ·çš„èƒŒæ™¯è‰² */\n}\n.left-sidebar[data-v-61af6578]:not(.collapsed) {\n    transform: translateX(0);\n}\n.left-sidebar .sidebar-wrapper[data-v-61af6578] {\n    overflow-y: auto;\n    overflow-x: hidden;\n    height: 100%;\n    -webkit-overflow-scrolling: touch;\n    box-sizing: border-box;\n}\n.right-panel-area[data-v-61af6578] {\n    position: fixed;\n    top: 0; /* ä»é¡¶éƒ¨å¼€å§‹ */\n    right: 0;\n    bottom: 0;\n    height: 100%;\n    width: 260px;\n    z-index: 1000;\n    transform: translateX(100%);\n    transition: transform 0.3s ease;\n    box-shadow: -2px 0 8px rgba(0, 0, 0, 0.15);\n    overflow: hidden;\n    background: var(--color-surface); /* å’Œå·¦ä¾§æ ä¸€æ ·çš„èƒŒæ™¯è‰² */\n}\n.right-panel-area[data-v-61af6578]:not(.collapsed) {\n    transform: translateX(0);\n}\n.right-panel-area .sidebar-wrapper[data-v-61af6578] {\n    overflow-y: auto;\n    overflow-x: hidden;\n    height: 100%;\n    -webkit-overflow-scrolling: touch;\n    box-sizing: border-box;\n}\n\n  /* ç§»åŠ¨ç«¯èƒŒæ™¯é®ç½©å±‚ - æ”¹ä¸ºåœ¨ä¾§è¾¹æ åé¢ï¼Œä½†ä¸å½±å“ä¾§è¾¹æ æœ¬èº« */\n.left-sidebar[data-v-61af6578]:not(.collapsed)::before,\n  .right-panel-area[data-v-61af6578]:not(.collapsed)::before {\n    content: '';\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: rgba(0, 0, 0, 0.5);\n    z-index: -1; /* åœ¨ä¾§è¾¹æ åé¢ */\n    pointer-events: none; /* ä¸é˜»æ­¢ç‚¹å‡»äº‹ä»¶ */\n}\n\n  /* å·¦ä¾§é®ç½©åªåœ¨ä¾§è¾¹æ å³ä¾§æ˜¾ç¤º */\n.left-sidebar[data-v-61af6578]:not(.collapsed)::before {\n    left: 280px; /* ä»ä¾§è¾¹æ å³è¾¹ç¼˜å¼€å§‹ */\n}\n\n  /* å³ä¾§é®ç½©åªåœ¨ä¾§è¾¹æ å·¦ä¾§æ˜¾ç¤º */\n.right-panel-area[data-v-61af6578]:not(.collapsed)::before {\n    right: 260px; /* ä»ä¾§è¾¹æ å·¦è¾¹ç¼˜å¼€å§‹ */\n}\n\n  /* ç§»åŠ¨ç«¯æ”¶ç¼©æŒ‰é’®æ ·å¼ - å‚è€ƒç”µè„‘ç‰ˆæ ·å¼ */\n.collapse-btn[data-v-61af6578] {\n    position: fixed;\n    z-index: 1001;\n    width: 20px;\n    height: 44px;\n    background: var(--color-surface);\n    border: 1px solid var(--color-border);\n    color: var(--color-text-secondary);\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    touch-action: manipulation;\n    top: 50%;\n    transform: translateY(-50%);\n    transition: all 0.3s ease;\n}\n.collapse-btn svg[data-v-61af6578] {\n    width: 14px;\n    height: 14px;\n}\n.collapse-btn[data-v-61af6578]:active {\n    background: var(--color-surface-light);\n    color: var(--color-text);\n}\n\n  /* å·¦ä¾§æŒ‰é’®ï¼šé»˜è®¤åœ¨å·¦è¾¹ç¼˜ï¼Œè·Ÿéšä¾§è¾¹æ ä¸€èµ·ç§»åŠ¨ */\n.collapse-btn.left[data-v-61af6578] {\n    left: 0;\n    border-radius: 0 8px 8px 0;\n    border-left: none;\n    transform: translateX(0) translateY(-50%);\n    transition: transform 0.3s ease, background 0.2s ease;\n}\n\n  /* å·¦ä¾§æ å±•å¼€æ—¶ï¼ŒæŒ‰é’®è·Ÿéšç§»åŠ¨ 280px */\n.left-sidebar:not(.collapsed) ~ .collapse-btn.left[data-v-61af6578] {\n    transform: translateX(280px) translateY(-50%);\n}\n\n  /* å³ä¾§æŒ‰é’®ï¼šé»˜è®¤åœ¨å³è¾¹ç¼˜ï¼Œè·Ÿéšä¾§è¾¹æ ä¸€èµ·ç§»åŠ¨ */\n.collapse-btn.right[data-v-61af6578] {\n    right: 0;\n    border-radius: 8px 0 0 8px;\n    border-right: none;\n    transform: translateX(0) translateY(-50%);\n    transition: transform 0.3s ease, background 0.2s ease;\n}\n\n  /* å³ä¾§æ å±•å¼€æ—¶ï¼ˆæŒ‰é’®æ²¡æœ‰ collapsed ç±»ï¼‰ï¼ŒæŒ‰é’®è·Ÿéšç§»åŠ¨ -260px */\n.collapse-btn.right[data-v-61af6578]:not(.collapsed) {\n    transform: translateX(-260px) translateY(-50%);\n}\n\n  /* ä¸»å†…å®¹åŒºåŸŸå æ»¡å±å¹• */\n.main-content[data-v-61af6578] {\n    width: 100%;\n    margin: 0;\n    padding: 0;\n    overflow-x: hidden;\n    word-wrap: break-word;\n    overflow-wrap: break-word;\n}\n.game-content[data-v-61af6578] {\n    gap: 0;\n    /* ç¡®ä¿å†…å®¹åŒºåŸŸç•™å‡ºTopBarç©ºé—´ */\n    margin-top: 0;\n}\n\n  /* ç§»åŠ¨ç«¯é¢æ¿å…¨å±ä¼˜åŒ– */\n.panel-overlay[data-v-61af6578] {\n    position: fixed;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    z-index: 999;\n    overflow: hidden;\n}\n\n  /* é¢æ¿å¤´éƒ¨ç§»åŠ¨ç«¯ä¼˜åŒ– */\n.panel-header[data-v-61af6578] {\n    padding: 4px 8px;\n    min-height: 36px;\n    flex-wrap: nowrap;\n}\n.panel-header.compact[data-v-61af6578] {\n    padding: 4px 8px;\n}\n.panel-title-compact .title-text[data-v-61af6578] {\n    font-size: 0.85rem;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n}\n\n  /* é¢æ¿å†…å®¹ç§»åŠ¨ç«¯ä¼˜åŒ– - ç¡®ä¿æ–‡æœ¬åŒºåŸŸèƒ½å¤Ÿæ”¶ç¼© */\n.panel-content[data-v-61af6578] {\n    padding: 8px;\n    overflow-y: auto;\n    overflow-x: hidden;\n    word-wrap: break-word;\n    overflow-wrap: break-word;\n}\n.panel-content.compact[data-v-61af6578] {\n    padding: 6px 8px 8px 8px;\n}\n\n  /* ç¡®ä¿é¢æ¿å†…æ‰€æœ‰æ–‡æœ¬å…ƒç´ è‡ªåŠ¨æ¢è¡Œ */\n.panel-content[data-v-61af6578] *,\n  .panel-overlay[data-v-61af6578] * {\n    word-wrap: break-word;\n    overflow-wrap: break-word;\n    max-width: 100%;\n}\n\n  /* æ•°æ®åŠ è½½æç¤ºç§»åŠ¨ç«¯ä¼˜åŒ– */\n.data-loading[data-v-61af6578] {\n    padding: 8px;\n}\n.loading-content[data-v-61af6578] {\n    padding: 40px 20px;\n    max-width: 100%;\n}\n.loading-title[data-v-61af6578] {\n    font-size: 1.2rem;\n    white-space: normal;\n    word-wrap: break-word;\n}\n.loading-message[data-v-61af6578] {\n    font-size: 0.9rem;\n    white-space: normal;\n    word-wrap: break-word;\n}\n.loading-steps[data-v-61af6578] {\n    gap: 8px;\n}\n.loading-step[data-v-61af6578] {\n    padding: 8px 12px;\n}\n.step-text[data-v-61af6578] {\n    font-size: 0.85rem;\n    white-space: normal;\n    word-wrap: break-word;\n}\n.loading-hint[data-v-61af6578] {\n    font-size: 0.8rem;\n    white-space: normal;\n    word-wrap: break-word;\n}\n}\n\n/* è¶…å°å±å¹•é€‚é… */\n@media (max-width: 480px) {\n.game-view[data-v-61af6578] {\n    font-size: 12px;\n}\n.left-sidebar[data-v-61af6578] {\n    width: 240px;\n}\n\n  /* å·¦ä¾§æ å±•å¼€æ—¶ï¼ŒæŒ‰é’®è·Ÿéšç§»åŠ¨ 240pxï¼ˆåŒ¹é…ä¾§è¾¹æ å®½åº¦ï¼‰ */\n.left-sidebar:not(.collapsed) ~ .collapse-btn.left[data-v-61af6578] {\n    transform: translateX(240px) translateY(-50%);\n}\n.right-panel-area[data-v-61af6578] {\n    width: 220px;\n}\n\n  /* å³ä¾§æ å±•å¼€æ—¶ï¼ŒæŒ‰é’®è·Ÿéšç§»åŠ¨ -220pxï¼ˆåŒ¹é…ä¾§è¾¹æ å®½åº¦ï¼‰ */\n.collapse-btn.right[data-v-61af6578]:not(.collapsed) {\n    transform: translateX(-220px) translateY(-50%);\n}\n\n  /* å°å±å¹•ä¸Šé¢æ¿å…¨å±æ˜¾ç¤º */\n.panel-overlay[data-v-61af6578] {\n    position: fixed;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    z-index: 999;\n}\n.panel-header[data-v-61af6578] {\n    padding: 3px 6px;\n    min-height: 32px;\n}\n.panel-title-compact .title-text[data-v-61af6578] {\n    font-size: 0.8rem;\n}\n.panel-content[data-v-61af6578] {\n    padding: 6px;\n    font-size: 0.9em;\n}\n.loading-title[data-v-61af6578] {\n    font-size: 1rem;\n}\n.loading-message[data-v-61af6578] {\n    font-size: 0.85rem;\n}\n.step-text[data-v-61af6578] {\n    font-size: 0.8rem;\n}\n.loading-hint[data-v-61af6578] {\n    font-size: 0.75rem;\n}\n}\n",""]);const i=l},1601:e=&gt;{e.exports=function(e){return e[1]}},1606:(e,n,t)=&gt;{t.d(n,{A:()=&gt;i});var a=t(1601),o=t.n(a),r=t(6314),l=t.n(r)()(o());l.push([e.id,"/* ç»Ÿä¸€çš„æ¸¸æˆé¢æ¿ä¸»é¢˜æ ·å¼ */\n\n/* === é¢æ¿åŸºç¡€å®¹å™¨ === */\n.game-panel {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  background: var(--color-background);\n  overflow: hidden;\n  gap: 0.75rem;\n  position: relative;\n  font-family: var(--font-family-sans-serif);\n}\n\n/* === é¢æ¿å¤´éƒ¨ === */\n.panel-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0.75rem 1rem;\n  background: var(--color-surface);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  flex-shrink: 0;\n  backdrop-filter: blur(10px);\n  margin: 0.5rem;\n}\n\n.header-left {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n}\n\n.header-icon {\n  font-size: 1.5rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 2.5rem;\n  height: 2.5rem;\n  background: rgba(var(--color-primary-rgb), 0.1);\n  border-radius: 50%;\n  border: 1px solid rgba(var(--color-primary-rgb), 0.2);\n}\n\n.header-info {\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n}\n\n.panel-title {\n  margin: 0;\n  font-size: 1.125rem;\n  font-weight: 600;\n  color: var(--color-text);\n  /* é˜²æ­¢æ ‡é¢˜åœ¨ç´§å‡‘å¸ƒå±€ä¸­æ’‘ç ´å¸ƒå±€ */\n  min-width: 0;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.panel-subtitle {\n  font-size: 0.875rem;\n  color: var(--color-text-secondary);\n}\n\n.header-actions {\n  display: flex;\n  gap: 0.5rem;\n  /* å…è®¸æŒ‰é’®è‡ªåŠ¨æ¢è¡Œï¼Œé¿å…æº¢å‡º */\n  flex-wrap: wrap;\n  justify-content: flex-end;\n  max-width: 100%;\n}\n\n/* === åŠ¨ä½œæŒ‰é’® === */\n.action-btn {\n  display: flex;\n  align-items: center;\n  gap: 0.375rem;\n  padding: 0.5rem 0.75rem;\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  background: var(--color-surface);\n  color: var(--color-text);\n  font-size: 0.875rem;\n  /* è¡Œä¸ºï¼šé»˜è®¤ä¸æ¢è¡Œï¼Œä½†å®¹å™¨å¯å¤šè¡Œæ˜¾ç¤º */\n  white-space: nowrap;\n  cursor: pointer;\n  transition: var(--transition-fast);\n  /* å…è®¸åœ¨éœ€è¦æ—¶æ”¶ç¼©ï¼Œé¿å…å®¹å™¨è¢«æ’‘ç ´ */\n  flex: 0 1 auto;\n  max-width: 100%;\n}\n\n.action-btn:hover {\n  background: var(--color-surface-light);\n  border-color: var(--color-border-hover);\n  transform: translateY(-1px);\n  box-shadow: 0 2px 4px rgba(var(--color-primary-rgb), 0.1);\n}\n\n.action-btn:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n  transform: none;\n  box-shadow: none;\n}\n\n.action-btn.primary {\n  background: var(--color-primary);\n  color: var(--color-background);\n  border-color: var(--color-primary);\n}\n\n.action-btn.primary:hover {\n  background: var(--color-primary-hover);\n  border-color: var(--color-primary-hover);\n}\n\n.action-btn.secondary {\n  background: var(--color-accent);\n  color: var(--color-background);\n  border-color: var(--color-accent);\n}\n\n.action-btn.secondary:hover {\n  background: var(--color-accent-hover);\n  border-color: var(--color-accent-hover);\n}\n\n.action-btn.danger {\n  border-color: var(--color-error);\n  color: var(--color-error);\n}\n\n.action-btn.danger:hover {\n  background: rgba(var(--color-error-rgb), 0.05);\n  border-color: var(--color-danger);\n  color: var(--color-danger);\n}\n\n.btn-icon {\n  flex-shrink: 0;\n}\n\n.btn-text {\n  font-weight: 500;\n}\n\n/* === å†…å®¹åŒºåŸŸ === */\n.panel-content {\n  flex: 1;\n  overflow-y: auto;\n  margin: 0 0.5rem 0.5rem 0.5rem;\n  scrollbar-width: thin;\n  scrollbar-color: var(--scrollbar-thumb) transparent;\n}\n\n.panel-content::-webkit-scrollbar {\n  width: 6px;\n}\n\n.panel-content::-webkit-scrollbar-track {\n  background: rgba(var(--color-border-rgb), 0.1);\n  border-radius: 3px;\n}\n\n.panel-content::-webkit-scrollbar-thumb {\n  background: var(--scrollbar-thumb);\n  border-radius: 3px;\n  opacity: 0.6;\n}\n\n.panel-content::-webkit-scrollbar-thumb:hover {\n  opacity: 0.8;\n}\n\n/* === ç­›é€‰æ ‡ç­¾ === */\n.filter-section {\n  padding: 0.5rem 0.75rem;\n  background: var(--color-surface);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  flex-shrink: 0;\n  margin: 0 0.5rem;\n}\n\n.filter-tabs {\n  display: flex;\n  gap: 0.5rem;\n  overflow-x: auto;\n  scrollbar-width: none;\n  -ms-overflow-style: none;\n}\n\n.filter-tabs::-webkit-scrollbar {\n  display: none;\n}\n\n.filter-tab {\n  display: flex;\n  align-items: center;\n  gap: 0.375rem;\n  padding: 0.5rem 0.75rem;\n  border: 1px solid var(--color-border);\n  border-radius: 1.5rem;\n  background: var(--color-surface);\n  color: var(--color-text-secondary);\n  font-size: 0.875rem;\n  white-space: nowrap;\n  cursor: pointer;\n  transition: var(--transition-fast);\n  flex-shrink: 0;\n}\n\n.filter-tab:hover {\n  background: var(--color-surface-light);\n  border-color: var(--color-border-hover);\n}\n\n.filter-tab.active {\n  background: var(--color-primary);\n  color: var(--color-background);\n  border-color: var(--color-primary);\n}\n\n.tab-icon {\n  font-size: 1rem;\n}\n\n.tab-name {\n  font-weight: 500;\n}\n\n.tab-count {\n  font-size: 0.75rem;\n  background: rgba(255, 255, 255, 0.2);\n  padding: 0.125rem 0.375rem;\n  border-radius: 0.75rem;\n  font-weight: 600;\n}\n\n.filter-tab.active .tab-count {\n  background: rgba(255, 255, 255, 0.3);\n}\n\n/* === ç½‘æ ¼å¸ƒå±€ === */\n.items-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));\n  gap: 0.75rem;\n  padding: 0.5rem;\n}\n\n.currency-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));\n  gap: 0.75rem;\n}\n\n/* === å¡ç‰‡æ ·å¼ === */\n.item-card, .currency-item {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 0.75rem;\n  background: var(--color-surface);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  cursor: pointer;\n  transition: var(--transition-fast);\n  position: relative;\n}\n\n.item-card:hover, .currency-item:hover {\n  background: var(--color-surface-light);\n  border-color: var(--color-border-hover);\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(var(--color-primary-rgb), 0.1);\n}\n\n/* === çŠ¶æ€æŒ‡ç¤º === */\n.loading-state, .empty-state {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 2rem;\n  text-align: center;\n  color: var(--color-text-secondary);\n}\n\n.loading-spinner, .empty-icon {\n  font-size: 2rem;\n  margin-bottom: 0.5rem;\n}\n\n.loading-text, .empty-text {\n  font-size: 1rem;\n  margin: 0;\n}\n\n/* === è¯¦æƒ…åŒºåŸŸ === */\n.detail-section {\n  background: var(--color-surface);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  padding: 1rem;\n  margin-top: 1rem;\n}\n\n.detail-header {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  margin-bottom: 1rem;\n  padding-bottom: 0.5rem;\n  border-bottom: 1px solid var(--color-border);\n}\n\n.detail-title {\n  font-size: 1rem;\n  font-weight: 600;\n  color: var(--color-text);\n  margin: 0;\n}\n\n.detail-content {\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n}\n\n.info-grid {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 0.5rem;\n}\n\n.info-item {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0.5rem;\n  background: var(--color-surface-light);\n  border-radius: 4px;\n  font-size: 0.875rem;\n}\n\n.info-label {\n  color: var(--color-text-secondary);\n  font-weight: 500;\n}\n\n.info-value {\n  color: var(--color-text);\n  font-weight: 600;\n}\n\n/* === åˆ—è¡¨æ ·å¼ === */\n.list-container {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n\n.list-item {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0.75rem;\n  background: var(--color-surface);\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  cursor: pointer;\n  transition: var(--transition-fast);\n}\n\n.list-item:hover {\n  background: var(--color-surface-light);\n  border-color: var(--color-border-hover);\n  transform: translateX(2px);\n}\n\n.list-item-content {\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n  flex: 1;\n}\n\n.list-item-title {\n  font-size: 0.875rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n\n.list-item-subtitle {\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n}\n\n/* === è¿›åº¦æ¡ === */\n.progress-container {\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n}\n\n.progress-bar {\n  height: 6px;\n  background: rgba(var(--color-border-rgb), 0.3);\n  border-radius: 3px;\n  overflow: hidden;\n}\n\n.progress-fill {\n  height: 100%;\n  background: var(--color-primary);\n  border-radius: 3px;\n  transition: width 0.3s ease;\n}\n\n.progress-text {\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n  text-align: center;\n}\n\n/* === åˆ†å‰²çº¿ === */\n.section-divider {\n  height: 1px;\n  background: var(--color-border);\n  margin: 1rem 0;\n}\n\n/* === å“åº”å¼é€‚é… === */\n@media (max-width: 640px) {\n  .game-panel {\n    gap: 0.5rem;\n  }\n  \n  .panel-header {\n    padding: 0.5rem 0.75rem;\n    margin: 0.25rem;\n    /* å°å±æ—¶å¤´éƒ¨å†…å®¹çºµå‘æ’åˆ—ï¼Œé¿å…å·¦å³æŒ¤å‹ */\n    display: flex;\n    flex-wrap: wrap;\n    gap: 0.5rem 0.5rem;\n  }\n\n  .filter-section {\n    padding: 0.5rem;\n    margin: 0 0.25rem;\n  }\n\n  .panel-content {\n    margin: 0 0.25rem 0.25rem 0.25rem;\n  }\n\n  .header-left {\n    min-width: 0;\n    flex: 1 1 auto;\n  }\n  \n  .header-actions .btn-text {\n    display: none;\n  }\n\n  .header-actions {\n    /* å¤´éƒ¨æ“ä½œæŒ‰é’®ç‹¬å ä¸€è¡Œå¹¶å¯æ¢è¡Œ */\n    width: 100%;\n    justify-content: flex-start;\n    gap: 0.375rem;\n  }\n\n  .action-btn {\n    /* ç§»åŠ¨ç«¯æ›´ç´§å‡‘çš„æŒ‰é’®å°ºå¯¸ */\n    padding: 0.4rem 0.6rem;\n    font-size: 0.8125rem;\n  }\n  \n  .items-grid {\n    grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));\n    gap: 0.5rem;\n  }\n  \n  .info-grid {\n    grid-template-columns: 1fr;\n  }\n\n  /* è¯¦æƒ…åŒºåŸŸæŒ‰é’®åœ¨çª„å±å †å ï¼Œé¿å…æº¢å‡º */\n  .details-actions {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 0.5rem;\n  }\n\n  .details-actions .action-btn,\n  .details-actions .dialog-btn,\n  .details-actions .operation-btn,\n  .details-actions .card-btn {\n    flex: 1 1 100%;\n    max-width: 100%;\n  }\n}\n\n/* === ç‰¹æ®ŠçŠ¶æ€æ ·å¼ === */\n.success-indicator {\n  color: var(--color-success);\n  background: rgba(var(--color-success-rgb), 0.1);\n  border-color: rgba(var(--color-success-rgb), 0.3);\n}\n\n.warning-indicator {\n  color: var(--color-warning);\n  background: rgba(var(--color-warning-rgb), 0.1);\n  border-color: rgba(var(--color-warning-rgb), 0.3);\n}\n\n.error-indicator {\n  color: var(--color-error);\n  background: rgba(var(--color-error-rgb), 0.1);\n  border-color: rgba(var(--color-error-rgb), 0.3);\n}\n\n.info-indicator {\n  color: var(--color-info);\n  background: rgba(var(--color-info-rgb), 0.1);\n  border-color: rgba(var(--color-info-rgb), 0.3);\n}\n\n/* === åŠ¨ç”»æ•ˆæœ === */\n@keyframes fadeInUp {\n  from {\n    opacity: 0;\n    transform: translateY(20px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n.fade-in-up {\n  animation: fadeInUp 0.3s ease-out;\n}\n\n@keyframes pulse {\n  0%, 100% {\n    opacity: 1;\n  }\n  50% {\n    opacity: 0.5;\n  }\n}\n\n.pulse {\n  animation: pulse 2s infinite;\n}\n",""]);const i=l},1667:(e,n,t)=&gt;{t.d(n,{A:()=&gt;i});var a=t(1601),o=t.n(a),r=t(6314),l=t.n(r)()(o());l.push([e.id,"\n.left-sidebar[data-v-722579ba] {\n  width: 100%;\n  height: 100%;\n  padding: 16px;\n  box-sizing: border-box;\n  font-family: var(--font-family-sans-serif);\n  display: flex;\n  flex-direction: column;\n  background: var(--color-surface);\n}\n.sidebar-header[data-v-722579ba] {\n  margin-bottom: 16px;\n  padding-bottom: 12px;\n  border-bottom: 1px solid var(--color-border);\n}\n.sidebar-title[data-v-722579ba] {\n  margin: 0;\n  font-size: 1rem;\n  font-weight: 600;\n  color: var(--color-text);\n  text-align: center;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 8px;\n}\n.title-icon[data-v-722579ba] {\n  color: var(--color-primary);\n}\n.sidebar-content[data-v-722579ba] {\n  flex: 1;\n  overflow-y: auto;\n  scrollbar-width: thin;\n  scrollbar-color: rgba(0, 0, 0, 0.2) transparent;\n  padding-right: 4px;\n}\n.sidebar-content[data-v-722579ba]::-webkit-scrollbar {\n  width: 4px;\n}\n.sidebar-content[data-v-722579ba]::-webkit-scrollbar-track {\n  background: transparent;\n}\n.sidebar-content[data-v-722579ba]::-webkit-scrollbar-thumb {\n  background: rgba(0, 0, 0, 0.2);\n  border-radius: 2px;\n}\n[data-theme=\"dark\"] .sidebar-content[data-v-722579ba]::-webkit-scrollbar-thumb {\n  background: var(--scrollbar-thumb-color);\n}\n\n/* åŠŸèƒ½åˆ†åŒºæ ·å¼ */\n.function-section[data-v-722579ba] {\n  margin-bottom: 24px;\n}\n.section-title[data-v-722579ba] {\n  font-size: 0.85rem;\n  font-weight: 600;\n  color: var(--color-text-secondary);\n  margin-bottom: 12px;\n  padding: 0 4px;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n}\n.function-group[data-v-722579ba] {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n.system-section[data-v-722579ba] {\n  border-top: 1px solid var(--color-border);\n  padding-top: 16px;\n}\n.divider[data-v-722579ba] {\n  height: 1px;\n  background: var(--color-border);\n  margin: 16px 0;\n}\n\n/* å¢å¼ºçš„æŒ‰é’®æ ·å¼ */\n.function-btn[data-v-722579ba] {\n  display: flex;\n  align-items: center;\n  padding: 12px 16px;\n  background: var(--color-surface);\n  border: 1px solid var(--color-border);\n  border-radius: 12px;\n  cursor: pointer;\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  font-family: inherit;\n  text-align: left;\n  width: 100%;\n  position: relative;\n  overflow: hidden;\n}\n.function-btn[data-v-722579ba]::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: -100%;\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(90deg, transparent, var(--color-surface-light), transparent);\n  transition: left 0.5s ease;\n}\n.function-btn[data-v-722579ba]:hover::before {\n  left: 100%;\n}\n.function-btn[data-v-722579ba]:hover {\n  background: var(--color-surface-light);\n  border-color: var(--color-primary);\n  transform: translateY(-2px);\n  box-shadow: 0 4px 20px rgba(var(--color-primary-rgb), 0.15);\n}\n.function-btn[data-v-722579ba]:active {\n  transform: translateY(-1px) scale(0.98);\n  transition: all 0.1s ease;\n}\n\n/* æŒ‰é’®å›¾æ ‡åŒºåŸŸ */\n.btn-icon[data-v-722579ba] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 36px;\n  height: 36px;\n  border-radius: 8px;\n  background: var(--color-background);\n  margin-right: 12px;\n  transition: all 0.3s ease;\n  flex-shrink: 0;\n}\n\n/* æŒ‰é’®å†…å®¹åŒºåŸŸ */\n.btn-content[data-v-722579ba] {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  gap: 2px;\n}\n.btn-text[data-v-722579ba] {\n  font-size: 0.9rem;\n  font-weight: 600;\n  color: var(--color-text);\n  line-height: 1.2;\n}\n.btn-desc[data-v-722579ba] {\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n  line-height: 1.1;\n}\n\n/* æŒ‰é’®ç®­å¤´ */\n.btn-arrow[data-v-722579ba] {\n  color: var(--color-text-muted);\n  transition: all 0.3s ease;\n  margin-left: 8px;\n}\n.function-btn:hover .btn-arrow[data-v-722579ba] {\n  color: var(--color-primary);\n  transform: translateX(2px);\n}\n\n/* æ— ç®­å¤´æŒ‰é’®çš„å³è¾¹è·è¡¥å¿ */\n.function-btn.no-arrow .btn-content[data-v-722579ba] {\n  margin-right: 22px; /* 14px (ç®­å¤´å®½åº¦) + 8px (margin-left) */\n}\n\n/* åˆ†ç±»é¢œè‰²ä¸»é¢˜ */\n.function-btn.primary .btn-icon[data-v-722579ba] {\n  background: rgba(59, 130, 246, 0.1);\n  border: 1px solid rgba(59, 130, 246, 0.2);\n}\n.function-btn.primary:hover .btn-icon[data-v-722579ba] {\n  background: rgba(59, 130, 246, 0.15);\n  border-color: rgba(59, 130, 246, 0.3);\n}\n.function-btn.secondary .btn-icon[data-v-722579ba] {\n  background: rgba(16, 185, 129, 0.1);\n  border: 1px solid rgba(16, 185, 129, 0.2);\n}\n.function-btn.secondary:hover .btn-icon[data-v-722579ba] {\n  background: rgba(16, 185, 129, 0.15);\n  border-color: rgba(16, 185, 129, 0.3);\n}\n.function-btn.accent .btn-icon[data-v-722579ba] {\n  background: rgba(139, 92, 246, 0.1);\n  border: 1px solid rgba(139, 92, 246, 0.2);\n}\n.function-btn.accent:hover .btn-icon[data-v-722579ba] {\n  background: rgba(139, 92, 246, 0.15);\n  border-color: rgba(139, 92, 246, 0.3);\n}\n.function-btn.system .btn-icon[data-v-722579ba] {\n  background: rgba(107, 114, 128, 0.1);\n  border: 1px solid rgba(107, 114, 128, 0.2);\n}\n.function-btn.system:hover .btn-icon[data-v-722579ba] {\n  background: rgba(107, 114, 128, 0.15);\n  border-color: rgba(107, 114, 128, 0.3);\n}\n\n/* ç¦ç”¨çŠ¶æ€æ ·å¼ */\n.function-btn[data-v-722579ba]:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n  background: var(--color-surface-light);\n}\n.function-btn[data-v-722579ba]:disabled:hover {\n  background: var(--color-surface-light);\n  transform: none;\n  box-shadow: none;\n  border-color: var(--color-border);\n}\n.function-btn:disabled .btn-icon[data-v-722579ba] {\n  background: var(--color-background);\n  border-color: var(--color-border);\n}\n.function-btn:disabled .btn-arrow[data-v-722579ba] {\n  opacity: 0.3;\n  transform: none;\n}\n.function-btn.disabled[data-v-722579ba] {\n  position: relative;\n  opacity: 0.6;\n}\n.disabled-text[data-v-722579ba] {\n  font-style: italic;\n  opacity: 0.7;\n}\n\n/* é€€å‡ºæŒ‰é’®ç‰¹æ®Šæ ·å¼ */\n.exit-btn[data-v-722579ba] {\n  border-color: var(--color-error);\n  background: rgba(239, 68, 68, 0.05);\n}\n.exit-btn[data-v-722579ba]:hover {\n  background: rgba(239, 68, 68, 0.1);\n  border-color: var(--color-error);\n  box-shadow: 0 4px 20px rgba(239, 68, 68, 0.15);\n}\n.exit-btn .btn-text[data-v-722579ba] {\n  color: var(--color-error);\n}\n.exit-btn .btn-desc[data-v-722579ba] {\n  color: rgba(239, 68, 68, 0.7);\n}\n.exit-btn .btn-icon[data-v-722579ba] {\n  background: rgba(239, 68, 68, 0.1);\n  border-color: rgba(239, 68, 68, 0.2);\n}\n.exit-btn:hover .btn-icon[data-v-722579ba] {\n  background: rgba(239, 68, 68, 0.15);\n  border-color: rgba(239, 68, 68, 0.3);\n}\n\n/* æ·±è‰²ä¸»é¢˜æ— éœ€é¢å¤–é€‚é…ï¼šå·²ç»Ÿä¸€ä½¿ç”¨ä¸»é¢˜å˜é‡ */\n\n/* å“åº”å¼é€‚é… */\n@media (max-width: 768px) {\n.left-sidebar[data-v-722579ba] {\n    padding: 12px;\n}\n.function-btn[data-v-722579ba] {\n    padding: 10px 14px;\n}\n.btn-icon[data-v-722579ba] {\n    width: 32px;\n    height: 32px;\n}\n.btn-text[data-v-722579ba] {\n    font-size: 0.85rem;\n}\n.btn-desc[data-v-722579ba] {\n    font-size: 0.7rem;\n}\n}\n",""]);const i=l},1774:(e,n,t)=&gt;{t.d(n,{Ey:()=&gt;x,nY:()=&gt;$});var a=t(4061),o=!1;function r(e,n,t){return Array.isArray(e)?(e.length=Math.max(e.length,n),e.splice(n,1,t),t):(e[n]=t,t)}let l;const i=e=&gt;l=e,c=Symbol();function s(e){return e&amp;&amp;"object"==typeof e&amp;&amp;"[object Object]"===Object.prototype.toString.call(e)&amp;&amp;"function"!=typeof e.toJSON}var d;!function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"}(d||(d={}));const m="undefined"!=typeof window,p=(()=&gt;"object"==typeof window&amp;&amp;window.window===window?window:"object"==typeof self&amp;&amp;self.self===self?self:"object"==typeof global&amp;&amp;global.global===global?global:"object"==typeof globalThis?globalThis:{HTMLElement:null})();function v(e,n,t){const a=new XMLHttpRequest;a.open("GET",e),a.responseType="blob",a.onload=function(){h(a.response,n,t)},a.onerror=function(){console.error("could not download file")},a.send()}function u(e){const n=new XMLHttpRequest;n.open("HEAD",e,!1);try{n.send()}catch(e){}return n.status&gt;=200&amp;&amp;n.status&lt;=299}function g(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){const t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}const f="object"==typeof navigator?navigator:{userAgent:""},b=(()=&gt;/Macintosh/.test(f.userAgent)&amp;&amp;/AppleWebKit/.test(f.userAgent)&amp;&amp;!/Safari/.test(f.userAgent))(),h=m?"undefined"!=typeof HTMLAnchorElement&amp;&amp;"download"in HTMLAnchorElement.prototype&amp;&amp;!b?function(e,n="download",t){const a=document.createElement("a");a.download=n,a.rel="noopener","string"==typeof e?(a.href=e,a.origin!==location.origin?u(a.href)?v(e,n,t):(a.target="_blank",g(a)):g(a)):(a.href=URL.createObjectURL(e),setTimeout(function(){URL.revokeObjectURL(a.href)},4e4),setTimeout(function(){g(a)},0))}:"msSaveOrOpenBlob"in f?function(e,n="download",t){if("string"==typeof e)if(u(e))v(e,n,t);else{const n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){g(n)})}else navigator.msSaveOrOpenBlob(function(e,{autoBom:n=!1}={}){return n&amp;&amp;/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}(e,t),n)}:function(e,n,t,a){if((a=a||open("","_blank"))&amp;&amp;(a.document.title=a.document.body.innerText="downloading..."),"string"==typeof e)return v(e,n,t);const o="application/octet-stream"===e.type,r=/constructor/i.test(String(p.HTMLElement))||"safari"in p,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||o&amp;&amp;r||b)&amp;&amp;"undefined"!=typeof FileReader){const n=new FileReader;n.onloadend=function(){let e=n.result;if("string"!=typeof e)throw a=null,new Error("Wrong reader.result type");e=l?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=e:location.assign(e),a=null},n.readAsDataURL(e)}else{const n=URL.createObjectURL(e);a?a.location.assign(n):location.href=n,a=null,setTimeout(function(){URL.revokeObjectURL(n)},4e4)}}:()=&gt;{},{assign:y}=Object;function x(){const e=(0,a.effectScope)(!0),n=e.run(()=&gt;(0,a.ref)({}));let t=[],r=[];const l=(0,a.markRaw)({install(e){i(l),o||(l._a=e,e.provide(c,l),e.config.globalProperties.$pinia=l,r.forEach(e=&gt;t.push(e)),r=[])},use(e){return this._a||o?t.push(e):r.push(e),this},_p:t,_a:null,_e:e,_s:new Map,state:n});return l}const k=()=&gt;{};function w(e,n,t,o=k){e.push(n);const r=()=&gt;{const t=e.indexOf(n);t&gt;-1&amp;&amp;(e.splice(t,1),o())};return!t&amp;&amp;(0,a.getCurrentScope)()&amp;&amp;(0,a.onScopeDispose)(r),r}function N(e,...n){e.slice().forEach(e=&gt;{e(...n)})}const E=e=&gt;e(),V=Symbol(),C=Symbol();function z(e,n){e instanceof Map&amp;&amp;n instanceof Map?n.forEach((n,t)=&gt;e.set(t,n)):e instanceof Set&amp;&amp;n instanceof Set&amp;&amp;n.forEach(e.add,e);for(const t in n){if(!n.hasOwnProperty(t))continue;const o=n[t],r=e[t];s(r)&amp;&amp;s(o)&amp;&amp;e.hasOwnProperty(t)&amp;&amp;!(0,a.isRef)(o)&amp;&amp;!(0,a.isReactive)(o)?e[t]=z(r,o):e[t]=o}return e}const S=Symbol();function B(e){return!s(e)||!e.hasOwnProperty(S)}const{assign:D}=Object;function A(e){return!(!(0,a.isRef)(e)||!e.effect)}function _(e,n,t={},l,c,s){let m;const p=D({actions:{}},t),v={deep:!0};let u,g,f,b=[],h=[];const y=l.state.value[e];let x;function S(n){let t;u=g=!1,"function"==typeof n?(n(l.state.value[e]),t={type:d.patchFunction,storeId:e,events:f}):(z(l.state.value[e],n),t={type:d.patchObject,payload:n,storeId:e,events:f});const o=x=Symbol();(0,a.nextTick)().then(()=&gt;{x===o&amp;&amp;(u=!0)}),g=!0,N(b,t,l.state.value[e])}s||y||(o?r(l.state.value,e,{}):l.state.value[e]={}),(0,a.ref)({});const _=s?function(){const{state:e}=t,n=e?e():{};this.$patch(e=&gt;{D(e,n)})}:k,$=(n,t="")=&gt;{if(V in n)return n[C]=t,n;const a=function(){i(l);const t=Array.from(arguments),o=[],r=[];let c;N(h,{args:t,name:a[C],store:T,after:function(e){o.push(e)},onError:function(e){r.push(e)}});try{c=n.apply(this&amp;&amp;this.$id===e?this:T,t)}catch(e){throw N(r,e),e}return c instanceof Promise?c.then(e=&gt;(N(o,e),e)).catch(e=&gt;(N(r,e),Promise.reject(e))):(N(o,c),c)};return a[V]=!0,a[C]=t,a},I={_p:l,$id:e,$onAction:w.bind(null,h),$patch:S,$reset:_,$subscribe(n,t={}){const o=w(b,n,t.detached,()=&gt;r()),r=m.run(()=&gt;(0,a.watch)(()=&gt;l.state.value[e],a=&gt;{("sync"===t.flush?g:u)&amp;&amp;n({storeId:e,type:d.direct,events:f},a)},D({},v,t)));return o},$dispose:function(){m.stop(),b=[],h=[],l._s.delete(e)}};o&amp;&amp;(I._r=!1);const T=(0,a.reactive)(I);l._s.set(e,T);const j=(l._a&amp;&amp;l._a.runWithContext||E)(()=&gt;l._e.run(()=&gt;(m=(0,a.effectScope)()).run(()=&gt;n({action:$}))));for(const n in j){const t=j[n];if((0,a.isRef)(t)&amp;&amp;!A(t)||(0,a.isReactive)(t))s||(y&amp;&amp;B(t)&amp;&amp;((0,a.isRef)(t)?t.value=y[n]:z(t,y[n])),o?r(l.state.value[e],n,t):l.state.value[e][n]=t);else if("function"==typeof t){const e=$(t,n);o?r(j,n,e):j[n]=e,p.actions[n]=t}}return o?Object.keys(j).forEach(e=&gt;{r(T,e,j[e])}):(D(T,j),D((0,a.toRaw)(T),j)),Object.defineProperty(T,"$state",{get:()=&gt;l.state.value[e],set:e=&gt;{S(n=&gt;{D(n,e)})}}),o&amp;&amp;(T._r=!0),l._p.forEach(e=&gt;{D(T,m.run(()=&gt;e({store:T,app:l._a,pinia:l,options:p})))}),y&amp;&amp;s&amp;&amp;t.hydrate&amp;&amp;t.hydrate(T.$state,y),u=!0,g=!0,T}function $(e,n,t){let s,d;const m="function"==typeof n;function p(e,t){const p=(0,a.hasInjectionContext)();return(e=e||(p?(0,a.inject)(c,null):null))&amp;&amp;i(e),(e=l)._s.has(s)||(m?_(s,n,d,e):function(e,n,t){const{state:l,actions:c,getters:s}=n,d=t.state.value[e];let m;m=_(e,function(){d||(o?r(t.state.value,e,l?l():{}):t.state.value[e]=l?l():{});const n=(0,a.toRefs)(t.state.value[e]);return D(n,c,Object.keys(s||{}).reduce((n,r)=&gt;(n[r]=(0,a.markRaw)((0,a.computed)(()=&gt;{i(t);const n=t._s.get(e);if(!o||n._r)return s[r].call(n,n)})),n),{}))},n,t,0,!0)}(s,d,e)),e._s.get(s)}return"string"==typeof e?(s=e,d=m?t:n):(d=e,s=e.id),p.$id=s,p}},1783:(e,n,t)=&gt;{t.d(n,{A:()=&gt;a});const a=(0,t(9596).A)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},1932:(e,n,t)=&gt;{t.d(n,{A:()=&gt;i});var a=t(1601),o=t.n(a),r=t(6314),l=t.n(r)()(o());l.push([e.id,"\n.character-details-wrapper[data-v-5ffd8816] {\n  width: 100%;\n  height: 100%;\n  background: var(--color-background);\n  overflow-y: auto;\n}\n\n/* åŠ è½½å’Œé”™è¯¯çŠ¶ï¿½?*/\n.loading-container[data-v-5ffd8816], .error-container[data-v-5ffd8816] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  color: var(--color-text-secondary);\n}\n.loading-spinner[data-v-5ffd8816] {\n  width: 40px;\n  height: 40px;\n  border: 3px solid var(--color-border);\n  border-top: 3px solid var(--color-primary);\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n  margin-bottom: 16px;\n}\n.error-icon[data-v-5ffd8816] {\n  margin-bottom: 16px;\n  color: var(--color-danger);\n}\n.retry-btn[data-v-5ffd8816] {\n  margin-top: 16px;\n  padding: 8px 16px;\n  background: var(--color-primary);\n  color: white;\n  border: none;\n  border-radius: 6px;\n  cursor: pointer;\n}\n\n/* è§’è‰²å¤´éƒ¨ä¿¡æ¯ç®€åŒ–ç‰ˆ */\n.character-header[data-v-5ffd8816] {\n  display: flex;\n  align-items: center;\n  gap: 24px;\n  padding: 24px;\n  background: var(--color-surface);\n  border-bottom: 1px solid var(--color-border);\n  border-radius: 12px 12px 0 0;\n}\n\n/* æ–°ç‰ˆå¤´éƒ¨å¸ƒå±€ */\n.header-modern[data-v-5ffd8816] {\n  flex-direction: column;\n  gap: 16px;\n}\n.header-main[data-v-5ffd8816] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n  gap: 16px;\n}\n.header-left[data-v-5ffd8816] {\n  display: flex;\n  align-items: center;\n  gap: 16px;\n  min-width: 0;\n  flex: 1;\n}\n.header-stats[data-v-5ffd8816] {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 12px;\n  width: 100%;\n  padding-top: 12px;\n  border-top: 1px solid var(--color-border);\n}\n.stat-item[data-v-5ffd8816] {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 6px 12px;\n  background: var(--color-surface-light);\n  border-radius: 8px;\n  border: 1px solid var(--color-border);\n}\n.stat-label[data-v-5ffd8816] {\n  font-size: 0.8rem;\n  color: var(--color-text-secondary);\n  font-weight: 500;\n}\n.stat-value[data-v-5ffd8816] {\n  font-size: 0.9rem;\n  color: var(--color-text);\n  font-weight: 600;\n}\n.stat-value.gender.gender-ç”·[data-v-5ffd8816] {\n  color: #3b82f6;\n}\n.stat-value.gender.gender-å¥³[data-v-5ffd8816] {\n  color: #ec4899;\n}\n.stat-value.spirit-root[data-v-5ffd8816] {\n  color: var(--color-primary);\n}\n.stat-value.reputation[data-v-5ffd8816] {\n  color: var(--color-warning);\n}\n.avatar-circle[data-v-5ffd8816] {\n  width: 56px;\n  height: 56px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: linear-gradient(135deg, var(--color-primary), var(--color-info));\n  box-shadow: 0 6px 18px rgba(0, 0, 0, 0.2);\n  border: 1px solid rgba(var(--color-primary-rgb), 0.3);\n  flex-shrink: 0;\n}\n.avatar-initial[data-v-5ffd8816] {\n  color: #fff;\n  font-size: 1.25rem;\n  font-weight: 800;\n  letter-spacing: 1px;\n}\n.title-area[data-v-5ffd8816] {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  min-width: 0;\n}\n.meta-chips[data-v-5ffd8816] {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 8px;\n}\n.meta-chip[data-v-5ffd8816] {\n  display: inline-flex;\n  align-items: center;\n  gap: 6px;\n  padding: 4px 10px;\n  font-size: 0.85rem;\n  color: var(--color-text-secondary);\n  background: var(--color-surface-light);\n  border: 1px solid var(--color-border);\n  border-radius: 999px;\n  white-space: nowrap;\n}\n.realm-chip[data-v-5ffd8816] {\n  color: var(--color-primary);\n  background: rgba(var(--color-primary-rgb), 0.06);\n  border-color: rgba(var(--color-primary-rgb), 0.35);\n}\n.age-chip[data-v-5ffd8816] {\n  color: var(--color-info);\n  background: rgba(var(--color-info-rgb), 0.06);\n  border-color: rgba(var(--color-info-rgb), 0.35);\n}\n.location-chip[data-v-5ffd8816] {\n  color: var(--color-success);\n  background: rgba(var(--color-success-rgb), 0.06);\n  border-color: rgba(var(--color-success-rgb), 0.35);\n}\n.header-right[data-v-5ffd8816] {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n.reputation-badge[data-v-5ffd8816] {\n  display: inline-flex;\n  align-items: center;\n  gap: 8px;\n  padding: 6px 10px;\n  background: rgba(var(--color-warning-rgb), 0.12);\n  border: 1px solid rgba(var(--color-warning-rgb), 0.35);\n  border-radius: 10px;\n}\n.rep-label[data-v-5ffd8816] {\n  font-size: 0.8rem;\n  color: var(--color-text-secondary);\n}\n.rep-value[data-v-5ffd8816] {\n  font-weight: 700;\n  color: var(--color-warning);\n}\n.cultivation-compact[data-v-5ffd8816] {\n  display: inline-flex;\n  align-items: center;\n  gap: 8px;\n}\n.cultivation-compact.mortal[data-v-5ffd8816] {\n  padding: 4px 8px;\n  background: rgba(var(--color-text-tertiary-rgb), 0.08);\n  border: 1px dashed rgba(var(--color-text-tertiary-rgb), 0.25);\n  border-radius: 8px;\n}\n.compact-bar[data-v-5ffd8816] {\n  width: 120px;\n  height: 6px;\n  background: rgba(var(--color-border-rgb), 0.5);\n  border-radius: 3px;\n  overflow: hidden;\n  position: relative;\n}\n.compact-progress[data-v-5ffd8816] {\n  height: 100%;\n  background: linear-gradient(90deg,\n    var(--color-info) 0%,\n    var(--color-success) 80%,\n    var(--color-warning) 100%\n  );\n  width: 0%;\n  transition: width 0.3s ease;\n  border-radius: 3px;\n}\n.compact-label[data-v-5ffd8816] {\n  font-size: 0.8rem;\n  color: var(--color-text-secondary);\n  font-weight: 500;\n  min-width: 28px;\n}\n.compact-text[data-v-5ffd8816] {\n  font-size: 0.8rem;\n  font-weight: 500;\n  color: var(--color-text);\n  font-variant-numeric: tabular-nums;\n  min-width: 45px;\n  text-align: right;\n}\n.character-gender[data-v-5ffd8816] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  min-width: 80px;\n}\n.gender-symbol[data-v-5ffd8816] {\n  width: 60px;\n  height: 60px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 2rem;\n  font-weight: bold;\n  color: white;\n  margin-bottom: 8px;\n  transition: all 0.3s ease;\n  background: linear-gradient(135deg, var(--color-primary), var(--color-primary-hover));\n  box-shadow: 0 4px 12px rgba(var(--color-primary-rgb), 0.3);\n}\n.gender-å¥³ .gender-symbol[data-v-5ffd8816] {\n  background: linear-gradient(135deg, var(--color-accent), var(--color-accent-hover));\n  box-shadow: 0 4px 12px rgba(var(--color-accent-rgb), 0.3);\n}\n.gender-ç”· .gender-symbol[data-v-5ffd8816] {\n  background: linear-gradient(135deg, var(--color-info), var(--color-info-hover));\n  box-shadow: 0 4px 12px rgba(var(--color-info-rgb), 0.3);\n}\n.gender-text[data-v-5ffd8816] {\n  font-size: 0.875rem;\n  font-weight: 600;\n  color: var(--color-text-secondary);\n  text-align: center;\n}\n.character-info[data-v-5ffd8816] {\n  flex: 1;\n}\n.character-name[data-v-5ffd8816] {\n  margin: 0 0 16px 0;\n  font-size: 2rem;\n  font-weight: 700;\n  color: var(--color-text);\n}\n.character-details[data-v-5ffd8816] {\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  gap: 12px;\n}\n.detail-item[data-v-5ffd8816] {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n}\n.label[data-v-5ffd8816] {\n  font-size: 0.85rem;\n  color: var(--color-text-secondary);\n  font-weight: 500;\n}\n.value[data-v-5ffd8816] {\n  font-weight: 600;\n  color: var(--color-text);\n}\n.realm[data-v-5ffd8816] {\n  color: var(--color-warning);\n  font-weight: 700;\n}\n.gender-value[data-v-5ffd8816] {\n  padding: 4px 12px;\n  border-radius: 16px;\n  font-weight: 600;\n  font-size: 0.9rem;\n}\n.gender-value.gender-å¥³[data-v-5ffd8816] {\n  background: rgba(var(--color-accent-rgb), 0.1);\n  color: var(--color-accent);\n  border: 1px solid rgba(var(--color-accent-rgb), 0.3);\n}\n.gender-value.gender-ç”·[data-v-5ffd8816] {\n  background: transparent;\n  color: var(--color-text);\n  border: none;\n}\n.character-stats[data-v-5ffd8816] {\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n  min-width: 120px;\n}\n.stat-item[data-v-5ffd8816] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  text-align: center;\n  gap: 8px;\n}\n.stat-label[data-v-5ffd8816] {\n  font-size: 0.85rem;\n  color: var(--color-text-secondary);\n  font-weight: 500;\n}\n.stat-value[data-v-5ffd8816] {\n  font-size: 1.5rem;\n  font-weight: 700;\n  color: var(--color-primary);\n}\n.stat-display[data-v-5ffd8816] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 4px;\n}\n.stat-value.reputation[data-v-5ffd8816] {\n  color: var(--color-warning);\n  text-shadow: 0 1px 2px rgba(245, 158, 11, 0.3);\n}\n.stat-display.cultivation[data-v-5ffd8816] {\n  width: 100%;\n  min-width: 100px;\n}\n\n/* å‡¡äººä¿®ç‚¼çŠ¶æ€æ ·ï¿½?*/\n.stat-display.mortal-state[data-v-5ffd8816] {\n  padding: 8px 16px;\n  background: rgba(var(--color-primary-rgb), 0.05);\n  border-radius: 6px;\n  border: 1px dashed rgba(var(--color-primary-rgb), 0.3);\n}\n.mortal-hint[data-v-5ffd8816] {\n  font-size: 0.8rem;\n  color: var(--color-text-tertiary);\n  font-weight: 400;\n  opacity: 0.9;\n}\n.cultivation-bar[data-v-5ffd8816] {\n  width: 100%;\n  height: 8px;\n  background: var(--color-border);\n  border-radius: 4px;\n  overflow: hidden;\n  margin-bottom: 4px;\n  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1);\n}\n.cultivation-progress[data-v-5ffd8816] {\n  height: 100%;\n  background: linear-gradient(90deg, var(--color-info), var(--color-success));\n  border-radius: 4px;\n  transition: width 0.5s ease;\n  box-shadow: 0 1px 2px rgba(59, 130, 246, 0.3);\n}\n.cultivation-text[data-v-5ffd8816] {\n  font-size: 0.9rem;\n  font-weight: 600;\n  color: var(--color-info);\n  white-space: nowrap;\n}\n\n/* å†…å®¹ç½‘æ ¼ - æ”¹ä¸ºæ›´çµæ´»çš„å“åº”å¼å¸ƒå±€ */\n.content-grid[data-v-5ffd8816] {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\n  gap: 16px;\n  padding: 16px;\n  max-width: 100%;\n  overflow: hidden;\n  box-sizing: border-box;\n}\n\n/* ä¿¡æ¯åŒºå—ä¼˜åŒ– */\n.info-section[data-v-5ffd8816] {\n  background: var(--color-surface-light);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  padding: 16px;\n  box-shadow: none;\n  transition: border-color 0.2s ease, background-color 0.2s ease;\n  position: relative;\n  overflow: hidden;\n  box-sizing: border-box;\n  min-width: 0;\n}\n.info-section[data-v-5ffd8816]:hover {\n  transform: none;\n  box-shadow: none;\n  border-color: var(--color-border-hover);\n}\n.section-title[data-v-5ffd8816] {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  margin: 0 0 20px 0;\n  font-size: 1.2rem;\n  font-weight: 700;\n  color: var(--color-text);\n  padding-bottom: 12px;\n  border-bottom: 2px solid rgba(var(--color-border-rgb), 0.3);\n  position: relative;\n}\n.section-title[data-v-5ffd8816]::after {\n  content: '';\n  position: absolute;\n  bottom: -2px;\n  left: 0;\n  width: 40px;\n  height: 2px;\n  background: var(--color-primary);\n  border-radius: 1px;\n}\n.title-icon[data-v-5ffd8816] {\n  color: var(--color-primary);\n  flex-shrink: 0;\n  padding: 8px;\n  background: rgba(var(--color-primary-rgb), 0.1);\n  border-radius: 8px;\n}\n\n/* ç”Ÿå‘½çŠ¶ï¿½?*/\n.vitals-grid[data-v-5ffd8816] {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n}\n.vital-item[data-v-5ffd8816] {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n.vital-label[data-v-5ffd8816] {\n  font-size: 0.9rem;\n  font-weight: 500;\n  color: var(--color-text);\n}\n.vital-bar[data-v-5ffd8816] {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n.bar-container[data-v-5ffd8816] {\n  flex: 1;\n  height: 12px;\n  background: var(--color-border);\n  border-radius: 6px;\n  overflow: hidden;\n}\n.bar-fill[data-v-5ffd8816] {\n  height: 100%;\n  transition: width 0.3s ease;\n}\n.bar-danger[data-v-5ffd8816] { background: linear-gradient(90deg, var(--color-danger), var(--color-danger-hover));\n}\n.bar-info[data-v-5ffd8816] { background: linear-gradient(90deg, var(--color-info), var(--color-info-hover));\n}\n.bar-accent[data-v-5ffd8816] { background: linear-gradient(90deg, var(--color-warning), var(--color-warning-hover));\n}\n\n/* ç”Ÿå‘½çŠ¶æ€é¢œï¿½?çº¢è“é‡‘ä¸‰ï¿½?*/\n.bar-red[data-v-5ffd8816] { background: linear-gradient(90deg, var(--vital-health), var(--vital-health));\n}\n.bar-blue[data-v-5ffd8816] { background: linear-gradient(90deg, var(--vital-lingqi), var(--vital-lingqi));\n}\n.bar-gold[data-v-5ffd8816] { background: linear-gradient(90deg, var(--vital-spirit), var(--vital-spirit));\n}\n.vital-text[data-v-5ffd8816] {\n  font-size: 0.85rem;\n  font-weight: 600;\n  color: var(--color-text);\n  min-width: 60px;\n}\n\n/* å¤©èµ‹ä¸çµï¿½?*/\n.talent-grid[data-v-5ffd8816] {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n}\n.talent-item[data-v-5ffd8816] {\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  padding: 12px;\n  background: var(--color-surface-light);\n  border-radius: 8px;\n}\n.talent-label[data-v-5ffd8816] {\n  font-size: 0.9rem;\n  color: var(--color-text-secondary);\n  margin-right: 1rem;\n}\n.talent-value[data-v-5ffd8816] {\n  font-weight: 600;\n}\n.tier[data-v-5ffd8816], .spirit-root[data-v-5ffd8816] {\n  padding: 4px 12px;\n  border-radius: 16px;\n  font-size: 0.85rem;\n}\n.tier[data-v-5ffd8816] {\n  background: rgba(var(--color-success-rgb), 0.1);\n  color: var(--color-success);\n}\n.spirit-root[data-v-5ffd8816] {\n  background: rgba(var(--color-info-rgb), 0.1);\n  color: var(--color-info);\n}\n.talent-tags[data-v-5ffd8816] {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 8px;\n  margin-top: 12px;\n}\n.talent-tag[data-v-5ffd8816] {\n  padding: 4px 10px;\n  background: rgba(var(--color-primary-rgb), 0.1);\n  color: var(--color-primary);\n  border-radius: 12px;\n  font-size: 0.8rem;\n  font-weight: 500;\n}\n\n/* çŠ¶æ€æ•ˆï¿½?*/\n.effects-list[data-v-5ffd8816] {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n}\n.effect-item[data-v-5ffd8816] {\n  padding: 12px;\n  border-radius: 8px;\n  border-left: 4px solid;\n}\n.effect-buff[data-v-5ffd8816] {\n  border-color: var(--color-success);\n  background: rgba(var(--color-success-rgb), 0.1);\n}\n.effect-debuff[data-v-5ffd8816] {\n  border-color: var(--color-danger);\n  background: rgba(var(--color-danger-rgb), 0.1);\n}\n.effect-header[data-v-5ffd8816] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 4px;\n}\n.effect-name[data-v-5ffd8816] {\n  font-weight: 600;\n}\n.effect-remove-btn[data-v-5ffd8816] {\n  padding: 4px;\n  background: transparent;\n  border: 1px solid var(--color-border);\n  border-radius: 4px;\n  cursor: pointer;\n  color: var(--color-text-secondary);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.2s;\n}\n.effect-remove-btn[data-v-5ffd8816]:hover {\n  background: var(--color-danger);\n  border-color: var(--color-danger);\n  color: white;\n}\n.effect-duration[data-v-5ffd8816] {\n  font-size: 0.8rem;\n  color: var(--color-text-secondary);\n}\n.effect-description[data-v-5ffd8816] {\n  font-size: 0.85rem;\n  color: var(--color-text);\n  line-height: 1.4;\n  margin-bottom: 8px;\n}\n.effect-time-info[data-v-5ffd8816] {\n  display: flex;\n  justify-content: space-between;\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n  margin-top: 8px;\n  padding-top: 8px;\n  border-top: 1px solid var(--color-border);\n}\n.body-parts-list[data-v-5ffd8816] {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n}\n.body-part-item[data-v-5ffd8816] {\n  padding: 12px;\n  background: var(--color-surface);\n  border-radius: 8px;\n  border-left: 4px solid var(--color-info);\n}\n.part-header[data-v-5ffd8816] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 8px;\n}\n.part-name[data-v-5ffd8816] {\n  font-weight: 600;\n  color: var(--color-text);\n}\n.part-level[data-v-5ffd8816] {\n  font-size: 0.8rem;\n  font-weight: 600;\n  padding: 2px 8px;\n  border-radius: 10px;\n  background: rgba(var(--color-info-rgb), 0.1);\n  color: var(--color-info);\n}\n.part-description[data-v-5ffd8816] {\n  font-size: 0.85rem;\n  color: var(--color-text-secondary);\n  line-height: 1.5;\n}\n.effect-created[data-v-5ffd8816],\n.effect-remaining[data-v-5ffd8816] {\n  opacity: 0.8;\n}\n\n/* å…­å¸å±ï¿½?*/\n.basic-info-grid[data-v-5ffd8816] {\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  gap: 12px;\n}\n.basic-info-item[data-v-5ffd8816] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 8px 12px;\n  background: var(--color-surface-light);\n  border-radius: 6px;\n  min-height: 36px;\n}\n.basic-info-item .info-label[data-v-5ffd8816] {\n  font-size: 0.875rem;\n  color: var(--color-text-secondary);\n  font-weight: 500;\n}\n.basic-info-item .info-value[data-v-5ffd8816] {\n  font-size: 0.875rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.basic-info-item .info-value.gender.gender-ç”·[data-v-5ffd8816] {\n  color: #3b82f6;\n}\n.basic-info-item .info-value.gender.gender-å¥³[data-v-5ffd8816] {\n  color: #ec4899;\n}\n.basic-info-item .info-value.origin[data-v-5ffd8816] {\n  color: var(--color-accent);\n}\n.basic-info-item .info-value.world[data-v-5ffd8816] {\n  color: var(--color-primary);\n}\n.basic-info-item .info-value.race[data-v-5ffd8816] {\n  color: var(--color-info);\n}\n.attributes-display[data-v-5ffd8816] {\n  display: flex;\n  flex-direction: column;\n  gap: 24px;\n}\n.attribute-group-title[data-v-5ffd8816] {\n  margin: 0 0 12px 0;\n  font-size: 1rem;\n  font-weight: 600;\n  color: var(--color-text);\n  white-space: nowrap;\n}\n.attributes-grid[data-v-5ffd8816] {\n  display: grid;\n  grid-template-columns: repeat(2, minmax(0, 1fr));\n  gap: 12px;\n}\n.attributes-grid.compact[data-v-5ffd8816] {\n  grid-template-columns: repeat(3, minmax(80px, 1fr));\n  gap: 8px;\n}\n.attribute-item[data-v-5ffd8816] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 10px 12px;\n  border-radius: 8px;\n  background: var(--color-surface-light);\n  min-height: 44px;\n  min-width: 80px; /* ç¡®ä¿æœ‰è¶³å¤Ÿç©ºé—´æ˜¾ç¤ºå®Œæ•´å±æ€§å */\n  width: 100%;\n  box-sizing: border-box;\n}\n.attribute-item.final[data-v-5ffd8816] {\n  background: rgba(var(--color-primary-rgb), 0.1);\n  border: 1px solid rgba(var(--color-primary-rgb), 0.2);\n  font-weight: 600;\n}\n.attribute-item.innate[data-v-5ffd8816] {\n  background: var(--color-surface-hover);\n}\n.attribute-item.acquired[data-v-5ffd8816] {\n  background: rgba(var(--color-border-rgb), 0.1);\n}\n.attribute-item.acquired.has-bonus[data-v-5ffd8816] {\n  background: rgba(var(--color-success-rgb), 0.1);\n  border: 1px solid rgba(var(--color-success-rgb), 0.2);\n}\n.attr-name[data-v-5ffd8816] {\n  font-size: 0.9rem;\n  color: var(--color-text-secondary);\n  white-space: nowrap;\n  flex: 1 1 auto;\n  min-width: 0;\n  overflow: visible;\n  text-overflow: initial;\n  padding-right: 8px;\n}\n.attr-value[data-v-5ffd8816] {\n  font-weight: 600;\n  color: var(--color-text);\n  white-space: nowrap;\n  overflow: visible;\n  text-overflow: initial;\n  flex-shrink: 0;\n  min-width: auto;\n}\n.attribute-item.acquired.has-bonus .attr-value[data-v-5ffd8816] {\n  color: var(--color-success);\n}\n.attribute-breakdown[data-v-5ffd8816] {\n  display: grid;\n  grid-template-columns: 1fr;\n  gap: 20px;\n}\n\n/* åŠŸæ³•ç³»ç»Ÿäº¤äº’æ ·å¼ */\n.technique-header[data-v-5ffd8816] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  cursor: pointer;\n  padding: 8px;\n  border-radius: 6px;\n  transition: background-color 0.2s ease;\n}\n.technique-header[data-v-5ffd8816]:hover {\n  background: var(--color-surface-hover);\n}\n.technique-main[data-v-5ffd8816] {\n  flex: 1;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n.technique-toggle[data-v-5ffd8816] {\n  margin-left: 12px;\n}\n.toggle-icon[data-v-5ffd8816] {\n  transition: transform 0.3s ease;\n  color: var(--color-text-secondary);\n}\n.toggle-icon.rotated[data-v-5ffd8816] {\n  transform: rotate(180deg);\n}\n.technique-details[data-v-5ffd8816] {\n  margin-top: 12px;\n  padding: 16px;\n  background: var(--color-surface-light);\n  border-radius: 8px;\n  border: 1px solid var(--color-border);\n}\n.technique-description[data-v-5ffd8816] {\n  margin-bottom: 16px;\n}\n.technique-description p[data-v-5ffd8816] {\n  margin: 0;\n  color: var(--color-text);\n  line-height: 1.6;\n  font-style: italic;\n}\n.technique-effects[data-v-5ffd8816] {\n  border-top: 1px solid var(--color-border);\n  padding-top: 12px;\n}\n.effects-title[data-v-5ffd8816] {\n  margin: 0 0 8px 0;\n  font-size: 0.9rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.effects-list[data-v-5ffd8816] {\n  display: flex;\n  flex-direction: column;\n  gap: 6px;\n}\n.effect-item[data-v-5ffd8816] {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  font-size: 0.85rem;\n}\n.effect-label[data-v-5ffd8816] {\n  color: var(--color-text-secondary);\n  min-width: 80px;\n}\n.effect-value[data-v-5ffd8816] {\n  color: var(--color-success);\n  font-weight: 600;\n}\n.attribute-bonuses[data-v-5ffd8816] {\n  display: flex;\n  gap: 4px;\n  flex-wrap: wrap;\n}\n.bonus-tag[data-v-5ffd8816] {\n  padding: 2px 6px;\n  background: rgba(var(--color-success-rgb), 0.1);\n  color: var(--color-success);\n  border-radius: 4px;\n  font-size: 0.75rem;\n  border: 1px solid rgba(var(--color-success-rgb), 0.3);\n}\n.no-effects-text[data-v-5ffd8816] {\n  color: var(--color-text-secondary);\n  font-style: italic;\n  font-size: 0.85rem;\n  padding-top: 8px;\n}\n\n/* æŠ€èƒ½ç³»ç»Ÿæ ·ï¿½?*/\n.skills-header[data-v-5ffd8816] {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  cursor: pointer;\n  padding: 4px;\n  border-radius: 4px;\n  transition: background-color 0.2s ease;\n}\n.skills-header[data-v-5ffd8816]:hover {\n  background: var(--color-surface-hover);\n}\n.skills-count[data-v-5ffd8816] {\n  color: var(--color-text-secondary);\n  font-size: 0.85rem;\n  margin-left: auto;\n}\n.skills-preview[data-v-5ffd8816] {\n  margin-top: 12px;\n}\n.skills-list-compact[data-v-5ffd8816] {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 6px;\n}\n.skill-tag.compact[data-v-5ffd8816] {\n  padding: 4px 8px;\n  font-size: 0.8rem;\n}\n.more-skills[data-v-5ffd8816] {\n  color: var(--color-text-secondary);\n  font-style: italic;\n  font-size: 0.8rem;\n  padding: 4px 8px;\n}\n.skills-details[data-v-5ffd8816] {\n  margin-top: 16px;\n  padding: 16px;\n  background: var(--color-surface-light);\n  border-radius: 8px;\n  border: 1px solid var(--color-border);\n}\n.skill-category[data-v-5ffd8816] {\n  margin-bottom: 20px;\n}\n.skill-category[data-v-5ffd8816]:last-child {\n  margin-bottom: 0;\n}\n.category-title[data-v-5ffd8816] {\n  margin: 0 0 12px 0;\n  font-size: 0.9rem;\n  font-weight: 600;\n  color: var(--color-primary);\n  padding-bottom: 6px;\n  border-bottom: 1px solid rgba(var(--color-primary-rgb), 0.2);\n}\n.skills-grid[data-v-5ffd8816] {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));\n  gap: 10px;\n}\n.skill-card[data-v-5ffd8816] {\n  padding: 12px;\n  background: var(--color-surface);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  position: relative;\n}\n.skill-card[data-v-5ffd8816]:hover {\n  background: var(--color-surface-hover);\n  border-color: var(--color-primary);\n  transform: translateY(-1px);\n  box-shadow: 0 2px 8px rgba(var(--color-primary-rgb), 0.1);\n}\n.skill-card.skill-locked[data-v-5ffd8816] {\n  opacity: 0.6;\n  border-color: var(--color-border);\n  border-style: dashed;\n}\n.skill-card.skill-locked[data-v-5ffd8816]:hover {\n  border-color: var(--color-warning);\n}\n.skill-name[data-v-5ffd8816] {\n  font-weight: 600;\n  font-size: 0.9rem;\n  color: var(--color-text);\n  margin-bottom: 4px;\n}\n.skill-type[data-v-5ffd8816] {\n  font-size: 0.8rem;\n  color: var(--color-text-secondary);\n  margin-bottom: 4px;\n}\n.skill-source[data-v-5ffd8816] {\n  font-size: 0.75rem;\n  color: var(--color-accent);\n  font-style: italic;\n}\n.skill-proficiency-mini[data-v-5ffd8816] {\n  font-size: 0.7rem;\n  color: var(--color-text-secondary);\n  margin-top: 4px;\n  padding: 2px 4px;\n  background: rgba(var(--color-info-rgb), 0.1);\n  border-radius: 4px;\n  width: fit-content;\n}\n.skill-unlock[data-v-5ffd8816] {\n  font-size: 0.75rem;\n  color: var(--color-warning);\n  font-style: italic;\n}\n.skill-status[data-v-5ffd8816] {\n  display: flex;\n  align-items: center;\n  gap: 4px;\n}\n.unlock-icon[data-v-5ffd8816] {\n  color: var(--color-success);\n}\n\n/* ä¿®ç‚¼åŠŸæ³• */\n.cultivation-display[data-v-5ffd8816] {\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n}\n.technique-info[data-v-5ffd8816] {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n}\n.technique-header[data-v-5ffd8816] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n.technique-name[data-v-5ffd8816] {\n  margin: 0;\n  font-size: 1.1rem;\n  font-weight: 600;\n  cursor: pointer;\n}\n.technique-quality[data-v-5ffd8816] {\n  font-size: 0.85rem;\n  color: var(--color-text-secondary);\n  padding: 4px 8px;\n  background: var(--color-surface-hover);\n  border-radius: 12px;\n}\n.technique-progress[data-v-5ffd8816] {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n}\n.progress-item[data-v-5ffd8816] {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n.progress-label[data-v-5ffd8816] {\n  font-size: 0.9rem;\n  color: var(--color-text-secondary);\n  min-width: 80px;\n}\n.progress-bar[data-v-5ffd8816] {\n  flex: 1;\n  height: 12px;\n  background: var(--color-surface-light);\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  overflow: hidden;\n  box-shadow: inset 0 1px 3px rgba(var(--color-border-rgb), 0.15);\n}\n.progress-fill[data-v-5ffd8816] {\n  height: 100%;\n  min-width: 2px; /* ç¡®ä¿å³ä½¿0%æ—¶ä¹Ÿæœ‰æœ€å°å®½åº¦æ˜¾ï¿½?*/\n  background: linear-gradient(90deg, var(--color-primary), var(--color-primary-hover));\n  transition: width 0.3s ease;\n  border-radius: 4px; /* ç¨å¾®åœ†æ¶¦çš„è§’ */\n}\n.progress-text[data-v-5ffd8816] {\n  font-size: 0.85rem;\n  font-weight: 600;\n  color: var(--color-text);\n  min-width: 40px;\n}\n.learned-skills[data-v-5ffd8816] {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n}\n.skills-title[data-v-5ffd8816] {\n  margin: 0;\n  font-size: 1rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.skills-list[data-v-5ffd8816] {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 8px;\n}\n.skill-tag[data-v-5ffd8816] {\n  padding: 6px 12px;\n  background: var(--color-info);\n  color: white;\n  border-radius: 16px;\n  font-size: 0.8rem;\n  font-weight: 500;\n}\n\n/* ä¸‰åƒå¤§é“ */\n.dao-list[data-v-5ffd8816] {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n}\n.dao-header-section[data-v-5ffd8816] {\n  margin-bottom: 12px;\n}\n.dao-summary[data-v-5ffd8816] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 8px 0;\n}\n.dao-count[data-v-5ffd8816] {\n  font-size: 0.85rem;\n  color: var(--color-text-secondary);\n}\n.dao-expand-btn[data-v-5ffd8816] {\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  background: none;\n  border: 1px solid var(--color-border);\n  padding: 4px 8px;\n  border-radius: 4px;\n  font-size: 0.8rem;\n  color: var(--color-text-secondary);\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n.dao-expand-btn[data-v-5ffd8816]:hover {\n  background: var(--color-surface-hover);\n  border-color: var(--color-primary);\n  color: var(--color-primary);\n}\n.dao-preview[data-v-5ffd8816] {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n.dao-details[data-v-5ffd8816] {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n}\n.dao-item[data-v-5ffd8816] {\n  padding: 12px;\n  background: var(--color-surface-light);\n  border-radius: 8px;\n  border: 1px solid var(--color-border);\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n.dao-item[data-v-5ffd8816]:hover {\n  background: var(--color-surface-hover);\n  border-color: var(--color-primary);\n  transform: translateY(-1px);\n  box-shadow: 0 2px 8px rgba(var(--color-primary-rgb), 0.1);\n}\n.dao-item.compact[data-v-5ffd8816] {\n  padding: 8px 10px;\n}\n.dao-item.detailed[data-v-5ffd8816] {\n  padding: 16px;\n}\n.more-dao[data-v-5ffd8816] {\n  padding: 8px 12px;\n  text-align: center;\n  color: var(--color-text-secondary);\n  font-size: 0.8rem;\n  font-style: italic;\n  border: 1px dashed var(--color-border);\n  border-radius: 6px;\n  background: var(--color-surface-light);\n}\n.dao-stats[data-v-5ffd8816] {\n  margin-top: 12px;\n  padding-top: 12px;\n  border-top: 1px solid rgba(var(--color-border-rgb), 0.5);\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 8px;\n}\n.dao-stats .stat-item[data-v-5ffd8816] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  text-align: center;\n}\n.dao-stats .stat-label[data-v-5ffd8816] {\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n  margin-bottom: 2px;\n}\n.dao-stats .stat-value[data-v-5ffd8816] {\n  font-size: 0.85rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.dao-header[data-v-5ffd8816] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 8px;\n}\n.dao-name[data-v-5ffd8816] {\n  font-weight: 600;\n  color: var(--color-text);\n}\n.dao-stage[data-v-5ffd8816] {\n  font-size: 0.8rem;\n  background: var(--color-info);\n  color: white;\n  padding: 2px 8px;\n  border-radius: 10px;\n}\n.dao-progress[data-v-5ffd8816] {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n.progress-bar.small[data-v-5ffd8816] {\n  height: 6px;\n}\n.progress-text.small[data-v-5ffd8816] {\n  font-size: 0.8rem;\n  min-width: 35px;\n}\n\n/* äººé™…å…³ç³» */\n.relationships-summary[data-v-5ffd8816] {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n}\n.relationship-stats[data-v-5ffd8816] {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));\n  gap: 12px;\n}\n.relationship-categories[data-v-5ffd8816] {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n.category-item[data-v-5ffd8816] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 8px 12px;\n  background: var(--color-surface-light);\n  border-radius: 6px;\n}\n.category-name[data-v-5ffd8816] {\n  font-size: 0.9rem;\n  color: var(--color-text);\n}\n.category-count[data-v-5ffd8816] {\n  font-weight: 600;\n  color: var(--color-primary);\n}\n\n/* èƒŒåŒ…æ¦‚è§ˆ */\n.inventory-summary[data-v-5ffd8816] {\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n}\n.inventory-stats .stat-group[data-v-5ffd8816] {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n.spirit-stones[data-v-5ffd8816] {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n}\n.stones-title[data-v-5ffd8816] {\n  margin: 0;\n  font-size: 1rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.stones-grid[data-v-5ffd8816] {\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  gap: 8px;\n}\n.stone-item[data-v-5ffd8816] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 8px 12px;\n  border-radius: 6px;\n  font-size: 0.85rem;\n}\n.grade-common[data-v-5ffd8816] { background: rgba(128, 128, 128, 0.1);\n}\n.grade-rare[data-v-5ffd8816] { background: rgba(59, 130, 246, 0.1);\n}\n.grade-epic[data-v-5ffd8816] { background: rgba(147, 51, 234, 0.1);\n}\n.grade-legend[data-v-5ffd8816] { background: rgba(245, 158, 11, 0.1);\n}\n.stone-name[data-v-5ffd8816] {\n  color: var(--color-text);\n}\n.stone-count[data-v-5ffd8816] {\n  font-weight: 600;\n  color: var(--color-text);\n}\n\n/* å®—é—¨ä¿¡æ¯ */\n.sect-info[data-v-5ffd8816] {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n}\n.sect-header[data-v-5ffd8816] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n.sect-name[data-v-5ffd8816] {\n  margin: 0;\n  font-size: 1.1rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.sect-type[data-v-5ffd8816] {\n  font-size: 0.8rem;\n  padding: 4px 8px;\n  background: var(--color-primary);\n  color: white;\n  border-radius: 12px;\n}\n.sect-details[data-v-5ffd8816] {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n.detail-row[data-v-5ffd8816] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n.detail-label[data-v-5ffd8816] {\n  font-size: 0.9rem;\n  color: var(--color-text-secondary);\n}\n.detail-value[data-v-5ffd8816] {\n  font-weight: 600;\n  color: var(--color-text);\n}\n\n/* ç©ºçŠ¶ï¿½?*/\n.empty-state[data-v-5ffd8816] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 20px;\n  text-align: center;\n  color: var(--color-text-secondary);\n}\n.empty-icon[data-v-5ffd8816] {\n  margin-bottom: 8px;\n  opacity: 0.6;\n  color: var(--color-text-muted);\n}\n\n/* å“è´¨é¢œè‰² */\n.border-quality-ç¥å“[data-v-5ffd8816], .text-quality-ç¥å“[data-v-5ffd8816] { color: #ef4444 !important;\n}\n.border-quality-æå“[data-v-5ffd8816], .text-quality-æå“[data-v-5ffd8816] { color: #f59e0b !important;\n}\n.border-quality-ä¸Šå“[data-v-5ffd8816], .text-quality-ä¸Šå“[data-v-5ffd8816] { color: #8b5cf6 !important;\n}\n.border-quality-ä¸­å“[data-v-5ffd8816], .text-quality-ä¸­å“[data-v-5ffd8816] { color: #3b82f6 !important;\n}\n.border-quality-ä¸‹å“[data-v-5ffd8816], .text-quality-ä¸‹å“[data-v-5ffd8816] { color: #10b981 !important;\n}\n.border-quality-å‡¡å“[data-v-5ffd8816], .text-quality-å‡¡å“[data-v-5ffd8816] { color: #84cc16 !important;\n}\n.border-quality-æœªçŸ¥[data-v-5ffd8816], .text-quality-æœªçŸ¥[data-v-5ffd8816] { color: var(--color-text) !important;\n}\n\n/* å®—é—¨å…³ç³»é¢œè‰² */\n.relationship-æ¶åŠ£[data-v-5ffd8816] { color: var(--color-danger) !important;\n}\n.relationship-ä¸€èˆ¬[data-v-5ffd8816] { color: var(--color-text-secondary) !important;\n}\n.relationship-è‰¯å¥½[data-v-5ffd8816] { color: var(--color-success) !important;\n}\n.relationship-äº²å¯†[data-v-5ffd8816] { color: var(--color-info) !important;\n}\n\n/* å“åº”å¼è®¾ï¿½?*/\n@media (max-width: 1400px) {\n.content-grid[data-v-5ffd8816] {\n    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));\n    gap: 12px;\n    padding: 12px;\n}\n}\n@media (max-width: 1200px) {\n.content-grid[data-v-5ffd8816] {\n    grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));\n    gap: 12px;\n}\n.right-column[data-v-5ffd8816] {\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));\n    gap: 12px;\n}\n.right-column .info-section[data-v-5ffd8816] {\n    margin-bottom: 0;\n}\n}\n@media (max-width: 900px) {\n.content-grid[data-v-5ffd8816] {\n    grid-template-columns: 1fr;\n    gap: 12px;\n    padding: 8px;\n}\n.right-column[data-v-5ffd8816] {\n    grid-template-columns: 1fr;\n    gap: 12px;\n}\n}\n@media (max-width: 640px) {\n.character-header[data-v-5ffd8816] {\n    flex-direction: column;\n    text-align: center;\n    gap: 12px;\n    padding: 16px;\n}\n.header-left[data-v-5ffd8816] { justify-content: center;\n}\n.header-right[data-v-5ffd8816] { width: 100%; justify-content: center; flex-wrap: wrap;\n}\n.compact-bar[data-v-5ffd8816] { width: 60%;\n}\n.character-details[data-v-5ffd8816] {\n    grid-template-columns: 1fr;\n    text-align: center;\n    gap: 8px;\n}\n.content-grid[data-v-5ffd8816] {\n    grid-template-columns: 1fr;\n    padding: 8px;\n    gap: 12px;\n}\n.right-column[data-v-5ffd8816] {\n    grid-template-columns: 1fr;\n}\n.info-section[data-v-5ffd8816] {\n    padding: 12px;\n    margin-bottom: 12px;\n    border-radius: 8px;\n}\n.attributes-grid[data-v-5ffd8816] {\n    grid-template-columns: 1fr;\n    gap: 8px;\n}\n.attributes-grid.compact[data-v-5ffd8816] {\n    grid-template-columns: repeat(2, minmax(70px, 1fr));\n    gap: 8px;\n}\n.attribute-breakdown[data-v-5ffd8816] {\n    grid-template-columns: 1fr;\n    gap: 12px;\n}\n.stones-grid[data-v-5ffd8816] {\n    grid-template-columns: 1fr;\n}\n\n\n  /* ç¡®ä¿æ–‡å­—æ˜¾ç¤ºå®Œæ•´ */\n.attr-name[data-v-5ffd8816], .attr-value[data-v-5ffd8816] {\n    white-space: nowrap;\n    overflow: visible;\n    text-overflow: initial;\n}\n.attribute-item[data-v-5ffd8816] {\n    min-height: 36px;\n    padding: 8px;\n    min-width: 70px; /* ç¡®ä¿ç§»åŠ¨ç«¯ä¹Ÿæœ‰è¶³å¤Ÿç©ºï¿½?*/\n    width: 100%;\n}\n.character-name[data-v-5ffd8816] {\n    font-size: 1.6rem;\n}\n.section-title[data-v-5ffd8816] {\n    font-size: 1rem;\n}\n}\n@media (max-width: 480px) {\n.character-details-wrapper[data-v-5ffd8816] {\n    font-size: 14px;\n}\n.character-header[data-v-5ffd8816] {\n    padding: 12px;\n    gap: 8px;\n}\n.header-main[data-v-5ffd8816] {\n    flex-direction: column;\n    align-items: flex-start;\n}\n.header-right[data-v-5ffd8816] {\n    width: 100%;\n}\n.header-stats[data-v-5ffd8816] {\n    padding-top: 8px;\n    gap: 8px;\n}\n.stat-item[data-v-5ffd8816] {\n    flex: 1 1 calc(50% - 4px);\n    min-width: 120px;\n}\n.gender-symbol[data-v-5ffd8816] {\n    width: 40px;\n    height: 40px;\n    font-size: 1.3rem;\n}\n.character-name[data-v-5ffd8816] {\n    font-size: 1.4rem;\n}\n.content-grid[data-v-5ffd8816] {\n    padding: 6px;\n    gap: 8px;\n}\n.info-section[data-v-5ffd8816] {\n    padding: 10px;\n    margin-bottom: 8px;\n    border-radius: 6px;\n}\n.section-title[data-v-5ffd8816] {\n    font-size: 0.9rem;\n    margin-bottom: 12px;\n}\n.attributes-grid.compact[data-v-5ffd8816] {\n    grid-template-columns: repeat(2, minmax(60px, 1fr));\n    gap: 6px;\n}\n.attribute-item[data-v-5ffd8816] {\n    padding: 6px;\n    min-height: 32px;\n    min-width: 60px; /* ç¡®ä¿è¶…å°å±å¹•ä¹Ÿæœ‰è¶³å¤Ÿç©ºé—´ */\n}\n.attr-name[data-v-5ffd8816] {\n    font-size: 0.8rem;\n}\n.attr-value[data-v-5ffd8816] {\n    font-size: 0.85rem;\n}\n.skill-card[data-v-5ffd8816] {\n    padding: 8px;\n}\n.dao-item[data-v-5ffd8816] {\n    padding: 8px;\n}\n.technique-progress[data-v-5ffd8816] {\n    gap: 8px;\n}\n.progress-item[data-v-5ffd8816] {\n    gap: 8px;\n}\n.progress-label[data-v-5ffd8816] {\n    min-width: 60px;\n    font-size: 0.8rem;\n}\n}\n\n/* è‡ªå®šä¹‰å¼¹çª—æ ·ï¿½?*/\n.modal-overlay[data-v-5ffd8816] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.7);\n  z-index: 3000;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 20px;\n  backdrop-filter: blur(8px);\n  animation: overlay-fade-in-5ffd8816 0.3s ease-out;\n}\n@keyframes overlay-fade-in-5ffd8816 {\nfrom { opacity: 0;\n}\nto { opacity: 1;\n}\n}\n.skill-modal[data-v-5ffd8816], .dao-modal[data-v-5ffd8816] {\n  background: var(--color-surface);\n  border-radius: 20px;\n  width: 100%;\n  max-width: 500px;\n  max-height: 80vh;\n  overflow: hidden;\n  box-shadow: 0 25px 80px rgba(0, 0, 0, 0.4);\n  animation: modal-slide-up-5ffd8816 0.4s cubic-bezier(0.16, 1, 0.3, 1);\n  border: 1px solid rgba(255, 255, 255, 0.1);\n}\n@keyframes modal-slide-up-5ffd8816 {\nfrom {\n    opacity: 0;\n    transform: translateY(40px) scale(0.95);\n}\nto {\n    opacity: 1;\n    transform: translateY(0) scale(1);\n}\n}\n.modal-header[data-v-5ffd8816] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 24px 28px 20px 28px;\n  border-bottom: 1px solid var(--color-border);\n  background: linear-gradient(135deg, var(--color-surface-light), rgba(var(--color-primary-rgb), 0.05));\n  position: relative;\n}\n.modal-header[data-v-5ffd8816]::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 3px;\n  background: linear-gradient(90deg, var(--color-primary), var(--color-accent), var(--color-success));\n}\n.modal-header h3[data-v-5ffd8816] {\n  margin: 0;\n  font-size: 1.4rem;\n  font-weight: 700;\n  color: var(--color-text);\n  background: linear-gradient(135deg, var(--color-text), var(--color-primary));\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-clip: text;\n}\n.modal-close-btn[data-v-5ffd8816] {\n  background: var(--color-surface-hover);\n  border: 1px solid var(--color-border);\n  padding: 8px;\n  border-radius: 10px;\n  cursor: pointer;\n  color: var(--color-text-secondary);\n  transition: all 0.3s ease;\n}\n.modal-close-btn[data-v-5ffd8816]:hover {\n  background: var(--color-danger);\n  border-color: var(--color-danger);\n  color: white;\n  transform: scale(1.1);\n}\n.modal-content[data-v-5ffd8816] {\n  padding: 24px 28px 28px 28px;\n  overflow-y: auto;\n  max-height: calc(80vh - 80px);\n}\n\n/* æŠ€èƒ½è¯¦æƒ…æ ·ï¿½?*/\n.skill-detail-grid[data-v-5ffd8816] {\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  gap: 16px;\n  margin-bottom: 24px;\n}\n.skill-detail-item[data-v-5ffd8816] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 16px;\n  background: var(--color-surface-light);\n  border-radius: 12px;\n  border: 1px solid var(--color-border);\n  transition: all 0.2s ease;\n}\n.skill-detail-item[data-v-5ffd8816]:hover {\n  background: var(--color-surface-hover);\n  border-color: rgba(var(--color-primary-rgb), 0.3);\n}\n.detail-label[data-v-5ffd8816] {\n  font-size: 0.9rem;\n  color: var(--color-text-secondary);\n  font-weight: 500;\n}\n.detail-value[data-v-5ffd8816] {\n  font-weight: 600;\n  color: var(--color-text);\n}\n.status-unlocked[data-v-5ffd8816] {\n  color: var(--color-success);\n  background: rgba(var(--color-success-rgb), 0.1);\n  padding: 4px 8px;\n  border-radius: 6px;\n  font-size: 0.85rem;\n}\n.status-locked[data-v-5ffd8816] {\n  color: var(--color-warning);\n  background: rgba(var(--color-warning-rgb), 0.1);\n  padding: 4px 8px;\n  border-radius: 6px;\n  font-size: 0.85rem;\n}\n.skill-description[data-v-5ffd8816] {\n  background: linear-gradient(135deg, var(--color-surface-light), rgba(var(--color-info-rgb), 0.05));\n  border-radius: 12px;\n  padding: 20px;\n  border-left: 4px solid var(--color-info);\n}\n.skill-description h4[data-v-5ffd8816] {\n  margin: 0 0 12px 0;\n  font-size: 1rem;\n  font-weight: 600;\n  color: var(--color-info);\n}\n.skill-description p[data-v-5ffd8816] {\n  margin: 0;\n  color: var(--color-text);\n  line-height: 1.6;\n  font-style: italic;\n}\n\n/* å¤§é“è¯¦æƒ…æ ·å¼ */\n.dao-progress-section[data-v-5ffd8816] {\n  margin-bottom: 20px;\n  padding: 20px;\n  background: linear-gradient(135deg, var(--color-surface-light), rgba(var(--color-success-rgb), 0.05));\n  border-radius: 12px;\n  border: 1px solid rgba(var(--color-success-rgb), 0.2);\n}\n.dao-stage-info[data-v-5ffd8816] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 12px;\n}\n.stage-label[data-v-5ffd8816] {\n  font-size: 0.9rem;\n  color: var(--color-text-secondary);\n  font-weight: 500;\n}\n.stage-value[data-v-5ffd8816] {\n  font-size: 1.1rem;\n  font-weight: 700;\n  color: var(--color-success);\n  background: rgba(var(--color-success-rgb), 0.1);\n  padding: 4px 12px;\n  border-radius: 16px;\n}\n.dao-progress-bar[data-v-5ffd8816] {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n.progress-bar-bg[data-v-5ffd8816] {\n  flex: 1;\n  height: 12px;\n  background: var(--color-border);\n  border-radius: 6px;\n  overflow: hidden;\n  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n.progress-bar-fill[data-v-5ffd8816] {\n  height: 100%;\n  background: linear-gradient(90deg, var(--color-success), var(--color-info));\n  border-radius: 6px;\n  transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1);\n  box-shadow: 0 2px 8px rgba(var(--color-success-rgb), 0.4);\n}\n.progress-text[data-v-5ffd8816] {\n  font-size: 0.9rem;\n  font-weight: 600;\n  color: var(--color-success);\n  min-width: 45px;\n  text-align: right;\n}\n.dao-stats-grid[data-v-5ffd8816] {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 16px;\n  margin-bottom: 20px;\n}\n.dao-stat-item[data-v-5ffd8816] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 16px;\n  background: var(--color-surface-light);\n  border-radius: 12px;\n  border: 1px solid var(--color-border);\n  text-align: center;\n  transition: all 0.2s ease;\n}\n.dao-stat-item[data-v-5ffd8816]:hover {\n  background: var(--color-surface-hover);\n  border-color: rgba(var(--color-primary-rgb), 0.3);\n  transform: translateY(-2px);\n}\n.stat-label[data-v-5ffd8816] {\n  font-size: 0.85rem;\n  color: var(--color-text-secondary);\n  margin-bottom: 8px;\n  font-weight: 500;\n}\n.stat-value[data-v-5ffd8816] {\n  font-size: 1.4rem;\n  font-weight: 700;\n  color: var(--color-primary);\n}\n.dao-description[data-v-5ffd8816] {\n  background: linear-gradient(135deg, var(--color-surface-light), rgba(var(--color-warning-rgb), 0.05));\n  border-radius: 12px;\n  padding: 20px;\n  border-left: 4px solid var(--color-warning);\n}\n.dao-description h4[data-v-5ffd8816] {\n  margin: 0 0 12px 0;\n  font-size: 1rem;\n  font-weight: 600;\n  color: var(--color-warning);\n}\n.dao-description p[data-v-5ffd8816] {\n  margin: 0;\n  color: var(--color-text);\n  line-height: 1.6;\n  font-style: italic;\n}\n\n/* å“åº”å¼ä¼˜ï¿½?*/\n@media (max-width: 640px) {\n.skill-detail-grid[data-v-5ffd8816] {\n    grid-template-columns: 1fr;\n}\n.dao-stats-grid[data-v-5ffd8816] {\n    grid-template-columns: 1fr;\n}\n.modal-content[data-v-5ffd8816] {\n    padding: 20px 24px 24px 24px;\n}\n.modal-header[data-v-5ffd8816] {\n    padding: 20px 24px 16px 24px;\n}\n.modal-header h3[data-v-5ffd8816] {\n    font-size: 1.2rem;\n}\n}\n\n/* æ–°çš„ç»“æ„åŒ–æ•°æ®æ ·ï¿½?*/\n.spirit-root-display[data-v-5ffd8816] {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  width: 100%;\n}\n.spirit-root-main[data-v-5ffd8816] {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  width: 100%;\n}\n.spirit-root-name-section[data-v-5ffd8816] {\n  display: flex;\n  justify-content: flex-start;\n}\n.spirit-root-badges[data-v-5ffd8816] {\n  display: flex;\n  flex-direction: column;\n  gap: 6px;\n  align-items: flex-end;\n}\n.badge-row[data-v-5ffd8816] {\n  display: flex;\n  gap: 8px;\n  align-items: center;\n}\n.spirit-root-grade[data-v-5ffd8816] {\n  padding: 2px 6px;\n  border-radius: 4px;\n  font-size: 0.75rem;\n  font-weight: 600;\n  text-align: center;\n  min-width: 32px;\n}\n.spirit-root-grade.grade-ä¸‹å“[data-v-5ffd8816] {\n  background: linear-gradient(135deg, #8B5CF6, #A78BFA);\n  color: white;\n}\n.spirit-root-grade.grade-ä¸­å“[data-v-5ffd8816] {\n  background: linear-gradient(135deg, #3B82F6, #60A5FA);\n  color: white;\n}\n.spirit-root-grade.grade-ä¸Šå“[data-v-5ffd8816] {\n  background: linear-gradient(135deg, #10B981, #34D399);\n  color: white;\n}\n.spirit-root-grade.grade-æå“[data-v-5ffd8816] {\n  background: linear-gradient(135deg, #F59E0B, #FBBF24);\n  color: white;\n}\n.spirit-root-grade.grade-ç¥å“[data-v-5ffd8816] {\n  background: linear-gradient(135deg, #DC2626, #F87171);\n  color: white;\n}\n.spirit-root-grade.grade-ä»™å“[data-v-5ffd8816] { background: linear-gradient(135deg, #EF4444, #F87171); color: white;\n}\n.spirit-root-grade.grade-å¤©å“[data-v-5ffd8816] { background: linear-gradient(135deg, #EF4444, #F87171); color: white;\n}\n.spirit-root-grade.grade-åœ£å“[data-v-5ffd8816] {\n  background: linear-gradient(135deg, #EC4899, #F472B6);\n  color: white;\n}\n.spirit-root-quality[data-v-5ffd8816] {\n  font-size: 0.75rem;\n  padding: 2px 6px;\n  border-radius: 4px;\n  font-weight: 600;\n  text-align: center;\n  border: 1px solid;\n}\n.spirit-root-quality.quality-å˜å¼‚[data-v-5ffd8816] {\n  background: rgba(139, 69, 19, 0.1);\n  color: #8B4513;\n  border-color: #8B4513;\n}\n.spirit-root-quality.quality-å¤åˆ[data-v-5ffd8816] {\n  background: rgba(75, 85, 99, 0.1);\n  color: #4B5563;\n  border-color: #4B5563;\n}\n.spirit-root-quality.quality-ä¼ è¯´[data-v-5ffd8816] {\n  background: linear-gradient(135deg, #7C3AED, #A78BFA);\n  color: white;\n  border: none;\n}\n.spirit-root-desc[data-v-5ffd8816] {\n  font-size: 0.8rem;\n  color: var(--color-text-secondary);\n  font-style: italic;\n  max-width: 200px;\n  text-align: right;\n  line-height: 1.4;\n  margin-top: 0.25rem;\n}\n.quality-ä»™å“[data-v-5ffd8816] { background: linear-gradient(135deg, #fbbf24, #f59e0b); color: white;\n}\n.quality-å¤©å“[data-v-5ffd8816] { background: linear-gradient(135deg, #fbbf24, #f59e0b); color: white;\n}\n.quality-åœ°å“[data-v-5ffd8816] { background: linear-gradient(135deg, #a78bfa, #8b5cf6); color: white;\n}\n.quality-ç„å“[data-v-5ffd8816] { background: linear-gradient(135deg, #60a5fa, #3b82f6); color: white;\n}\n.quality-é»„å“[data-v-5ffd8816] { background: linear-gradient(135deg, #34d399, #10b981); color: white;\n}\n.quality-å‡¡å“[data-v-5ffd8816] { background: linear-gradient(135deg, #9ca3af, #6b7280); color: white;\n}\n\n/* ä¿®ç‚¼é€Ÿåº¦æ ·å¼ */\n.spirit-root-speed[data-v-5ffd8816] {\n  padding: 2px 8px;\n  font-size: 0.75rem;\n  font-weight: 600;\n  border-radius: 12px;\n  background: linear-gradient(135deg, #10b981, #34d399);\n  color: white;\n  border: none;\n  margin-left: 4px;\n}\n\n/* çµæ ¹ç‰¹æ®Šæ•ˆæœæ ·å¼ */\n.spirit-root-effects[data-v-5ffd8816] {\n  margin-top: 8px;\n}\n.effects-title[data-v-5ffd8816] {\n  font-size: 0.8rem;\n  font-weight: 600;\n  color: var(--color-text-secondary);\n  margin-bottom: 4px;\n}\n.effects-list[data-v-5ffd8816] {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 4px;\n}\n.effect-tag[data-v-5ffd8816] {\n  padding: 2px 6px;\n  font-size: 0.7rem;\n  background: rgba(59, 130, 246, 0.1);\n  color: var(--color-primary);\n  border-radius: 8px;\n  border: 1px solid rgba(59, 130, 246, 0.2);\n}\n.talent-tags[data-v-5ffd8816] {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 8px;\n  align-items: flex-end;\n  flex-direction: column;\n}\n.talent-tag[data-v-5ffd8816] {\n  position: relative;\n  background: linear-gradient(135deg, rgba(168, 85, 247, 0.1), rgba(147, 51, 234, 0.1));\n  color: #9333ea;\n  padding: 4px 12px;\n  border-radius: 12px;\n  font-size: 12px;\n  font-weight: 500;\n  border: 1px solid rgba(147, 51, 234, 0.2);\n  cursor: help;\n}\n.talent-description-display[data-v-5ffd8816] {\n  font-size: 0.8rem;\n  color: var(--color-text-secondary);\n  margin-top: 4px;\n  padding-left: 8px;\n  border-left: 2px solid var(--color-border);\n}\n\n/* æ–°çš„å¤©èµ‹ä¸çµæ ¹å¡ç‰‡æ ·å¼ */\n.talent-content[data-v-5ffd8816] {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n}\n\n/* å¤©èµ‹å®¹å™¨æ ·å¼ */\n.talents-container[data-v-5ffd8816] {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n.talents-container.no-talents[data-v-5ffd8816] {\n  opacity: 0.7;\n}\n.talent-item.no-talent[data-v-5ffd8816] {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 12px;\n  background: var(--color-surface-light);\n  border-radius: 8px;\n  border: 1px dashed var(--color-border);\n}\n.talent-item.no-talent .talent-name[data-v-5ffd8816] {\n  color: var(--color-text-secondary);\n  font-style: italic;\n  font-size: 0.9rem;\n}\n.talent-tier-card[data-v-5ffd8816],\n.spirit-root-card[data-v-5ffd8816],\n.talents-card[data-v-5ffd8816] {\n  padding: 16px;\n  background: var(--color-surface-light);\n  border: 1px solid var(--color-border);\n  border-radius: 12px;\n  transition: all 0.2s ease;\n}\n.spirit-root-card[data-v-5ffd8816] {\n  cursor: pointer;\n}\n.spirit-root-card[data-v-5ffd8816]:hover {\n  background: var(--color-surface-hover);\n  border-color: var(--color-primary);\n  transform: translateY(-2px);\n  box-shadow: 0 4px 16px rgba(var(--color-primary-rgb), 0.15);\n}\n.talent-tier-card[data-v-5ffd8816]:hover,\n.talents-card[data-v-5ffd8816]:hover {\n  background: var(--color-surface-hover);\n  border-color: var(--color-border-hover);\n  transform: translateY(-1px);\n  box-shadow: 0 2px 8px rgba(var(--color-primary-rgb), 0.1);\n}\n\n/* å¤©èµ„ç­‰çº§æè¿°æ ·å¼ */\n.tier-description[data-v-5ffd8816] {\n  margin-top: 12px;\n  padding: 10px;\n  background: var(--color-background);\n  border-radius: 8px;\n  font-size: 0.85rem;\n  color: var(--color-text-secondary);\n  line-height: 1.6;\n  border-left: 3px solid var(--color-primary);\n}\n\n/* å¡ç‰‡å¤´éƒ¨æ ·å¼ */\n.tier-header[data-v-5ffd8816],\n.root-header[data-v-5ffd8816],\n.talents-header[data-v-5ffd8816] {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  margin-bottom: 12px;\n  padding-bottom: 8px;\n  border-bottom: 1px solid rgba(var(--color-border-rgb), 0.3);\n}\n.tier-icon[data-v-5ffd8816],\n.root-icon[data-v-5ffd8816],\n.talents-icon[data-v-5ffd8816] {\n  font-size: 1.2rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.tier-label[data-v-5ffd8816],\n.root-label[data-v-5ffd8816],\n.talents-label[data-v-5ffd8816] {\n  font-weight: 600;\n  color: var(--color-text);\n  font-size: 0.9rem;\n}\n.click-hint[data-v-5ffd8816] {\n  margin-left: auto;\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n  opacity: 0.7;\n  transition: opacity 0.2s ease;\n}\n.spirit-root-card:hover .click-hint[data-v-5ffd8816] {\n  opacity: 1;\n}\n\n/* çµæ ¹å¡ç‰‡æ–°æ ·å¼ */\n.root-main-info[data-v-5ffd8816] {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n  align-items: flex-start;\n}\n.root-name[data-v-5ffd8816] {\n  font-size: 1.1rem;\n  font-weight: 700;\n}\n.property-badges[data-v-5ffd8816] {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 8px;\n}\n.prop-badge[data-v-5ffd8816] {\n  padding: 4px 12px;\n  font-size: 0.75rem;\n  font-weight: 600;\n  border-radius: 999px;\n  border: 1px solid transparent;\n}\n.grade-badge[data-v-5ffd8816] {\n  color: white;\n  border: none;\n}\n.grade-å‡¡å“[data-v-5ffd8816] { background: #9ca3af;\n}\n.grade-ä¸‹å“[data-v-5ffd8816] { background: #10b981;\n}\n.grade-ä¸­å“[data-v-5ffd8816] { background: #3b82f6;\n}\n.grade-ä¸Šå“[data-v-5ffd8816] { background: #8b5cf6;\n}\n.grade-æå“[data-v-5ffd8816] { background: #f59e0b;\n}\n.grade-ç¥å“[data-v-5ffd8816] { background: #ef4444;\n}\n.grade-ç‰¹æ®Š[data-v-5ffd8816] { background: linear-gradient(45deg, #f59e0b, #ef4444);\n}\n.speed-badge[data-v-5ffd8816] {\n  background: rgba(var(--color-info-rgb), 0.1);\n  color: var(--color-info);\n  border-color: rgba(var(--color-info-rgb), 0.3);\n}\n.quality-badge[data-v-5ffd8816] {\n  background: rgba(var(--color-accent-rgb), 0.1);\n  color: var(--color-accent);\n  border-color: rgba(var(--color-accent-rgb), 0.3);\n}\n.root-description[data-v-5ffd8816] {\n  margin-top: 12px;\n  font-size: 0.85rem;\n  color: var(--color-text-secondary);\n  font-style: italic;\n  line-height: 1.5;\n}\n.root-effects[data-v-5ffd8816] {\n  margin-top: 12px;\n  padding-top: 12px;\n  border-top: 1px solid rgba(var(--color-border-rgb), 0.3);\n}\n.effects-tags[data-v-5ffd8816] {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 6px;\n}\n.root-effects .effect-tag[data-v-5ffd8816] {\n  padding: 4px 10px;\n  font-size: 0.8rem;\n  background: rgba(var(--color-primary-rgb), 0.1);\n  color: var(--color-primary);\n  border-radius: 999px;\n  border: 1px solid rgba(var(--color-primary-rgb), 0.2);\n}\n\n/* çµæ ¹å¼¹çª—æ–°æ ·å¼ */\n.detail-value.type-value[data-v-5ffd8816],\n.detail-value.grade-value[data-v-5ffd8816],\n.detail-value.speed-value[data-v-5ffd8816] {\n  padding: 6px 16px;\n  border-radius: 999px;\n  font-size: 1rem;\n  display: inline-block;\n  margin-top: 4px;\n}\n.detail-value.grade-value[data-v-5ffd8816] {\n  color: white;\n}\n.detail-value.speed-value[data-v-5ffd8816] {\n  background: rgba(var(--color-info-rgb), 0.1);\n  color: var(--color-info);\n  border: 1px solid rgba(var(--color-info-rgb), 0.3);\n}\n.talents-count[data-v-5ffd8816] {\n  font-size: 0.8rem;\n  color: var(--color-text-secondary);\n  margin-left: auto;\n}\n\n/* å£°æœ›æ˜¾ç¤ºæ ·å¼ */\n.reputation-item .vital-label[data-v-5ffd8816] {\n  color: var(--color-warning);\n}\n.reputation-display[data-v-5ffd8816] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n}\n.reputation-value[data-v-5ffd8816] {\n  padding: 4px 12px;\n  background: linear-gradient(135deg, rgba(var(--color-warning-rgb), 0.1), rgba(var(--color-warning-rgb), 0.05));\n  border: 1px solid rgba(var(--color-warning-rgb), 0.3);\n  border-radius: 16px;\n  font-weight: 600;\n  color: var(--color-warning);\n  font-size: 0.85rem;\n}\n.reputation-number[data-v-5ffd8816] {\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n  opacity: 0.8;\n  margin-left: 4px;\n}\n\n/* çµæ ¹è¯¦æƒ…å¼¹çª—æ ·å¼ */\n.spirit-root-modal[data-v-5ffd8816] {\n  background: var(--color-surface);\n  border-radius: 20px;\n  width: 100%;\n  max-width: 600px;\n  max-height: 80vh;\n  overflow: hidden;\n  box-shadow: 0 25px 80px rgba(0, 0, 0, 0.4);\n  animation: modal-slide-up-5ffd8816 0.4s cubic-bezier(0.16, 1, 0.3, 1);\n  border: 1px solid rgba(255, 255, 255, 0.1);\n}\n.spirit-root-detail-grid[data-v-5ffd8816] {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  gap: 16px;\n  margin-bottom: 24px;\n}\n.detail-card[data-v-5ffd8816] {\n  padding: 16px;\n  background: var(--color-surface-light);\n  border: 1px solid var(--color-border);\n  border-radius: 12px;\n  text-align: center;\n  transition: all 0.2s ease;\n}\n.detail-card[data-v-5ffd8816]:hover {\n  background: var(--color-surface-hover);\n  border-color: var(--color-primary);\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(var(--color-primary-rgb), 0.1);\n}\n.detail-header[data-v-5ffd8816] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 8px;\n  margin-bottom: 12px;\n  padding-bottom: 8px;\n  border-bottom: 1px solid rgba(var(--color-border-rgb), 0.3);\n}\n.detail-icon[data-v-5ffd8816] {\n  font-size: 1.2rem;\n}\n.detail-title[data-v-5ffd8816] {\n  font-weight: 600;\n  color: var(--color-text);\n  font-size: 0.9rem;\n}\n.detail-value[data-v-5ffd8816] {\n  font-weight: 700;\n  color: var(--color-primary);\n  font-size: 1.1rem;\n}\n.spirit-root-description[data-v-5ffd8816],\n.spirit-root-effects-section[data-v-5ffd8816],\n.advanced-details[data-v-5ffd8816] {\n  margin-bottom: 20px;\n}\n.spirit-root-description h4[data-v-5ffd8816],\n.spirit-root-effects-section h4[data-v-5ffd8816],\n.advanced-details h4[data-v-5ffd8816] {\n  margin: 0 0 12px 0;\n  font-size: 1rem;\n  font-weight: 600;\n  color: var(--color-primary);\n}\n.spirit-root-description p[data-v-5ffd8816] {\n  margin: 0;\n  color: var(--color-text);\n  line-height: 1.6;\n  font-style: italic;\n}\n.effects-grid[data-v-5ffd8816] {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 8px;\n}\n.effects-grid .effect-tag-modal[data-v-5ffd8816] {\n  padding: 6px 14px;\n  background: rgba(var(--color-success-rgb), 0.1);\n  color: var(--color-success);\n  border-radius: 999px;\n  font-size: 0.85rem;\n  font-weight: 500;\n  border: 1px solid rgba(var(--color-success-rgb), 0.3);\n  transition: all 0.2s ease;\n}\n.effects-grid .effect-tag-modal[data-v-5ffd8816]:hover {\n  background: rgba(var(--color-success-rgb), 0.2);\n  transform: translateY(-1px);\n}\n.advanced-grid[data-v-5ffd8816] {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n.advanced-item[data-v-5ffd8816] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 8px 12px;\n  background: var(--color-surface-light);\n  border-radius: 6px;\n  border: 1px solid var(--color-border);\n}\n.advanced-label[data-v-5ffd8816] {\n  font-size: 0.9rem;\n  color: var(--color-text-secondary);\n}\n.advanced-value[data-v-5ffd8816] {\n  font-weight: 600;\n  color: var(--color-text);\n}\n\n/* å“åº”å¼ä¼˜åŒ– */\n@media (max-width: 640px) {\n.spirit-root-detail-grid[data-v-5ffd8816] {\n    grid-template-columns: 1fr;\n}\n.talent-content[data-v-5ffd8816] {\n    gap: 12px;\n}\n.talent-tier-card[data-v-5ffd8816],\n  .spirit-root-card[data-v-5ffd8816],\n  .talents-card[data-v-5ffd8816] {\n    padding: 12px;\n}\n.tier-value[data-v-5ffd8816] {\n    font-size: 1rem;\n    padding: 4px 12px;\n}\n.property-badges[data-v-5ffd8816] {\n    justify-content: center;\n    gap: 4px;\n}\n}\n.info-value.clickable[data-v-5ffd8816] {\n    cursor: pointer;\n    text-decoration: underline;\n    text-decoration-style: dashed;\n    text-underline-offset: 3px;\n    transition: color 0.2s, text-decoration-color 0.2s;\n}\n.info-value.clickable[data-v-5ffd8816]:hover {\n    text-decoration-style: solid;\n    color: var(--color-primary-hover);\n}\n.info-value.origin.clickable[data-v-5ffd8816] {\n    color: var(--color-accent);\n}\n.info-value.origin.clickable[data-v-5ffd8816]:hover {\n    color: var(--color-accent-hover);\n}\n\n/* ==================== å…¨æ–°é¡¶éƒ¨å¡ç‰‡è®¾è®¡ ==================== */\n.character-header-card[data-v-5ffd8816] {\n  position: relative;\n  background: linear-gradient(135deg, #1a1f35 0%, #0f1419 100%);\n  border-radius: 16px;\n  overflow: hidden;\n  margin-bottom: 24px;\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);\n}\n.header-bg-decoration[data-v-5ffd8816] {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background:\n    radial-gradient(circle at 20% 50%, rgba(59, 130, 246, 0.15) 0%, transparent 50%),\n    radial-gradient(circle at 80% 50%, rgba(168, 85, 247, 0.15) 0%, transparent 50%);\n  pointer-events: none;\n}\n.header-content[data-v-5ffd8816] {\n  position: relative;\n  display: grid;\n  grid-template-columns: auto 1fr auto;\n  gap: 24px;\n  padding: 28px;\n  align-items: center;\n}\n.profile-section[data-v-5ffd8816] {\n  display: flex;\n  align-items: center;\n  gap: 20px;\n}\n.avatar-wrapper[data-v-5ffd8816] {\n  position: relative;\n}\n.avatar-circle[data-v-5ffd8816] {\n  width: 80px;\n  height: 80px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%);\n  box-shadow: 0 8px 24px rgba(59, 130, 246, 0.4);\n  position: relative;\n  z-index: 2;\n}\n.avatar-text[data-v-5ffd8816] {\n  color: #fff;\n  font-size: 2rem;\n  font-weight: 800;\n  text-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);\n}\n.avatar-glow[data-v-5ffd8816] {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 100px;\n  height: 100px;\n  background: radial-gradient(circle, rgba(59, 130, 246, 0.4) 0%, transparent 70%);\n  border-radius: 50%;\n  animation: pulse-glow-5ffd8816 2s ease-in-out infinite;\n}\n@keyframes pulse-glow-5ffd8816 {\n0%, 100% { opacity: 0.6; transform: translate(-50%, -50%) scale(1);\n}\n50% { opacity: 1; transform: translate(-50%, -50%) scale(1.1);\n}\n}\n.identity-info[data-v-5ffd8816] {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n.character-title[data-v-5ffd8816] {\n  font-size: 1.75rem;\n  font-weight: 700;\n  color: #fff;\n  margin: 0;\n  text-shadow: 0 2px 12px rgba(0, 0, 0, 0.5);\n  letter-spacing: 0.5px;\n}\n.character-subtitle[data-v-5ffd8816] {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  flex-wrap: wrap;\n}\n.subtitle-item[data-v-5ffd8816] {\n  font-size: 0.95rem;\n  color: rgba(255, 255, 255, 0.8);\n  font-weight: 500;\n}\n.gender-badge[data-v-5ffd8816] {\n  padding: 4px 10px;\n  border-radius: 12px;\n  font-weight: 600;\n}\n.gender-badge.gender-ç”·[data-v-5ffd8816] {\n  background: rgba(59, 130, 246, 0.2);\n  color: #60a5fa;\n  border: 1px solid rgba(59, 130, 246, 0.3);\n}\n.gender-badge.gender-å¥³[data-v-5ffd8816] {\n  background: rgba(236, 72, 153, 0.2);\n  color: #f472b6;\n  border: 1px solid rgba(236, 72, 153, 0.3);\n}\n.subtitle-divider[data-v-5ffd8816] {\n  color: rgba(255, 255, 255, 0.3);\n}\n.age-text[data-v-5ffd8816], .origin-text[data-v-5ffd8816], .race-text[data-v-5ffd8816] {\n  color: rgba(255, 255, 255, 0.7);\n}\n.core-stats-grid[data-v-5ffd8816] {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));\n  gap: 12px;\n  flex: 1;\n}\n.stat-card[data-v-5ffd8816] {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  padding: 12px 16px;\n  background: rgba(255, 255, 255, 0.05);\n  backdrop-filter: blur(10px);\n  border: 1px solid rgba(255, 255, 255, 0.1);\n  border-radius: 12px;\n  transition: all 0.3s ease;\n}\n.stat-card[data-v-5ffd8816]:hover {\n  background: rgba(255, 255, 255, 0.08);\n  border-color: rgba(255, 255, 255, 0.2);\n  transform: translateY(-2px);\n}\n.card-icon[data-v-5ffd8816] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 36px;\n  height: 36px;\n  border-radius: 8px;\n  flex-shrink: 0;\n}\n.realm-card .card-icon[data-v-5ffd8816] {\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.2), rgba(37, 99, 235, 0.2));\n  color: #60a5fa;\n}\n.spirit-card .card-icon[data-v-5ffd8816] {\n  background: linear-gradient(135deg, rgba(168, 85, 247, 0.2), rgba(147, 51, 234, 0.2));\n  color: #c084fc;\n}\n.location-card .card-icon[data-v-5ffd8816] {\n  background: linear-gradient(135deg, rgba(16, 185, 129, 0.2), rgba(5, 150, 105, 0.2));\n  color: #34d399;\n}\n.reputation-card .card-icon[data-v-5ffd8816] {\n  background: linear-gradient(135deg, rgba(251, 191, 36, 0.2), rgba(245, 158, 11, 0.2));\n  color: #fbbf24;\n}\n.card-content[data-v-5ffd8816] {\n  display: flex;\n  flex-direction: column;\n  gap: 2px;\n  min-width: 0;\n}\n.card-label[data-v-5ffd8816] {\n  font-size: 0.75rem;\n  color: rgba(255, 255, 255, 0.5);\n  font-weight: 500;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n}\n.card-value[data-v-5ffd8816] {\n  font-size: 1rem;\n  font-weight: 700;\n  color: #fff;\n  line-height: 1.4;\n  word-break: break-all;\n}\n.location-value[data-v-5ffd8816] {\n  font-size: 0.9rem;\n  line-height: 1.3;\n}\n.cultivation-section[data-v-5ffd8816] {\n  min-width: 200px;\n}\n.cultivation-progress-card[data-v-5ffd8816] {\n  background: rgba(255, 255, 255, 0.05);\n  backdrop-filter: blur(10px);\n  border: 1px solid rgba(255, 255, 255, 0.1);\n  border-radius: 12px;\n  padding: 16px;\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n}\n.progress-header[data-v-5ffd8816] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n.progress-label[data-v-5ffd8816] {\n  font-size: 0.85rem;\n  color: rgba(255, 255, 255, 0.7);\n  font-weight: 600;\n}\n.progress-percentage[data-v-5ffd8816] {\n  font-size: 1.1rem;\n  font-weight: 700;\n  color: #60a5fa;\n}\n.progress-bar-container[data-v-5ffd8816] {\n  position: relative;\n}\n.progress-bar-bg[data-v-5ffd8816] {\n  height: 10px;\n  background: rgba(255, 255, 255, 0.1);\n  border-radius: 999px;\n  overflow: hidden;\n  position: relative;\n}\n.progress-bar-fill[data-v-5ffd8816] {\n  height: 100%;\n  background: linear-gradient(90deg, #3b82f6, #8b5cf6);\n  border-radius: 999px;\n  position: relative;\n  transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1);\n}\n.progress-bar-shine[data-v-5ffd8816] {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);\n  /* ç§»é™¤åŠ¨ç”»æ•ˆæœ */\n}\n.progress-text[data-v-5ffd8816] {\n  font-size: 0.8rem;\n  color: rgba(255, 255, 255, 0.6);\n  text-align: center;\n}\n.cultivation-status[data-v-5ffd8816] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 12px;\n  padding: 16px;\n  background: rgba(255, 255, 255, 0.05);\n  backdrop-filter: blur(10px);\n  border: 1px solid rgba(255, 255, 255, 0.1);\n  border-radius: 12px;\n}\n.status-icon[data-v-5ffd8816] {\n  font-size: 1.5rem;\n}\n.status-text[data-v-5ffd8816] {\n  font-size: 1rem;\n  font-weight: 600;\n  color: rgba(255, 255, 255, 0.8);\n}\n\n/* å“åº”å¼è®¾è®¡ */\n@media (max-width: 1200px) {\n.header-content[data-v-5ffd8816] {\n    grid-template-columns: 1fr;\n    gap: 20px;\n}\n.core-stats-grid[data-v-5ffd8816] {\n    grid-template-columns: repeat(2, 1fr);\n}\n.cultivation-section[data-v-5ffd8816] {\n    min-width: auto;\n}\n}\n@media (max-width: 768px) {\n.header-content[data-v-5ffd8816] {\n    padding: 20px;\n}\n.profile-section[data-v-5ffd8816] {\n    flex-direction: column;\n    text-align: center;\n    gap: 12px;\n}\n.character-subtitle[data-v-5ffd8816] {\n    justify-content: center;\n}\n.core-stats-grid[data-v-5ffd8816] {\n    grid-template-columns: 1fr;\n}\n.avatar-circle[data-v-5ffd8816] {\n    width: 64px;\n    height: 64px;\n}\n.avatar-text[data-v-5ffd8816] {\n    font-size: 1.5rem;\n}\n.character-title[data-v-5ffd8816] {\n    font-size: 1.5rem;\n}\n}\n  ",""]);const i=l},2067:(e,n,t)=&gt;{t.d(n,{A:()=&gt;i});var a=t(1601),o=t.n(a),r=t(6314),l=t.n(r)()(o());l.push([e.id,"\n/* é¡¶éƒ¨åŠŸèƒ½æŒ‰é’® */\n.top-actions-container[data-v-d9928082] {\n  display: flex;\n  gap: 0.5rem;\n  padding: 0.75rem;\n  border-bottom: 1px solid var(--color-border);\n  background: rgba(0, 0, 0, 0.1);\n  justify-content: flex-end;\n}\n.top-actions-container .action-item[data-v-d9928082] {\n  padding: 0.5rem 1rem;\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  background: var(--color-surface-light);\n  color: var(--color-text);\n  cursor: pointer;\n  transition: all 0.2s ease;\n  font-size: 0.9rem;\n  white-space: nowrap;\n}\n.top-actions-container .action-item[data-v-d9928082]:hover {\n  background: var(--color-surface-lighter);\n  border-color: var(--color-primary);\n  color: var(--color-primary);\n}\n.talent-tier-selection[data-v-d9928082] {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n.loading-state[data-v-d9928082],\n.error-state[data-v-d9928082],\n.placeholder[data-v-d9928082] {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  font-size: 1.2rem;\n  color: var(--color-text-secondary);\n}\n.tier-layout[data-v-d9928082] {\n  display: grid;\n  grid-template-columns: 1fr 2fr;\n  gap: 2rem;\n  height: 100%;\n  overflow: hidden;\n}\n.tier-left-panel[data-v-d9928082] {\n  display: flex;\n  flex-direction: column;\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  overflow: hidden;\n  background: var(--color-surface);\n}\n.tiers-list-container[data-v-d9928082] {\n  flex: 1;\n  overflow-y: auto;\n  padding: 0.5rem;\n}\n.tiers-list-container[data-v-d9928082]::-webkit-scrollbar { width: 8px;\n}\n.tiers-list-container[data-v-d9928082]::-webkit-scrollbar-track { background: rgba(0, 0, 0, 0.2); border-radius: 4px;\n}\n.tiers-list-container[data-v-d9928082]::-webkit-scrollbar-thumb { background: rgba(var(--color-primary-rgb), 0.3); border-radius: 4px;\n}\n.tiers-list-container[data-v-d9928082]::-webkit-scrollbar-thumb:hover { background: rgba(var(--color-primary-rgb), 0.5);\n}\n.tier-item[data-v-d9928082] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0.8rem 1rem;\n  margin-bottom: 0.5rem;\n  border-radius: 6px;\n  cursor: pointer;\n  transition: all 0.2s ease-in-out;\n  border-left: 3px solid transparent;\n}\n.item-content[data-v-d9928082] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex-grow: 1;\n}\n\n/* æŒ‰é’®ç»„å®¹å™¨ */\n.action-buttons[data-v-d9928082] {\n  display: flex;\n  align-items: center;\n  gap: 0.3rem;\n  opacity: 0;\n  transition: opacity 0.2s;\n  margin-left: 0.5rem;\n}\n.tier-item:hover .action-buttons[data-v-d9928082] {\n  opacity: 1;\n}\n\n/* ç¼–è¾‘æŒ‰é’® */\n.edit-btn[data-v-d9928082] {\n  background: none;\n  border: none;\n  color: var(--color-text-secondary);\n  cursor: pointer;\n  padding: 0.3rem;\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: opacity 0.2s, color 0.2s, background-color 0.2s;\n}\n.edit-btn[data-v-d9928082]:hover {\n  color: var(--color-primary);\n  background-color: rgba(59, 130, 246, 0.1);\n}\n.delete-btn[data-v-d9928082] {\n  background: none;\n  border: none;\n  color: var(--color-text-secondary);\n  cursor: pointer;\n  padding: 0.3rem;\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: opacity 0.2s, color 0.2s, background-color 0.2s;\n}\n.delete-btn[data-v-d9928082]:hover {\n  color: var(--color-danger);\n  background-color: rgba(255, 0, 0, 0.1);\n}\n.tier-item[data-v-d9928082]:hover {\n  background: rgba(var(--tier-glow-color-rgb, 229, 192, 123), 0.1);\n}\n.tier-item.selected[data-v-d9928082] {\n  background: rgba(var(--tier-glow-color-rgb, 229, 192, 123), 0.2);\n  color: var(--tier-glow-color, #e5c07b);\n  border-left: 3px solid var(--tier-glow-color, #e5c07b);\n  box-shadow: 0 0 15px rgba(var(--tier-glow-color-rgb, 229, 192, 123), 0.3);\n}\n.tier-name[data-v-d9928082] {\n  font-weight: 600;\n  color: var(--tier-glow-color, inherit);\n}\n.tier-points[data-v-d9928082] {\n  color: var(--color-accent);\n  font-weight: 500;\n}\n.single-actions-container[data-v-d9928082] {\n  border-top: 1px solid var(--color-border);\n  background: rgba(0, 0, 0, 0.3);\n  padding: 0.5rem;\n  display: flex;\n  gap: 0.5rem;\n}\n.action-item[data-v-d9928082] {\n  flex: 1;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 0.8rem 1rem;\n  border-radius: 6px;\n  cursor: pointer;\n  transition: all 0.2s ease-in-out;\n  border: 1px solid var(--color-border);\n  background: var(--color-surface-light);\n  color: var(--color-text);\n  font-size: 1rem;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  min-width: 0;\n}\n.action-item[data-v-d9928082]:hover {\n  background: var(--color-surface-lighter);\n  border-color: var(--color-primary);\n  color: var(--color-primary);\n}\n.action-name[data-v-d9928082] {\n  font-weight: 500;\n}\n.tier-details-container[data-v-d9928082] {\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  padding: 1.5rem;\n  background: var(--color-surface);\n}\n.tier-details[data-v-d9928082] {\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  min-height: 0;\n}\n.tier-details h2[data-v-d9928082] {\n  margin-top: 0;\n  margin-bottom: 1rem;\n  font-size: 2rem;\n  text-align: center;\n  flex-shrink: 0;\n  text-shadow: 0 0 20px currentColor;\n}\n.description-scroll[data-v-d9928082] {\n  flex: 1;\n  overflow-y: auto;\n  line-height: 1.6;\n  padding-right: 0.5rem;\n  min-height: 0;\n}\n.description-scroll p[data-v-d9928082] {\n  margin: 0;\n  white-space: pre-wrap;\n  color: var(--color-text-secondary);\n}\n.description-scroll[data-v-d9928082]::-webkit-scrollbar { width: 8px;\n}\n.description-scroll[data-v-d9928082]::-webkit-scrollbar-track { background: rgba(0, 0, 0, 0.2); border-radius: 4px;\n}\n.description-scroll[data-v-d9928082]::-webkit-scrollbar-thumb { background: rgba(var(--color-primary-rgb), 0.3); border-radius: 4px;\n}\n.description-scroll[data-v-d9928082]::-webkit-scrollbar-thumb:hover { background: rgba(var(--color-primary-rgb), 0.5);\n}\n.points-display[data-v-d9928082] {\n  text-align: center;\n  font-weight: bold;\n  color: var(--color-accent);\n  font-size: 1.2rem;\n  padding-top: 1rem;\n  margin-top: 1rem;\n  border-top: 1px solid var(--color-border);\n  flex-shrink: 0;\n}\n\n/* å“åº”å¼é€‚é… - æ‰‹æœºç«¯ä¼˜åŒ– */\n@media (max-width: 1200px) {\n.tier-layout[data-v-d9928082] {\n    grid-template-columns: 1fr 1.8fr;\n    gap: 1.5rem;\n}\n}\n@media (max-width: 1024px) {\n.tier-layout[data-v-d9928082] {\n    grid-template-columns: 1fr 1.5fr;\n    gap: 1.2rem;\n}\n.tier-details h2[data-v-d9928082] {\n    font-size: 1.8rem;\n}\n}\n@media (max-width: 640px) {\n.top-actions-container[data-v-d9928082] {\n    flex-wrap: wrap;\n    justify-content: stretch;\n}\n.top-actions-container .action-item[data-v-d9928082] {\n    flex-grow: 1;\n    text-align: center;\n}\n.tier-layout[data-v-d9928082] {\n    /* æ”¹ä¸ºå‚ç›´å †å å¸ƒå±€ */\n    grid-template-columns: 1fr;\n    grid-template-rows: auto 1fr;\n    gap: 1rem;\n    height: auto;\n    overflow: visible;\n    padding: 0.8rem;\n}\n.tier-left-panel[data-v-d9928082] {\n    order: 1;\n    max-height: 40vh;\n}\n.tier-details-container[data-v-d9928082] {\n    order: 2;\n    min-height: 300px;\n}\n.tiers-list-container[data-v-d9928082] {\n    max-height: 35vh;\n    /* æ·»åŠ è§¦æ‘¸æ»šåŠ¨ä¼˜åŒ– */\n    -webkit-overflow-scrolling: touch;\n    scrollbar-width: thin;\n}\n  \n  /* ä¼˜åŒ–è§¦æ‘¸ä½“éªŒ */\n.tier-item[data-v-d9928082],\n  .action-item[data-v-d9928082] {\n    -webkit-tap-highlight-color: transparent;\n    touch-action: manipulation;\n}\n}\n@media (max-width: 640px) {\n.tier-layout[data-v-d9928082] {\n    gap: 0.8rem;\n    padding: 0.6rem;\n}\n.tier-left-panel[data-v-d9928082] {\n    max-height: 35vh;\n}\n.tiers-list-container[data-v-d9928082] {\n    max-height: 30vh;\n    padding: 0.5rem;\n}\n.tier-item[data-v-d9928082] {\n    padding: 0.7rem;\n    font-size: 0.95rem;\n    margin-bottom: 0.4rem;\n}\n.single-actions-container[data-v-d9928082] {\n    padding: 0.5rem;\n    gap: 0.4rem;\n}\n.action-item[data-v-d9928082] {\n    padding: 0.7rem 1rem;\n    font-size: 0.9rem;\n}\n.tier-details-container[data-v-d9928082] {\n    padding: 1.2rem;\n    min-height: 250px;\n}\n.tier-details h2[data-v-d9928082] {\n    font-size: 1.6rem;\n    margin-bottom: 0.8rem;\n}\n.points-display[data-v-d9928082] {\n    font-size: 1.1rem;\n}\n}\n@media (max-width: 480px) {\n.top-actions-container[data-v-d9928082] {\n    flex-direction: column;\n    align-items: stretch;\n}\n.talent-tier-selection[data-v-d9928082] {\n    padding: 0.4rem;\n    height: auto;\n    overflow-y: auto;\n    -webkit-overflow-scrolling: touch;\n}\n.tier-layout[data-v-d9928082] {\n    gap: 0.6rem;\n    padding: 0;\n    height: auto;\n    min-height: 0;\n}\n.tier-left-panel[data-v-d9928082] {\n    max-height: none;\n    border-radius: 6px;\n}\n.tiers-list-container[data-v-d9928082] {\n    max-height: 26vh;\n    padding: 0.4rem;\n}\n.tier-item[data-v-d9928082] {\n    padding: 0.6rem 0.8rem;\n    font-size: 0.9rem;\n    margin-bottom: 0.3rem;\n    border-radius: 4px;\n}\n.tier-name[data-v-d9928082] {\n    font-size: 0.9rem;\n}\n.tier-points[data-v-d9928082] {\n    font-size: 0.8rem;\n}\n.single-actions-container[data-v-d9928082] {\n    flex-direction: column;\n    gap: 0.4rem;\n    padding: 0.4rem;\n}\n.action-item[data-v-d9928082] {\n    padding: 0.6rem;\n    font-size: 0.85rem;\n    border-radius: 4px;\n}\n.tier-details-container[data-v-d9928082] {\n    padding: 1rem;\n    min-height: 200px;\n    border-radius: 6px;\n}\n.tier-details h2[data-v-d9928082] {\n    font-size: 1.4rem;\n    margin-bottom: 0.6rem;\n    text-align: center;\n}\n.description-scroll[data-v-d9928082] {\n    font-size: 0.9rem;\n    line-height: 1.5;\n    padding-right: 0.3rem;\n}\n.points-display[data-v-d9928082] {\n    font-size: 1rem;\n    text-align: center;\n    padding-top: 0.8rem;\n    margin-top: 0.8rem;\n}\n.placeholder[data-v-d9928082] {\n    font-size: 1rem;\n    padding: 1rem;\n    text-align: center;\n    min-height: 150px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n.top-actions-container[data-v-d9928082] {\n    flex-direction: column;\n    align-items: stretch;\n    padding: 0.5rem;\n}\n.top-actions-container .action-item[data-v-d9928082] {\n    text-align: center;\n}\n}\n@media (max-width: 360px) {\n.talent-tier-selection[data-v-d9928082] {\n    padding: 0.3rem;\n}\n.tier-layout[data-v-d9928082] {\n    gap: 0.4rem;\n}\n.tier-left-panel[data-v-d9928082] {\n    max-height: 28vh;\n}\n.tiers-list-container[data-v-d9928082] {\n    max-height: 24vh;\n    padding: 0.3rem;\n}\n.tier-item[data-v-d9928082] {\n    padding: 0.5rem 0.6rem;\n    font-size: 0.85rem;\n    margin-bottom: 0.2rem;\n}\n.tier-name[data-v-d9928082] {\n    font-size: 0.8rem;\n}\n.tier-points[data-v-d9928082] {\n    font-size: 0.75rem;\n}\n.tier-details-container[data-v-d9928082] {\n    padding: 0.8rem;\n    min-height: 180px;\n}\n.tier-details h2[data-v-d9928082] {\n    font-size: 1.2rem;\n    margin-bottom: 0.5rem;\n}\n.description-scroll[data-v-d9928082] {\n    font-size: 0.85rem;\n    line-height: 1.4;\n}\n.points-display[data-v-d9928082] {\n    font-size: 0.9rem;\n    padding-top: 0.6rem;\n    margin-top: 0.6rem;\n}\n.action-item[data-v-d9928082] {\n    padding: 0.5rem;\n    font-size: 0.8rem;\n}\n.placeholder[data-v-d9928082] {\n    font-size: 0.9rem;\n    padding: 0.8rem;\n    min-height: 120px;\n}\n}\n",""]);const i=l},2224:e=&gt;{e.exports=_},2231:(e,n,t)=&gt;{t.r(n),t.d(n,{default:()=&gt;C});var a=t(4061),o=t(1783);const r={class:"tree-node"},l={key:0,class:"arrow"},i={key:1,class:"arrow"},c={class:"key"},s={key:2,class:"value"},d={key:0,class:"node-children"},m=(0,a.defineComponent)({__name:"TreeNode",props:{nodeKey:{},value:{},path:{}},emits:["delete-item"],setup(e,{emit:n}){const m=(0,a.defineAsyncComponent)(()=&gt;Promise.resolve().then(t.bind(t,2231))),p=e,v=n,u=(0,a.ref)(!1),g=(0,a.computed)(()=&gt;"object"==typeof p.value&amp;&amp;null!==p.value),f=(0,a.computed)(()=&gt;null===p.value?"null":"string"==typeof p.value&amp;&amp;p.value.length&gt;100?`"${p.value.substring(0,100)}..."`:JSON.stringify(p.value)),b=(0,a.computed)(()=&gt;{const e=p.path,n=e.startsWith("èƒŒåŒ…_ç‰©å“.")&amp;&amp;2===e.split(".").length,t=e.startsWith("äººç‰©å…³ç³».")&amp;&amp;2===e.split(".").length;return n||t}),h=()=&gt;{g.value&amp;&amp;(u.value=!u.value)},y=()=&gt;{v("delete-item",p.path)};return(e,n)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",r,[(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["node-line",{"is-object":g.value}]),onClick:h},[g.value?((0,a.openBlock)(),(0,a.createElementBlock)("span",l,(0,a.toDisplayString)(u.value?"â–¼":"â–¶"),1)):((0,a.openBlock)(),(0,a.createElementBlock)("span",i)),(0,a.createElementVNode)("span",c,(0,a.toDisplayString)(e.nodeKey)+":",1),g.value?(0,a.createCommentVNode)("v-if",!0):((0,a.openBlock)(),(0,a.createElementBlock)("span",s,(0,a.toDisplayString)(f.value),1)),b.value?((0,a.openBlock)(),(0,a.createElementBlock)("button",{key:3,onClick:(0,a.withModifiers)(y,["stop"]),class:"delete-btn",title:"åˆ é™¤æ­¤é¡¹"},[(0,a.createVNode)((0,a.unref)(o.A),{size:14})])):(0,a.createCommentVNode)("v-if",!0)],2),g.value&amp;&amp;u.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",d,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.value,(t,o)=&gt;((0,a.openBlock)(),(0,a.createBlock)((0,a.unref)(m),{key:o,"node-key":o,value:t,path:`${e.path}.${o}`,onDeleteItem:n[0]||(n[0]=e=&gt;v("delete-item",e))},null,8,["node-key","value","path"]))),128))])):(0,a.createCommentVNode)("v-if",!0)]))}});var p=t(5072),v=t.n(p),u=t(7825),g=t.n(u),f=t(7659),b=t.n(f),h=t(5056),y=t.n(h),x=t(540),k=t.n(x),w=t(1113),N=t.n(w),E=t(9904),V={};V.styleTagTransform=N(),V.setAttributes=y(),V.insert=b().bind(null,"head"),V.domAPI=g(),V.insertStyleElement=k(),v()(E.A,V),E.A&amp;&amp;E.A.locals&amp;&amp;E.A.locals;const C=(0,t(6262).A)(m,[["__scopeId","data-v-70308211"]])},2589:(e,n,t)=&gt;{t.d(n,{A:()=&gt;i});var a=t(1601),o=t.n(a),r=t(6314),l=t.n(r)()(o());l.push([e.id,'\n.top-bar[data-v-18a40716] {\n  width: 100%;\n  height: 56px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0 16px;\n  box-sizing: border-box;\n  background: var(--color-surface, #f8f9fa);\n  border-bottom: 1px solid var(--color-border, #e2e8f0);\n  font-family: -apple-system, BlinkMacSystemFont, \'Segoe UI\', Roboto, sans-serif;\n  position: sticky;\n  top: 0;\n  z-index: 100;\n  flex-shrink: 0;\n  min-height: 56px;\n}\n.left-section[data-v-18a40716] {\n  display: flex;\n  align-items: center;\n  gap: 16px;\n  flex: 1;\n}\n.game-title[data-v-18a40716] { font-size: 1.1rem; font-weight: 700; color: var(--color-text); margin: 0; letter-spacing: 0.2px; white-space: nowrap;\n}\n.character-quick-info[data-v-18a40716] { display: flex; align-items: center; gap: 8px; padding: 4px 10px; background: var(--color-surface-light); border-radius: 14px; border: 1px solid var(--color-border);\n}\n.character-name[data-v-18a40716] {\n  font-size: 0.875rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.character-realm[data-v-18a40716] {\n  font-size: 0.75rem;\n  color: var(--color-accent);\n  font-weight: 500;\n  padding: 2px 6px;\n  background: var(--color-accent-light);\n  border-radius: 10px;\n}\n.center-section[data-v-18a40716] {\n  flex: 1;\n  display: flex;\n  justify-content: center;\n}\n.location-time-info[data-v-18a40716] { display: flex; align-items: center; gap: 8px; padding: 4px 12px; background: var(--color-surface-light); border: 1px solid var(--color-border); border-radius: 10px; white-space: nowrap;\n}\n.location-text[data-v-18a40716] {\n  font-size: 0.9rem;\n  font-weight: 600;\n  color: var(--color-success);\n}\n.separator[data-v-18a40716] {\n  font-size: 0.8rem;\n  color: var(--color-text-secondary);\n  font-weight: 500;\n}\n.time-value[data-v-18a40716] {\n  font-size: 0.8rem;\n  color: var(--color-text-secondary);\n  font-weight: 500;\n  font-family: \'Courier New\', monospace;\n}\n.right-section[data-v-18a40716] {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  flex: 1;\n  justify-content: flex-end;\n}\n.fullscreen-btn[data-v-18a40716] { width: 30px; height: 30px; display: flex; align-items: center; justify-content: center; background: var(--color-surface-light); border: 1px solid var(--color-border); border-radius: 8px; cursor: pointer; font-size: 16px; color: var(--color-text-secondary); transition: all 0.2s ease;\n}\n.fullscreen-btn[data-v-18a40716]:hover {\n  background: var(--color-surface-hover);\n  border-color: var(--color-border-hover);\n  color: var(--color-text);\n}\n\n/* æ‰‹æœºç«¯é€‚é… */\n@media (max-width: 767px) {\n.top-bar[data-v-18a40716] {\n    padding: 0 8px;\n    height: 50px;\n    min-height: 50px;\n    flex-wrap: nowrap;\n}\n.game-title[data-v-18a40716] {\n    font-size: 0.9rem;\n    white-space: nowrap;\n    writing-mode: horizontal-tb;\n}\n.character-quick-info[data-v-18a40716] {\n    gap: 4px;\n    padding: 2px 6px;\n    flex-shrink: 1;\n    min-width: 0;\n}\n.character-name[data-v-18a40716] {\n    font-size: 0.7rem;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    max-width: 60px;\n}\n.character-realm[data-v-18a40716] {\n    font-size: 0.6rem;\n    padding: 1px 3px;\n    white-space: nowrap;\n}\n.center-section[data-v-18a40716] {\n    flex: 1;\n    min-width: 0;\n    overflow: hidden;\n}\n.location-time-info[data-v-18a40716] {\n    padding: 3px 6px;\n    gap: 4px;\n    flex-wrap: wrap;\n    justify-content: center;\n    max-width: 100%;\n}\n.location-text[data-v-18a40716] {\n    font-size: 0.7rem;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    max-width: 80px;\n}\n.separator[data-v-18a40716] {\n    font-size: 0.65rem;\n}\n.time-value[data-v-18a40716] {\n    font-size: 0.65rem;\n    white-space: nowrap;\n}\n.fullscreen-btn[data-v-18a40716] {\n    width: 26px;\n    height: 26px;\n    font-size: 14px;\n    flex-shrink: 0;\n}\n.left-section[data-v-18a40716] {\n    gap: 6px;\n    flex: 0 1 auto;\n    min-width: 0;\n}\n.right-section[data-v-18a40716] {\n    gap: 6px;\n    flex: 0 0 auto;\n}\n}\n\n/* è¶…å°å±å¹•é€‚é… */\n@media (max-width: 375px) {\n.top-bar[data-v-18a40716] {\n    padding: 0 4px;\n}\n.game-title[data-v-18a40716] {\n    font-size: 0.8rem;\n}\n.character-quick-info[data-v-18a40716] {\n    gap: 3px;\n    padding: 2px 4px;\n}\n.character-name[data-v-18a40716] {\n    font-size: 0.65rem;\n    max-width: 50px;\n}\n.location-text[data-v-18a40716] {\n    font-size: 0.65rem;\n    max-width: 60px;\n}\n.time-value[data-v-18a40716] {\n    font-size: 0.6rem;\n}\n}\n\n/* å¹³æ¿é€‚é… */\n@media (min-width: 641px) and (max-width: 1024px) {\n.top-bar[data-v-18a40716] {\n    padding: 0 16px;\n}\n.game-title[data-v-18a40716] {\n    font-size: 1.1rem;\n}\n.left-section[data-v-18a40716] {\n    gap: 12px;\n}\n.right-section[data-v-18a40716] {\n    gap: 10px;\n}\n}\n\n/* æ·±è‰²ä¸»é¢˜ */\n[data-theme="dark"] .top-bar[data-v-18a40716] {\n  background: #1e293b;\n  border-bottom-color: #334155;\n}\n[data-theme="dark"] .game-title[data-v-18a40716] {\n  color: #f1f5f9;\n}\n[data-theme="dark"] .character-quick-info[data-v-18a40716] {\n  background: #334155;\n  border-color: #475569;\n}\n[data-theme="dark"] .character-name[data-v-18a40716] {\n  color: #e2e8f0;\n}\n[data-theme="dark"] .character-realm[data-v-18a40716] {\n  background: rgba(167, 139, 250, 0.2);\n  color: #a78bfa;\n}\n[data-theme="dark"] .location-time-info[data-v-18a40716] {\n  background: #334155;\n  border-color: #475569;\n}\n[data-theme="dark"] .location-text[data-v-18a40716] {\n  color: #34d399;\n}\n[data-theme="dark"] .separator[data-v-18a40716] {\n  color: #64748b;\n}\n[data-theme="dark"] .time-value[data-v-18a40716] {\n  color: #cbd5e1;\n}\n[data-theme="dark"] .fullscreen-btn[data-v-18a40716] {\n  background: transparent;\n  border-color: #475569;\n  color: #94a3b8;\n}\n[data-theme="dark"] .fullscreen-btn[data-v-18a40716]:hover {\n  background: #334155;\n  border-color: #64748b;\n  color: #e2e8f0;\n}\n',""]);const i=l},2614:(e,n,t)=&gt;{t.d(n,{A:()=&gt;i});var a=t(1601),o=t.n(a),r=t(6314),l=t.n(r)()(o());l.push([e.id,"\n/* Unified style tokens for Character Management */\n.character-management-panel[data-v-fd2fc302] {\n  --cm-radius-sm: 6px;\n  --cm-radius-md: 8px;\n  --cm-radius-lg: 12px;\n  --cm-gap-xs: 0.25rem;\n  --cm-gap-sm: 0.5rem;\n  --cm-gap-md: 0.8rem;\n  --cm-gap-lg: 1rem;\n  --cm-border-width: 1px;\n  --cm-border-strong: 2px;\n  --cm-divider-width: 2px;\n  /* Card sizing tokens */\n  --cm-card-min-h: 92px;\n  --cm-card-padding: 0.9rem;\n  --cm-avatar-size: 36px;\n  --cm-header-gap: 0.75rem;\n  --cm-name-font: 1rem;\n  --cm-meta-font: 0.8rem;\n  --cm-save-count-minw: 36px;\n  --cm-save-count-count-font: 1.05rem;\n  --cm-save-count-label-font: 0.7rem;\n}\n/* åŸºç¡€æ ·å¼é‡ç½® */\n[data-v-fd2fc302] {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n}\n\n/* è‡ªå®šä¹‰å¯¹è¯æ¡†æ ·å¼ */\n.dialog-overlay[data-v-fd2fc302] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(10, 20, 30, 0.6);\n  backdrop-filter: blur(8px);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 10000;\n  transition: opacity 0.3s ease;\n}\n.dialog-box[data-v-fd2fc302] {\n  background: var(--color-surface-transparent);\n  border: 1px solid var(--color-border);\n  border-radius: 12px;\n  padding: 2rem;\n  width: 90%;\n  max-width: 450px;\n  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);\n  color: var(--color-text);\n  transform: scale(0.95);\n  opacity: 0;\n  animation: dialog-fade-in-fd2fc302 0.3s forwards;\n}\n@keyframes dialog-fade-in-fd2fc302 {\nto {\n    transform: scale(1);\n    opacity: 1;\n}\n}\n.dialog-title[data-v-fd2fc302] {\n  font-size: 1.5rem;\n  color: var(--color-accent);\n  margin: 0 0 1rem 0;\n  font-weight: 600;\n}\n.dialog-message[data-v-fd2fc302] {\n  font-size: 1rem;\n  color: var(--color-text-secondary);\n  margin: 0 0 1.5rem 0;\n  line-height: 1.6;\n}\n.dialog-input[data-v-fd2fc302] {\n  width: 100%;\n  padding: 0.8rem 1rem;\n  background: var(--color-background-transparent);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  color: var(--color-text);\n  font-size: 1rem;\n  margin-bottom: 1.5rem;\n  transition: border-color 0.3s, box-shadow 0.3s;\n}\n.dialog-input[data-v-fd2fc302]:focus {\n  outline: none;\n  border-color: var(--color-primary);\n  box-shadow: 0 0 0 3px rgba(var(--color-primary-rgb), 0.2);\n}\n.dialog-actions[data-v-fd2fc302] {\n  display: flex;\n  justify-content: flex-end;\n  gap: 1rem;\n}\n.btn-dialog-confirm[data-v-fd2fc302],\n.btn-dialog-cancel[data-v-fd2fc302] {\n  padding: 0.6rem 1.5rem;\n  border-radius: 8px;\n  border: 1px solid var(--color-border);\n  cursor: pointer;\n  font-weight: 600;\n  transition: all 0.3s;\n}\n.btn-dialog-confirm[data-v-fd2fc302] {\n  background: var(--color-primary);\n  color: white;\n  border-color: var(--color-primary);\n}\n.btn-dialog-confirm[data-v-fd2fc302]:hover {\n  background: var(--color-primary-dark);\n  transform: translateY(-2px);\n}\n.btn-dialog-cancel[data-v-fd2fc302] {\n  background: var(--color-surface);\n  color: var(--color-text);\n  border: 1px solid var(--color-border);\n}\n.btn-dialog-cancel[data-v-fd2fc302]:hover {\n  background: var(--color-background);\n}\n\n/* ä¸»å®¹å™¨æ ·å¼ */\n.character-management-panel[data-v-fd2fc302] {\n  width: 100%;\n  height: 100%;\n  background: var(--color-background);\n  color: var(--color-text);\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  position: relative;\n}\n.character-management-panel.fullscreen[data-v-fd2fc302] {\n  background: var(--color-background);\n}\n\n/* å…¨å±æ¨¡å¼å¤´éƒ¨ */\n.fullscreen-header[data-v-fd2fc302] {\n  position: relative;\n  z-index: 10;\n  padding: 2rem;\n  background: var(--color-surface-transparent);\n  backdrop-filter: blur(12px);\n  border-bottom: 1px solid var(--color-border);\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n.fullscreen-back-btn[data-v-fd2fc302] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.75rem 1.5rem;\n  background: transparent;\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  color: var(--color-text-secondary);\n  cursor: pointer;\n  transition: all 0.2s ease;\n  font-size: 0.9rem;\n}\n.fullscreen-back-btn[data-v-fd2fc302]:hover {\n  background: var(--color-surface-hover);\n  color: var(--color-text);\n  border-color: var(--color-primary);\n}\n.fullscreen-title[data-v-fd2fc302] {\n  position: absolute;\n  left: 50%;\n  transform: translateX(-50%);\n  text-align: center;\n}\n.fullscreen-title h1[data-v-fd2fc302] {\n  font-family: var(--font-family-serif);\n  font-size: 2.5rem;\n  font-weight: 500;\n  letter-spacing: 0.3em;\n  color: var(--color-text);\n  text-shadow: 0 0 20px rgba(var(--color-primary-rgb), 0.4);\n  margin: 0 0 0.5rem 0;\n  padding-left: 0.3em;\n}\n.fullscreen-title p[data-v-fd2fc302] {\n  font-size: 1rem;\n  color: var(--color-text-secondary);\n  letter-spacing: 0.1em;\n  opacity: 0.8;\n  margin: 0;\n}\n\n/* ä¸»ä½“å†…å®¹ */\n.main-content[data-v-fd2fc302] {\n  flex: 1;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n}\n.main-content.fullscreen-content[data-v-fd2fc302] {\n  position: relative;\n  flex: 1;\n  overflow: hidden;\n}\n\n/* ç§»åŠ¨ç«¯å¤´éƒ¨å¯¼èˆª */\n.mobile-header[data-v-fd2fc302] {\n  display: none;\n  background: var(--color-surface-transparent);\n  backdrop-filter: blur(12px);\n  border-bottom: 1px solid var(--color-border);\n  padding: 1rem;\n  align-items: center;\n  gap: 1rem;\n  position: sticky;\n  top: 0;\n  z-index: 100;\n}\n.mobile-menu-btn[data-v-fd2fc302] {\n  display: flex;\n  align-items: center;\n  gap: 0.6rem;\n  padding: 0.8rem 1rem;\n  background: linear-gradient(135deg, \n    rgba(var(--color-surface-rgb), 0.8), \n    rgba(var(--color-background-rgb), 0.6)\n  );\n  backdrop-filter: blur(10px);\n  border: 2px solid rgba(var(--color-border-rgb), 0.3);\n  border-radius: 12px;\n  cursor: pointer;\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  color: var(--color-text-secondary);\n  font-size: 0.9rem;\n  font-weight: 600;\n  position: relative;\n  overflow: hidden;\n}\n.mobile-menu-btn[data-v-fd2fc302]:hover {\n  background: linear-gradient(135deg, \n    rgba(var(--color-surface-rgb), 0.9), \n    rgba(var(--color-background-rgb), 0.7)\n  );\n  color: var(--color-primary);\n  border-color: var(--color-primary);\n  transform: translateY(-1px);\n  box-shadow: 0 4px 12px rgba(var(--color-primary-rgb), 0.2);\n}\n.mobile-menu-btn.active[data-v-fd2fc302] {\n  background: linear-gradient(135deg, var(--color-primary), var(--color-accent));\n  color: white;\n  border-color: var(--color-primary);\n  transform: translateY(-1px);\n  box-shadow: 0 4px 12px rgba(var(--color-primary-rgb), 0.4);\n}\n.hamburger[data-v-fd2fc302] {\n  display: flex;\n  flex-direction: column;\n  gap: 2px;\n  width: 16px;\n  height: 12px;\n}\n.hamburger span[data-v-fd2fc302] {\n  display: block;\n  height: 2px;\n  width: 100%;\n  background: currentColor;\n  border-radius: 1px;\n  transition: transform 0.2s ease;\n}\n.mobile-menu-btn.active .hamburger span[data-v-fd2fc302]:nth-child(1) {\n  transform: rotate(45deg) translate(3px, 3px);\n}\n.mobile-menu-btn.active .hamburger span[data-v-fd2fc302]:nth-child(2) {\n  opacity: 0;\n}\n.mobile-menu-btn.active .hamburger span[data-v-fd2fc302]:nth-child(3) {\n  transform: rotate(-45deg) translate(3px, -3px);\n}\n.mobile-title[data-v-fd2fc302] {\n  flex: 1;\n  min-width: 0; /* Allow shrinking and text-overflow to work */\n}\n.mobile-title h2[data-v-fd2fc302] {\n  margin: 0;\n  font-size: 1.2rem;\n  color: var(--color-text);\n  font-weight: 600;\n}\n.mobile-title .selected-info[data-v-fd2fc302] {\n  font-size: 0.8rem;\n  color: var(--color-text-secondary);\n  margin-top: 0.2rem;\n  /* Fix for vertical text issue on small screens */\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.panel-overlay[data-v-fd2fc302] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  z-index: 1100;\n}\n\n/* ç©ºçŠ¶æ€ */\n.empty-state[data-v-fd2fc302] {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  padding: 2rem;\n}\n.empty-icon[data-v-fd2fc302] {\n  font-size: 4rem;\n  margin-bottom: 1rem;\n}\n.empty-state h2[data-v-fd2fc302] {\n  color: var(--color-accent);\n  margin-bottom: 0.5rem;\n}\n.empty-actions[data-v-fd2fc302] {\n  display: flex;\n  gap: 1rem;\n  margin-top: 1rem;\n}\n.btn-create[data-v-fd2fc302], .btn-import[data-v-fd2fc302] {\n  padding: 1rem 2rem;\n  color: white;\n  border-radius: 12px;\n  font-size: 1.1rem;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s;\n}\n.btn-create[data-v-fd2fc302] {\n  background: linear-gradient(135deg, var(--color-success), var(--color-info));\n  border: 1px solid var(--color-success);\n}\n.btn-create[data-v-fd2fc302]:hover {\n  transform: scale(1.05);\n}\n.btn-import[data-v-fd2fc302] {\n  background: linear-gradient(135deg, var(--color-primary), var(--color-accent));\n  border: 1px solid var(--color-primary);\n}\n.btn-import[data-v-fd2fc302]:hover {\n  transform: scale(1.05);\n}\n\n/* ç®¡ç†å¸ƒå±€ - 3è¡Œ2åˆ—ç½‘æ ¼ */\n.management-layout[data-v-fd2fc302] {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  height: 100%;\n}\n\n/* 3è¡Œ2åˆ—ç½‘æ ¼å¸ƒå±€ - ç®€æ´ç‰ˆæœ¬ */\n.grid-container[data-v-fd2fc302] {\n  display: grid;\n  grid-template-columns: 320px 1fr;\n  grid-template-rows: auto 1fr auto;\n  grid-template-areas:\n    \"header-left header-right\"\n    \"content-left content-right\"\n    \"footer-left footer-right\";\n  height: 100%;\n  overflow: hidden;\n  /* ä½¿ç”¨å•ä¸€å‚ç›´åˆ†å‰²çº¿ */\n  position: relative;\n}\n\n/* ç»Ÿä¸€çš„å‚ç›´åˆ†å‰²çº¿ */\n.grid-container[data-v-fd2fc302]::before {\n  content: '';\n  position: absolute;\n  left: 320px;\n  top: 0;\n  bottom: 0;\n  width: 2px;\n  background: var(--color-primary);\n  z-index: 10;\n}\n\n/* æ ‡é¢˜æ  - ç®€åŒ–æ ·å¼ */\n.grid-header-left[data-v-fd2fc302], .grid-header-right[data-v-fd2fc302] {\n  padding: 0.8rem 1rem;\n  background: var(--color-surface);\n  border-bottom: 1px solid var(--color-border);\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  gap: 1rem;\n}\n.grid-header-left h2[data-v-fd2fc302], .grid-header-right h2[data-v-fd2fc302] {\n  margin: 0;\n  font-size: 1rem;\n  color: var(--color-text);\n  font-weight: 600;\n}\n.character-count[data-v-fd2fc302] {\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n  background: var(--color-background);\n  padding: 0.2rem 0.4rem;\n  border-radius: 4px;\n  border: 1px solid var(--color-border);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  max-width: 100%;\n}\n\n/* å³ä¾§æ ‡é¢˜æ å¸ƒå±€ */\n.header-left-content[data-v-fd2fc302] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.4rem;\n  flex: 1;\n  min-width: 0;\n}\n.selected-char-info[data-v-fd2fc302] {\n  font-size: 0.8rem;\n  color: var(--color-text-secondary);\n  background: linear-gradient(135deg,\n    rgba(var(--color-primary-rgb), 0.1),\n    rgba(var(--color-accent-rgb), 0.05)\n  );\n  padding: 0.3rem 0.6rem;\n  border-radius: 6px;\n  border: 1px solid rgba(var(--color-primary-rgb), 0.3);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  max-width: fit-content;\n}\n\n/* å­˜æ¡£æ“ä½œæŒ‰é’®ç»„ */\n.save-actions-buttons[data-v-fd2fc302] {\n  display: flex;\n  gap: 0.6rem;\n  flex-shrink: 0;\n}\n.btn-save-action[data-v-fd2fc302] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.6rem 1rem;\n  border: 2px solid;\n  border-radius: 8px;\n  cursor: pointer;\n  font-size: 0.85rem;\n  font-weight: 600;\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  background: linear-gradient(135deg,\n    rgba(var(--color-surface-rgb), 0.8),\n    rgba(var(--color-background-rgb), 0.6)\n  );\n  backdrop-filter: blur(10px);\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);\n}\n.btn-save-action.export[data-v-fd2fc302] {\n  color: var(--color-success);\n  border-color: rgba(var(--color-success-rgb), 0.4);\n}\n.btn-save-action.export[data-v-fd2fc302]:hover:not(:disabled) {\n  background: linear-gradient(135deg, var(--color-success), rgba(var(--color-success-rgb), 0.8));\n  color: white;\n  border-color: var(--color-success);\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(var(--color-success-rgb), 0.3);\n}\n.btn-save-action.import[data-v-fd2fc302] {\n  color: var(--color-info);\n  border-color: rgba(var(--color-info-rgb), 0.4);\n}\n.btn-save-action.import[data-v-fd2fc302]:hover:not(:disabled) {\n  background: linear-gradient(135deg, var(--color-info), rgba(var(--color-info-rgb), 0.8));\n  color: white;\n  border-color: var(--color-info);\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(var(--color-info-rgb), 0.3);\n}\n.btn-save-action[data-v-fd2fc302]:disabled {\n  opacity: 0.4;\n  cursor: not-allowed;\n  filter: grayscale(0.5);\n}\n.btn-save-action[data-v-fd2fc302]:disabled:hover {\n  transform: none;\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);\n}\n\n/* å†…å®¹åŒºåŸŸ - ç®€åŒ–æ ·å¼ */\n.grid-content-left[data-v-fd2fc302], .grid-content-right[data-v-fd2fc302] {\n  background: var(--color-background);\n}\n\n/* åº•éƒ¨åŒºåŸŸ */\n.grid-footer-left[data-v-fd2fc302], .grid-footer-right[data-v-fd2fc302] {\n  min-height: 0;\n}\n\n/* è§’è‰²é¢æ¿ - ç®€åŒ– */\n.characters-panel[data-v-fd2fc302] {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  overflow: hidden;\n}\n.characters-grid[data-v-fd2fc302] {\n  flex: 1;\n  overflow-y: auto;\n  padding: 0.5rem;\n}\n\n/* è§’è‰²å¡ç‰‡ - ç®€åŒ–ç´§å‡‘è®¾è®¡ */\n.character-card[data-v-fd2fc302] {\n  background: var(--color-surface);\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  padding: 0.6rem;\n  margin-bottom: 0.4rem;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n.character-card[data-v-fd2fc302]:hover {\n  border-color: var(--color-primary);\n  box-shadow: 0 1px 4px rgba(var(--color-primary-rgb), 0.2);\n}\n.character-card.active[data-v-fd2fc302] {\n  border-color: var(--color-success);\n  background: rgba(var(--color-success-rgb), 0.05);\n}\n.character-card.single-mode[data-v-fd2fc302] {\n  border-left: 3px solid var(--color-success);\n}\n.character-card.online-mode[data-v-fd2fc302] {\n  border-left: 3px solid var(--color-primary);\n}\n\n/* å¡ç‰‡å¤´éƒ¨ - ç®€åŒ– */\n.card-header[data-v-fd2fc302] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  margin-bottom: 0.5rem;\n}\n.char-avatar[data-v-fd2fc302] {\n  position: relative;\n  width: 28px;\n  height: 28px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-weight: 600;\n  color: white;\n  font-size: 0.8rem;\n  flex-shrink: 0;\n  background: linear-gradient(135deg, var(--color-success), var(--color-info));\n}\n.char-avatar.è”æœº[data-v-fd2fc302] {\n  background: linear-gradient(135deg, var(--color-primary), var(--color-info));\n}\n.mode-indicator[data-v-fd2fc302] {\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  width: 10px;\n  height: 10px;\n  background: rgba(0, 0, 0, 0.7);\n  color: var(--color-warning);\n  border-radius: 50%;\n  font-size: 0.45rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-weight: bold;\n  border: 1px solid var(--color-background);\n}\n.char-info[data-v-fd2fc302] {\n  flex: 1;\n  min-width: 0;\n}\n.char-name[data-v-fd2fc302] {\n  margin: 0 0 0.1rem 0;\n  font-size: 0.85rem;\n  color: var(--color-text);\n  font-weight: 600;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.char-meta[data-v-fd2fc302] {\n  display: flex;\n  gap: 0.3rem;\n  font-size: 0.65rem;\n  color: var(--color-text-secondary);\n}\n.save-count[data-v-fd2fc302] {\n  text-align: center;\n  flex-shrink: 0;\n  min-width: 28px;\n}\n.save-count .count[data-v-fd2fc302] {\n  display: block;\n  font-size: 0.9rem;\n  font-weight: bold;\n  color: var(--color-accent);\n  line-height: 1;\n}\n.save-count .label[data-v-fd2fc302] {\n  font-size: 0.6rem;\n  color: var(--color-text-secondary);\n  line-height: 1;\n}\n\n/* å¡ç‰‡æ“ä½œ - ç®€åŒ–æŒ‰é’® */\n.card-actions[data-v-fd2fc302] {\n  display: flex;\n  gap: 0.3rem;\n  margin-top: 0.5rem;\n  padding-top: 0.5rem;\n  border-top: 1px solid var(--color-border);\n}\n.btn-details[data-v-fd2fc302], .btn-export[data-v-fd2fc302], .btn-delete[data-v-fd2fc302] {\n  flex: 1;\n  padding: 0.3rem 0.5rem;\n  border-radius: 4px;\n  border: 1px solid var(--color-border);\n  cursor: pointer;\n  font-size: 0.7rem;\n  font-weight: 500;\n  transition: all 0.2s ease;\n  background: var(--color-background);\n}\n.btn-details[data-v-fd2fc302] {\n  color: var(--color-info);\n  border-color: var(--color-info);\n}\n.btn-details[data-v-fd2fc302]:hover {\n  background: var(--color-info);\n  color: white;\n}\n.btn-export[data-v-fd2fc302] {\n  color: var(--color-success);\n  border-color: var(--color-success);\n}\n.btn-export[data-v-fd2fc302]:hover {\n  background: var(--color-success);\n  color: white;\n}\n.btn-delete[data-v-fd2fc302] {\n  color: var(--color-error);\n  border-color: var(--color-error);\n}\n.btn-delete[data-v-fd2fc302]:hover {\n  background: var(--color-error);\n  color: white;\n}\n\n/* å³ä¾§å­˜æ¡£é¢æ¿ - ç®€åŒ– */\n.saves-panel[data-v-fd2fc302] {\n  background: var(--color-background);\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  overflow: hidden;\n}\n\n/* æ— é€‰æ‹©çŠ¶æ€ */\n.no-selection[data-v-fd2fc302] {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  color: var(--color-text-secondary);\n}\n.no-selection-icon[data-v-fd2fc302] {\n  font-size: 3rem;\n  margin-bottom: 1rem;\n}\n\n/* å­˜æ¡£å®¹å™¨ */\n.saves-container[data-v-fd2fc302], .online-saves-container[data-v-fd2fc302] {\n  flex: 1;\n  overflow-y: auto;\n  overflow-x: hidden;\n  padding: 1rem;\n  height: 0;\n  -webkit-overflow-scrolling: touch;\n  scrollbar-width: thin;\n  scrollbar-color: rgba(var(--color-primary-rgb), 0.3) transparent;\n}\n.saves-container[data-v-fd2fc302]::-webkit-scrollbar,\n.online-saves-container[data-v-fd2fc302]::-webkit-scrollbar {\n  width: 6px;\n}\n.saves-container[data-v-fd2fc302]::-webkit-scrollbar-track,\n.online-saves-container[data-v-fd2fc302]::-webkit-scrollbar-track {\n  background: transparent;\n}\n.saves-container[data-v-fd2fc302]::-webkit-scrollbar-thumb,\n.online-saves-container[data-v-fd2fc302]::-webkit-scrollbar-thumb {\n  background: rgba(var(--color-primary-rgb), 0.3);\n  border-radius: 3px;\n}\n.saves-container[data-v-fd2fc302]::-webkit-scrollbar-thumb:hover,\n.online-saves-container[data-v-fd2fc302]::-webkit-scrollbar-thumb:hover {\n  background: rgba(var(--color-primary-rgb), 0.5);\n}\n.saves-section[data-v-fd2fc302] {\n  overflow-y: auto;\n  overflow-x: hidden;\n  max-height: 100%;\n}\n\n/* ä¸Šæ¬¡å¯¹è¯å­˜æ¡£åŒºåŸŸ */\n.auto-saves-section[data-v-fd2fc302] {\n  margin-bottom: 1.5rem;\n}\n.auto-saves-section h3[data-v-fd2fc302] {\n  margin: 0 0 0.8rem 0;\n  color: var(--color-warning);\n  font-size: 1rem;\n  font-weight: 600;\n}\n.auto-saves-grid[data-v-fd2fc302] {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 1rem;\n}\n\n/* æ‰‹åŠ¨å­˜æ¡£åŒºåŸŸ */\n.manual-saves-section[data-v-fd2fc302] {\n  margin-bottom: 1rem;\n}\n.manual-saves-header[data-v-fd2fc302] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 0.8rem;\n}\n.manual-saves-header h3[data-v-fd2fc302] {\n  margin: 0;\n  color: var(--color-warning);\n  font-size: 1rem;\n  font-weight: 600;\n}\n.save-info-text[data-v-fd2fc302] {\n  font-size: 0.8rem;\n  color: var(--color-text-secondary);\n  font-style: italic;\n}\n.manual-saves-grid[data-v-fd2fc302] {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));\n  gap: 1rem;\n  max-height: 400px;\n  overflow-y: auto;\n  overflow-x: hidden;\n  padding: 0;\n  -webkit-overflow-scrolling: touch;\n  scroll-behavior: smooth;\n  scrollbar-width: thin;\n  scrollbar-color: rgba(var(--color-primary-rgb), 0.3) transparent;\n}\n.manual-saves-grid[data-v-fd2fc302]::-webkit-scrollbar {\n  width: 6px;\n}\n.manual-saves-grid[data-v-fd2fc302]::-webkit-scrollbar-track {\n  background: transparent;\n}\n.manual-saves-grid[data-v-fd2fc302]::-webkit-scrollbar-thumb {\n  background: rgba(var(--color-primary-rgb), 0.3);\n  border-radius: 3px;\n}\n.manual-saves-grid[data-v-fd2fc302]::-webkit-scrollbar-thumb:hover {\n  background: rgba(var(--color-primary-rgb), 0.5);\n}\n\n/* å­˜æ¡£å¡ç‰‡ */\n.save-card[data-v-fd2fc302], .online-save-card[data-v-fd2fc302] {\n  background: linear-gradient(135deg, \n    rgba(var(--color-surface-rgb), 0.9), \n    rgba(var(--color-background-rgb), 0.7)\n  );\n  backdrop-filter: blur(15px);\n  border: 2px solid rgba(var(--color-border-rgb), 0.6);\n  border-radius: 8px;\n  padding: 0.9rem;\n  cursor: pointer;\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  color: var(--color-text);\n  position: relative;\n  overflow: hidden;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  -webkit-tap-highlight-color: transparent;\n  touch-action: manipulation;\n}\n.save-card[data-v-fd2fc302]::before, .online-save-card[data-v-fd2fc302]::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: linear-gradient(135deg, \n    rgba(var(--color-primary-rgb), 0.06), \n    rgba(var(--color-accent-rgb), 0.03)\n  );\n  opacity: 0;\n  transition: opacity 0.3s ease;\n  border-radius: 8px;\n}\n.save-card[data-v-fd2fc302]:hover::before, .online-save-card[data-v-fd2fc302]:hover::before {\n  opacity: 1;\n}\n.save-card[data-v-fd2fc302]:hover, .online-save-card[data-v-fd2fc302]:hover {\n  border-color: var(--color-primary);\n  transform: translateY(-2px);\n  box-shadow: \n    0 4px 15px rgba(var(--color-primary-rgb), 0.15),\n    0 2px 8px rgba(0, 0, 0, 0.08);\n}\n.save-card.has-data[data-v-fd2fc302] {\n  border-left: 4px solid var(--color-success);\n  border-color: rgba(var(--color-success-rgb), 0.8);\n  position: relative;\n}\n.save-card.has-data[data-v-fd2fc302]::after {\n  content: '';\n  position: absolute;\n  top: 0.7rem;\n  right: 0.7rem;\n  width: 6px;\n  height: 6px;\n  background: var(--color-success);\n  border-radius: 50%;\n  box-shadow: 0 0 8px rgba(var(--color-success-rgb), 0.6);\n}\n\n/* å­˜æ¡£æ•°æ® */\n.save-header[data-v-fd2fc302] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 0.8rem;\n}\n.save-name[data-v-fd2fc302] {\n  margin: 0;\n  font-size: 1rem;\n  color: var(--color-warning);\n  font-weight: 600;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  max-width: 140px;\n}\n.save-badges[data-v-fd2fc302] {\n  display: flex;\n  gap: 0.4rem;\n  flex-shrink: 0;\n}\n.realm-badge[data-v-fd2fc302], .age-badge[data-v-fd2fc302] {\n  padding: 2px 6px;\n  border-radius: 8px;\n  font-size: 0.7rem;\n  font-weight: 600;\n  white-space: nowrap;\n}\n.realm-badge[data-v-fd2fc302] {\n  background: rgba(var(--color-success-rgb), 0.15);\n  color: var(--color-success);\n}\n.age-badge[data-v-fd2fc302] {\n  background: rgba(var(--color-accent-rgb), 0.15);\n  color: var(--color-accent);\n}\n\n/* å­˜æ¡£ç»Ÿè®¡ */\n.save-stats[data-v-fd2fc302] {\n  margin-bottom: 0.8rem;\n}\n.stat-grid[data-v-fd2fc302] {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 0.6rem;\n}\n.stat[data-v-fd2fc302] {\n  display: flex;\n  justify-content: space-between;\n  font-size: 0.8rem;\n  align-items: center;\n}\n.stat .label[data-v-fd2fc302] {\n  color: var(--color-text-secondary);\n  font-size: 0.75rem;\n}\n.stat .value[data-v-fd2fc302] {\n  color: var(--color-text);\n  font-weight: 600;\n  font-size: 0.8rem;\n}\n\n/* å­˜æ¡£åº•éƒ¨ */\n.save-footer[data-v-fd2fc302] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n  padding-top: 0.6rem;\n  border-top: 1px solid rgba(var(--color-border-rgb), 0.2);\n}\n.save-footer .location[data-v-fd2fc302] {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  max-width: 120px;\n}\n.sync-status[data-v-fd2fc302] {\n  padding: 1px 4px;\n  border-radius: 3px;\n  font-weight: 600;\n  font-size: 0.7rem;\n}\n.sync-status.synced[data-v-fd2fc302] {\n  background: rgba(var(--color-success-rgb), 0.15);\n  color: var(--color-success);\n}\n\n/* ç©ºå­˜æ¡£ */\n.save-empty[data-v-fd2fc302] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  color: var(--color-text-secondary);\n  min-height: 100px;\n}\n.empty-slot-icon[data-v-fd2fc302] {\n  font-size: 2rem;\n  margin-bottom: 0.4rem;\n  opacity: 0.6;\n}\n.empty-text[data-v-fd2fc302] {\n  margin-bottom: 0.6rem;\n  font-size: 0.9rem;\n}\n.empty-desc[data-v-fd2fc302] {\n  font-size: 0.7rem;\n  color: var(--color-text-secondary);\n  opacity: 0.8;\n}\n.auto-save-desc[data-v-fd2fc302] {\n  font-size: 0.7rem;\n  color: var(--color-text-secondary);\n  display: block;\n  margin-top: 0.3rem;\n}\n\n/* å­˜æ¡£æ“ä½œæŒ‰é’® */\n.save-actions[data-v-fd2fc302] {\n  display: flex;\n  gap: 0.5rem;\n}\n.btn-edit-save[data-v-fd2fc302],\n.btn-delete-save[data-v-fd2fc302] {\n  cursor: pointer;\n  padding: 0.3rem 0.5rem;\n  border-radius: 4px;\n  transition: all 0.2s;\n  font-size: 0.7rem;\n  font-weight: 600;\n  border: 1px solid;\n  backdrop-filter: blur(5px);\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n  min-width: 24px;\n  height: 24px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.btn-edit-save[data-v-fd2fc302] {\n  background: rgba(var(--color-info-rgb), 0.1);\n  border-color: rgba(var(--color-info-rgb), 0.3);\n  color: var(--color-info);\n}\n.btn-edit-save[data-v-fd2fc302]:hover {\n  background: rgba(var(--color-info-rgb), 0.2);\n  border-color: rgba(var(--color-info-rgb), 0.5);\n  transform: translateY(-1px);\n  box-shadow: 0 4px 8px rgba(var(--color-info-rgb), 0.2);\n}\n.btn-delete-save[data-v-fd2fc302] {\n  background: rgba(var(--color-error-rgb), 0.1);\n  border-color: rgba(var(--color-error-rgb), 0.3);\n  color: var(--color-error);\n}\n.btn-delete-save[data-v-fd2fc302]:hover:not(.disabled):not(:disabled) {\n  background: rgba(var(--color-error-rgb), 0.2);\n  border-color: rgba(var(--color-error-rgb), 0.5);\n  transform: translateY(-1px);\n  box-shadow: 0 4px 8px rgba(var(--color-error-rgb), 0.2);\n}\n.btn-delete-save.disabled[data-v-fd2fc302],\n.btn-delete-save[data-v-fd2fc302]:disabled {\n  opacity: 0.4;\n  cursor: not-allowed;\n  background: rgba(128, 128, 128, 0.1) !important;\n  border-color: rgba(128, 128, 128, 0.2) !important;\n  color: #888 !important;\n  transform: none !important;\n  box-shadow: none !important;\n}\n\n/* æŒ‰é’®æ ·å¼ */\n.btn-start[data-v-fd2fc302], .btn-play[data-v-fd2fc302], .btn-sync[data-v-fd2fc302] {\n  padding: 0.6rem 1rem;\n  background: linear-gradient(135deg, var(--color-primary), var(--color-accent));\n  color: white;\n  border: 1px solid rgba(var(--color-primary-rgb), 0.5);\n  border-radius: 8px;\n  cursor: pointer;\n  font-size: 0.8rem;\n  font-weight: 600;\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  box-shadow: 0 2px 8px rgba(var(--color-primary-rgb), 0.25);\n  position: relative;\n  overflow: hidden;\n}\n.btn-start[data-v-fd2fc302]:hover, .btn-play[data-v-fd2fc302]:hover, .btn-sync[data-v-fd2fc302]:hover {\n  transform: translateY(-1px);\n  box-shadow: 0 4px 12px rgba(var(--color-primary-rgb), 0.35);\n}\n.btn-start[data-v-fd2fc302]::before, .btn-play[data-v-fd2fc302]::before, .btn-sync[data-v-fd2fc302]::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: -100%;\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.15), transparent);\n  transition: left 0.4s;\n}\n.btn-start[data-v-fd2fc302]:hover::before, .btn-play[data-v-fd2fc302]:hover::before, .btn-sync[data-v-fd2fc302]:hover::before {\n  left: 100%;\n}\n\n/* è”æœºæ¨¡å¼æ ·å¼ */\n.online-saves-container[data-v-fd2fc302] {\n  flex: 1;\n  overflow-y: auto;\n  overflow-x: hidden;\n  padding: 1rem;\n  height: 0;\n}\n.login-prompt[data-v-fd2fc302] {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  padding: 2rem;\n}\n.login-icon[data-v-fd2fc302] {\n  font-size: 3rem;\n  margin-bottom: 1rem;\n}\n.btn-login[data-v-fd2fc302] {\n  padding: 0.8rem 1.5rem;\n  background: var(--color-primary);\n  color: white;\n  border: 1px solid var(--color-primary-active);\n  border-radius: 8px;\n  cursor: pointer;\n  margin-top: 1rem;\n}\n.online-save-card[data-v-fd2fc302] {\n  background: linear-gradient(135deg, \n    rgba(var(--color-surface-rgb), 0.9), \n    rgba(var(--color-background-rgb), 0.7)\n  );\n  backdrop-filter: blur(15px);\n  border: 2px solid rgba(var(--color-border-rgb), 0.6);\n  border-radius: 8px;\n  padding: 0.9rem;\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  color: var(--color-text);\n  position: relative;\n  overflow: hidden;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n}\n.online-actions[data-v-fd2fc302] {\n  display: flex;\n  gap: 0.5rem;\n  margin-top: 1rem;\n  padding-top: 1rem;\n  border-top: 1px solid var(--color-border);\n}\n\n/* è¯¦æƒ…å¼¹çª— */\n.modal-overlay[data-v-fd2fc302] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 9999;\n  backdrop-filter: blur(4px);\n}\n.details-modal[data-v-fd2fc302] {\n  background: var(--color-surface-transparent);\n  backdrop-filter: blur(20px);\n  border-radius: 15px;\n  width: 90%;\n  max-width: 800px;\n  max-height: 90vh;\n  overflow-y: auto;\n  border: 1px solid var(--color-border);\n}\n.modal-header[data-v-fd2fc302] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1.5rem 2rem;\n  border-bottom: 1px solid var(--color-border);\n}\n.modal-header h3[data-v-fd2fc302] {\n  margin: 0;\n  color: var(--color-accent);\n}\n.btn-close[data-v-fd2fc302] {\n  background: none;\n  border: 1px solid var(--color-border);\n  font-size: 1.5rem;\n  color: var(--color-text-secondary);\n  cursor: pointer;\n  padding: 0.1rem;\n  width: 30px;\n  height: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 6px;\n}\n.modal-content[data-v-fd2fc302] {\n  padding: 2rem;\n}\n.details-grid[data-v-fd2fc302] {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 2rem;\n}\n.detail-section[data-v-fd2fc302] {\n  background: linear-gradient(135deg,\n    rgba(var(--color-primary-rgb), 0.08),\n    rgba(var(--color-accent-rgb), 0.06)\n  );\n  border: 1px solid rgba(var(--color-primary-rgb), 0.15);\n  border-radius: 10px;\n  padding: 1.5rem;\n  backdrop-filter: blur(8px);\n}\n.detail-section h4[data-v-fd2fc302] {\n  margin: 0 0 1rem 0;\n  color: var(--color-warning);\n}\n.detail-items[data-v-fd2fc302] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.8rem;\n}\n.detail-item[data-v-fd2fc302] {\n  display: flex;\n  justify-content: space-between;\n  padding: 0.5rem 0;\n  border-bottom: 1px solid rgba(var(--color-border-rgb), 0.3);\n}\n.detail-item .label[data-v-fd2fc302] {\n  color: var(--color-text-secondary);\n  font-weight: 500;\n}\n.detail-item .value[data-v-fd2fc302] {\n  color: var(--color-text);\n  font-weight: 600;\n}\n.attributes-display[data-v-fd2fc302] {\n  display: flex;\n  justify-content: center;\n}\n.talents-list[data-v-fd2fc302] {\n  min-height: 100px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n.talent-items[data-v-fd2fc302] {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 0.5rem;\n}\n.talent-tag[data-v-fd2fc302] {\n  background: rgba(var(--color-accent-rgb), 0.15);\n  color: var(--color-accent);\n  padding: 4px 8px;\n  border-radius: 6px;\n  font-size: 0.8rem;\n  font-weight: 500;\n}\n.no-talents[data-v-fd2fc302] {\n  color: var(--color-text-secondary);\n  font-style: italic;\n  text-align: center;\n}\n\n/* å“åº”å¼é€‚é… */\n@media (max-width: 1200px) {\n.grid-container[data-v-fd2fc302] {\n    grid-template-columns: 300px 1fr;\n}\n  \n  /* è°ƒæ•´åˆ†å‰²çº¿ä½ç½® */\n.grid-container[data-v-fd2fc302]::before {\n    left: 300px;\n}\n.manual-saves-grid[data-v-fd2fc302] {\n    grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));\n}\n}\n@media (max-width: 1024px) {\n.grid-container[data-v-fd2fc302] {\n    grid-template-columns: 280px 1fr;\n}\n  \n  /* è°ƒæ•´åˆ†å‰²çº¿ä½ç½® */\n.grid-container[data-v-fd2fc302]::before {\n    left: 280px;\n}\n.characters-panel[data-v-fd2fc302] {\n    max-width: 260px;\n}\n.save-card[data-v-fd2fc302], .online-save-card[data-v-fd2fc302] {\n    padding: 0.8rem;\n}\n.details-grid[data-v-fd2fc302] {\n    grid-template-columns: 1fr;\n    gap: 1.5rem;\n}\n}\n@media (max-width: 640px) {\n.mobile-header[data-v-fd2fc302] {\n    display: flex;\n}\n.character-management-panel[data-v-fd2fc302] {\n    height: 100%;\n    overflow: hidden;\n}\n.main-content[data-v-fd2fc302] {\n    flex: 1;\n    overflow: hidden;\n    min-height: 0;\n}\n.management-layout[data-v-fd2fc302] {\n    flex-direction: column;\n    height: 100%;\n}\n.grid-container[data-v-fd2fc302] {\n    grid-template-columns: 1fr;\n    grid-template-rows: auto 1fr auto;\n    grid-template-areas:\n      \"header-right\"\n      \"content-main\"\n      \"footer-main\";\n    order: 1;\n}\n\n  /* ç§»åŠ¨ç«¯éšè—å‚ç›´åˆ†å‰²çº¿ */\n.grid-container[data-v-fd2fc302]::before {\n    display: none;\n}\n.grid-header-left[data-v-fd2fc302] {\n    border-right: none;\n    border-bottom: 1px solid var(--color-border);\n    /* æ‰‹æœºç«¯éšè—å·¦ä¾§æ ‡é¢˜æ  */\n    display: none;\n}\n.grid-header-right[data-v-fd2fc302] {\n    padding: 0.8rem;\n    flex-direction: column;\n    align-items: stretch;\n    gap: 0.8rem;\n}\n.header-left-content[data-v-fd2fc302] {\n    gap: 0.3rem;\n}\n.save-actions-buttons[data-v-fd2fc302] {\n    width: 100%;\n    gap: 0.5rem;\n}\n.btn-save-action[data-v-fd2fc302] {\n    flex: 1;\n    padding: 0.7rem 0.8rem;\n    font-size: 0.8rem;\n    justify-content: center;\n}\n.btn-save-action span[data-v-fd2fc302] {\n    display: inline;\n}\n.grid-content-left[data-v-fd2fc302],\n  .grid-content-right[data-v-fd2fc302] {\n    grid-area: content-main;\n    position: relative;\n    overflow: hidden;\n    height: 100%;\n}\n.grid-footer-left[data-v-fd2fc302],\n  .grid-footer-right[data-v-fd2fc302] {\n    grid-area: footer-main;\n    border-right: none;\n}\n.characters-panel[data-v-fd2fc302] {\n    position: fixed;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    width: 85%;\n    max-width: 280px;\n    z-index: 1200;\n    transform: translateX(-100%);\n    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    box-shadow: 0 0 30px rgba(0, 0, 0, 0.3);\n    border: none;\n    background: var(--color-surface);\n    backdrop-filter: blur(20px);\n    margin: 0;\n    padding: 0;\n    border-right: none;\n}\n.characters-panel.is-open[data-v-fd2fc302] {\n    transform: translateX(0);\n}\n.saves-panel[data-v-fd2fc302] {\n    width: 100%;\n    border-left: none;\n}\n.saves-container[data-v-fd2fc302], .online-saves-container[data-v-fd2fc302] {\n    padding: 1rem 1.2rem;\n    flex: 1;\n    min-height: 0;\n    max-height: none;\n}\n.auto-saves-grid[data-v-fd2fc302] {\n    grid-template-columns: 1fr;\n    gap: 0.8rem;\n}\n.manual-saves-grid[data-v-fd2fc302] {\n    grid-template-columns: 1fr;\n    gap: 0.8rem;\n    max-height: 300px;\n}\n.modal-content[data-v-fd2fc302] {\n    padding: 1rem;\n}\n.details-modal[data-v-fd2fc302] {\n    width: 95%;\n    max-height: 85vh;\n}\n.dialog-box[data-v-fd2fc302] {\n    width: 95%;\n    max-width: 400px;\n    padding: 1.5rem;\n}\n.characters-grid[data-v-fd2fc302] {\n    padding: 1rem;\n}\n.character-card[data-v-fd2fc302] {\n    padding: 1rem;\n    margin-bottom: 0.8rem;\n    transition: all 0.2s ease;\n}\n.character-card[data-v-fd2fc302]:active {\n    transform: scale(0.98);\n    background: linear-gradient(135deg, \n      rgba(var(--color-primary-rgb), 0.05), \n      rgba(var(--color-accent-rgb), 0.03)\n    );\n}\n.card-header[data-v-fd2fc302] {\n    flex-wrap: wrap;\n    gap: 0.8rem;\n}\n.char-info[data-v-fd2fc302] {\n    min-width: 120px;\n}\n.char-meta[data-v-fd2fc302] {\n    flex-wrap: wrap;\n    gap: 0.5rem;\n}\n}\n@media (max-width: 640px) {\n.mobile-header[data-v-fd2fc302] {\n    padding: 0.8rem 1rem;\n}\n.mobile-menu-btn[data-v-fd2fc302] {\n    padding: 0.4rem 0.6rem;\n    font-size: 0.8rem;\n    min-height: 44px;\n    min-width: 44px;\n}\n.mobile-title h2[data-v-fd2fc302] {\n    font-size: 1.1rem;\n}\n.mobile-title .selected-info[data-v-fd2fc302] {\n    font-size: 0.75rem;\n}\n.characters-panel[data-v-fd2fc302] {\n    width: 90%;\n    max-width: 300px;\n}\n.character-card[data-v-fd2fc302] {\n    padding: 0.9rem;\n    position: relative;\n    overflow: hidden;\n}\n.character-card[data-v-fd2fc302]::after {\n    content: '';\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    width: 0;\n    height: 0;\n    background: rgba(var(--color-primary-rgb), 0.1);\n    border-radius: 50%;\n    transform: translate(-50%, -50%);\n    transition: width 0.3s ease, height 0.3s ease;\n    pointer-events: none;\n}\n.character-card[data-v-fd2fc302]:active::after {\n    width: 200px;\n    height: 200px;\n}\n.save-card[data-v-fd2fc302], .online-save-card[data-v-fd2fc302] {\n    padding: 1rem;\n    position: relative;\n    overflow: hidden;\n}\n.save-card[data-v-fd2fc302]::after, .online-save-card[data-v-fd2fc302]::after {\n    content: '';\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    width: 0;\n    height: 0;\n    background: rgba(var(--color-success-rgb), 0.1);\n    border-radius: 50%;\n    transform: translate(-50%, -50%);\n    transition: width 0.3s ease, height 0.3s ease;\n    pointer-events: none;\n}\n.save-card[data-v-fd2fc302]:active::after, .online-save-card[data-v-fd2fc302]:active::after {\n    width: 150px;\n    height: 150px;\n}\n.auto-saves-grid[data-v-fd2fc302] {\n    gap: 0.6rem;\n}\n.manual-saves-grid[data-v-fd2fc302] {\n    gap: 0.6rem;\n}\n}\n@media (max-width: 480px) {\n.empty-actions[data-v-fd2fc302] {\n    flex-direction: column;\n}\n.btn-create[data-v-fd2fc302], .btn-import[data-v-fd2fc302] {\n    width: 100%;\n}\n.mobile-header[data-v-fd2fc302] {\n    padding: 0.6rem 0.8rem;\n}\n.mobile-menu-btn[data-v-fd2fc302] {\n    padding: 0.4rem 0.5rem;\n    min-height: 44px;\n    min-width: 44px;\n}\n.mobile-title h2[data-v-fd2fc302] {\n    font-size: 1rem;\n}\n.hamburger[data-v-fd2fc302] {\n    width: 14px;\n    height: 10px;\n}\n.characters-panel[data-v-fd2fc302] {\n    width: 95%;\n    max-width: 280px;\n}\n.characters-grid[data-v-fd2fc302] {\n    padding: 0.8rem;\n}\n.character-card[data-v-fd2fc302] {\n    padding: 0.8rem;\n    margin-bottom: 0.8rem;\n    min-height: 80px;\n}\n.btn-save-action span[data-v-fd2fc302] {\n    font-size: 0.75rem;\n}\n.card-header[data-v-fd2fc302] {\n    margin-bottom: 0.8rem;\n    gap: 0.6rem;\n}\n.char-avatar[data-v-fd2fc302] {\n    width: 40px;\n    height: 40px;\n    font-size: 1.1rem;\n}\n.mode-indicator[data-v-fd2fc302] {\n    width: 16px;\n    height: 16px;\n    font-size: 0.6rem;\n}\n.char-name[data-v-fd2fc302] {\n    font-size: 1rem;\n}\n.char-meta[data-v-fd2fc302] {\n    font-size: 0.8rem;\n}\n.saves-container[data-v-fd2fc302], .online-saves-container[data-v-fd2fc302] {\n    padding: 0.8rem;\n    flex: 1;\n    min-height: 0;\n    max-height: none;\n}\n.save-card[data-v-fd2fc302], .online-save-card[data-v-fd2fc302] {\n    padding: 0.9rem;\n    min-height: 120px;\n}\n.stat-grid[data-v-fd2fc302] {\n    grid-template-columns: 1fr;\n    gap: 0.5rem;\n}\n.save-footer[data-v-fd2fc302] {\n    flex-direction: column;\n    gap: 0.3rem;\n    align-items: flex-start;\n}\n.dialog-box[data-v-fd2fc302] {\n    width: 95%;\n    padding: 1.2rem;\n    max-height: 90vh;\n    overflow-y: auto;\n}\n.dialog-title[data-v-fd2fc302] {\n    font-size: 1.3rem;\n}\n.dialog-actions[data-v-fd2fc302] {\n    flex-direction: column-reverse;\n    gap: 0.8rem;\n}\n.btn-dialog-confirm[data-v-fd2fc302],\n  .btn-dialog-cancel[data-v-fd2fc302] {\n    width: 100%;\n    padding: 0.8rem;\n    min-height: 44px;\n    font-size: 1rem;\n}\n.details-grid[data-v-fd2fc302] {\n    grid-template-columns: 1fr;\n    gap: 1rem;\n}\n.detail-section[data-v-fd2fc302] {\n    padding: 1rem;\n}\n.btn-details[data-v-fd2fc302], .btn-export[data-v-fd2fc302], .btn-delete[data-v-fd2fc302] {\n    min-height: 36px;\n    font-size: 0.85rem;\n    padding: 0.6rem 0.8rem;\n}\n.btn-start[data-v-fd2fc302], .btn-play[data-v-fd2fc302], .btn-sync[data-v-fd2fc302] {\n    min-height: 40px;\n    padding: 0.7rem 1rem;\n    font-size: 0.85rem;\n}\n}\n@media (max-width: 360px) {\n.mobile-header[data-v-fd2fc302] {\n    padding: 0.5rem;\n}\n.mobile-menu-btn[data-v-fd2fc302] {\n    padding: 0.3rem 0.4rem;\n    gap: 0.3rem;\n    min-height: 40px;\n    min-width: 40px;\n}\n.mobile-title h2[data-v-fd2fc302] {\n    font-size: 0.95rem;\n}\n.mobile-title .selected-info[data-v-fd2fc302] {\n    font-size: 0.7rem;\n}\n.characters-panel[data-v-fd2fc302] {\n    width: 100%;\n    max-width: 260px;\n    min-width: 240px;\n}\n.character-card[data-v-fd2fc302] {\n    padding: 0.6rem;\n    min-height: 70px;\n}\n.save-card[data-v-fd2fc302], .online-save-card[data-v-fd2fc302] {\n    padding: 0.8rem;\n    min-height: 100px;\n}\n.save-header[data-v-fd2fc302] {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 0.5rem;\n}\n.save-badges[data-v-fd2fc302] {\n    align-self: stretch;\n    justify-content: flex-start;\n}\n.dialog-box[data-v-fd2fc302] {\n    width: 98%;\n    padding: 1rem;\n    margin: 0.5rem;\n    max-height: 95vh;\n}\n.dialog-title[data-v-fd2fc302] {\n    font-size: 1.1rem;\n}\n.dialog-message[data-v-fd2fc302] {\n    font-size: 0.9rem;\n    line-height: 1.5;\n}\n.dialog-input[data-v-fd2fc302] {\n    padding: 0.7rem;\n    font-size: 0.9rem;\n}\n.btn-dialog-confirm[data-v-fd2fc302],\n  .btn-dialog-cancel[data-v-fd2fc302] {\n    padding: 0.7rem;\n    font-size: 0.9rem;\n    min-height: 40px;\n}\n.character-management-panel[data-v-fd2fc302] {\n    height: 100%;\n    overflow: hidden;\n}\n.main-content[data-v-fd2fc302] {\n    flex: 1;\n    overflow: hidden;\n    min-height: 0;\n}\n.saves-container[data-v-fd2fc302], .online-saves-container[data-v-fd2fc302] {\n    flex: 1;\n    min-height: 0;\n    padding: 0.6rem;\n    max-height: none;\n}\n.char-name[data-v-fd2fc302] {\n    font-size: 0.9rem;\n}\n.char-meta[data-v-fd2fc302] {\n    font-size: 0.75rem;\n}\n.save-count .count[data-v-fd2fc302] {\n    font-size: 1rem;\n}\n.save-count .label[data-v-fd2fc302] {\n    font-size: 0.65rem;\n}\n}\n\n/* Style unification overrides */\n/* Replace absolute divider with contextual borders */\n.grid-container[data-v-fd2fc302]::before { content: none;\n}\n.grid-header-left[data-v-fd2fc302],\n.grid-content-left[data-v-fd2fc302],\n.grid-footer-left[data-v-fd2fc302] {\n  border-right: var(--cm-divider-width) solid var(--color-primary);\n  box-sizing: border-box;\n}\n\n/* Ensure left column fills its grid cell at &lt;=1024px (fix misaligned divider) */\n@media (max-width: 1024px) {\n.grid-content-left.characters-panel[data-v-fd2fc302] {\n    max-width: none;\n    width: 100%;\n}\n}\n\n/* Consistent radii across controls */\n.dialog-box[data-v-fd2fc302] { border-radius: var(--cm-radius-lg);\n}\n.dialog-input[data-v-fd2fc302] { border-radius: var(--cm-radius-md);\n}\n.btn-dialog-confirm[data-v-fd2fc302],\n.btn-dialog-cancel[data-v-fd2fc302] { border-radius: var(--cm-radius-md);\n}\n.fullscreen-back-btn[data-v-fd2fc302] { border-radius: var(--cm-radius-md);\n}\n.character-card[data-v-fd2fc302] { border-radius: var(--cm-radius-sm);\n}\n.save-card[data-v-fd2fc302],\n.online-save-card[data-v-fd2fc302] { border-radius: var(--cm-radius-md);\n}\n.btn-details[data-v-fd2fc302],\n.btn-delete[data-v-fd2fc302] { border-radius: var(--cm-radius-md);\n}\n.btn-start[data-v-fd2fc302],\n.btn-play[data-v-fd2fc302],\n.btn-sync[data-v-fd2fc302] { border-radius: var(--cm-radius-md);\n}\n.btn-login[data-v-fd2fc302],\n.btn-close[data-v-fd2fc302] { border-radius: var(--cm-radius-md);\n}\n\n/* Desktop card density adjustments: make character list less flat */\n@media (min-width: 769px) {\n.characters-grid[data-v-fd2fc302] { padding: 0.8rem;\n}\n.character-card[data-v-fd2fc302] {\n    min-height: var(--cm-card-min-h);\n    padding: var(--cm-card-padding);\n}\n.card-header[data-v-fd2fc302] {\n    gap: var(--cm-header-gap);\n    margin-bottom: 0.6rem;\n}\n.char-avatar[data-v-fd2fc302] {\n    width: var(--cm-avatar-size);\n    height: var(--cm-avatar-size);\n    font-size: 0.95rem;\n}\n.char-name[data-v-fd2fc302] { font-size: var(--cm-name-font);\n}\n.char-meta[data-v-fd2fc302] { font-size: var(--cm-meta-font);\n}\n.save-count[data-v-fd2fc302] { min-width: var(--cm-save-count-minw);\n}\n.save-count .count[data-v-fd2fc302] { font-size: var(--cm-save-count-count-font);\n}\n.save-count .label[data-v-fd2fc302] { font-size: var(--cm-save-count-label-font);\n}\n}\n",""]);const i=l},2753:(e,n,t)=&gt;{t.d(n,{A:()=&gt;i});var a=t(1601),o=t.n(a),r=t(6314),l=t.n(r)()(o());l.push([e.id,"\n.talent-selection-container[data-v-5a49dc56] {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n.loading-state[data-v-5a49dc56],\n.error-state[data-v-5a49dc56],\n.placeholder[data-v-5a49dc56] {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  font-size: 1.2rem;\n  color: var(--color-text-secondary);\n}\n.talent-layout[data-v-5a49dc56] {\n  display: grid;\n  grid-template-columns: 1fr 2fr;\n  gap: 2rem;\n  height: 100%;\n  overflow: hidden;\n}\n.talent-left-panel[data-v-5a49dc56] {\n  display: flex;\n  flex-direction: column;\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  overflow: hidden;\n  background: var(--color-surface);\n}\n\n/* é¡¶éƒ¨åŠŸèƒ½æŒ‰é’® */\n.top-actions-container[data-v-5a49dc56] {\n  display: flex;\n  gap: 0.5rem;\n  padding: 0.75rem;\n  border-bottom: 1px solid var(--color-border);\n  background: rgba(0, 0, 0, 0.1);\n  justify-content: flex-end;\n}\n.top-actions-container .action-item[data-v-5a49dc56] {\n  padding: 0.5rem 1rem;\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  background: var(--color-surface-light);\n  color: var(--color-text);\n  cursor: pointer;\n  transition: all 0.2s ease;\n  font-size: 0.9rem;\n  white-space: nowrap;\n}\n.top-actions-container .action-item[data-v-5a49dc56]:hover {\n  background: var(--color-surface-lighter);\n  border-color: var(--color-primary);\n  color: var(--color-primary);\n}\n.talent-list-container[data-v-5a49dc56] {\n  flex: 1;\n  overflow-y: auto;\n  padding: 0.5rem;\n}\n.talent-list-container[data-v-5a49dc56]::-webkit-scrollbar { width: 8px;\n}\n.talent-list-container[data-v-5a49dc56]::-webkit-scrollbar-track { background: rgba(0, 0, 0, 0.2); border-radius: 4px;\n}\n.talent-list-container[data-v-5a49dc56]::-webkit-scrollbar-thumb { background: rgba(180, 142, 173, 0.3); border-radius: 4px;\n}\n.talent-list-container[data-v-5a49dc56]::-webkit-scrollbar-thumb:hover { background: rgba(180, 142, 173, 0.5);\n}\n.talent-item[data-v-5a49dc56] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0.8rem 1rem;\n  margin-bottom: 0.5rem;\n  border-radius: 6px;\n  cursor: pointer;\n  transition: all 0.2s ease-in-out;\n  border-left: 3px solid transparent;\n}\n.item-content[data-v-5a49dc56] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex-grow: 1;\n  gap: 0.5rem;\n}\n.talent-cost[data-v-5a49dc56] {\n  color: var(--color-text-secondary);\n  font-size: 0.85rem;\n  white-space: nowrap;\n  flex-shrink: 0;\n}\n\n/* æŒ‰é’®ç»„å®¹å™¨ */\n.action-buttons[data-v-5a49dc56] {\n  display: flex;\n  align-items: center;\n  gap: 0.3rem;\n  opacity: 0;\n  transition: opacity 0.2s;\n  margin-left: 0.5rem;\n}\n.talent-item:hover .action-buttons[data-v-5a49dc56] {\n  opacity: 1;\n}\n\n/* ç¼–è¾‘æŒ‰é’® */\n.edit-btn[data-v-5a49dc56] {\n  background: none;\n  border: none;\n  color: var(--color-text-secondary);\n  cursor: pointer;\n  padding: 0.3rem;\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: opacity 0.2s, color 0.2s, background-color 0.2s;\n}\n.edit-btn[data-v-5a49dc56]:hover {\n  color: var(--color-primary);\n  background-color: rgba(59, 130, 246, 0.1);\n}\n.delete-btn[data-v-5a49dc56] {\n  background: none;\n  border: none;\n  color: var(--color-text-secondary);\n  cursor: pointer;\n  padding: 0.3rem;\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: opacity 0.2s, color 0.2s, background-color 0.2s;\n}\n.delete-btn[data-v-5a49dc56]:hover {\n  color: var(--color-danger);\n  background-color: rgba(255, 0, 0, 0.1);\n}\n.talent-item[data-v-5a49dc56]:hover {\n  background: rgba(180, 142, 173, 0.1);\n}\n.talent-item.selected[data-v-5a49dc56] {\n  background: rgba(180, 142, 173, 0.2);\n  color: #b48ead;\n  border-left: 3px solid #b48ead;\n  font-weight: 600;\n}\n.talent-name[data-v-5a49dc56] {\n  font-weight: 500;\n}\n.single-actions-container[data-v-5a49dc56] {\n  border-top: 1px solid var(--color-border);\n  background: rgba(0, 0, 0, 0.3);\n  padding: 0.5rem;\n  display: flex;\n  gap: 0.5rem;\n}\n.action-item[data-v-5a49dc56] {\n  flex: 1;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 0.8rem 1rem;\n  border-radius: 6px;\n  cursor: pointer;\n  transition: all 0.2s ease-in-out;\n  border: 1px solid var(--color-border);\n  background: var(--color-surface-light);\n  color: var(--color-text);\n  font-size: 1rem;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  min-width: 0;\n}\n.action-item[data-v-5a49dc56]:hover {\n  background: var(--color-surface-lighter);\n  border-color: var(--color-primary);\n  color: var(--color-primary);\n}\n.action-name[data-v-5a49dc56] {\n  font-weight: 500;\n}\n.talent-details-container[data-v-5a49dc56] {\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  padding: 1.5rem;\n  background: var(--color-surface);\n}\n.talent-details[data-v-5a49dc56] {\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  min-height: 0;\n}\n.talent-details h2[data-v-5a49dc56] {\n  margin-top: 0;\n  margin-bottom: 1rem;\n  color: #b48ead;\n  flex-shrink: 0;\n}\n.description-scroll[data-v-5a49dc56] {\n  flex: 1;\n  overflow-y: auto;\n  line-height: 1.6;\n  margin-bottom: 1rem;\n  padding-right: 0.5rem;\n}\n.description-scroll p[data-v-5a49dc56] {\n  margin: 0;\n  white-space: pre-wrap;\n  color: var(--color-text-secondary);\n}\n.description-scroll[data-v-5a49dc56]::-webkit-scrollbar { width: 8px;\n}\n.description-scroll[data-v-5a49dc56]::-webkit-scrollbar-track { background: rgba(0, 0, 0, 0.2); border-radius: 4px;\n}\n.description-scroll[data-v-5a49dc56]::-webkit-scrollbar-thumb { background: rgba(180, 142, 173, 0.3); border-radius: 4px;\n}\n.description-scroll[data-v-5a49dc56]::-webkit-scrollbar-thumb:hover { background: rgba(180, 142, 173, 0.5);\n}\n\n/* å“åº”å¼é€‚é… - æ‰‹æœºç«¯ä¼˜åŒ– */\n@media (max-width: 1200px) {\n.talent-layout[data-v-5a49dc56] {\n    grid-template-columns: 1fr 1.8fr;\n    gap: 1.5rem;\n}\n}\n@media (max-width: 1024px) {\n.talent-layout[data-v-5a49dc56] {\n    grid-template-columns: 1fr 1.5fr;\n    gap: 1.2rem;\n}\n.talent-details h2[data-v-5a49dc56] {\n    font-size: 1.6rem;\n}\n}\n@media (max-width: 640px) {\n.top-actions-container[data-v-5a49dc56] {\n    flex-wrap: wrap;\n    justify-content: stretch;\n}\n.top-actions-container .action-item[data-v-5a49dc56] {\n    flex-grow: 1;\n    text-align: center;\n}\n.talent-layout[data-v-5a49dc56] {\n    /* æ”¹ä¸ºå‚ç›´å †å å¸ƒå±€ */\n    grid-template-columns: 1fr;\n    grid-template-rows: auto 1fr;\n    gap: 1rem;\n    height: auto;\n    overflow: visible;\n    padding: 0.8rem;\n}\n.talent-left-panel[data-v-5a49dc56] {\n    order: 1;\n    max-height: 40vh;\n}\n.talent-details-container[data-v-5a49dc56] {\n    order: 2;\n    min-height: 300px;\n}\n.talent-list-container[data-v-5a49dc56] {\n    max-height: 35vh;\n    /* æ·»åŠ è§¦æ‘¸æ»šåŠ¨ä¼˜åŒ– */\n    -webkit-overflow-scrolling: touch;\n    scrollbar-width: thin;\n}\n  \n  /* ä¼˜åŒ–è§¦æ‘¸ä½“éªŒ */\n.talent-item[data-v-5a49dc56],\n  .action-item[data-v-5a49dc56] {\n    -webkit-tap-highlight-color: transparent;\n    touch-action: manipulation;\n}\n}\n@media (max-width: 640px) {\n.talent-layout[data-v-5a49dc56] {\n    gap: 0.8rem;\n    padding: 0.6rem;\n}\n.talent-left-panel[data-v-5a49dc56] {\n    max-height: 35vh;\n}\n.talent-list-container[data-v-5a49dc56] {\n    max-height: 30vh;\n    padding: 0.5rem;\n}\n.talent-item[data-v-5a49dc56] {\n    padding: 0.7rem;\n    font-size: 0.95rem;\n    margin-bottom: 0.4rem;\n}\n.single-actions-container[data-v-5a49dc56] {\n    padding: 0.5rem;\n    gap: 0.4rem;\n}\n.action-item[data-v-5a49dc56] {\n    padding: 0.7rem 1rem;\n    font-size: 0.9rem;\n}\n.talent-details-container[data-v-5a49dc56] {\n    padding: 1.2rem;\n    min-height: 250px;\n}\n.talent-details h2[data-v-5a49dc56] {\n    font-size: 1.4rem;\n    margin-bottom: 0.8rem;\n}\n}\n@media (max-width: 480px) {\n.top-actions-container[data-v-5a49dc56] {\n    flex-direction: column;\n    align-items: stretch;\n}\n.talent-selection-container[data-v-5a49dc56] {\n    padding: 0.4rem;\n    height: auto;\n    overflow-y: auto;\n    -webkit-overflow-scrolling: touch;\n}\n.talent-layout[data-v-5a49dc56] {\n    gap: 0.6rem;\n    padding: 0;\n    height: auto;\n    min-height: 0;\n}\n.talent-left-panel[data-v-5a49dc56] {\n    max-height: none;\n    border-radius: 6px;\n}\n.talent-list-container[data-v-5a49dc56] {\n    max-height: 26vh;\n    padding: 0.4rem;\n}\n.talent-item[data-v-5a49dc56] {\n    padding: 0.6rem 0.8rem;\n    font-size: 0.9rem;\n    margin-bottom: 0.3rem;\n    border-radius: 4px;\n}\n.talent-name[data-v-5a49dc56] {\n    font-size: 0.9rem;\n}\n.single-actions-container[data-v-5a49dc56] {\n    flex-direction: column;\n    gap: 0.4rem;\n    padding: 0.4rem;\n}\n.action-item[data-v-5a49dc56] {\n    padding: 0.6rem;\n    font-size: 0.85rem;\n    border-radius: 4px;\n}\n.talent-details-container[data-v-5a49dc56] {\n    padding: 1rem;\n    min-height: 200px;\n    border-radius: 6px;\n}\n.talent-details h2[data-v-5a49dc56] {\n    font-size: 1.3rem;\n    margin-bottom: 0.6rem;\n}\n.description-scroll[data-v-5a49dc56] {\n    font-size: 0.9rem;\n    line-height: 1.5;\n    padding-right: 0.3rem;\n}\n.placeholder[data-v-5a49dc56] {\n    font-size: 1rem;\n    padding: 1rem;\n    text-align: center;\n    min-height: 150px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n.top-actions-container[data-v-5a49dc56] {\n    flex-direction: column;\n    align-items: stretch;\n    padding: 0.5rem;\n}\n.top-actions-container .action-item[data-v-5a49dc56] {\n    text-align: center;\n}\n}\n@media (max-width: 360px) {\n.talent-selection-container[data-v-5a49dc56] {\n    padding: 0.3rem;\n}\n.talent-layout[data-v-5a49dc56] {\n    gap: 0.4rem;\n}\n.talent-left-panel[data-v-5a49dc56] {\n    max-height: 28vh;\n}\n.talent-list-container[data-v-5a49dc56] {\n    max-height: 24vh;\n    padding: 0.3rem;\n}\n.talent-item[data-v-5a49dc56] {\n    padding: 0.5rem 0.6rem;\n    font-size: 0.85rem;\n    margin-bottom: 0.2rem;\n}\n.talent-name[data-v-5a49dc56] {\n    font-size: 0.8rem;\n}\n.talent-details-container[data-v-5a49dc56] {\n    padding: 0.8rem;\n    min-height: 180px;\n}\n.talent-details h2[data-v-5a49dc56] {\n    font-size: 1.1rem;\n    margin-bottom: 0.5rem;\n}\n.description-scroll[data-v-5a49dc56] {\n    font-size: 0.85rem;\n    line-height: 1.4;\n}\n.action-item[data-v-5a49dc56] {\n    padding: 0.5rem;\n    font-size: 0.8rem;\n}\n.placeholder[data-v-5a49dc56] {\n    font-size: 0.9rem;\n    padding: 0.8rem;\n    min-height: 120px;\n}\n}\n",""]);const i=l},2881:(e,n,t)=&gt;{t.d(n,{A:()=&gt;i});var a=t(1601),o=t.n(a),r=t(6314),l=t.n(r)()(o());l.push([e.id,"\n.attribute-allocation-container[data-v-0d0d1bb1] {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  color: var(--color-text);\n}\n.header[data-v-0d0d1bb1] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 1.5rem;\n  padding-bottom: 1rem;\n  border-bottom: 1px solid var(--color-border);\n}\n.points-display .negative[data-v-0d0d1bb1] {\n  color: var(--color-error) !important;\n}\nh2[data-v-0d0d1bb1] {\n  margin: 0;\n  color: var(--color-accent);\n}\n.points-display[data-v-0d0d1bb1] {\n  font-size: 1.2rem;\n  color: var(--color-text-secondary);\n}\n.points-display span[data-v-0d0d1bb1] {\n  font-weight: bold;\n  color: var(--color-primary);\n  font-size: 1.5rem;\n}\n.attributes-list[data-v-0d0d1bb1] {\n  overflow-y: auto;\n  flex-grow: 1;\n}\n.attribute-item[data-v-0d0d1bb1] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1rem 0;\n  border-bottom: 1px solid var(--color-border);\n}\n.attribute-item[data-v-0d0d1bb1]:last-child {\n  border-bottom: none;\n}\n.attribute-info[data-v-0d0d1bb1] {\n  flex-basis: 70%;\n}\n.attribute-name[data-v-0d0d1bb1] {\n  font-size: 1.1rem;\n  font-weight: 500;\n  color: var(--color-accent);\n}\n.attribute-desc[data-v-0d0d1bb1] {\n  font-size: 0.85rem;\n  color: var(--color-text-secondary);\n  margin: 0.3rem 0 0 0;\n  line-height: 1.4;\n}\n.attribute-controls[data-v-0d0d1bb1] {\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n}\n.attribute-controls button[data-v-0d0d1bb1] {\n  width: 35px;\n  height: 35px;\n  border-radius: 50%;\n  background: var(--color-surface);\n  border: 1px solid var(--color-border);\n  color: var(--color-accent);\n  font-size: 1.5rem;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.attribute-controls button[data-v-0d0d1bb1]:hover:not(:disabled) {\n  background: var(--color-accent);\n  color: var(--color-surface);\n  border-color: var(--color-accent);\n}\n.attribute-controls button[data-v-0d0d1bb1]:disabled,\n.attribute-controls button.disabled[data-v-0d0d1bb1] {\n  opacity: 0.4;\n  cursor: not-allowed;\n  background: var(--color-surface-light);\n  border-color: var(--color-border);\n  color: var(--color-text-muted);\n}\n.attribute-value[data-v-0d0d1bb1] {\n  font-size: 1.4rem;\n  font-weight: bold;\n  min-width: 30px;\n  text-align: center;\n  color: var(--color-text);\n}\n.actions[data-v-0d0d1bb1] {\n  padding-top: 1rem;\n  display: flex;\n  justify-content: center;\n  gap: 0.75rem;\n  flex-wrap: wrap;\n}\n.actions button[data-v-0d0d1bb1] {\n  padding: 0.5rem 1.5rem;\n  border: 1px solid var(--color-border);\n  background: var(--color-surface);\n  color: var(--color-text);\n  border-radius: 6px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n.actions button[data-v-0d0d1bb1]:hover {\n  background: var(--color-surface-hover);\n  border-color: var(--color-border-hover);\n}\n.actions .btn-secondary[data-v-0d0d1bb1] {\n  border-color: var(--color-text-secondary);\n  color: var(--color-text-secondary);\n}\n.actions .btn-secondary[data-v-0d0d1bb1]:hover {\n  background: var(--color-text-secondary);\n  color: var(--color-surface);\n}\n.actions .btn-warning[data-v-0d0d1bb1] {\n  border-color: var(--color-warning);\n  color: var(--color-warning);\n}\n.actions .btn-warning[data-v-0d0d1bb1]:hover {\n  background: var(--color-warning);\n  color: var(--color-surface);\n}\n.actions .btn-success[data-v-0d0d1bb1] {\n  border-color: var(--color-success);\n  color: var(--color-success);\n}\n.actions .btn-success[data-v-0d0d1bb1]:hover {\n  background: var(--color-success);\n  color: var(--color-surface);\n}\n\n/* å“åº”å¼è®¾è®¡ */\n@media (max-width: 768px) {\n.header[data-v-0d0d1bb1] {\n    flex-direction: column;\n    gap: 0.75rem;\n    text-align: center;\n    padding-bottom: 0.75rem;\n}\n.header h2[data-v-0d0d1bb1] {\n    font-size: 1.4rem;\n}\n.points-display[data-v-0d0d1bb1] {\n    font-size: 1.1rem;\n}\n.points-display span[data-v-0d0d1bb1] {\n    font-size: 1.3rem;\n}\n.attribute-item[data-v-0d0d1bb1] {\n    flex-direction: row;\n    gap: 0.75rem;\n    padding: 0.75rem 0;\n}\n.attribute-info[data-v-0d0d1bb1] {\n    flex-basis: 60%;\n}\n.attribute-name[data-v-0d0d1bb1] {\n    font-size: 1rem;\n}\n.attribute-desc[data-v-0d0d1bb1] {\n    font-size: 0.8rem;\n}\n.attribute-controls[data-v-0d0d1bb1] {\n    justify-content: flex-end;\n    gap: 0.75rem;\n}\n.attribute-controls button[data-v-0d0d1bb1] {\n    width: 36px;\n    height: 36px;\n    font-size: 1.6rem;\n}\n.attribute-value[data-v-0d0d1bb1] {\n    font-size: 1.4rem;\n    min-width: 35px;\n}\n.actions[data-v-0d0d1bb1] {\n    gap: 0.75rem;\n    padding-top: 0.75rem;\n}\n.actions button[data-v-0d0d1bb1] {\n    padding: 0.6rem 1.5rem;\n    font-size: 0.95rem;\n}\n}\n@media (max-width: 640px) {\n.header[data-v-0d0d1bb1] {\n    gap: 1rem;\n}\n.attribute-item[data-v-0d0d1bb1] {\n    flex-direction: column;\n    gap: 1rem;\n    padding: 1.5rem 0;\n}\n.attribute-info[data-v-0d0d1bb1] {\n    flex-basis: auto;\n    text-align: center;\n}\n.attribute-controls[data-v-0d0d1bb1] {\n    justify-content: center;\n    gap: 1.5rem;\n}\n.attribute-controls button[data-v-0d0d1bb1] {\n    width: 40px;\n    height: 40px;\n    font-size: 1.8rem;\n}\n.attribute-value[data-v-0d0d1bb1] {\n    font-size: 1.6rem;\n    min-width: 40px;\n}\n.actions[data-v-0d0d1bb1] {\n    gap: 1rem;\n}\n.actions button[data-v-0d0d1bb1] {\n    padding: 0.75rem 2rem;\n    font-size: 1rem;\n}\n}\n@media (max-width: 480px) {\n.header h2[data-v-0d0d1bb1] {\n    font-size: 1.5rem;\n}\n.points-display[data-v-0d0d1bb1] {\n    font-size: 1rem;\n}\n.points-display span[data-v-0d0d1bb1] {\n    font-size: 1.3rem;\n}\n.attribute-name[data-v-0d0d1bb1] {\n    font-size: 1rem;\n}\n.attribute-desc[data-v-0d0d1bb1] {\n    font-size: 0.8rem;\n}\n.attribute-controls button[data-v-0d0d1bb1] {\n    width: 36px;\n    height: 36px;\n    font-size: 1.6rem;\n}\n.attribute-value[data-v-0d0d1bb1] {\n    font-size: 1.4rem;\n}\n.actions[data-v-0d0d1bb1] {\n    flex-direction: column;\n    align-items: center;\n}\n.actions button[data-v-0d0d1bb1] {\n    width: 100%;\n    max-width: 200px;\n}\n}\n",""]);const i=l},3019:(e,n,t)=&gt;{t.d(n,{A:()=&gt;i});var a=t(1601),o=t.n(a),r=t(6314),l=t.n(r)()(o());l.push([e.id,'\n.hexagon-chart-container[data-v-256c0aae] {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n/* æµ…è‰²ä¸»é¢˜ - é‡‘è¾‰ä»™å…‰ */\n.grid-line[data-v-256c0aae] {\n  fill: none;\n  stroke: var(--color-primary);\n  stroke-width: 1;\n  opacity: 0.2;\n}\n.data-polygon[data-v-256c0aae] {\n  fill: url(#goldGradient);\n  stroke: var(--color-primary);\n  stroke-width: 2.5;\n  filter: drop-shadow(0 0 8px rgba(218, 165, 32, 0.3));\n  transition: all 0.3s ease;\n}\n.data-polygon[data-v-256c0aae]:hover {\n  filter: drop-shadow(0 0 15px rgba(255, 215, 0, 0.5));\n}\n.data-point[data-v-256c0aae] {\n  fill: var(--color-accent);\n  stroke: rgba(255, 255, 255, 0.9);\n  stroke-width: 2;\n  filter: drop-shadow(0 0 4px rgba(255, 140, 0, 0.4));\n}\n.data-value-text[data-v-256c0aae] {\n  fill: var(--color-text);\n  font-size: 12px;\n  font-weight: bold;\n  font-family: var(--font-family-serif);\n  text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.8);\n}\n.label-text[data-v-256c0aae] {\n  fill: var(--color-primary);\n  font-size: 13px;\n  font-weight: 600;\n  font-family: var(--font-family-serif);\n  text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.9);\n}\n\n/* æ·±è‰²ä¸»é¢˜ - å¤œç©ºæ˜Ÿè¾° */\n[data-theme="dark"] .grid-line[data-v-256c0aae] {\n  stroke: #64b5f6;\n  opacity: 0.4;\n}\n[data-theme="dark"] .data-polygon[data-v-256c0aae] {\n  fill: url(#darkGradient);\n  stroke: #64b5f6;\n}\n[data-theme="dark"] .data-point[data-v-256c0aae] {\n  fill: #ba68c8;\n  stroke: rgba(30, 30, 60, 0.8);\n}\n[data-theme="dark"] .data-value-text[data-v-256c0aae] {\n  fill: #e1e4e8;\n}\n[data-theme="dark"] .label-text[data-v-256c0aae] {\n  fill: #64b5f6;\n}\n',""]);const i=l},3098:(e,n,t)=&gt;{function a(e){return JSON.parse(JSON.stringify(e))}function o(e){if(!e)return console.warn("[æ•°æ®éªŒè¯] å­˜æ¡£æ•°æ®ä¸ºç©º"),e;if(e.èƒŒåŒ…||(e.èƒŒåŒ…={çµçŸ³:{ä¸‹å“:0,ä¸­å“:0,ä¸Šå“:0,æå“:0},ç‰©å“:{}}),e.èƒŒåŒ….ç‰©å“||(e.èƒŒåŒ….ç‰©å“={}),e.èƒŒåŒ….çµçŸ³||(e.èƒŒåŒ….çµçŸ³={ä¸‹å“:0,ä¸­å“:0,ä¸Šå“:0,æå“:0}),e.èƒŒåŒ…?.ç‰©å“){const n=e.èƒŒåŒ….ç‰©å“;Object.keys(n).forEach(e=&gt;{const t=n[e];t&amp;&amp;"object"==typeof t&amp;&amp;t.åç§°||(delete n[e],console.warn(`[æ•°æ®éªŒè¯] ç§»é™¤æ— æ•ˆç‰©å“: ${e}`))})}return e}async function r(e){try{console.log("[æ•°æ®éªŒè¯] é…’é¦†é‡å¤å˜é‡æ¸…ç†ï¼ˆæ–°ç³»ç»Ÿä¸­å·²ä¼˜åŒ–ï¼‰")}catch(e){console.warn("[æ•°æ®éªŒè¯] æ¸…ç†é…’é¦†é‡å¤å˜é‡å¤±è´¥:",e)}}function l(e){if(!e||"object"!=typeof e)return console.error("[NPCæ ¡éªŒ] æä¾›çš„è¾“å…¥ä¸æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„å¯¹è±¡:",e),[!1,null];const n={...e};if("string"!=typeof n.åå­—||0===n.åå­—.trim().length)return console.error("[NPCæ ¡éªŒ] æ ¸å¿ƒå­—æ®µ`åå­—`ç¼ºå¤±æˆ–æ— æ•ˆ:",n),[!1,null];const t={...n};return"string"!=typeof t.æ€§åˆ«&amp;&amp;(t.æ€§åˆ«="å…¶ä»–"),"number"!=typeof t.å¹´é¾„&amp;&amp;(t.å¹´é¾„=void 0),"string"!=typeof t.ä¸ç©å®¶å…³ç³»&amp;&amp;(t.ä¸ç©å®¶å…³ç³»="ç›¸è¯†"),"number"!=typeof t.å¥½æ„Ÿåº¦&amp;&amp;(t.å¥½æ„Ÿåº¦=0),Array.isArray(t.è®°å¿†)||(t.è®°å¿†=[]),Array.isArray(t.äººæ ¼åº•çº¿)||(t.äººæ ¼åº•çº¿=[]),Array.isArray(t.å¤©èµ‹)||(t.å¤©èµ‹=[]),Array.isArray(t.æ€§æ ¼ç‰¹å¾)||(t.æ€§æ ¼ç‰¹å¾=[]),"object"!=typeof t.å¢ƒç•Œ||null===t.å¢ƒç•Œ?t.å¢ƒç•Œ={åç§°:"å‡¡äºº",é˜¶æ®µ:"",å½“å‰è¿›åº¦:0,ä¸‹ä¸€çº§æ‰€éœ€:100,çªç ´æè¿°:"å¼•æ°”å…¥ä½“ï¼Œæ„Ÿæ‚Ÿå¤©åœ°çµæ°”ï¼Œè¸ä¸Šä¿®ä»™ç¬¬ä¸€æ­¥"}:("string"!=typeof t.å¢ƒç•Œ.åç§°&amp;&amp;(t.å¢ƒç•Œ.åç§°="å‡¡äºº"),"string"!=typeof t.å¢ƒç•Œ.é˜¶æ®µ&amp;&amp;(t.å¢ƒç•Œ.é˜¶æ®µ=""),"number"!=typeof t.å¢ƒç•Œ.å½“å‰è¿›åº¦&amp;&amp;(t.å¢ƒç•Œ.å½“å‰è¿›åº¦=0),"number"!=typeof t.å¢ƒç•Œ.ä¸‹ä¸€çº§æ‰€éœ€&amp;&amp;(t.å¢ƒç•Œ.ä¸‹ä¸€çº§æ‰€éœ€=100),"string"!=typeof t.å¢ƒç•Œ.çªç ´æè¿°&amp;&amp;(t.å¢ƒç•Œ.çªç ´æè¿°="å¼•æ°”å…¥ä½“ï¼Œæ„Ÿæ‚Ÿå¤©åœ°çµæ°”ï¼Œè¸ä¸Šä¿®ä»™ç¬¬ä¸€æ­¥")),"object"!=typeof t.èƒŒåŒ…||null===t.èƒŒåŒ…?t.èƒŒåŒ…={çµçŸ³:{ä¸‹å“:0,ä¸­å“:0,ä¸Šå“:0,æå“:0},ç‰©å“:{}}:("object"==typeof t.èƒŒåŒ….çµçŸ³&amp;&amp;null!==t.èƒŒåŒ….çµçŸ³||(t.èƒŒåŒ….çµçŸ³={ä¸‹å“:0,ä¸­å“:0,ä¸Šå“:0,æå“:0}),"object"==typeof t.èƒŒåŒ….ç‰©å“&amp;&amp;null!==t.èƒŒåŒ….ç‰©å“||(t.èƒŒåŒ….ç‰©å“={})),"boolean"!=typeof t.å®æ—¶å…³æ³¨&amp;&amp;(t.å®æ—¶å…³æ³¨=!1),[!0,t]}function i(e,n,t){const a=[];if(!e)return a.push("å­˜æ¡£æ•°æ®ä¸ºç©º"),{isValid:!1,errors:a};if(e.èƒŒåŒ…?(e.èƒŒåŒ….çµçŸ³||a.push("çµçŸ³æ•°æ®ç¼ºå¤±"),e.èƒŒåŒ….ç‰©å“||a.push("ç‰©å“æ•°æ®ç¼ºå¤±")):a.push("èƒŒåŒ…æ•°æ®ç¼ºå¤±"),n?.è§’è‰²åŸºç¡€ä¿¡æ¯){const e=n.è§’è‰²åŸºç¡€ä¿¡æ¯;e.åå­—&amp;&amp;"string"==typeof e.åå­—||a.push("è§’è‰²å§“åæ— æ•ˆ"),e.æ€§åˆ«||a.push("è§’è‰²æ€§åˆ«ç¼ºå¤±")}return"creation"===t&amp;&amp;(e.ç©å®¶è§’è‰²çŠ¶æ€?.ä½ç½®||a.push("å½“å‰ä½ç½®ä¿¡æ¯ç¼ºå¤±"),e.ç©å®¶è§’è‰²çŠ¶æ€?.å¢ƒç•Œ||a.push("å¢ƒç•Œä¿¡æ¯ç¼ºå¤±")),{isValid:0===a.length,errors:a}}t.d(n,{aD:()=&gt;r,deepCleanForClone:()=&gt;a,jx:()=&gt;l,qj:()=&gt;o,zB:()=&gt;i})},3302:(e,n,t)=&gt;{t.d(n,{Yz:()=&gt;r,w9:()=&gt;o});class a{static instance;debugMode=!1;consoleDebug=!1;performanceMonitor=!1;constructor(){this.loadDebugSettings()}static getInstance(){return a.instance||(a.instance=new a),a.instance}loadDebugSettings(){try{const e=localStorage.getItem("dad_game_settings");if(e){const n=JSON.parse(e);this.debugMode=n.debugMode||!1,this.consoleDebug=n.consoleDebug||!1,this.performanceMonitor=n.performanceMonitor||!1}}catch(e){console.error("åŠ è½½è°ƒè¯•è®¾ç½®å¤±è´¥:",e),this.debugMode=!1,this.consoleDebug=!1,this.performanceMonitor=!1}}reloadSettings(){this.loadDebugSettings()}setDebugMode(e){this.debugMode=e,this.reloadSettings(),this.consoleDebug&amp;&amp;console.log("[è°ƒè¯•] è°ƒè¯•æ¨¡å¼"+(e?"å·²å¯ç”¨":"å·²ç¦ç”¨"))}isDebugMode(){return this.debugMode}isConsoleDebugEnabled(){return this.debugMode&amp;&amp;this.consoleDebug}isPerformanceMonitorEnabled(){return this.debugMode&amp;&amp;this.performanceMonitor}log(e,n,t){this.isConsoleDebugEnabled()&amp;&amp;(void 0!==t?console.log(`[${e}] ${n}`,t):console.log(`[${e}] ${n}`))}warn(e,n,t){this.isConsoleDebugEnabled()&amp;&amp;(void 0!==t?console.warn(`[${e}] ${n}`,t):console.warn(`[${e}] ${n}`))}error(e,n,t){void 0!==t?console.error(`[${e}] ${n}`,t):console.error(`[${e}] ${n}`)}timeStart(e){this.isPerformanceMonitorEnabled()&amp;&amp;console.time(`[æ€§èƒ½] ${e}`)}timeEnd(e){this.isPerformanceMonitorEnabled()&amp;&amp;console.timeEnd(`[æ€§èƒ½] ${e}`)}group(e){this.isConsoleDebugEnabled()&amp;&amp;console.group(`[è°ƒè¯•] ${e}`)}groupEnd(){this.isConsoleDebugEnabled()&amp;&amp;console.groupEnd()}info(e,n,t){this.debugMode&amp;&amp;(void 0!==t?console.info(`[${e}] ${n}`,t):console.info(`[${e}] ${n}`))}table(e,n,t){this.isConsoleDebugEnabled()&amp;&amp;(console.log(`[${e}] ${n}:`),console.table(t))}count(e){this.isPerformanceMonitorEnabled()&amp;&amp;console.count(`[ç»Ÿè®¡] ${e}`)}countReset(e){this.isPerformanceMonitorEnabled()&amp;&amp;console.countReset(`[ç»Ÿè®¡] ${e}`)}}const o=a.getInstance(),r={log:(e,n,t)=&gt;o.log(e,n,t),warn:(e,n,t)=&gt;o.warn(e,n,t),error:(e,n,t)=&gt;o.error(e,n,t),info:(e,n,t)=&gt;o.info(e,n,t),timeStart:e=&gt;o.timeStart(e),timeEnd:e=&gt;o.timeEnd(e),group:e=&gt;o.group(e),groupEnd:()=&gt;o.groupEnd(),table:(e,n,t)=&gt;o.table(e,n,t),count:e=&gt;o.count(e),countReset:e=&gt;o.countReset(e),setMode:e=&gt;o.setDebugMode(e),isEnabled:()=&gt;o.isDebugMode(),reload:()=&gt;o.reloadSettings()}},3310:(e,n,t)=&gt;{t.d(n,{useActionQueueStore:()=&gt;r});var a=t(1774),o=t(4061);const r=(0,a.nY)("actionQueue",()=&gt;{const e=(0,o.ref)([]),n=()=&gt;{console.log("[æ“ä½œé˜Ÿåˆ—] æ¸…ç©ºæ“ä½œé˜Ÿåˆ—ï¼Œå…±",e.value.length,"ä¸ªæ“ä½œ"),e.value=[],a()},t=()=&gt;0===e.value.length?"":`\n\nã€ç©å®¶æœ€è¿‘æ“ä½œã€‘\nåœ¨æœ¬è½®å¯¹è¯å‰ï¼Œç©å®¶è¿›è¡Œäº†ä»¥ä¸‹æ“ä½œï¼š\n${e.value.map(e=&gt;{switch(e.type){case"cultivate":return"å¤§é“"===e.itemType?`æ„Ÿæ‚Ÿäº†ã€Š${e.itemName}ã€‹å¤§é“`:`ä¿®ç‚¼äº†ã€Š${e.itemName}ã€‹åŠŸæ³•`;case"equip":return`è£…å¤‡äº†ã€Š${e.itemName}ã€‹${e.itemType||"æ³•å®"}`;case"use":return e.description||`ä½¿ç”¨äº†ã€Š${e.itemName}ã€‹`;case"unequip":return`å¸ä¸‹äº†ã€Š${e.itemName}ã€‹è£…å¤‡`;case"discard":return`ä¸¢å¼ƒäº†ã€Š${e.itemName}ã€‹`;case"npc_trade":return`å°è¯•ä¸ ${e.npcName} äº¤æ˜“ ${e.itemName}`;case"npc_request":return`å‘ ${e.npcName} ç´¢è¦ ${e.itemName}`;case"npc_steal":return`å°è¯•ä» ${e.npcName} èº«ä¸Šå·å– ${e.itemName}`;default:return e.description}}).map(e=&gt;`â€¢ ${e}`).join("\n")}\n\nâš ï¸ **é‡è¦æé†’**ï¼šè¯·ä¼˜å…ˆåŸºäºè¿™äº›ç©å®¶æ“ä½œæ¥ç”Ÿæˆå›åº”ï¼å…ˆå¤„ç†å’Œåæ˜ è¿™äº›å…·ä½“åŠ¨ä½œçš„ç»“æœï¼Œç„¶åå†å›åº”ç”¨æˆ·è¾“å…¥çš„æ–‡æœ¬å†…å®¹ã€‚è¿™äº›æ“ä½œå…·æœ‰æ›´é«˜çš„ä¼˜å…ˆçº§ï¼Œåº”è¯¥åœ¨å™äº‹ä¸­å¾—åˆ°æ˜ç¡®ä½“ç°ã€‚`,a=()=&gt;{try{localStorage.setItem("dao_action_queue",JSON.stringify(e.value))}catch(e){console.warn("[æ“ä½œé˜Ÿåˆ—] ä¿å­˜åˆ°localStorageå¤±è´¥:",e)}};return(()=&gt;{try{const n=localStorage.getItem("dao_action_queue");if(n){const t=JSON.parse(n),a=Date.now()-36e5;e.value=t.filter(e=&gt;e.timestamp&gt;a),console.log("[æ“ä½œé˜Ÿåˆ—] ä»å­˜å‚¨åŠ è½½",e.value.length,"ä¸ªæ“ä½œ")}}catch(e){console.warn("[æ“ä½œé˜Ÿåˆ—] ä»localStorageåŠ è½½å¤±è´¥:",e)}})(),{pendingActions:e,addAction:n=&gt;{const t={...n,id:`action_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,timestamp:Date.now()};"equip"===t.type?e.value=e.value.filter(e=&gt;!("unequip"===e.type&amp;&amp;e.itemName===t.itemName)):"unequip"===t.type&amp;&amp;(e.value=e.value.filter(e=&gt;!("equip"===e.type&amp;&amp;e.itemName===t.itemName))),"cultivate"===t.type&amp;&amp;(e.value=e.value.filter(e=&gt;"cultivate"!==e.type));const o=e.value.findIndex(e=&gt;e.type===n.type&amp;&amp;e.itemName===n.itemName);-1!==o?e.value[o]=t:e.value.push(t),console.log("[æ“ä½œé˜Ÿåˆ—] æ·»åŠ æ“ä½œ:",t),a()},removeAction:n=&gt;{const t=e.value.findIndex(e=&gt;e.id===n);if(-1!==t){const n=e.value.splice(t,1)[0];return console.log("[æ“ä½œé˜Ÿåˆ—] ç§»é™¤æ“ä½œ:",n),a(),n}return null},clearActions:n,getActionPrompt:t,consumeActions:()=&gt;{const e=t();return e&amp;&amp;n(),e}}})},3329:(e,n,t)=&gt;{t.d(n,{A:()=&gt;i});var a=t(1601),o=t.n(a),r=t(6314),l=t.n(r)()(o());l.push([e.id,'\n.save-panel[data-v-60408b0c] {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);\n  overflow: hidden;\n  padding: 1rem;\n  gap: 1rem;\n  position: relative;\n}\n\n/* å·¥å…·æ ç§»é™¤ï¼šç»Ÿä¸€åˆ°é¡¶æ åŠ¨ä½œ */\n\n/* å¤´éƒ¨ */\n.panel-header[data-v-60408b0c] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1rem;\n  background: white;\n  border-radius: 0.75rem;\n  border: 1px solid #bae6fd;\n  flex-shrink: 0;\n}\n.header-left[data-v-60408b0c] {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n}\n.header-icon[data-v-60408b0c] {\n  font-size: 1.5rem;\n}\n.header-info[data-v-60408b0c] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n}\n.panel-title[data-v-60408b0c] {\n  margin: 0;\n  font-size: 1.125rem;\n  font-weight: 600;\n  color: #0369a1;\n}\n.save-subtitle[data-v-60408b0c] {\n  font-size: 0.875rem;\n  color: #0284c7;\n}\n.header-actions[data-v-60408b0c] {\n  display: flex;\n  gap: 0.5rem;\n}\n.action-btn[data-v-60408b0c] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.5rem 1rem;\n  border: 1px solid #bae6fd;\n  border-radius: 0.5rem;\n  background: white;\n  color: #0369a1;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  font-size: 0.875rem;\n}\n.action-btn[data-v-60408b0c]:hover {\n  background: #f0f9ff;\n  border-color: #0284c7;\n}\n.action-btn.primary[data-v-60408b0c] {\n  background: #0284c7;\n  border-color: #0284c7;\n  color: white;\n}\n.action-btn.primary[data-v-60408b0c]:hover {\n  background: #0369a1;\n}\n.action-btn[data-v-60408b0c]:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n.animate-spin[data-v-60408b0c] {\n  animation: spin-60408b0c 1s linear infinite;\n}\n@keyframes spin-60408b0c {\nfrom { transform: rotate(0deg);\n}\nto { transform: rotate(360deg);\n}\n}\n\n/* å­˜æ¡£å®¹å™¨ */\n.saves-container[data-v-60408b0c] {\n  flex: 1;\n  overflow-y: auto;\n  min-height: 0;\n  padding: 0 0.5rem 3rem 0.5rem;\n  \n  /* æ»šåŠ¨æ¡æ ·å¼ */\n  scrollbar-width: thin;\n  scrollbar-color: rgba(2, 132, 199, 0.3) rgba(243, 244, 246, 0.5);\n}\n.saves-container[data-v-60408b0c]::-webkit-scrollbar {\n  width: 8px;\n}\n.saves-container[data-v-60408b0c]::-webkit-scrollbar-track {\n  background: rgba(243, 244, 246, 0.5);\n  border-radius: 4px;\n}\n.saves-container[data-v-60408b0c]::-webkit-scrollbar-thumb {\n  background: rgba(2, 132, 199, 0.3);\n  border-radius: 4px;\n  transition: background 0.2s ease;\n}\n.saves-container[data-v-60408b0c]::-webkit-scrollbar-thumb:hover {\n  background: rgba(2, 132, 199, 0.5);\n}\n\n/* åŒºå—æ ·å¼ */\n.current-save-section[data-v-60408b0c],\n.saves-section[data-v-60408b0c],\n.operations-section[data-v-60408b0c] {\n  margin-bottom: 1.5rem;\n  background: white;\n  border-radius: 0.75rem;\n  border: 1px solid #bae6fd;\n  overflow: hidden;\n}\n.section-header[data-v-60408b0c] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1rem 1.25rem;\n  background: #f0f9ff;\n  border-bottom: 1px solid #bae6fd;\n}\n.header-actions[data-v-60408b0c] {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n}\n.section-title[data-v-60408b0c] {\n  margin: 0;\n  font-size: 1rem;\n  font-weight: 600;\n  color: #0369a1;\n}\n.saves-count[data-v-60408b0c] {\n  font-size: 0.875rem;\n  color: #0c4a6e;\n  background: white;\n  padding: 0.25rem 0.75rem;\n  border-radius: 0.5rem;\n  font-weight: 600;\n  border: 1px solid #bae6fd;\n}\n\n/* å½“å‰å­˜æ¡£å¡ç‰‡ */\n.current-save-card[data-v-60408b0c] {\n  padding: 1.25rem;\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n}\n.save-preview[data-v-60408b0c] {\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n}\n.save-preview.small[data-v-60408b0c] {\n  gap: 0.75rem;\n}\n.preview-avatar[data-v-60408b0c] {\n  width: 3rem;\n  height: 3rem;\n  border-radius: 50%;\n  background: linear-gradient(135deg, #0284c7, #0369a1);\n  color: white;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-weight: 600;\n  font-size: 1.25rem;\n}\n.preview-avatar.small[data-v-60408b0c] {\n  width: 2.5rem;\n  height: 2.5rem;\n  font-size: 1rem;\n}\n.preview-info[data-v-60408b0c] {\n  flex: 1;\n}\n.character-name[data-v-60408b0c] {\n  font-size: 1.125rem;\n  font-weight: 600;\n  color: #0369a1;\n  margin-bottom: 0.25rem;\n}\n.save-name[data-v-60408b0c] {\n  font-size: 1rem;\n  font-weight: 700;\n  color: #1e40af;\n  margin-bottom: 0.15rem;\n}\n.character-name-small[data-v-60408b0c] {\n  font-size: 0.8rem;\n  font-weight: 500;\n  color: #64748b;\n  margin-bottom: 0.15rem;\n}\n.character-details[data-v-60408b0c] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  font-size: 0.875rem;\n  color: #64748b;\n}\n.detail-separator[data-v-60408b0c] {\n  color: #cbd5e1;\n}\n.save-time[data-v-60408b0c] {\n  font-size: 0.875rem;\n  color: #64748b;\n}\n\n/* ç‰¹æ®Šå­˜æ¡£è¯´æ˜æç¤º */\n.save-hint[data-v-60408b0c] {\n  font-size: 0.75rem;\n  padding: 0.25rem 0.5rem;\n  border-radius: 4px;\n  margin-top: 0.25rem;\n  display: inline-block;\n  font-weight: 500;\n}\n.save-hint.auto[data-v-60408b0c] {\n  background: rgba(16, 185, 129, 0.1);\n  color: #059669;\n  border: 1px solid rgba(16, 185, 129, 0.2);\n}\n.save-hint.last[data-v-60408b0c] {\n  background: rgba(59, 130, 246, 0.1);\n  color: #2563eb;\n  border: 1px solid rgba(59, 130, 246, 0.2);\n}\n\n/* å½“å‰è¿›åº¦çš„ç‰¹æ®Šå­˜æ¡£è¯´æ˜ */\n.current-save-hint[data-v-60408b0c] {\n  font-size: 0.875rem;\n  padding: 0.5rem 0.75rem;\n  border-radius: 6px;\n  margin-top: 0.75rem;\n  display: block;\n  font-weight: 500;\n  line-height: 1.5;\n}\n.current-save-hint.auto[data-v-60408b0c] {\n  background: rgba(16, 185, 129, 0.1);\n  color: #059669;\n  border-left: 3px solid #10b981;\n}\n.current-save-hint.last[data-v-60408b0c] {\n  background: rgba(59, 130, 246, 0.1);\n  color: #2563eb;\n  border-left: 3px solid #3b82f6;\n}\n.save-stats[data-v-60408b0c] {\n  display: flex;\n  gap: 2rem;\n}\n.stat-item[data-v-60408b0c] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n}\n.stat-label[data-v-60408b0c] {\n  font-size: 0.75rem;\n  color: #64748b;\n  font-weight: 500;\n}\n.stat-value[data-v-60408b0c] {\n  font-size: 0.875rem;\n  color: #0369a1;\n  font-weight: 600;\n}\n\n/* å­˜æ¡£åˆ—è¡¨ */\n.loading-state[data-v-60408b0c],\n.empty-state[data-v-60408b0c] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 200px;\n  text-align: center;\n}\n.loading-spinner[data-v-60408b0c],\n.empty-icon[data-v-60408b0c] {\n  font-size: 2rem;\n  margin-bottom: 0.5rem;\n}\n.loading-text[data-v-60408b0c],\n.empty-text[data-v-60408b0c] {\n  font-size: 1rem;\n  font-weight: 600;\n  color: #0369a1;\n  margin-bottom: 0.5rem;\n}\n.empty-hint[data-v-60408b0c] {\n  font-size: 0.875rem;\n  color: #64748b;\n}\n.saves-list[data-v-60408b0c] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n  padding: 1rem;\n}\n.save-card[data-v-60408b0c] {\n  border: 1px solid #e0f2fe;\n  border-radius: 0.5rem;\n  background: #f8fafc;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n.save-card[data-v-60408b0c]:hover {\n  background: #f0f9ff;\n  border-color: #bae6fd;\n  transform: translateY(-1px);\n}\n.save-card.active[data-v-60408b0c] {\n  background: #e0f2fe;\n  border-color: #0284c7;\n}\n.card-header[data-v-60408b0c] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1rem;\n  border-bottom: 1px solid #e0f2fe;\n}\n.card-actions[data-v-60408b0c] {\n  display: flex;\n  gap: 0.5rem;\n}\n.card-btn[data-v-60408b0c] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 2rem;\n  height: 2rem;\n  border: 1px solid #bae6fd;\n  border-radius: 0.375rem;\n  background: white;\n  color: #0284c7;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n.card-btn[data-v-60408b0c]:hover {\n  background: #f0f9ff;\n  border-color: #0284c7;\n}\n.card-btn[data-v-60408b0c]:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n.card-btn.primary[data-v-60408b0c] {\n  color: #10b981;\n  border-color: #d1fae5;\n}\n.card-btn.primary[data-v-60408b0c]:hover {\n  background: #f0fdf4;\n  border-color: #10b981;\n}\n.card-btn.danger[data-v-60408b0c] {\n  color: #ef4444;\n  border-color: #fecaca;\n}\n.card-btn.danger[data-v-60408b0c]:hover {\n  background: #fef2f2;\n  border-color: #ef4444;\n}\n.card-btn.warning[data-v-60408b0c] {\n  color: #f59e0b;\n  border-color: #fef3c7;\n}\n.card-btn.warning[data-v-60408b0c]:hover {\n  background: #fffbeb;\n  border-color: #f59e0b;\n}\n\n/* æ–°å»ºå­˜æ¡£æŒ‰é’® */\n.new-save-btn[data-v-60408b0c] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 2rem;\n  height: 2rem;\n  border: 1px solid #10b981;\n  border-radius: 0.375rem;\n  background: white;\n  color: #10b981;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n.new-save-btn[data-v-60408b0c]:hover {\n  background: #f0fdf4;\n  border-color: #059669;\n  color: #059669;\n}\n.new-save-btn[data-v-60408b0c]:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n.card-content[data-v-60408b0c] {\n  padding: 1rem;\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n}\n.save-details[data-v-60408b0c] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n.detail-row[data-v-60408b0c] {\n  display: flex;\n  justify-content: space-between;\n  font-size: 0.875rem;\n}\n.detail-label[data-v-60408b0c] {\n  color: #64748b;\n}\n.detail-value[data-v-60408b0c] {\n  color: #0369a1;\n  font-weight: 500;\n}\n\n/* æ“ä½œåˆ—è¡¨ */\n.operations-list[data-v-60408b0c] {\n  display: flex;\n  flex-direction: column;\n  padding: 1rem;\n}\n.operation-btn[data-v-60408b0c] {\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n  padding: 1rem;\n  border: none;\n  background: transparent;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  border-radius: 0.5rem;\n}\n.operation-btn[data-v-60408b0c]:hover {\n  background: #f0f9ff;\n}\n.operation-btn.primary[data-v-60408b0c] {\n  background: linear-gradient(135deg, #0369a1 0%, #0284c7 100%);\n  color: white;\n}\n.operation-btn.primary[data-v-60408b0c]:hover {\n  background: linear-gradient(135deg, #0284c7 0%, #0369a1 100%);\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(3, 105, 161, 0.3);\n}\n.operation-btn.primary .btn-title[data-v-60408b0c],\n.operation-btn.primary .btn-desc[data-v-60408b0c] {\n  color: white;\n}\n.operation-btn.danger[data-v-60408b0c]:hover {\n  background: #fef2f2;\n  color: #ef4444;\n}\n.operation-btn[data-v-60408b0c]:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n.btn-content[data-v-60408b0c] {\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  gap: 0.25rem;\n}\n.btn-title[data-v-60408b0c] {\n  font-weight: 500;\n  color: #0369a1;\n}\n.btn-desc[data-v-60408b0c] {\n  font-size: 0.875rem;\n  color: #64748b;\n}\n.operation-btn.danger .btn-title[data-v-60408b0c] {\n  color: #ef4444;\n}\n\n/* å“åº”å¼è®¾è®¡ */\n@media (max-width: 640px) {\n.save-stats[data-v-60408b0c] {\n    gap: 1rem;\n}\n.card-header[data-v-60408b0c] {\n    flex-direction: column;\n    gap: 1rem;\n    align-items: stretch;\n}\n.save-preview[data-v-60408b0c] {\n    justify-content: center;\n}\n.card-actions[data-v-60408b0c] {\n    justify-content: center;\n}\n.header-actions .btn-text[data-v-60408b0c] {\n    display: none;\n}\n}\n\n/* æ·±è‰²ä¸»é¢˜ */\n[data-theme="dark"] .save-panel[data-v-60408b0c] {\n  background: linear-gradient(135deg, #1e293b 0%, #334155 100%);\n}\n[data-theme="dark"] .panel-header[data-v-60408b0c],\n[data-theme="dark"] .current-save-section[data-v-60408b0c],\n[data-theme="dark"] .saves-section[data-v-60408b0c],\n[data-theme="dark"] .operations-section[data-v-60408b0c] {\n  background: #1e293b;\n  border-color: #475569;\n}\n\n/* å­˜æ¡£åå›¾æ ‡æ ·å¼ */\n.auto-save-icon[data-v-60408b0c],\n.last-save-icon[data-v-60408b0c] {\n  display: inline-block;\n  margin-right: 0.25rem;\n  vertical-align: middle;\n}\n.auto-save-icon[data-v-60408b0c] {\n  color: #10b981;\n}\n.last-save-icon[data-v-60408b0c] {\n  color: #3b82f6;\n}\n[data-theme="dark"] .section-header[data-v-60408b0c] {\n  background: #334155;\n  border-bottom-color: #475569;\n}\n[data-theme="dark"] .panel-title[data-v-60408b0c],\n[data-theme="dark"] .section-title[data-v-60408b0c],\n[data-theme="dark"] .character-name[data-v-60408b0c],\n[data-theme="dark"] .save-name[data-v-60408b0c] {\n  color: #0ea5e9;\n}\n[data-theme="dark"] .character-name-small[data-v-60408b0c] {\n  color: #94a3b8;\n}\n[data-theme="dark"] .save-subtitle[data-v-60408b0c],\n[data-theme="dark"] .saves-count[data-v-60408b0c] {\n  color: #38bdf8;\n}\n[data-theme="dark"] .action-btn[data-v-60408b0c],\n[data-theme="dark"] .card-btn[data-v-60408b0c] {\n  background: #374151;\n  border-color: #475569;\n  color: #0ea5e9;\n}\n[data-theme="dark"] .action-btn[data-v-60408b0c]:hover,\n[data-theme="dark"] .card-btn[data-v-60408b0c]:hover {\n  background: #4b5563;\n}\n[data-theme="dark"] .card-btn.primary[data-v-60408b0c] {\n  color: #10b981;\n  border-color: #065f46;\n}\n[data-theme="dark"] .card-btn.primary[data-v-60408b0c]:hover {\n  background: #065f46;\n}\n[data-theme="dark"] .card-btn.warning[data-v-60408b0c] {\n  color: #f59e0b;\n  border-color: #78350f;\n}\n[data-theme="dark"] .card-btn.warning[data-v-60408b0c]:hover {\n  background: #78350f;\n}\n[data-theme="dark"] .new-save-btn[data-v-60408b0c] {\n  background: #374151;\n  border-color: #10b981;\n  color: #10b981;\n}\n[data-theme="dark"] .new-save-btn[data-v-60408b0c]:hover {\n  background: #065f46;\n  border-color: #059669;\n}\n[data-theme="dark"] .save-card[data-v-60408b0c] {\n  background: #374151;\n  border-color: #4b5563;\n}\n[data-theme="dark"] .save-card[data-v-60408b0c]:hover {\n  background: #4b5563;\n}\n[data-theme="dark"] .save-card.active[data-v-60408b0c] {\n  background: #1e40af;\n  border-color: #0ea5e9;\n}\n[data-theme="dark"] .operation-btn[data-v-60408b0c]:hover {\n  background: #374151;\n}\n[data-theme="dark"] .btn-title[data-v-60408b0c] {\n  color: #e5e7eb;\n}\n',""]);const i=l},3332:(e,n,t)=&gt;{t.d(n,{A:()=&gt;i});var a=t(1601),o=t.n(a),r=t(6314),l=t.n(r)()(o());l.push([e.id,"\n.modal-overlay[data-v-3b19ffcd] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.6);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n}\n.modal-container[data-v-3b19ffcd] {\n  background: var(--color-surface);\n  border-radius: 8px;\n  box-shadow: 0 5px 15px rgba(0,0,0,0.3);\n  width: 90%;\n  max-width: 500px;\n  max-height: 80vh;\n  display: flex;\n  flex-direction: column;\n}\n.modal-header[data-v-3b19ffcd] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1rem 1.5rem;\n  border-bottom: 1px solid var(--color-border);\n}\n.modal-title[data-v-3b19ffcd] {\n  margin: 0;\n  font-size: 1.25rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.modal-close-button[data-v-3b19ffcd] {\n  background: none;\n  border: none;\n  cursor: pointer;\n  color: var(--color-text-secondary);\n}\n.modal-content[data-v-3b19ffcd] {\n  padding: 1.5rem;\n  overflow-y: auto;\n  line-height: 1.6;\n  color: var(--color-text);\n  white-space: pre-wrap; /* Allows line breaks in the content */\n}\n.modal-fade-enter-active[data-v-3b19ffcd],\n.modal-fade-leave-active[data-v-3b19ffcd] {\n  transition: opacity 0.3s ease;\n}\n.modal-fade-enter-from[data-v-3b19ffcd],\n.modal-fade-leave-to[data-v-3b19ffcd] {\n  opacity: 0;\n}\n",""]);const i=l},3613:(e,n,t)=&gt;{t.d(n,{A:()=&gt;i});var a=t(1601),o=t.n(a),r=t(6314),l=t.n(r)()(o());l.push([e.id,"\n.tavern-data-panel[data-v-525aaac2] {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  background: var(--color-background);\n  overflow: hidden;\n}\n",""]);const i=l},3811:(e,n,t)=&gt;{t.d(n,{A:()=&gt;i});var a=t(1601),o=t.n(a),r=t(6314),l=t.n(r)()(o());l.push([e.id,"\n.quest-panel[data-v-7e802482] {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  padding: 1rem;\n  overflow-y: auto;\n}\n\n/* å¤´éƒ¨ */\n.quest-header[data-v-7e802482] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0.75rem 1rem;\n  background: var(--color-background-soft);\n  border-radius: 8px;\n  border: 1px solid var(--color-border);\n}\n.header-title[data-v-7e802482] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  font-size: 1.125rem;\n  font-weight: 600;\n}\n.header-icon[data-v-7e802482] {\n  font-size: 1.25rem;\n}\n.count-badge[data-v-7e802482] {\n  background: var(--color-primary);\n  color: white;\n  padding: 0.125rem 0.5rem;\n  border-radius: 12px;\n  font-size: 0.75rem;\n  font-weight: 600;\n}\n.header-actions[data-v-7e802482] {\n  display: flex;\n  gap: 0.5rem;\n}\n.toggle-btn[data-v-7e802482],\n.config-btn[data-v-7e802482] {\n  padding: 0.375rem 0.75rem;\n  border-radius: 6px;\n  border: 1px solid var(--color-border);\n  background: var(--color-background);\n  color: var(--color-text-secondary);\n  cursor: pointer;\n  transition: all 0.2s;\n  font-size: 0.875rem;\n}\n.toggle-btn.active[data-v-7e802482] {\n  background: var(--color-primary);\n  color: white;\n  border-color: var(--color-primary);\n}\n.toggle-btn[data-v-7e802482]:hover,\n.config-btn[data-v-7e802482]:hover {\n  background: var(--color-background-mute);\n}\n\n/* é…ç½®é¢æ¿ */\n.config-panel[data-v-7e802482] {\n  background: var(--color-background-soft);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  padding: 1rem;\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n}\n.config-row[data-v-7e802482] {\n  display: flex;\n  align-items: flex-start;\n  gap: 1rem;\n}\n.custom-prompt-row[data-v-7e802482] {\n  flex-direction: column;\n  align-items: stretch;\n}\n.config-label[data-v-7e802482] {\n  min-width: 80px;\n  font-weight: 500;\n  color: var(--color-text);\n  line-height: 2;\n}\n.config-select[data-v-7e802482],\n.config-input[data-v-7e802482],\n.config-textarea[data-v-7e802482] {\n  flex: 1;\n  padding: 0.5rem;\n  border: 1px solid var(--color-border);\n  border-radius: 4px;\n  background: var(--color-background);\n  color: var(--color-text);\n  font-size: 0.875rem;\n}\n.config-textarea[data-v-7e802482] {\n  resize: vertical;\n  font-family: inherit;\n}\n\n/* ç¦ç”¨æç¤º */\n.disabled-notice[data-v-7e802482] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 3rem 1rem;\n  text-align: center;\n  color: var(--color-text-secondary);\n}\n.notice-icon[data-v-7e802482] {\n  font-size: 3rem;\n  margin-bottom: 1rem;\n  opacity: 0.6;\n}\n.notice-text[data-v-7e802482] {\n  font-size: 1.125rem;\n  font-weight: 600;\n  margin-bottom: 0.5rem;\n}\n.notice-hint[data-v-7e802482] {\n  font-size: 0.875rem;\n  opacity: 0.8;\n}\n\n/* ä»»åŠ¡å¡ç‰‡ */\n.tasks-container[data-v-7e802482] {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n}\n.task-card[data-v-7e802482] {\n  background: var(--color-background-soft);\n  border: 2px solid var(--color-border);\n  border-radius: 8px;\n  overflow: hidden;\n  transition: all 0.2s;\n}\n.task-card[data-v-7e802482]:hover {\n  border-color: var(--color-primary);\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n}\n\n/* ä»»åŠ¡ç±»å‹æ ·å¼ */\n.task-type-relationship[data-v-7e802482] { border-left: 4px solid #3b82f6;\n}\n.task-type-companion[data-v-7e802482] { border-left: 4px solid #ec4899;\n}\n.task-type-cultivation[data-v-7e802482] { border-left: 4px solid #8b5cf6;\n}\n.task-type-exploration[data-v-7e802482] { border-left: 4px solid #10b981;\n}\n.task-type-combat[data-v-7e802482] { border-left: 4px solid #ef4444;\n}\n.task-type-custom[data-v-7e802482] { border-left: 4px solid #f59e0b;\n}\n.task-header[data-v-7e802482] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0.875rem 1rem;\n  background: var(--color-background-mute);\n  cursor: pointer;\n}\n.task-title-area[data-v-7e802482] {\n  display: flex;\n  align-items: center;\n  gap: 0.625rem;\n  flex: 1;\n}\n.task-icon[data-v-7e802482] {\n  font-size: 1.25rem;\n}\n.task-title[data-v-7e802482] {\n  font-size: 1rem;\n  font-weight: 600;\n  margin: 0;\n}\n.task-type-badge[data-v-7e802482] {\n  background: var(--color-primary);\n  color: white;\n  padding: 0.125rem 0.5rem;\n  border-radius: 10px;\n  font-size: 0.75rem;\n  font-weight: 500;\n}\n.expand-btn[data-v-7e802482] {\n  background: none;\n  border: none;\n  color: var(--color-text-secondary);\n  cursor: pointer;\n  padding: 0.25rem 0.5rem;\n  font-size: 0.875rem;\n}\n.task-body[data-v-7e802482] {\n  padding: 1rem;\n  border-top: 1px solid var(--color-border);\n}\n.task-description[data-v-7e802482] {\n  margin: 0 0 1rem 0;\n  line-height: 1.6;\n  color: var(--color-text);\n}\n.subsection-title[data-v-7e802482] {\n  font-size: 0.875rem;\n  font-weight: 600;\n  margin: 0 0 0.5rem 0;\n  color: var(--color-text-secondary);\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n}\n\n/* ä»»åŠ¡æ¡ä»¶ */\n.task-conditions[data-v-7e802482] {\n  margin-bottom: 1rem;\n}\n.condition-item[data-v-7e802482] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.5rem;\n  margin-bottom: 0.375rem;\n  background: var(--color-background);\n  border-radius: 4px;\n  border: 1px solid var(--color-border);\n}\n.condition-item.completed[data-v-7e802482] {\n  background: rgba(16, 185, 129, 0.1);\n  border-color: rgb(16, 185, 129);\n}\n.condition-icon[data-v-7e802482] {\n  font-size: 1rem;\n  flex-shrink: 0;\n}\n.condition-text[data-v-7e802482] {\n  flex: 1;\n  font-size: 0.875rem;\n}\n.condition-progress[data-v-7e802482] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  flex-shrink: 0;\n}\n.progress-bar-mini[data-v-7e802482] {\n  width: 60px;\n  height: 6px;\n  background: var(--color-background-mute);\n  border-radius: 3px;\n  overflow: hidden;\n}\n.progress-fill[data-v-7e802482] {\n  height: 100%;\n  background: var(--color-primary);\n  transition: width 0.3s;\n}\n.progress-text-mini[data-v-7e802482] {\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n  min-width: 40px;\n}\n\n/* ä»»åŠ¡å¥–åŠ± */\n.task-rewards[data-v-7e802482] {\n  margin-bottom: 1rem;\n}\n.rewards-list[data-v-7e802482] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.375rem;\n}\n.reward-item[data-v-7e802482] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.5rem;\n  background: rgba(59, 130, 246, 0.1);\n  border-radius: 4px;\n  font-size: 0.875rem;\n}\n.reward-icon[data-v-7e802482] {\n  font-size: 1rem;\n}\n\n/* ä»»åŠ¡åº•éƒ¨ä¿¡æ¯ */\n.task-footer[data-v-7e802482] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.375rem;\n  padding: 0.75rem;\n  background: var(--color-background);\n  border-radius: 4px;\n  margin-bottom: 0.75rem;\n}\n.time-limit[data-v-7e802482],\n.failure-penalty[data-v-7e802482] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  font-size: 0.875rem;\n}\n.footer-label[data-v-7e802482] {\n  font-weight: 500;\n  color: var(--color-text-secondary);\n}\n.footer-value[data-v-7e802482] {\n  color: var(--color-text);\n}\n.penalty-text[data-v-7e802482] {\n  color: #ef4444;\n}\n.task-meta[data-v-7e802482] {\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n  padding-top: 0.5rem;\n  border-top: 1px solid var(--color-border);\n}\n.meta-label[data-v-7e802482] {\n  font-weight: 500;\n}\n\n/* ç©ºçŠ¶æ€ */\n.empty-tasks[data-v-7e802482] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 3rem 1rem;\n  text-align: center;\n  color: var(--color-text-secondary);\n}\n.empty-icon[data-v-7e802482] {\n  font-size: 3rem;\n  margin-bottom: 1rem;\n  opacity: 0.6;\n}\n.empty-text[data-v-7e802482] {\n  font-size: 1.125rem;\n  font-weight: 600;\n  margin-bottom: 0.5rem;\n}\n.empty-hint[data-v-7e802482] {\n  font-size: 0.875rem;\n  opacity: 0.8;\n}\n\n/* å·²å®Œæˆä»»åŠ¡ */\n.completed-section[data-v-7e802482] {\n  margin-top: auto;\n  border-top: 1px solid var(--color-border);\n  padding-top: 1rem;\n}\n.completed-header[data-v-7e802482] {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.75rem 1rem;\n  background: var(--color-background-soft);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  cursor: pointer;\n  transition: all 0.2s;\n  font-size: 1rem;\n  font-weight: 600;\n}\n.completed-header[data-v-7e802482]:hover {\n  background: var(--color-background-mute);\n}\n.expand-icon[data-v-7e802482] {\n  margin-left: auto;\n  font-size: 0.75rem;\n}\n.completed-list[data-v-7e802482] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.375rem;\n  padding: 0.75rem;\n  max-height: 300px;\n  overflow-y: auto;\n}\n.completed-item[data-v-7e802482] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.5rem;\n  background: var(--color-background-soft);\n  border-radius: 4px;\n  font-size: 0.875rem;\n}\n.completed-icon[data-v-7e802482] {\n  font-size: 1rem;\n  flex-shrink: 0;\n}\n.completed-name[data-v-7e802482] {\n  flex: 1;\n  color: var(--color-text-secondary);\n}\n.more-hint[data-v-7e802482] {\n  text-align: center;\n  padding: 0.5rem;\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n  font-style: italic;\n}\n",""]);const i=l},3943:(e,n,t)=&gt;{t.d(n,{E0:()=&gt;c,QS:()=&gt;r,UZ:()=&gt;d,wG:()=&gt;m});var a=t(2224);function o(e){const n=e.åˆ†é’Ÿ??0;return 365*e.å¹´*24*60+30*e.æœˆ*24*60+24*e.æ—¥*60+60*e.å°æ—¶+n}function r(e){if(e&lt;=0)return"å·²è¿‡æœŸ";const n=Math.floor(e/525600),t=Math.floor(e%525600/43200),a=Math.floor(e%43200/1440),o=Math.floor(e%1440/60),r=e%60,l=[];return n&gt;0&amp;&amp;l.push(`${n}å¹´`),t&gt;0&amp;&amp;l.push(`${t}æœˆ`),a&gt;0&amp;&amp;l.push(`${a}å¤©`),o&gt;0&amp;&amp;l.push(`${o}å°æ—¶`),r&gt;0&amp;&amp;l.push(`${r}åˆ†é’Ÿ`),l.length&gt;0?l.join(""):"ä¸è¶³1åˆ†é’Ÿ"}function l(e){if(!e||"string"!=typeof e)return 0;let n=0;const t=e.match(/(\d+)å¹´/);t&amp;&amp;(n+=365*parseInt(t[1])*24*60);const a=e.match(/(\d+)æœˆ/);a&amp;&amp;(n+=30*parseInt(a[1])*24*60);const o=e.match(/(\d+)å¤©/);o&amp;&amp;(n+=24*parseInt(o[1])*60);const r=e.match(/(\d+)å°æ—¶/);r&amp;&amp;(n+=60*parseInt(r[1]));const l=e.match(/(\d+)åˆ†é’Ÿ/);return l&amp;&amp;(n+=parseInt(l[1])),n}function i(e,n){if(e.ç”Ÿæˆæ—¶é—´&amp;&amp;"number"==typeof e.æŒç»­æ—¶é—´åˆ†é’Ÿ){const t=o(e.ç”Ÿæˆæ—¶é—´);return o(n)-t&gt;=e.æŒç»­æ—¶é—´åˆ†é’Ÿ}return!(!e.æ—¶é—´||!e.å‰©ä½™æ—¶é—´)&amp;&amp;l(e.å‰©ä½™æ—¶é—´)&lt;=0}function c(e,n){if(e.ç”Ÿæˆæ—¶é—´&amp;&amp;"number"==typeof e.æŒç»­æ—¶é—´åˆ†é’Ÿ){const t=o(e.ç”Ÿæˆæ—¶é—´),a=o(n)-t,r=e.æŒç»­æ—¶é—´åˆ†é’Ÿ-a;return Math.max(0,r)}return e.å‰©ä½™æ—¶é—´?Math.max(0,l(e.å‰©ä½™æ—¶é—´)):60}function s(e,n){try{if(!e||"object"!=typeof e)return console.warn("[çŠ¶æ€æ•ˆæœ] æ— æ•ˆçš„çŠ¶æ€æ•ˆæœæ•°æ®:",e),null;if(e.ç”Ÿæˆæ—¶é—´&amp;&amp;"number"==typeof e.æŒç»­æ—¶é—´åˆ†é’Ÿ)return e;const t={çŠ¶æ€åç§°:e.çŠ¶æ€åç§°||e.name||"æœªçŸ¥çŠ¶æ€",ç±»å‹:e.ç±»å‹||e.type||"buff",ç”Ÿæˆæ—¶é—´:{å¹´:n.å¹´,æœˆ:n.æœˆ,æ—¥:n.æ—¥,å°æ—¶:n.å°æ—¶||0,åˆ†é’Ÿ:n.åˆ†é’Ÿ??0},æŒç»­æ—¶é—´åˆ†é’Ÿ:0,çŠ¶æ€æè¿°:e.çŠ¶æ€æè¿°||e.description||"æ— æè¿°",å¼ºåº¦:e.å¼ºåº¦||e.intensity,æ¥æº:e.æ¥æº||e.source};return e.å‰©ä½™æ—¶é—´?t.æŒç»­æ—¶é—´åˆ†é’Ÿ=l(e.å‰©ä½™æ—¶é—´):e.duration?t.æŒç»­æ—¶é—´åˆ†é’Ÿ=l(e.duration):t.æŒç»­æ—¶é—´åˆ†é’Ÿ=60,console.log(`[çŠ¶æ€æ•ˆæœ] å·²è§„èŒƒåŒ–çŠ¶æ€æ•ˆæœ: ${t.çŠ¶æ€åç§°}, æŒç»­æ—¶é—´: ${t.æŒç»­æ—¶é—´åˆ†é’Ÿ}åˆ†é’Ÿ`),t}catch(e){return console.error("[çŠ¶æ€æ•ˆæœ] è§„èŒƒåŒ–çŠ¶æ€æ•ˆæœå¤±è´¥:",e),null}}function d(e){try{const n=(0,a.get)(e,"ç©å®¶è§’è‰²çŠ¶æ€.çŠ¶æ€æ•ˆæœ",[]);if(!Array.isArray(n)||0===n.length)return!1;const t=e.æ¸¸æˆæ—¶é—´;if(!t)return console.warn("[çŠ¶æ€æ•ˆæœ] æ¸¸æˆæ—¶é—´ä¸å­˜åœ¨ï¼Œæ— æ³•æ›´æ–°çŠ¶æ€æ•ˆæœ"),!1;let o=!1;const r=[];for(const e of n){const n=s(e,t);n?i(n,t)?(console.log(`[çŠ¶æ€æ•ˆæœ] çŠ¶æ€æ•ˆæœ"${n.çŠ¶æ€åç§°}"å·²è¿‡æœŸï¼Œå°†è¢«ç§»é™¤`),o=!0):r.push(n):console.warn("[çŠ¶æ€æ•ˆæœ] è·³è¿‡æ— æ•ˆçš„çŠ¶æ€æ•ˆæœ:",e)}return(0,a.set)(e,"ç©å®¶è§’è‰²çŠ¶æ€.çŠ¶æ€æ•ˆæœ",r),o&amp;&amp;console.log(`[çŠ¶æ€æ•ˆæœ] å·²ç§»é™¤ ${n.length-r.length} ä¸ªè¿‡æœŸçŠ¶æ€æ•ˆæœ`),o}catch(e){return console.error("[çŠ¶æ€æ•ˆæœ] æ›´æ–°çŠ¶æ€æ•ˆæœå¤±è´¥:",e),!1}}function m(e,n){try{const t=(0,a.get)(e,"ç©å®¶è§’è‰²çŠ¶æ€.çŠ¶æ€æ•ˆæœ",[]),o=t.length,r=t.filter(e=&gt;e.çŠ¶æ€åç§°!==n);(0,a.set)(e,"ç©å®¶è§’è‰²çŠ¶æ€.çŠ¶æ€æ•ˆæœ",r);const l=o&gt;r.length;return l&amp;&amp;console.log(`[çŠ¶æ€æ•ˆæœ] å·²ç§»é™¤çŠ¶æ€æ•ˆæœ: ${n}`),l}catch(e){return console.error("[çŠ¶æ€æ•ˆæœ] ç§»é™¤çŠ¶æ€æ•ˆæœå¤±è´¥:",e),!1}}},4042:(e,n,t)=&gt;{t.d(n,{A:()=&gt;i});var a=t(1601),o=t.n(a),r=t(6314),l=t.n(r)()(o());l.push([e.id,'\n/* ä¸»å®¹å™¨ */\n.preview-container[data-v-bcd8af9a] {\n  height: 100%;\n  padding: 2rem;\n  box-sizing: border-box;\n  overflow-y: auto;\n}\n\n/* æ ‡é¢˜ */\n.title[data-v-bcd8af9a] {\n  text-align: center;\n  color: var(--color-accent);\n  margin: 0 0 0.5rem 0;\n  font-family: var(--font-family-serif);\n  font-size: 2rem;\n  font-weight: 600;\n}\n.subtitle[data-v-bcd8af9a] {\n  text-align: center;\n  color: var(--color-text-secondary);\n  margin: 0 0 2rem 0;\n  font-size: 1rem;\n  opacity: 0.8;\n}\n\n/* ç½‘æ ¼å¸ƒå±€ */\n.preview-grid[data-v-bcd8af9a] {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\n  gap: 1.5rem;\n}\n\n/* åŸºç¡€å¡ç‰‡æ ·å¼ */\n.preview-item[data-v-bcd8af9a] {\n  background: var(--color-surface);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  padding: 1.5rem;\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n}\n.preview-item h3[data-v-bcd8af9a] {\n  margin: 0;\n  color: var(--color-primary);\n  border-bottom: 1px solid var(--color-border);\n  padding-bottom: 0.5rem;\n  font-size: 1.1rem;\n  font-weight: 600;\n}\n.preview-item p[data-v-bcd8af9a] {\n  margin: 0;\n  font-size: 1rem;\n  color: var(--color-text);\n  line-height: 1.5;\n}\n.preview-item h4[data-v-bcd8af9a] {\n  margin: 0;\n  font-size: 1.1rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.item-description[data-v-bcd8af9a] {\n  font-size: 0.9rem !important;\n  color: var(--color-text-secondary) !important;\n  margin-top: 0.5rem !important;\n  opacity: 0.9;\n}\n.talents-item li .item-description[data-v-bcd8af9a] {\n  margin-top: 0.25rem !important;\n  padding-left: 0.5rem;\n  border-left: 2px solid var(--color-border);\n}\n\n/* åå­—è¾“å…¥ */\n.name-item[data-v-bcd8af9a], .race-item[data-v-bcd8af9a] {\n  grid-column: span 2;\n}\n@media (min-width: 769px) {\n.name-item[data-v-bcd8af9a], .race-item[data-v-bcd8af9a] {\n    grid-column: 1 / -1;\n}\n}\n.name-item label[data-v-bcd8af9a] {\n  font-size: 1.1rem;\n  font-weight: 600;\n  color: var(--color-primary);\n  margin-bottom: 0.5rem;\n  display: block;\n}\n.name-item input[data-v-bcd8af9a], .input-field input[data-v-bcd8af9a] {\n  width: 100%;\n  background: var(--color-background);\n  border: 1px solid var(--color-border);\n  color: var(--color-text);\n  padding: 0.75rem;\n  border-radius: 4px;\n  font-size: 1rem;\n  box-sizing: border-box;\n}\n.input-field input[data-v-bcd8af9a] {\n    background: var(--color-surface);\n}\n.name-item input[data-v-bcd8af9a]:focus, .input-field input[data-v-bcd8af9a]:focus {\n  outline: none;\n  border-color: var(--color-primary);\n}\n\n/* æ€§åˆ«é€‰æ‹© */\n.gender-control[data-v-bcd8af9a] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n.gender-label[data-v-bcd8af9a] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  cursor: pointer;\n  font-size: 1rem;\n  padding: 0.5rem;\n  border-radius: 4px;\n  color: var(--color-text);\n}\n.gender-label[data-v-bcd8af9a]:hover {\n  background: var(--color-surface-light);\n}\n.gender-label input[type="radio"][data-v-bcd8af9a] {\n  width: 16px;\n  height: 16px;\n  margin: 0;\n}\n\n/* å¹´é¾„æ§åˆ¶ */\n.age-control[data-v-bcd8af9a] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 1rem;\n}\n.age-btn[data-v-bcd8af9a] {\n  width: 32px;\n  height: 32px;\n  border: 1px solid var(--color-border);\n  background: var(--color-surface);\n  color: var(--color-text);\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 1rem;\n  font-weight: 600;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.age-btn[data-v-bcd8af9a]:hover:not(:disabled) {\n  background: var(--color-primary);\n  color: white;\n  border-color: var(--color-primary);\n}\n.age-btn[data-v-bcd8af9a]:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n.age-display[data-v-bcd8af9a] {\n  font-size: 1.1rem;\n  font-weight: 600;\n  color: var(--color-text);\n  min-width: 60px;\n  text-align: center;\n}\n\n/* åˆ—è¡¨æ ·å¼ */\n.preview-item ul[data-v-bcd8af9a] {\n  list-style: none;\n  padding: 0;\n  margin: 0;\n}\n.preview-item li[data-v-bcd8af9a] {\n  margin-bottom: 0.75rem;\n  padding: 0.75rem;\n  background: var(--color-surface-light);\n  border-radius: 4px;\n  color: var(--color-text);\n  line-height: 1.4;\n}\n.preview-item li strong[data-v-bcd8af9a] {\n  display: block;\n  margin-bottom: 0.25rem;\n  color: var(--color-primary);\n}\n\n/* äº‘ç«¯ä¿¡æ¯ */\n.cloud-info-item[data-v-bcd8af9a] {\n  text-align: center;\n  background: var(--color-surface-light);\n  border: 1px dashed var(--color-border);\n}\n.cloud-info-text[data-v-bcd8af9a] {\n  font-size: 0.95rem;\n  color: var(--color-text-secondary);\n  line-height: 1.6;\n  font-style: italic;\n}\n\n/* å“åº”å¼ */\n@media (max-width: 768px) {\n.preview-container[data-v-bcd8af9a] {\n    padding: 1rem;\n}\n.preview-grid[data-v-bcd8af9a] {\n    grid-template-columns: 1fr;\n    gap: 1rem;\n}\n.gender-control[data-v-bcd8af9a] {\n    flex-direction: row;\n    flex-wrap: wrap;\n    justify-content: space-around;\n}\n.gender-label[data-v-bcd8af9a] {\n    flex: 1;\n    min-width: 80px;\n    justify-content: center;\n}\n}\n@media (min-width: 769px) and (max-width: 1024px) {\n.preview-grid[data-v-bcd8af9a] {\n    grid-template-columns: repeat(2, 1fr);\n}\n}\n\n/* æš—è‰²ä¸»é¢˜ */\n[data-theme="dark"] .preview-item[data-v-bcd8af9a] {\n  background: #1f2937;\n  border-color: #374151;\n}\n[data-theme="dark"] .name-item input[data-v-bcd8af9a] {\n  background: #111827;\n  border-color: #374151;\n  color: #f9fafb;\n}\n[data-theme="dark"] .gender-label[data-v-bcd8af9a]:hover {\n  background: #374151;\n}\n[data-theme="dark"] .age-btn[data-v-bcd8af9a] {\n  background: #374151;\n  border-color: #4b5563;\n  color: #f9fafb;\n}\n[data-theme="dark"] .preview-item li[data-v-bcd8af9a] {\n  background: #374151;\n  color: #e5e7eb;\n}\n[data-theme="dark"] .cloud-info-item[data-v-bcd8af9a] {\n  background: #374151;\n}\n@media (max-width: 480px) {\n.preview-container[data-v-bcd8af9a] {\n    padding: 1rem;\n}\n.title[data-v-bcd8af9a] {\n    font-size: 1.6rem;\n}\n.subtitle[data-v-bcd8af9a] {\n    font-size: 0.9rem;\n    margin-bottom: 1.5rem;\n}\n.preview-item[data-v-bcd8af9a] {\n    padding: 1rem;\n    gap: 0.8rem;\n}\n.preview-item h3[data-v-bcd8af9a] {\n    font-size: 1rem;\n}\n.preview-item h4[data-v-bcd8af9a] {\n    font-size: 1rem;\n}\n.item-description[data-v-bcd8af9a] {\n    font-size: 0.85rem !important;\n}\n.name-item label[data-v-bcd8af9a] {\n    font-size: 1rem;\n}\n.name-item input[data-v-bcd8af9a] {\n    padding: 0.6rem;\n    font-size: 0.9rem;\n}\n.gender-label[data-v-bcd8af9a] {\n    font-size: 0.9rem;\n    padding: 0.4rem;\n}\n.age-control[data-v-bcd8af9a] {\n    gap: 0.8rem;\n}\n.age-btn[data-v-bcd8af9a] {\n    width: 28px;\n    height: 28px;\n    font-size: 0.9rem;\n}\n.age-display[data-v-bcd8af9a] {\n    font-size: 1rem;\n}\n.preview-item li[data-v-bcd8af9a] {\n    padding: 0.6rem;\n}\n}\n',""]);const i=l},4061:e=&gt;{e.exports=Vue},4081:(e,n,t)=&gt;{t.d(n,{A:()=&gt;i});var a=t(1601),o=t.n(a),r=t(6314),l=t.n(r)()(o());l.push([e.id,"\n.video-background-container[data-v-faad78a8] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  z-index: -10;\n  pointer-events: none;\n  background-color: #1a1b26; /* ç®€å•çš„æš—è‰²èƒŒæ™¯ä½œä¸ºå¤‡ç”¨ */\n}\n.video-background[data-v-faad78a8] {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  transform: translate(-50%, -50%);\n  z-index: -2;\n}\n.video-overlay[data-v-faad78a8] {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(10, 15, 24, 0);\n  z-index: -1;\n}\n",""]);const i=l},4096:(e,n,t)=&gt;{t.d(n,{A:()=&gt;i});var a=t(1601),o=t.n(a),r=t(6314),l=t.n(r)()(o());l.push([e.id,':root,\n:host {\n  --ol-background-color: white;\n  --ol-accent-background-color: #F5F5F5;\n  --ol-subtle-background-color: rgba(128, 128, 128, 0.25);\n  --ol-partial-background-color: rgba(255, 255, 255, 0.75);\n  --ol-foreground-color: #333333;\n  --ol-subtle-foreground-color: #666666;\n  --ol-brand-color: #00AAFF;\n}\n\n.ol-box {\n  box-sizing: border-box;\n  border-radius: 2px;\n  border: 1.5px solid var(--ol-background-color);\n  background-color: var(--ol-partial-background-color);\n}\n\n.ol-mouse-position {\n  top: 8px;\n  right: 8px;\n  position: absolute;\n}\n\n.ol-scale-line {\n  background: var(--ol-partial-background-color);\n  border-radius: 4px;\n  bottom: 8px;\n  left: 8px;\n  padding: 2px;\n  position: absolute;\n}\n\n.ol-scale-line-inner {\n  border: 1px solid var(--ol-subtle-foreground-color);\n  border-top: none;\n  color: var(--ol-foreground-color);\n  font-size: 10px;\n  text-align: center;\n  margin: 1px;\n  will-change: contents, width;\n  transition: all 0.25s;\n}\n\n.ol-scale-bar {\n  position: absolute;\n  bottom: 8px;\n  left: 8px;\n}\n\n.ol-scale-bar-inner {\n  display: flex;\n}\n\n.ol-scale-step-marker {\n  width: 1px;\n  height: 15px;\n  background-color: var(--ol-foreground-color);\n  float: right;\n  z-index: 10;\n}\n\n.ol-scale-step-text {\n  position: absolute;\n  bottom: -5px;\n  font-size: 10px;\n  z-index: 11;\n  color: var(--ol-foreground-color);\n  text-shadow: -1.5px 0 var(--ol-partial-background-color), 0 1.5px var(--ol-partial-background-color), 1.5px 0 var(--ol-partial-background-color), 0 -1.5px var(--ol-partial-background-color);\n}\n\n.ol-scale-text {\n  position: absolute;\n  font-size: 12px;\n  text-align: center;\n  bottom: 25px;\n  color: var(--ol-foreground-color);\n  text-shadow: -1.5px 0 var(--ol-partial-background-color), 0 1.5px var(--ol-partial-background-color), 1.5px 0 var(--ol-partial-background-color), 0 -1.5px var(--ol-partial-background-color);\n}\n\n.ol-scale-singlebar {\n  position: relative;\n  height: 10px;\n  z-index: 9;\n  box-sizing: border-box;\n  border: 1px solid var(--ol-foreground-color);\n}\n\n.ol-scale-singlebar-even {\n  background-color: var(--ol-subtle-foreground-color);\n}\n\n.ol-scale-singlebar-odd {\n  background-color: var(--ol-background-color);\n}\n\n.ol-unsupported {\n  display: none;\n}\n\n.ol-viewport,\n.ol-unselectable {\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  user-select: none;\n  -webkit-tap-highlight-color: transparent;\n}\n\n.ol-viewport canvas {\n  all: unset;\n  overflow: hidden;\n}\n\n.ol-viewport {\n  touch-action: pan-x pan-y;\n}\n\n.ol-selectable {\n  -webkit-touch-callout: default;\n  -webkit-user-select: text;\n  -moz-user-select: text;\n  user-select: text;\n}\n\n.ol-grabbing {\n  cursor: -webkit-grabbing;\n  cursor: -moz-grabbing;\n  cursor: grabbing;\n}\n\n.ol-grab {\n  cursor: move;\n  cursor: -webkit-grab;\n  cursor: -moz-grab;\n  cursor: grab;\n}\n\n.ol-control {\n  position: absolute;\n  background-color: var(--ol-subtle-background-color);\n  border-radius: 4px;\n}\n\n.ol-zoom {\n  top: .5em;\n  left: .5em;\n}\n\n.ol-rotate {\n  top: .5em;\n  right: .5em;\n  transition: opacity .25s linear, visibility 0s linear;\n}\n\n.ol-rotate.ol-hidden {\n  opacity: 0;\n  visibility: hidden;\n  transition: opacity .25s linear, visibility 0s linear .25s;\n}\n\n.ol-zoom-extent {\n  top: 4.643em;\n  left: .5em;\n}\n\n.ol-full-screen {\n  right: .5em;\n  top: .5em;\n}\n\n.ol-control button {\n  display: block;\n  margin: 1px;\n  padding: 0;\n  color: var(--ol-subtle-foreground-color);\n  font-weight: bold;\n  text-decoration: none;\n  font-size: inherit;\n  text-align: center;\n  height: 1.375em;\n  width: 1.375em;\n  line-height: .4em;\n  background-color: var(--ol-background-color);\n  border: none;\n  border-radius: 2px;\n}\n\n.ol-control button::-moz-focus-inner {\n  border: none;\n  padding: 0;\n}\n\n.ol-zoom-extent button {\n  line-height: 1.4em;\n}\n\n.ol-compass {\n  display: block;\n  font-weight: normal;\n  will-change: transform;\n}\n\n.ol-touch .ol-control button {\n  font-size: 1.5em;\n}\n\n.ol-touch .ol-zoom-extent {\n  top: 5.5em;\n}\n\n.ol-control button:hover,\n.ol-control button:focus {\n  text-decoration: none;\n  outline: 1px solid var(--ol-subtle-foreground-color);\n  color: var(--ol-foreground-color);\n}\n\n.ol-zoom .ol-zoom-in {\n  border-radius: 2px 2px 0 0;\n}\n\n.ol-zoom .ol-zoom-out {\n  border-radius: 0 0 2px 2px;\n}\n\n.ol-attribution {\n  text-align: right;\n  bottom: .5em;\n  right: .5em;\n  max-width: calc(100% - 1.3em);\n  display: flex;\n  flex-flow: row-reverse;\n  align-items: center;\n}\n\n.ol-attribution a {\n  color: var(--ol-subtle-foreground-color);\n  text-decoration: none;\n}\n\n.ol-attribution ul {\n  margin: 0;\n  padding: 1px .5em;\n  color: var(--ol-foreground-color);\n  text-shadow: 0 0 2px var(--ol-background-color);\n  font-size: 12px;\n}\n\n.ol-attribution li {\n  display: inline;\n  list-style: none;\n}\n\n.ol-attribution li:not(:last-child):after {\n  content: " ";\n}\n\n.ol-attribution img {\n  max-height: 2em;\n  max-width: inherit;\n  vertical-align: middle;\n}\n\n.ol-attribution button {\n  flex-shrink: 0;\n}\n\n.ol-attribution.ol-collapsed ul {\n  display: none;\n}\n\n.ol-attribution:not(.ol-collapsed) {\n  background: var(--ol-partial-background-color);\n}\n\n.ol-attribution.ol-uncollapsible {\n  bottom: 0;\n  right: 0;\n  border-radius: 4px 0 0;\n}\n\n.ol-attribution.ol-uncollapsible img {\n  margin-top: -.2em;\n  max-height: 1.6em;\n}\n\n.ol-attribution.ol-uncollapsible button {\n  display: none;\n}\n\n.ol-zoomslider {\n  top: 4.5em;\n  left: .5em;\n  height: 200px;\n}\n\n.ol-zoomslider button {\n  position: relative;\n  height: 10px;\n}\n\n.ol-touch .ol-zoomslider {\n  top: 5.5em;\n}\n\n.ol-overviewmap {\n  left: 0.5em;\n  bottom: 0.5em;\n}\n\n.ol-overviewmap.ol-uncollapsible {\n  bottom: 0;\n  left: 0;\n  border-radius: 0 4px 0 0;\n}\n\n.ol-overviewmap .ol-overviewmap-map,\n.ol-overviewmap button {\n  display: block;\n}\n\n.ol-overviewmap .ol-overviewmap-map {\n  border: 1px solid var(--ol-subtle-foreground-color);\n  height: 150px;\n  width: 150px;\n}\n\n.ol-overviewmap:not(.ol-collapsed) button {\n  bottom: 0;\n  left: 0;\n  position: absolute;\n}\n\n.ol-overviewmap.ol-collapsed .ol-overviewmap-map,\n.ol-overviewmap.ol-uncollapsible button {\n  display: none;\n}\n\n.ol-overviewmap:not(.ol-collapsed) {\n  background: var(--ol-subtle-background-color);\n}\n\n.ol-overviewmap-box {\n  border: 1.5px dotted var(--ol-subtle-foreground-color);\n}\n\n.ol-overviewmap .ol-overviewmap-box:hover {\n  cursor: move;\n}\n\n.ol-overviewmap .ol-viewport:hover {\n  cursor: pointer;\n}\n',""]);const i=l},4244:(e,n,t)=&gt;{t.d(n,{A:()=&gt;i});var a=t(1601),o=t.n(a),r=t(6314),l=t.n(r)()(o());l.push([e.id,"\n.thousand-dao-content[data-v-3c90b3e6] {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  background: var(--color-background);\n  overflow: hidden;\n}\n\n/* é¡¶æ åŠ¨ä½œç»Ÿä¸€å¤„ç† */\n\n/* å¤´éƒ¨æ ·å¼ */\n.dao-header[data-v-3c90b3e6] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1rem;\n  background: var(--color-surface);\n  border-bottom: 1px solid var(--color-border);\n}\n.header-left[data-v-3c90b3e6] {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n.header-icon[data-v-3c90b3e6] {\n  width: 40px;\n  height: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 1.5rem;\n  background: var(--color-primary);\n  border-radius: 10px;\n  color: white;\n}\n.panel-title[data-v-3c90b3e6] {\n  margin: 0;\n  font-size: 1.25rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.panel-subtitle[data-v-3c90b3e6] {\n  font-size: 0.85rem;\n  color: var(--color-text-secondary);\n}\n.refresh-btn[data-v-3c90b3e6] {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 8px 16px;\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  background: var(--color-background);\n  color: var(--color-text);\n  cursor: pointer;\n  transition: all 0.2s ease;\n  font-size: 0.9rem;\n}\n.refresh-btn[data-v-3c90b3e6]:hover:not(:disabled) {\n  background: var(--color-surface-hover);\n  border-color: var(--color-primary);\n}\n.refresh-btn[data-v-3c90b3e6]:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n\n/* ä¸»è¦å†…å®¹ */\n.dao-main[data-v-3c90b3e6] {\n  flex: 1;\n  display: flex;\n  overflow: hidden;\n}\n.dao-overview[data-v-3c90b3e6] {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n\n/* å¤§é“ç»Ÿè®¡ */\n.dao-stats[data-v-3c90b3e6] {\n  display: flex;\n  gap: 1rem;\n  padding: 1rem;\n  background: var(--color-surface-light);\n}\n.stat-card[data-v-3c90b3e6] {\n  flex: 1;\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  padding: 16px;\n  background: var(--color-surface);\n  border-radius: 12px;\n  border: 1px solid var(--color-border);\n}\n.stat-icon[data-v-3c90b3e6] {\n  font-size: 1.5rem;\n  opacity: 0.8;\n}\n.stat-value[data-v-3c90b3e6] {\n  font-size: 1.5rem;\n  font-weight: 700;\n  color: var(--color-text);\n}\n.stat-label[data-v-3c90b3e6] {\n  font-size: 0.85rem;\n  color: var(--color-text-secondary);\n}\n\n/* å¤§é“ç« èŠ‚ */\n.dao-sections[data-v-3c90b3e6] {\n  flex: 1;\n  padding: 1rem;\n  overflow-y: auto;\n}\n.cultivating-section[data-v-3c90b3e6] {\n  padding: 1rem;\n  padding-bottom: 0;\n}\n.cultivating-card[data-v-3c90b3e6] {\n  background: var(--color-surface);\n  border: 2px solid var(--color-primary);\n  border-radius: 12px;\n  padding: 16px;\n  box-shadow: 0 4px 12px rgba(var(--color-primary-rgb), 0.1);\n}\n.cultivating-info[data-v-3c90b3e6] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 12px;\n}\n.cultivating-name[data-v-3c90b3e6] {\n  font-size: 1.1rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.cultivating-level[data-v-3c90b3e6] {\n  background: var(--color-primary);\n  color: white;\n  padding: 2px 8px;\n  border-radius: 12px;\n  font-size: 0.75rem;\n  font-weight: 500;\n}\n.cultivating-progress[data-v-3c90b3e6] {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n.dao-section[data-v-3c90b3e6] {\n  margin-bottom: 2rem;\n}\n.section-title[data-v-3c90b3e6] {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  margin: 0 0 16px 0;\n  font-size: 1.1rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.title-icon[data-v-3c90b3e6] {\n  font-size: 1rem;\n}\n\n/* ç©ºçŠ¶æ€ */\n.empty-state[data-v-3c90b3e6] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 40px;\n  text-align: center;\n  color: var(--color-text-secondary);\n}\n.empty-icon[data-v-3c90b3e6] {\n  font-size: 3rem;\n  margin-bottom: 16px;\n  opacity: 0.5;\n}\n.empty-tip[data-v-3c90b3e6] {\n  font-size: 0.85rem;\n  margin-top: 8px;\n  opacity: 0.8;\n}\n\n/* å¤§é“ç½‘æ ¼ */\n.dao-grid[data-v-3c90b3e6] {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));\n  gap: 16px;\n}\n.dao-card[data-v-3c90b3e6] {\n  background: var(--color-surface);\n  border: 2px solid var(--color-border);\n  border-radius: 12px;\n  padding: 16px;\n  cursor: pointer;\n  transition: all 0.3s ease;\n}\n.dao-card[data-v-3c90b3e6]:hover {\n  border-color: var(--color-primary);\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(var(--color-primary-rgb), 0.15);\n}\n.dao-card.selected[data-v-3c90b3e6] {\n  border-color: var(--color-primary);\n  background: rgba(var(--color-primary-rgb), 0.05);\n}\n.dao-card-header[data-v-3c90b3e6] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 12px;\n}\n.dao-name[data-v-3c90b3e6] {\n  margin: 0;\n  font-size: 1rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.dao-stage[data-v-3c90b3e6] {\n  background: var(--color-info);\n  color: white;\n  padding: 2px 8px;\n  border-radius: 12px;\n  font-size: 0.75rem;\n  font-weight: 500;\n}\n\n/* è¿›åº¦æ¡ */\n.dao-progress[data-v-3c90b3e6] {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  margin-bottom: 8px;\n}\n.progress-bar[data-v-3c90b3e6] {\n  flex: 1;\n  height: 6px;\n  background: var(--color-border);\n  border-radius: 3px;\n  overflow: hidden;\n}\n.progress-fill[data-v-3c90b3e6] {\n  height: 100%;\n  background: linear-gradient(90deg, var(--color-success), var(--color-info));\n  border-radius: 3px;\n  transition: width 0.5s ease;\n}\n.progress-text[data-v-3c90b3e6] {\n  font-size: 0.8rem;\n  color: var(--color-text-secondary);\n  font-weight: 600;\n  min-width: 35px;\n}\n.dao-experience[data-v-3c90b3e6] {\n  font-size: 0.85rem;\n  color: var(--color-text-secondary);\n}\n\n/* å‘ç°æç¤º */\n.dao-discover-hint[data-v-3c90b3e6] {\n  padding: 0;\n}\n.discover-card[data-v-3c90b3e6] {\n  display: flex;\n  gap: 20px;\n  padding: 24px;\n  background: linear-gradient(135deg, var(--color-surface) 0%, rgba(var(--color-primary-rgb), 0.05) 100%);\n  border: 1px solid var(--color-border);\n  border-radius: 16px;\n  align-items: flex-start;\n}\n.discover-icon[data-v-3c90b3e6] {\n  font-size: 3rem;\n  opacity: 0.8;\n  flex-shrink: 0;\n}\n.discover-content h5[data-v-3c90b3e6] {\n  margin: 0 0 12px 0;\n  font-size: 1.1rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.discover-content p[data-v-3c90b3e6] {\n  margin: 0 0 16px 0;\n  color: var(--color-text-secondary);\n  line-height: 1.6;\n}\n.discover-methods[data-v-3c90b3e6] {\n  list-style: none;\n  padding: 0;\n  margin: 0;\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  gap: 8px;\n}\n.discover-methods li[data-v-3c90b3e6] {\n  padding: 8px 12px;\n  background: var(--color-surface);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  font-size: 0.9rem;\n  color: var(--color-text);\n  transition: all 0.2s ease;\n}\n.discover-methods li[data-v-3c90b3e6]:hover {\n  background: var(--color-surface-hover);\n  border-color: var(--color-primary);\n}\n\n/* é˜¶æ®µæ˜¾ç¤ºå¢å¼º */\n.stage-display[data-v-3c90b3e6] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 8px;\n}\n.stage-name[data-v-3c90b3e6] {\n  font-weight: 600;\n  color: var(--color-primary);\n}\n.stage-number[data-v-3c90b3e6] {\n  font-size: 0.85rem;\n  color: var(--color-text-secondary);\n  background: var(--color-surface-light);\n  padding: 2px 8px;\n  border-radius: 12px;\n}\n.progress-detail[data-v-3c90b3e6] {\n  font-size: 0.8rem;\n  color: var(--color-text-secondary);\n  margin-top: 4px;\n}\n\n/* ç»Ÿè®¡é«˜äº® */\n.stat-highlight[data-v-3c90b3e6] {\n  font-weight: 600;\n  color: var(--color-primary);\n}\n.next-stage[data-v-3c90b3e6] {\n  font-weight: 500;\n  color: var(--color-info);\n}\n\n/* é˜¶æ®µåˆ—è¡¨ */\n.stages-list[data-v-3c90b3e6] {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n  max-height: 300px;\n  overflow-y: auto;\n  padding-right: 4px;\n}\n.stage-item[data-v-3c90b3e6] {\n  display: flex;\n  gap: 12px;\n  padding: 12px;\n  border-radius: 8px;\n  transition: all 0.2s ease;\n}\n.stage-item.completed[data-v-3c90b3e6] {\n  background: rgba(var(--color-success-rgb), 0.1);\n  border: 1px solid rgba(var(--color-success-rgb), 0.3);\n}\n.stage-item.current[data-v-3c90b3e6] {\n  background: rgba(var(--color-primary-rgb), 0.1);\n  border: 1px solid rgba(var(--color-primary-rgb), 0.3);\n  box-shadow: 0 2px 8px rgba(var(--color-primary-rgb), 0.15);\n}\n.stage-item.locked[data-v-3c90b3e6] {\n  background: var(--color-surface-light);\n  border: 1px solid var(--color-border);\n  opacity: 0.7;\n}\n.stage-marker[data-v-3c90b3e6] {\n  flex-shrink: 0;\n  width: 24px;\n  height: 24px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 0.9rem;\n}\n.stage-details[data-v-3c90b3e6] {\n  flex: 1;\n}\n.stage-details .stage-name[data-v-3c90b3e6] {\n  font-weight: 600;\n  color: var(--color-text);\n  margin-bottom: 4px;\n}\n.stage-desc[data-v-3c90b3e6] {\n  font-size: 0.85rem;\n  color: var(--color-text-secondary);\n  line-height: 1.4;\n  margin-bottom: 4px;\n}\n.stage-req[data-v-3c90b3e6] {\n  font-size: 0.8rem;\n  color: var(--color-info);\n  font-weight: 500;\n}\n\n/* å¢å¼ºæŒ‰é’®æ ·å¼ */\n.cultivate-dao[data-v-3c90b3e6] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 8px;\n  width: 100%;\n  padding: 12px 16px;\n  background: linear-gradient(135deg, var(--color-primary), var(--color-info));\n  color: white;\n  border: none;\n  border-radius: 8px;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  position: relative;\n  overflow: hidden;\n}\n.cultivate-dao[data-v-3c90b3e6]::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: -100%;\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);\n  transition: left 0.5s ease;\n}\n.cultivate-dao[data-v-3c90b3e6]:hover::before {\n  left: 100%;\n}\n.cultivate-dao[data-v-3c90b3e6]:hover {\n  transform: translateY(-1px);\n  box-shadow: 0 4px 12px rgba(var(--color-primary-rgb), 0.3);\n}\n\n/* å¤§é“è¯¦æƒ…ä¾§è¾¹æ  */\n.dao-details-sidebar[data-v-3c90b3e6] {\n  width: 320px;\n  background: var(--color-surface);\n  border-left: 1px solid var(--color-border);\n  display: flex;\n  flex-direction: column;\n}\n.details-header[data-v-3c90b3e6] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 20px;\n  border-bottom: 1px solid var(--color-border);\n}\n.details-header h3[data-v-3c90b3e6] {\n  margin: 0;\n  font-size: 1.1rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.close-details[data-v-3c90b3e6] {\n  background: none;\n  border: none;\n  padding: 4px;\n  border-radius: 4px;\n  cursor: pointer;\n  color: var(--color-text-secondary);\n  transition: all 0.2s ease;\n}\n.close-details[data-v-3c90b3e6]:hover {\n  background: var(--color-surface-hover);\n  color: var(--color-text);\n}\n.details-content[data-v-3c90b3e6] {\n  flex: 1;\n  padding: 20px;\n  overflow-y: auto;\n}\n.detail-section[data-v-3c90b3e6] {\n  margin-bottom: 24px;\n}\n.detail-section h4[data-v-3c90b3e6] {\n  margin: 0 0 12px 0;\n  font-size: 0.9rem;\n  color: var(--color-text-secondary);\n  text-transform: uppercase;\n  font-weight: 600;\n}\n.stage-info[data-v-3c90b3e6] {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n.current-stage[data-v-3c90b3e6] {\n  font-weight: 500;\n  color: var(--color-text);\n}\n.dao-description[data-v-3c90b3e6] {\n  color: var(--color-text);\n  line-height: 1.6;\n  margin: 0;\n}\n.dao-stats-detail[data-v-3c90b3e6] {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n.stat-row[data-v-3c90b3e6] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n.status-badge[data-v-3c90b3e6] {\n  padding: 2px 8px;\n  border-radius: 12px;\n  font-size: 0.75rem;\n  font-weight: 500;\n}\n.status-badge.unlocked[data-v-3c90b3e6] {\n  background: var(--color-success);\n  color: white;\n}\n\n/* è¯¦æƒ…æ“ä½œ */\n.details-actions[data-v-3c90b3e6] {\n  padding: 16px 20px;\n  border-top: 1px solid var(--color-border);\n}\n.cultivate-dao[data-v-3c90b3e6] {\n  width: 100%;\n  padding: 10px 16px;\n  background: var(--color-primary);\n  color: white;\n  border: none;\n  border-radius: 8px;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n.cultivate-dao[data-v-3c90b3e6]:hover {\n  background: var(--color-primary-hover);\n}\n\n/* åŠ è½½çŠ¶æ€ */\n.loading-placeholder[data-v-3c90b3e6] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  flex: 1;\n  color: var(--color-text-secondary);\n}\n.loading-spinner[data-v-3c90b3e6] {\n  width: 32px;\n  height: 32px;\n  border: 3px solid var(--color-border);\n  border-top: 3px solid var(--color-primary);\n  border-radius: 50%;\n  margin-bottom: 16px;\n  opacity: 0.8;\n}\n\n/* å“åº”å¼è®¾è®¡ */\n@media (max-width: 640px) {\n.thousand-dao-content[data-v-3c90b3e6] {\n    padding: 0;\n}\n.dao-header[data-v-3c90b3e6] {\n    padding: 1rem;\n    position: sticky;\n    top: 0;\n    z-index: 100;\n    background: var(--color-surface);\n}\n.header-left[data-v-3c90b3e6] {\n    gap: 0.5rem;\n}\n.panel-title[data-v-3c90b3e6] {\n    font-size: 1.1rem;\n}\n.panel-subtitle[data-v-3c90b3e6] {\n    display: none;\n}\n.refresh-btn[data-v-3c90b3e6] {\n    padding: 0.5rem;\n    font-size: 0.8rem;\n}\n.dao-main[data-v-3c90b3e6] {\n    flex-direction: column;\n    padding: 0;\n}\n.dao-stats[data-v-3c90b3e6] {\n    padding: 1rem;\n    gap: 0.75rem;\n}\n.stat-card[data-v-3c90b3e6] {\n    padding: 1rem;\n    min-height: 80px;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n}\n.stat-icon[data-v-3c90b3e6] {\n    font-size: 1.25rem;\n    margin-bottom: 0.5rem;\n}\n.stat-value[data-v-3c90b3e6] {\n    font-size: 1.25rem;\n    margin-bottom: 0.25rem;\n}\n.stat-label[data-v-3c90b3e6] {\n    font-size: 0.8rem;\n}\n.dao-sections[data-v-3c90b3e6] {\n    padding: 1rem;\n}\n.dao-grid[data-v-3c90b3e6] {\n    grid-template-columns: 1fr;\n    gap: 0.75rem;\n}\n.dao-card[data-v-3c90b3e6] {\n    padding: 1rem;\n}\n.dao-card-header[data-v-3c90b3e6] {\n    margin-bottom: 0.75rem;\n}\n.dao-name[data-v-3c90b3e6] {\n    font-size: 0.95rem;\n}\n.dao-stage[data-v-3c90b3e6] {\n    font-size: 0.7rem;\n}\n.dao-details-sidebar[data-v-3c90b3e6] {\n    width: 100%;\n    max-height: 60vh;\n    border-left: none;\n    border-top: 1px solid var(--color-border);\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    z-index: 200;\n    border-radius: 1rem 1rem 0 0;\n    box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.15);\n}\n.details-header[data-v-3c90b3e6] {\n    padding: 1rem;\n    border-bottom: 1px solid var(--color-border);\n    background: var(--color-surface);\n    border-radius: 1rem 1rem 0 0;\n}\n.details-header h3[data-v-3c90b3e6] {\n    font-size: 1.1rem;\n}\n.details-content[data-v-3c90b3e6] {\n    padding: 1rem;\n    max-height: calc(60vh - 120px);\n    overflow-y: auto;\n}\n.detail-section[data-v-3c90b3e6] {\n    margin-bottom: 1.5rem;\n}\n.detail-section h4[data-v-3c90b3e6] {\n    font-size: 0.85rem;\n    margin-bottom: 0.75rem;\n}\n.details-actions[data-v-3c90b3e6] {\n    padding: 1rem;\n    background: var(--color-surface);\n    border-top: 1px solid var(--color-border);\n}\n.cultivate-dao[data-v-3c90b3e6] {\n    padding: 0.75rem;\n    font-size: 0.9rem;\n}\n}\n",""]);const i=l},4270:(e,n,t)=&gt;{t.d(n,{b:()=&gt;a,o:()=&gt;i});const a=(0,t(4061).ref)([]),o=new Map;let r=0;const l=e=&gt;{a.value=a.value.filter(n=&gt;n.id!==e)},i=new class{show(e,n,t={}){const{duration:i=2500,id:c}=t;if(!c&amp;&amp;((e,n)=&gt;{const t=((e,n)=&gt;`${e}::${n}`)(e,n),a=Date.now();if(a-(o.get(t)||0)&lt;1500)return!0;o.set(t,a);for(const[e,n]of o)a-n&gt;6e3&amp;&amp;o.delete(e);return!1})(e,n))return;if(c){const t=a.value.find(e=&gt;e.id===c);if(t)return t.message=n,t.type=e,void("loading"!==e&amp;&amp;setTimeout(()=&gt;l(c),i))}const s={id:c||`toast-${Date.now()}-${r++}`,type:e,message:n,duration:i};a.value.push(s),"loading"!==e&amp;&amp;setTimeout(()=&gt;l(s.id),i)}success(e,n={}){this.show("success",e,n)}error(e,n={}){this.show("error",e,n)}warning(e,n={}){this.show("warning",e,n)}info(e,n={}){this.show("info",e,n)}loading(e,n){this.show("loading",e,{...n,duration:999999})}hide(e){l(e)}}},4381:(e,n,t)=&gt;{t.d(n,{A:()=&gt;i});var a=t(1601),o=t.n(a),r=t(6314),l=t.n(r)()(o());l.push([e.id,"\n.data-status[data-v-45214445] {\n  padding: 1rem;\n  border-bottom: 1px solid var(--color-border);\n  display: flex;\n  gap: 2rem;\n}\n.status-item[data-v-45214445] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n.status-label[data-v-45214445] {\n  font-size: 0.875rem;\n  color: var(--color-text-secondary);\n}\n.status-value[data-v-45214445] {\n  font-size: 0.875rem;\n  font-weight: 500;\n}\n.status-value.connected[data-v-45214445] {\n  color: var(--color-success);\n}\n.status-value.disconnected[data-v-45214445] {\n  color: var(--color-danger);\n}\n",""]);const i=l},4388:(e,n,t)=&gt;{t.d(n,{A:()=&gt;i});var a=t(1601),o=t.n(a),r=t(6314),l=t.n(r)()(o());l.push([e.id,'\n/* ä½œè€…ä¿¡æ¯æ¨¡æ€æ¡†æ ·å¼ */\n.author-modal-overlay[data-v-6ff8c096] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.6);\n  backdrop-filter: blur(4px);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 10000;\n  padding: 1rem;\n}\n.author-modal[data-v-6ff8c096] {\n  background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);\n  border-radius: 16px;\n  max-width: 600px;\n  width: 100%;\n  max-height: 90vh;\n  overflow-y: auto;\n  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);\n  animation: modalSlideIn-6ff8c096 0.3s ease-out;\n}\n@keyframes modalSlideIn-6ff8c096 {\nfrom {\n    opacity: 0;\n    transform: translateY(-20px) scale(0.95);\n}\nto {\n    opacity: 1;\n    transform: translateY(0) scale(1);\n}\n}\n.author-modal-header[data-v-6ff8c096] {\n  padding: 1.5rem 2rem;\n  border-bottom: 2px solid #e2e8f0;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  color: white;\n  border-radius: 16px 16px 0 0;\n}\n.author-modal-header h3[data-v-6ff8c096] {\n  margin: 0;\n  font-size: 1.5rem;\n  font-weight: 700;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n.close-btn[data-v-6ff8c096] {\n  background: rgba(255, 255, 255, 0.2);\n  border: none;\n  color: white;\n  font-size: 1.5rem;\n  width: 32px;\n  height: 32px;\n  border-radius: 8px;\n  cursor: pointer;\n  transition: all 0.2s;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.close-btn[data-v-6ff8c096]:hover {\n  background: rgba(255, 255, 255, 0.3);\n  transform: rotate(90deg);\n}\n.author-modal-body[data-v-6ff8c096] {\n  padding: 2rem;\n}\n.version-badge[data-v-6ff8c096] {\n  display: inline-block;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  color: white;\n  padding: 0.5rem 1.25rem;\n  border-radius: 20px;\n  font-size: 0.9rem;\n  font-weight: 700;\n  margin-bottom: 1.5rem;\n  box-shadow: 0 4px 6px -1px rgba(102, 126, 234, 0.3);\n}\n.info-section[data-v-6ff8c096] {\n  margin-bottom: 2rem;\n}\n.info-section[data-v-6ff8c096]:last-child {\n  margin-bottom: 0;\n}\n.info-section h4[data-v-6ff8c096] {\n  color: #1e293b;\n  font-size: 1.1rem;\n  font-weight: 700;\n  margin-bottom: 1rem;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n.info-section p[data-v-6ff8c096] {\n  color: #475569;\n  line-height: 1.7;\n  margin: 0.5rem 0;\n}\n.info-section a[data-v-6ff8c096] {\n  color: #667eea;\n  text-decoration: none;\n  font-weight: 600;\n  transition: color 0.2s;\n}\n.info-section a[data-v-6ff8c096]:hover {\n  color: #764ba2;\n  text-decoration: underline;\n}\n.feature-list[data-v-6ff8c096] {\n  list-style: none;\n  padding: 0;\n  margin: 0;\n}\n.feature-list li[data-v-6ff8c096] {\n  padding: 0.75rem 0;\n  color: #475569;\n  line-height: 1.6;\n  display: flex;\n  align-items: flex-start;\n  gap: 0.75rem;\n  border-bottom: 1px solid #e2e8f0;\n}\n.feature-list li[data-v-6ff8c096]:last-child {\n  border-bottom: none;\n}\n.feature-list strong[data-v-6ff8c096] {\n  color: #1e293b;\n  font-weight: 600;\n}\n.tech-stack[data-v-6ff8c096] {\n  color: #64748b;\n  font-size: 0.95rem;\n  padding: 1rem;\n  background: #f1f5f9;\n  border-radius: 8px;\n  border-left: 4px solid #667eea;\n}\n.version-note[data-v-6ff8c096] {\n  color: #475569;\n  font-size: 0.95rem;\n  line-height: 1.6;\n  padding: 1rem;\n  background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);\n  border-radius: 8px;\n  border-left: 4px solid #f59e0b;\n}\n.version-note strong[data-v-6ff8c096] {\n  color: #92400e;\n}\n.copyright-notice[data-v-6ff8c096] {\n  padding: 1.25rem;\n  background: linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%);\n  border-radius: 8px;\n  border: 2px solid #dc2626;\n}\n.copyright-notice p[data-v-6ff8c096] {\n  margin: 0.5rem 0;\n  color: #1e293b;\n}\n.copyright-notice p[data-v-6ff8c096]:first-child {\n  font-weight: 700;\n  font-size: 1.05rem;\n  color: #dc2626;\n  margin-bottom: 0.75rem;\n}\n.copyright-notice strong[data-v-6ff8c096] {\n  color: #dc2626;\n  font-weight: 700;\n}\n.copyright-list[data-v-6ff8c096] {\n  list-style: none;\n  padding: 0;\n  margin: 1rem 0;\n}\n.copyright-list li[data-v-6ff8c096] {\n  padding: 0.5rem 0;\n  color: #475569;\n  line-height: 1.5;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  border-bottom: 1px solid #fee2e2;\n}\n.copyright-list li[data-v-6ff8c096]:last-child {\n  border-bottom: none;\n}\n.copyright-list strong[data-v-6ff8c096] {\n  color: #1e293b;\n  font-weight: 600;\n}\n.copyright-warning[data-v-6ff8c096] {\n  margin-top: 1rem;\n  padding: 0.75rem;\n  background: #dc2626;\n  color: white;\n  border-radius: 6px;\n  font-weight: 600;\n  text-align: center;\n}\n\n/* æ·±è‰²ä¸»é¢˜ */\n[data-theme="dark"] .author-modal[data-v-6ff8c096] {\n  background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);\n}\n[data-theme="dark"] .author-modal-header[data-v-6ff8c096] {\n  border-bottom-color: #334155;\n}\n[data-theme="dark"] .info-section h4[data-v-6ff8c096] {\n  color: #f1f5f9;\n}\n[data-theme="dark"] .info-section p[data-v-6ff8c096] {\n  color: #cbd5e1;\n}\n[data-theme="dark"] .feature-list li[data-v-6ff8c096] {\n  color: #cbd5e1;\n  border-bottom-color: #334155;\n}\n[data-theme="dark"] .feature-list strong[data-v-6ff8c096] {\n  color: #f1f5f9;\n}\n[data-theme="dark"] .tech-stack[data-v-6ff8c096] {\n  background: #0f172a;\n  color: #94a3b8;\n  border-left-color: #667eea;\n}\n[data-theme="dark"] .version-note[data-v-6ff8c096] {\n  background: linear-gradient(135deg, #422006 0%, #713f12 100%);\n  color: #fde68a;\n  border-left-color: #f59e0b;\n}\n[data-theme="dark"] .version-note strong[data-v-6ff8c096] {\n  color: #fbbf24;\n}\n[data-theme="dark"] .copyright-notice[data-v-6ff8c096] {\n  background: linear-gradient(135deg, #450a0a 0%, #7f1d1d 100%);\n  border-color: #dc2626;\n}\n[data-theme="dark"] .copyright-notice p[data-v-6ff8c096] {\n  color: #fecaca;\n}\n[data-theme="dark"] .copyright-notice p[data-v-6ff8c096]:first-child {\n  color: #fca5a5;\n}\n[data-theme="dark"] .copyright-notice strong[data-v-6ff8c096] {\n  color: #fca5a5;\n}\n[data-theme="dark"] .copyright-list li[data-v-6ff8c096] {\n  color: #fecaca;\n  border-bottom-color: #7f1d1d;\n}\n[data-theme="dark"] .copyright-list strong[data-v-6ff8c096] {\n  color: #fef2f2;\n}\n[data-theme="dark"] .copyright-warning[data-v-6ff8c096] {\n  background: #dc2626;\n  color: white;\n}\n\n/* æ»šåŠ¨æ¡ç¾åŒ– */\n.author-modal[data-v-6ff8c096]::-webkit-scrollbar {\n  width: 8px;\n}\n.author-modal[data-v-6ff8c096]::-webkit-scrollbar-track {\n  background: #f1f5f9;\n  border-radius: 4px;\n}\n.author-modal[data-v-6ff8c096]::-webkit-scrollbar-thumb {\n  background: #cbd5e1;\n  border-radius: 4px;\n}\n.author-modal[data-v-6ff8c096]::-webkit-scrollbar-thumb:hover {\n  background: #94a3b8;\n}\n[data-theme="dark"] .author-modal[data-v-6ff8c096]::-webkit-scrollbar-track {\n  background: #0f172a;\n}\n[data-theme="dark"] .author-modal[data-v-6ff8c096]::-webkit-scrollbar-thumb {\n  background: #475569;\n}\n[data-theme="dark"] .author-modal[data-v-6ff8c096]::-webkit-scrollbar-thumb:hover {\n  background: #64748b;\n}\n',""]);const i=l},4417:e=&gt;{e.exports=function(e,n){return n||(n={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&amp;&amp;(e=e.slice(1,-1)),n.hash&amp;&amp;(e+=n.hash),/["'() \t\n]|(%20)/.test(e)||n.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},4440:(e,n,t)=&gt;{t.d(n,{A:()=&gt;i});var a=t(1601),o=t.n(a),r=t(6314),l=t.n(r)()(o());l.push([e.id,"\n\n/* å¤´éƒ¨ */\n.panel-header[data-v-13a846e5] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1rem;\n  background: var(--color-surface);\n  border-radius: 0.75rem;\n  border: 1px solid var(--color-border);\n  flex-shrink: 0;\n  margin: 1rem 1rem 0 1rem;\n}\n.header-left[data-v-13a846e5] {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n}\n.header-icon[data-v-13a846e5] {\n  font-size: 1.5rem;\n}\n.header-info[data-v-13a846e5] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n}\n.panel-title[data-v-13a846e5] {\n  margin: 0;\n  font-size: 1.125rem;\n  font-weight: 600;\n  color: var(--color-primary);\n}\n.panel-subtitle[data-v-13a846e5] {\n  font-size: 0.875rem;\n  color: var(--color-accent);\n}\n.header-actions[data-v-13a846e5] {\n  display: flex;\n  gap: 0.5rem;\n}\n\n/* ä¿®ç‚¼å®¹å™¨ */\n.panel-content[data-v-13a846e5] {\n  flex: 1;\n  margin: 0 1rem 1rem 1rem;\n  min-height: 0;\n}\n.cultivation-sections[data-v-13a846e5] {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n}\n.loading-state[data-v-13a846e5] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 200px;\n  text-align: center;\n}\n.loading-spinner[data-v-13a846e5] {\n  font-size: 2rem;\n  margin-bottom: 0.5rem;\n}\n.loading-text[data-v-13a846e5] {\n  font-size: 1rem;\n  font-weight: 600;\n  color: var(--color-primary);\n}\n.empty-state[data-v-13a846e5] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  text-align: center;\n  padding: 1.5rem;\n}\n.empty-icon[data-v-13a846e5] {\n  font-size: 2rem;\n  margin-bottom: 0.5rem;\n}\n.empty-text[data-v-13a846e5] {\n  font-size: 0.875rem;\n  font-weight: 600;\n  color: var(--color-text);\n  margin-bottom: 0.25rem;\n}\n.empty-hint[data-v-13a846e5] {\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n}\n\n/* ä¿®ç‚¼åŠŸæ³•å¡ç‰‡ */\n.cultivation-status[data-v-13a846e5] {\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n  background: var(--color-surface-light);\n  padding: 0.25rem 0.5rem;\n  border-radius: 0.75rem;\n  border: 1px solid var(--color-border);\n}\n.cultivation-info[data-v-13a846e5] {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n}\n.technique-item[data-v-13a846e5] {\n  display: flex;\n  align-items: flex-start;\n  gap: 0.75rem;\n  padding: 1rem;\n  background: var(--color-surface-light);\n  border: 2px solid var(--color-border);\n  border-radius: 0.75rem;\n  transition: var(--transition-fast);\n}\n.technique-item[data-v-13a846e5]:hover {\n  background: rgba(var(--color-primary-rgb), 0.05);\n  border-color: var(--color-primary);\n}\n.technique-icon[data-v-13a846e5] {\n  font-size: 1.5rem;\n  flex-shrink: 0;\n  padding: 0.5rem;\n  border-radius: 0.5rem;\n  border: 2px solid;\n  background: var(--color-surface);\n}\n.technique-info[data-v-13a846e5] {\n  flex: 1;\n  min-width: 0;\n}\n.technique-details[data-v-13a846e5] {\n  margin-top: 1rem;\n  padding-top: 1rem;\n  border-top: 1px solid var(--color-border);\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n}\n.detail-block-title[data-v-13a846e5] {\n  font-size: 0.8rem;\n  font-weight: 600;\n  color: var(--color-accent);\n  margin-bottom: 0.5rem;\n  text-transform: uppercase;\n  letter-spacing: 0.05em;\n}\n.description-text[data-v-13a846e5] {\n  font-size: 0.85rem;\n  color: var(--color-text-secondary);\n  line-height: 1.6;\n  margin: 0;\n}\n.effects-list[data-v-13a846e5] {\n  list-style: none;\n  padding: 0;\n  margin: 0;\n  font-size: 0.85rem;\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n.effects-list li[data-v-13a846e5] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n.effect-icon[data-v-13a846e5] {\n  font-size: 1rem;\n}\n.attribute-bonus[data-v-13a846e5] {\n  background: rgba(var(--color-primary-rgb), 0.1);\n  color: var(--color-primary);\n  padding: 0.125rem 0.375rem;\n  border-radius: 0.25rem;\n  font-size: 0.75rem;\n  margin-left: 0.25rem;\n}\n.technique-name[data-v-13a846e5] {\n  font-size: 1rem;\n  font-weight: 700;\n  margin-bottom: 0.25rem;\n}\n.technique-quality[data-v-13a846e5] {\n  font-size: 0.8rem;\n  color: var(--color-text-secondary);\n  margin-bottom: 0.5rem;\n}\n.technique-progress[data-v-13a846e5] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n\n/* æŠ€èƒ½éƒ¨åˆ† */\n.skills-section[data-v-13a846e5] {\n  border-top: 1px solid var(--color-border);\n  padding-top: 1rem;\n}\n.skills-header[data-v-13a846e5] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 0.75rem;\n}\n.skills-title[data-v-13a846e5] {\n  margin: 0;\n  font-size: 0.9rem;\n  font-weight: 600;\n  color: var(--color-primary);\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n.skills-title[data-v-13a846e5]::before {\n  content: 'âš¡';\n  font-size: 1rem;\n}\n.skills-count[data-v-13a846e5] {\n  font-size: 0.8rem;\n  color: var(--color-text-secondary);\n  background: var(--color-surface-light);\n  padding: 0.25rem 0.5rem;\n  border-radius: 0.75rem;\n  border: 1px solid var(--color-border);\n}\n.skills-list[data-v-13a846e5] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n.skill-item[data-v-13a846e5] {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n  padding: 0.75rem;\n  background: var(--color-surface);\n  border: 1px solid var(--color-border);\n  border-radius: 0.5rem;\n  cursor: pointer;\n  transition: var(--transition-fast);\n}\n.skill-item[data-v-13a846e5]:hover {\n  background: rgba(var(--color-info-rgb), 0.05);\n  border-color: var(--color-info);\n  transform: translateY(-1px);\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n}\n.skill-icon[data-v-13a846e5] {\n  font-size: 1rem;\n  flex-shrink: 0;\n  color: var(--color-warning);\n}\n.skill-info[data-v-13a846e5] {\n  flex: 1;\n  min-width: 0;\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n}\n.skill-header-info[data-v-13a846e5] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 0.25rem;\n}\n.skill-name[data-v-13a846e5] {\n  font-size: 0.85rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.skill-type[data-v-13a846e5] {\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n  font-style: italic;\n}\n.skill-source-tag[data-v-13a846e5] {\n  font-size: 0.7rem;\n  padding: 0.125rem 0.375rem;\n  border-radius: 0.5rem;\n  font-weight: 500;\n  width: fit-content;\n  margin-bottom: 0.125rem;\n}\n.skill-unlock-requirement[data-v-13a846e5] {\n  font-size: 0.7rem;\n  color: var(--color-text-secondary);\n  font-style: italic;\n  margin-bottom: 0.25rem;\n  padding: 0.125rem 0.375rem;\n  background: rgba(var(--color-info-rgb), 0.1);\n  border-left: 2px solid var(--color-info);\n  border-radius: 0.25rem;\n}\n.source-direct[data-v-13a846e5] {\n  background: rgba(var(--color-success-rgb), 0.1);\n  color: var(--color-success);\n  border: 1px solid rgba(var(--color-success-rgb), 0.2);\n}\n.source-technique[data-v-13a846e5] {\n  background: rgba(var(--color-info-rgb), 0.1);\n  color: var(--color-info);\n  border: 1px solid rgba(var(--color-info-rgb), 0.2);\n}\n.source-default[data-v-13a846e5] {\n  background: rgba(var(--color-border-rgb), 0.1);\n  color: var(--color-text-secondary);\n  border: 1px solid var(--color-border);\n}\n.skill-proficiency[data-v-13a846e5] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  font-size: 0.75rem;\n}\n.proficiency-label[data-v-13a846e5] {\n  color: var(--color-text-secondary);\n  min-width: 3.5rem;\n}\n.proficiency-bar[data-v-13a846e5] {\n  flex: 1;\n  height: 3px;\n  background: rgba(var(--color-border-rgb), 0.3);\n  border-radius: 1.5px;\n  overflow: hidden;\n}\n.proficiency-fill[data-v-13a846e5] {\n  height: 100%;\n  background: linear-gradient(90deg, var(--color-warning), var(--color-success));\n  transition: width 0.3s ease;\n}\n.proficiency-text[data-v-13a846e5] {\n  color: var(--color-text-secondary);\n  font-weight: 500;\n  min-width: 2.5rem;\n  text-align: right;\n}\n.skill-level[data-v-13a846e5] {\n  font-size: 0.75rem;\n  font-weight: 600;\n  padding: 0.25rem 0.5rem;\n  border-radius: 0.75rem;\n  border: 1px solid;\n  text-align: center;\n  min-width: 3rem;\n}\n.level-master[data-v-13a846e5] {\n  background: linear-gradient(135deg, rgba(239, 68, 68, 0.2), rgba(239, 68, 68, 0.1));\n  border-color: #ef4444;\n  color: #dc2626;\n}\n.level-expert[data-v-13a846e5] {\n  background: linear-gradient(135deg, rgba(147, 51, 234, 0.2), rgba(147, 51, 234, 0.1));\n  border-color: #9333ea;\n  color: #7c3aed;\n}\n.level-proficient[data-v-13a846e5] {\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.2), rgba(59, 130, 246, 0.1));\n  border-color: #3b82f6;\n  color: #2563eb;\n}\n.level-beginner[data-v-13a846e5] {\n  background: linear-gradient(135deg, rgba(34, 197, 94, 0.2), rgba(34, 197, 94, 0.1));\n  border-color: #22c55e;\n  color: #16a34a;\n}\n.level-novice[data-v-13a846e5] {\n  background: linear-gradient(135deg, rgba(156, 163, 175, 0.2), rgba(156, 163, 175, 0.1));\n  border-color: #9ca3af;\n  color: #6b7280;\n}\n\n/* å“è´¨é¢œè‰² */\n.border-quality-ç¥[data-v-13a846e5], .text-quality-ç¥[data-v-13a846e5] { border-color: #ef4444; color: #ef4444;\n}\n.border-quality-ä»™[data-v-13a846e5], .text-quality-ä»™[data-v-13a846e5] { border-color: #f59e0b; color: #f59e0b;\n}\n.border-quality-å¤©[data-v-13a846e5], .text-quality-å¤©[data-v-13a846e5] { border-color: #8b5cf6; color: #8b5cf6;\n}\n.border-quality-åœ°[data-v-13a846e5], .text-quality-åœ°[data-v-13a846e5] { border-color: #3b82f6; color: #3b82f6;\n}\n.border-quality-ç„[data-v-13a846e5], .text-quality-ç„[data-v-13a846e5] { border-color: #10b981; color: #10b981;\n}\n.border-quality-é»„[data-v-13a846e5], .text-quality-é»„[data-v-13a846e5] { border-color: #84cc16; color: #84cc16;\n}\n.border-quality-å‡¡[data-v-13a846e5], .text-quality-å‡¡[data-v-13a846e5] { border-color: var(--color-border); color: var(--color-text);\n}\n\n/* å¤§é“åˆ—è¡¨ */\n.dao-count[data-v-13a846e5] {\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n  background: var(--color-surface-light);\n  padding: 0.25rem 0.5rem;\n  border-radius: 0.75rem;\n  border: 1px solid var(--color-border);\n}\n.dao-list[data-v-13a846e5] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n}\n.dao-item[data-v-13a846e5] {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n  padding: 0.75rem;\n  background: var(--color-surface-light);\n  border: 1px solid var(--color-border);\n  border-radius: 0.5rem;\n  transition: var(--transition-fast);\n}\n.dao-item[data-v-13a846e5]:hover {\n  background: rgba(var(--color-primary-rgb), 0.05);\n  border-color: var(--color-primary);\n}\n.dao-icon[data-v-13a846e5] {\n  font-size: 1.25rem;\n  flex-shrink: 0;\n}\n.dao-info[data-v-13a846e5] {\n  flex: 1;\n  min-width: 0;\n}\n.dao-name[data-v-13a846e5] {\n  font-size: 0.875rem;\n  font-weight: 600;\n  color: var(--color-text);\n  margin-bottom: 0.25rem;\n}\n.dao-stage[data-v-13a846e5] {\n  font-size: 0.75rem;\n  color: var(--color-accent);\n  margin-bottom: 0.25rem;\n}\n.dao-progress[data-v-13a846e5] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n.progress-bar[data-v-13a846e5] {\n  flex: 1;\n  height: 8px; /* å¢åŠ é«˜åº¦ */\n  background: #e2e8f0; /* æ›´æ˜æ˜¾çš„èƒŒæ™¯è‰² */\n  border: 1px solid #cbd5e1; /* æ·»åŠ è¾¹æ¡† */\n  border-radius: 4px;\n  overflow: hidden;\n  box-shadow: inset 0 1px 2px rgba(0,0,0,0.05); /* æ·»åŠ è½»å¾®é˜´å½± */\n}\n.progress-fill[data-v-13a846e5] {\n  height: 100%;\n  min-width: 1px; /* ç¡®ä¿æœ€å°å¯è§å®½åº¦ */\n  background: linear-gradient(90deg, #22c55e, #3b82f6); /* æ˜ç¡®çš„é¢œè‰² */\n  transition: width 0.3s ease;\n}\n.progress-text[data-v-13a846e5] {\n  font-size: 0.625rem;\n  color: var(--color-text-secondary);\n  font-weight: 500;\n  min-width: 2rem;\n  text-align: right;\n}\n.more-dao[data-v-13a846e5] {\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n  text-align: center;\n  padding: 0.5rem;\n  font-style: italic;\n}\n\n/* è£…å¤‡ç³»ç»Ÿ */\n.equipment-count[data-v-13a846e5] {\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n  background: var(--color-surface-light);\n  padding: 0.25rem 0.5rem;\n  border-radius: 0.75rem;\n  border: 1px solid var(--color-border);\n}\n.equipment-slots[data-v-13a846e5] {\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  gap: 0.75rem;\n}\n.equipment-slot[data-v-13a846e5] {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n  padding: 0.75rem;\n  background: var(--color-surface-light);\n  border: 1px solid var(--color-border);\n  border-radius: 0.5rem;\n  transition: var(--transition-fast);\n}\n.equipment-slot.equipped[data-v-13a846e5] {\n  background: rgba(var(--color-success-rgb), 0.05);\n  border-color: var(--color-success);\n}\n.slot-icon[data-v-13a846e5] {\n  font-size: 1.25rem;\n  flex-shrink: 0;\n}\n.slot-info[data-v-13a846e5] {\n  flex: 1;\n  min-width: 0;\n}\n.slot-name[data-v-13a846e5] {\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n  margin-bottom: 0.125rem;\n}\n.slot-equipment[data-v-13a846e5] {\n  font-size: 0.875rem;\n  font-weight: 500;\n  color: var(--color-text);\n}\n.equipment-slot:not(.equipped) .slot-equipment[data-v-13a846e5] {\n  color: var(--color-text-secondary);\n  font-style: italic;\n}\n\n/* å¤©èµ‹åˆ—è¡¨ */\n.talent-count[data-v-13a846e5] {\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n  background: var(--color-surface-light);\n  padding: 0.25rem 0.5rem;\n  border-radius: 0.75rem;\n  border: 1px solid var(--color-border);\n}\n.talents-list[data-v-13a846e5] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n}\n.talent-item[data-v-13a846e5] {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n  padding: 0.75rem;\n  background: var(--color-surface-light);\n  border: 1px solid var(--color-border);\n  border-radius: 0.5rem;\n}\n.talent-icon[data-v-13a846e5] {\n  font-size: 1.25rem;\n  flex-shrink: 0;\n  color: var(--color-warning);\n}\n.talent-info[data-v-13a846e5] {\n  flex: 1;\n  min-width: 0;\n}\n.talent-name[data-v-13a846e5] {\n  font-size: 0.875rem;\n  font-weight: 600;\n  color: var(--color-text);\n  margin-bottom: 0.25rem;\n}\n.talent-description[data-v-13a846e5] {\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n  font-style: italic;\n}\n.technique-actions[data-v-13a846e5] {\n  display: flex;\n  gap: 0.5rem;\n  margin-top: 0.75rem;\n}\n\n/* æŒ‰é’®æ ·å¼ */\n.action-btn[data-v-13a846e5] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 0.5rem;\n  padding: 0.75rem 1rem;\n  border: none;\n  border-radius: 0.5rem;\n  font-size: 0.875rem;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  flex: 1;\n}\n.cultivate-btn[data-v-13a846e5] {\n  background: #dbeafe;\n  color: #1e40af;\n  border: 1px solid #93c5fd;\n}\n.cultivate-btn[data-v-13a846e5]:hover {\n  background: #93c5fd;\n  transform: translateY(-1px);\n}\n.stop-cultivation-btn[data-v-13a846e5] {\n  background: #fef3e2;\n  color: #c2410c;\n  border: 1px solid #fed7aa;\n}\n.stop-cultivation-btn[data-v-13a846e5]:hover {\n  background: #fed7aa;\n  transform: translateY(-1px);\n}\n.action-btn[data-v-13a846e5]:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n\n/* åŠ¨ç”» */\n.animate-spin[data-v-13a846e5] {\n  animation: spin-13a846e5 1s linear infinite;\n}\n@keyframes spin-13a846e5 {\nfrom { transform: rotate(0deg);\n}\nto { transform: rotate(360deg);\n}\n}\n\n/* å“åº”å¼è®¾è®¡ */\n@media (max-width: 640px) {\n.header-actions .btn-text[data-v-13a846e5] {\n    display: none;\n}\n.equipment-slots[data-v-13a846e5] {\n    grid-template-columns: 1fr;\n}\n}\n",""]);const i=l},4670:(e,n,t)=&gt;{t.d(n,{A:()=&gt;i});var a=t(1601),o=t.n(a),r=t(6314),l=t.n(r)()(o());l.push([e.id,"\n.data-display[data-v-62ba194a] {\n  flex: 1;\n  overflow: auto;\n  padding: 1rem;\n}\n.loading-state[data-v-62ba194a],\n.no-connection[data-v-62ba194a],\n.error-state[data-v-62ba194a] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 1rem;\n  padding: 3rem;\n  color: var(--color-text-secondary);\n}\n.retry-btn[data-v-62ba194a] {\n  padding: 0.5rem 1rem;\n  background: var(--color-primary);\n  color: white;\n  border: none;\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 0.875rem;\n  transition: all 0.2s;\n}\n.retry-btn[data-v-62ba194a]:hover {\n  background: var(--color-primary-hover);\n}\n.hint[data-v-62ba194a] {\n  font-size: 0.875rem;\n  opacity: 0.7;\n}\n.animate-spin[data-v-62ba194a] {\n  animation: spin-62ba194a 1s linear infinite;\n}\n@keyframes spin-62ba194a {\nfrom {\n    transform: rotate(0deg);\n}\nto {\n    transform: rotate(360deg);\n}\n}\n",""]);const i=l},4775:(e,n,t)=&gt;{t.d(n,{IJ:()=&gt;l});var a=t(6912),o=t(1265);const r=`\n# ä»»åŠ¡ï¼šè§’è‰²åˆå§‹åŒ–\n\nç”Ÿæˆä¿®ä»™å¼€å±€æ•…äº‹å¹¶åˆå§‹åŒ–ä¸–ç•ŒçŠ¶æ€ã€‚\n\n**è¾“å‡ºæ ¼å¼**:\n\`\`\`json\n{\n  "text": "1200-2500å­—å¼€å±€æ•…äº‹",\n  "mid_term_memory": "å¯é€‰ï¼š50-100å­—æ ¸å¿ƒäº‹ä»¶æ€»ç»“",\n  "tavern_commands": [{"action": "set", "key": "ä½ç½®.æè¿°", "value": "å¤§é™†Â·åœ°ç‚¹"}, ...]\n}\n\`\`\`\n\n**è¦æ±‚**: JSONä¸­ç¦æ­¢ä½¿ç”¨æ³¨é‡Šã€å°¾éšé€—å·å’Œå•å¼•å·ã€‚'text'å­—æ®µé•¿åº¦å¿…é¡»å¤§äºç­‰äº1200å­—ã€‚'tavern_commands'ä¸ºå¿…éœ€å­—æ®µã€‚\n\n---\n\n# 1. å¼€å±€æ•…äº‹ (text)\n\nç”Ÿæˆ1200-2500å­—çš„æ²‰æµ¸å¼å¼€åœºï¼Œä½“ç°è§’è‰²çš„å‡ºèº«ã€å¤©èµ‹å’Œæ‰€å¤„ç¯å¢ƒã€‚\n\n**å™äº‹**: é€šè¿‡è¡Œä¸ºå’Œæ„Ÿå—æ¥å±•ç°è§’è‰²ç‰¹è´¨ï¼Œç¦æ­¢ç›´æ¥æåŠ"æ ¹éª¨"ã€"çµæ ¹"ç­‰æœ¯è¯­ã€‚ä¾‹å¦‚ï¼Œé«˜æ ¹éª¨ä½“ç°ä¸ºä½“é­„å¼ºå¥ï¼Œé«˜æ‚Ÿæ€§ä½“ç°ä¸ºé¢†æ‚ŸåŠ›è¶…ç¾¤ï¼Œç¥å“çµæ ¹åˆ™å¯èƒ½ä¼´éšå¤©åœ°å¼‚è±¡ã€‚\n\n**ä¸€è‡´æ€§**: æ•…äº‹å†…å®¹å¿…é¡»ä¸ç©å®¶çš„é€‰æ‹©å®Œå…¨åŒ¹é…ï¼Œå¹¶ç§¯æä½“ç°å…¶ä¼˜åŠ¿ã€‚\n\n**å¹´é¾„**: ä»ç©å®¶é€‰æ‹©çš„å¼€å±€å¹´é¾„å¼€å§‹ï¼Œç¦æ­¢ä¿®æ”¹å¯¿å‘½ï¼Œç¦æ­¢æ—¶é—´è·³è·ƒã€‚\n\n**æ ¼å¼**: çº¯å™äº‹ï¼Œä¸åŒ…å«æ—¶é—´æ ‡è®°ã€‚\n\n---\n\n# 2. åˆå§‹ä¸–ç•ŒçŠ¶æ€ (tavern_commands)\n\næ ¹æ®å¼€å±€æ•…äº‹ï¼Œé€šè¿‡commandsæ·»åŠ åˆå§‹å®ä½“ã€‚\n\n**ç‰©å“ä¸çµçŸ³**: åˆå§‹2-5ä»¶ç‰©å“ï¼ŒçµçŸ³æ•°é‡æ ¹æ®å‡ºèº«èƒŒæ™¯å†³å®š (å‡¡äºº0-10, å°åº·10-50, å®—é—¨å¼Ÿå­50-200)ï¼Œç‰©å“å“è´¨éœ€ä¸å‡ºèº«åŒ¹é…ã€‚\n\n**NPC**: åˆå§‹0-3ä¸ªä¸æ•…äº‹ç›¸å…³çš„NPCï¼Œä½¿ç”¨ç®€åŒ–æ ¼å¼ã€‚\n\n**å¤§é“**: å¦‚æœå¤©èµ‹ä¸æŸä¸ªå¤§é“å¯¹åº”ï¼Œåˆ™è§£é”è¯¥å¤§é“ã€‚\n\n---\n\n# è§’è‰²åˆå§‹åŒ–è§„åˆ™\n\n${["# ä»»åŠ¡ï¼šç”Ÿæˆå¼€å±€æ•…äº‹å¹¶åˆå§‹åŒ–ä¸–ç•Œ","","## 1. éšæœºé€‰é¡¹å¤„ç†",'æ£€æµ‹åˆ°"éšæœºçµæ ¹"æˆ–"éšæœºå‡ºèº«"æ—¶å¿…é¡»æ›¿æ¢ä¸ºå…·ä½“å†…å®¹ã€‚çµæ ¹æ ¹æ®å¤©èµ„ç­‰çº§é€‰æ‹©å“çº§ï¼Œå‡ºèº«æ ¹æ®ä¸–ç•ŒèƒŒæ™¯é€‰æ‹©ã€‚textå’Œcommandsä¸­ç¦æ­¢å‡ºç°"éšæœº"å­—æ ·ã€‚',"","## 2. ç©å®¶é€‰æ‹©ä¸å¯æ›´æ”¹","ç©å®¶å·²é€‰çš„å…·ä½“çµæ ¹æˆ–å‡ºèº«ï¼Œä¸¥ç¦ä½¿ç”¨commandsè¿›è¡Œä¿®æ”¹ã€‚","","## 3. ä½ç½®è®¾ç½®",'ä½ç½®æ ¼å¼å¿…é¡»ä¸º "å¤§é™†åÂ·åœ°ç‚¹å" æˆ– "å¤§é™†åÂ·åŒºåŸŸÂ·åœ°ç‚¹å"ã€‚åœ°ç‚¹å¿…é¡»ä»å¯ç”¨çš„`availableContinents`å’Œ`availableLocations`ä¸­é€‰æ‹©ï¼Œç¦æ­¢ç¼–é€ ã€‚',"","## 4. ç‰©å“åˆ›å»ºæµç¨‹","å…ˆåˆ›å»ºç‰©å“åˆ°èƒŒåŒ…ï¼Œç„¶åè£…å¤‡æ å¼•ç”¨è¯¥ç‰©å“IDï¼Œæœ€åæ ‡è®°ç‰©å“ä¸ºå·²è£…å¤‡çŠ¶æ€ã€‚","","## 5. å¼€å±€å¹´é¾„","ä¸¥æ ¼æŒ‰ç…§ç©å®¶é€‰æ‹©çš„å¹´é¾„å¼€å§‹æ¸¸æˆã€‚ç¦æ­¢ä¿®æ”¹å¯¿å‘½ï¼Œç¦æ­¢æ—¶é—´è·³è·ƒã€‚","","## 6. åˆå§‹èµ„æºèŒƒå›´","çµçŸ³: å‡¡äºº(0-10), å°åº·(10-50), å®—é—¨å¼Ÿå­(50-200)ã€‚","ç‰©å“: 2-5ä»¶ã€‚","NPC: 0-3ä¸ªã€‚","åŠŸæ³•: 0-2éƒ¨ã€‚","","## 7. å™äº‹è¦æ±‚","ç”Ÿæˆ1200-2500å­—çš„æ²‰æµ¸å¼å¼€åœºæ•…äº‹ã€‚é€šè¿‡è¡Œä¸ºæš—ç¤ºè§’è‰²ç‰¹è´¨ï¼Œç¦æ­¢ç›´æ¥æåŠæ¸¸æˆæœ¯è¯­ã€‚çº¯å™äº‹ï¼Œä¸åŠ æ—¶é—´æ ‡è®°ã€‚","",o.EF,"",o.Iz].join("\n")}\n\n---\n\n# æ•°æ®ç»“æ„\n\n${a.uH}\n\n---\n\n# å‚è€ƒæ•°æ®\n\nä»¥ä¸‹æ˜¯å½“å‰çŠ¶æ€å’Œå‚è€ƒä¿¡æ¯:\n\næé†’ï¼šä½ç½®å¿…é¡»ä»'availableContinents'å’Œ'availableLocations'ä¸­é€‰æ‹©ï¼Œç¦æ­¢ç¼–é€ ã€‚\n\n\`\`\`json\nINPUT_PLACEHOLDER\n\`\`\`\n`.trim();function l(e){const n=e=&gt;{if(!e)return"æ— ";if("string"==typeof e)return e.includes("éšæœºçµæ ¹")?`${e}\n    *   AIå¿…é¡»å¤„ç†: è¿™æ˜¯ä¸€ä¸ªéšæœºé€‰é¡¹ï¼Œå¿…é¡»åœ¨ç”Ÿæˆæ•…äº‹å‰å°†å…¶æ›¿æ¢ä¸ºå…·ä½“çš„çµæ ¹ã€‚`:e.includes("éšæœºå‡ºç”Ÿ")?`${e}\n    *   AIå¿…é¡»å¤„ç†: è¿™æ˜¯ä¸€ä¸ªéšæœºé€‰é¡¹ï¼Œå¿…é¡»åœ¨ç”Ÿæˆæ•…äº‹å‰å°†å…¶æ›¿æ¢ä¸ºå…·ä½“çš„å‡ºèº«ã€‚`:String(e);if("object"!=typeof e)return String(e);if(e.åç§°&amp;&amp;e.å“çº§){const n=e.æè¿°||"";return`${e.åç§°}(${e.å“çº§})${n?`\n    *   æè¿°: ${n}`:""}`}if(e.name&amp;&amp;e.tier&amp;&amp;void 0!==e.description)return`${e.name}(${e.tier})\n    *   æè¿°: ${e.description}`;if(e.name&amp;&amp;e.description&amp;&amp;"number"==typeof e.total_points)return`${e.name}\n    *   è¯¦ç»†æè¿°: ${e.description}\n    *   å¤©èµ‹ç‚¹æ•°: ${e.total_points}`;if(e.name&amp;&amp;e.description&amp;&amp;"number"==typeof e.talent_cost&amp;&amp;e.attribute_modifiers){const n=Object.entries(e.attribute_modifiers).map(([e,n])=&gt;`${e}${Number(n)&gt;0?"+":""}${n}`).join(", ");return`${e.name}\n    *   è¯¦ç»†æè¿°: ${e.description}${n?`\n    *   å±æ€§å½±å“: ${n}`:""}`}if(e.name&amp;&amp;e.description&amp;&amp;"number"==typeof e.talent_cost&amp;&amp;!e.attribute_modifiers)return`${e.name}\n    *   è¯¦ç»†æè¿°: ${e.description}\n    *   æ¶ˆè€—ç‚¹æ•°: ${e.talent_cost}`;if(e.name&amp;&amp;e.description)return`${e.name}\n    *   è¯¦ç»†æè¿°: ${e.description}`;if(e.åç§°&amp;&amp;e.æè¿°)return`${e.åç§°}\n    *   è¯¦ç»†æè¿°: ${e.æè¿°}`;if("object"==typeof e&amp;&amp;null!==e){const n=Object.entries(e);if(n.length&gt;0){const t=e.name||e.åç§°;let a=t?`${t}\n`:"";n.forEach(([e,n])=&gt;{if("name"!==e&amp;&amp;"åç§°"!==e&amp;&amp;null!=n){let t="";if("object"==typeof n){const e=JSON.stringify(n);t=e.length&gt;100?`${e.substring(0,100)}...`:e}else t=String(n),t.length&gt;200&amp;&amp;(t=t.substring(0,200)+"...");a+=`    *   ${e}: ${t}\n`}});const o=JSON.stringify(e,null,2);return a.trim()||(o.length&gt;500?`${o.substring(0,500)}...`:o)}}const n=JSON.stringify(e,null,2);return n.length&gt;1e3?`\`\`\`json\n${n.substring(0,1e3)}...\n\`\`\``:`\`\`\`json\n${n}\n\`\`\``},t=e.talents&amp;&amp;e.talents.length&gt;0?e.talents.map(e=&gt;`*   å¤©èµ‹: ${n(e)}`).join("\n"):"*   å¤©èµ‹: æ— ",a=Object.entries(e.attributes).map(([e,n])=&gt;`*   ${e}: ${n}`).join("\n"),o=`\n# ç©å®¶æ ¸å¿ƒé€‰æ‹©\n\n## æ ¸å¿ƒèº«ä»½\n*   å§“å: ${e.name}\n*   æ€§åˆ«: ${e.gender}\n*   å¼€å±€å¹´é¾„: ${e.age}å²\n*   ä¸–ç•Œ: ${e.world}\n\n## ä¿®è¡Œæ½œè´¨\n*   å¤©èµ„: ${n(e.talentTier)}\n*   å‡ºèº«: ${n(e.origin)}\n*   çµæ ¹: ${n(e.spiritRoot)}\n${t}\n\n## å…ˆå¤©å…­å¸\n${a}\n---\n`;return r.replace("# ç©å®¶æ ¸å¿ƒé€‰æ‹©",o.replace("# ç©å®¶æ ¸å¿ƒé€‰æ‹©","# è§’è‰²æ ¸å¿ƒè®¾å®šå‚è€ƒï¼ˆä»…ä¾›åˆ›ä½œå‚è€ƒï¼Œä¸¥ç¦ç›´æ¥å¤è¿°ï¼‰"))}'\n# ä»»åŠ¡ï¼šä¸ºå¤§é™†ç”Ÿæˆå±‚çº§åœ°ç‚¹å\n\nä¸ºå¤§é™†ç”Ÿæˆå…·ä½“ã€æœ‰å±‚çº§ã€æœ‰ç‰¹è‰²çš„åœ°ç‚¹åç§°ã€‚\n\n**è¾“å…¥**:\n```json\nINPUT_PLACEHOLDER\n```\n\n**è¾“å‡º**:\n```json\n{"location_name": "å…·ä½“åœ°ç‚¹(ä¸å«å¤§é™†å)"}\n```\n\n**è¦æ±‚**:\n1. 2-3å±‚çº§, ç”¨"Â·"åˆ†éš”, ä»å¤§åˆ°å° (ä¾‹å¦‚: åŒºåŸŸÂ·å»ºç­‘Â·åœºæ‰€)ã€‚\n2. ä½“ç°å¤§é™†ç‰¹ç‚¹ (ä¿®ä»™ä¸–ç•Œä½¿ç”¨å®—é—¨/æ´åºœ, éƒ½å¸‚ä¸–ç•Œä½¿ç”¨å»ºç­‘/è¡—é“)ã€‚\n3. åªè¿”å›åœ°ç‚¹åï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æ‹¼æ¥å¤§é™†åã€‚\n4. å¿…é¡»æ˜¯æœ‰æ•ˆçš„JSONï¼Œæ— æ³¨é‡Šæˆ–é¢å¤–æ–‡æœ¬ã€‚\n'.trim()},4920:(e,n,t)=&gt;{t.d(n,{A:()=&gt;i});var a=t(1601),o=t.n(a),r=t(6314),l=t.n(r)()(o());l.push([e.id,"\n.data-clear-container[data-v-36f2cce4] {\n  display: flex;\n  align-items: center;\n}\n.clear-buttons[data-v-36f2cce4] {\n  display: flex;\n  gap: 0.5rem;\n  align-items: center;\n}\n.clear-button[data-v-36f2cce4] {\n  display: flex;\n  align-items: center;\n  gap: 0.3rem;\n  padding: 0.5rem 0.8rem;\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  background: var(--color-surface-light);\n  color: var(--color-text-secondary);\n  font-size: 0.85rem;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  min-width: 80px;\n  white-space: nowrap;\n}\n.clear-button[data-v-36f2cce4]:hover:not(:disabled) {\n  background: rgba(var(--color-danger-rgb), 0.1);\n  border-color: var(--color-danger);\n  color: var(--color-danger);\n}\n.clear-button[data-v-36f2cce4]:disabled {\n  opacity: 0.4;\n  cursor: not-allowed;\n}\n.clear-icon[data-v-36f2cce4] {\n  font-size: 1em;\n  flex-shrink: 0;\n}\n.clear-text[data-v-36f2cce4] {\n  font-weight: 500;\n}\n\n/* ä¸åŒç±»å‹æŒ‰é’®çš„ç‰¹å®šæ ·å¼ */\n.clear-button.extra[data-v-36f2cce4]:hover:not(:disabled) {\n  background: rgba(255, 165, 0, 0.2);\n  border-color: orange;\n  color: orange;\n}\n.clear-button.sync[data-v-36f2cce4]:hover:not(:disabled) {\n  background: rgba(135, 206, 235, 0.2);\n  border-color: skyblue;\n  color: skyblue;\n}\n",""]);const i=l},4986:(e,n,t)=&gt;{t.d(n,{An:()=&gt;m,Q3:()=&gt;i,syncHeavenlyPrecalcToTavern:()=&gt;d});var a=t(2224),o=t(8651);function r(e,n=0){const t=Number(e);return Number.isFinite(t)?t:n}function l(e){return function(e){try{const n=(0,a.get)(e,"ç©å®¶è§’è‰²çŠ¶æ€.æ°”è¡€",{å½“å‰:100,ä¸Šé™:100}),t=r((0,a.get)(e,"ç©å®¶è§’è‰²çŠ¶æ€.å¯¿å‘½.ä¸Šé™"),100),o=(0,a.get)(e,"ç©å®¶è§’è‰²çŠ¶æ€.æ­»äº¡çŠ¶æ€",{å·²æ­»äº¡:!1});if(o?.å·²æ­»äº¡)return o;const l=r(n.å½“å‰,100),i=r((0,a.get)(e,"è§’è‰²åŸºç¡€ä¿¡æ¯.å‡ºç”Ÿæ—¥æœŸ.å¹´"),0),s=r((0,a.get)(e,"æ¸¸æˆæ—¶é—´.å¹´"),1),d=i&gt;0?s-i:r((0,a.get)(e,"è§’è‰²åŸºç¡€ä¿¡æ¯.å¹´é¾„"),18);console.log("[æ­»äº¡ç³»ç»Ÿ] å¯¿å‘½æ£€æµ‹:",{å‡ºç”Ÿå¹´ä»½:i,å½“å‰å¹´ä»½:s,å½“å‰å¹´é¾„:d,æœ€å¤§å¯¿å‘½:t,æ˜¯å¦è¶…é™:d&gt;=t});let m={å·²æ­»äº¡:!1};return l&lt;=0?m={å·²æ­»äº¡:!0,æ­»äº¡æ—¶é—´:c(e),æ­»äº¡åŸå› :"æ°”è¡€è€—å°½"}:d&gt;=t&amp;&amp;(t&lt;80?console.warn("[æ­»äº¡ç³»ç»Ÿ] âš ï¸ æ£€æµ‹åˆ°å¼‚å¸¸å¯¿å‘½ä¸Šé™:",t,"å·²å¿½ç•¥æ­»äº¡åˆ¤å®š"):m={å·²æ­»äº¡:!0,æ­»äº¡æ—¶é—´:c(e),æ­»äº¡åŸå› :"å¯¿å…ƒè€—å°½"}),m.å·²æ­»äº¡&amp;&amp;((0,a.set)(e,"ç©å®¶è§’è‰²çŠ¶æ€.æ­»äº¡çŠ¶æ€",m),console.log("[æ­»äº¡ç³»ç»Ÿ] è§’è‰²æ­»äº¡:",m,`å½“å‰å¹´é¾„: ${d}, æœ€å¤§å¯¿å‘½: ${t}`)),m}catch(e){return console.error("[æ­»äº¡ç³»ç»Ÿ] æ£€æŸ¥æ­»äº¡çŠ¶æ€å¤±è´¥:",e),{å·²æ­»äº¡:!1}}}(e)}function i(e){const n=l(e);return{isDead:n.å·²æ­»äº¡,deathReason:n.æ­»äº¡åŸå› ,shouldBlockGame:n.å·²æ­»äº¡}}function c(e){const n=(0,a.get)(e,"æ¸¸æˆæ—¶é—´",{å¹´:1,æœˆ:1,æ—¥:1});return`${n.å¹´}å¹´${n.æœˆ}æœˆ${n.æ—¥}æ—¥`}async function s(e,n){if((0,o.getTavernHelper)())try{!function(e,n){(function(e,n){const t=r(n?.å…ˆå¤©å…­å¸?.æ ¹éª¨,10),o=r(n?.å…ˆå¤©å…­å¸?.çµæ€§,10),l=r(n?.å…ˆå¤©å…­å¸?.æ‚Ÿæ€§,10),i=r(n?.å…ˆå¤©å…­å¸?.å¿ƒæ€§,10),c=r(n?.å…ˆå¤©å…­å¸?.æ°”è¿,5),s=(0,a.get)(e,"ç©å®¶è§’è‰²çŠ¶æ€.æ°”è¡€",{å½“å‰:100,ä¸Šé™:100}),d=(0,a.get)(e,"ç©å®¶è§’è‰²çŠ¶æ€.çµæ°”",{å½“å‰:100,ä¸Šé™:100}),m=(0,a.get)(e,"ç©å®¶è§’è‰²çŠ¶æ€.ç¥è¯†",{å½“å‰:100,ä¸Šé™:100}),p=1+.1*({å‡¡äºº:0,ç»ƒæ°”:1,ç‚¼æ°”:1,ç­‘åŸº:2,é‡‘ä¸¹:3,å…ƒå©´:4,åŒ–ç¥:5,ç‚¼è™š:6,åˆä½“:7,æ¸¡åŠ«:8}[String((0,a.get)(e,"ç©å®¶è§’è‰²çŠ¶æ€.å¢ƒç•Œ.åç§°","å‡¡äºº"))]||0),v=function(e){let n=0,t=0,o=0,l=0;try{const i=(0,a.get)(e,"è£…å¤‡æ ",{}),c=(0,a.get)(e,"èƒŒåŒ….ç‰©å“",{});Object.values(i).forEach(e=&gt;{if(!e||"object"!=typeof e)return;const a=e.ç‰©å“ID||e,i=c[a];if(i&amp;&amp;"è£…å¤‡"===i.ç±»å‹){const e=i.è£…å¤‡å¢å¹…;e&amp;&amp;(n+=r(e.æ”»å‡»åŠ›),t+=r(e.é˜²å¾¡åŠ›),o+=r(e.çµè¯†),l+=r(e.æ•æ·))}})}catch(e){console.warn("[å¤©é“æ¼”ç®—] è£…å¤‡åŠ æˆè®¡ç®—å¤±è´¥:",e)}return{æ”»å‡»:n,é˜²å¾¡:t,çµè¯†:o,æ•æ·:l}}(e),u=function(e){let n=0,t=0,o=0,l=0;try{const i=(0,a.get)(e,"ä¿®ç‚¼åŠŸæ³•");if(!i)return{æ”»å‡»:n,é˜²å¾¡:t,çµè¯†:o,æ•æ·:l};const c=r(i.ç†Ÿç»ƒåº¦,0);if(c&gt;0){const e=Math.floor(c/10);n+=2*e,t+=e,o+=1.5*e,l+=.5*e}if("åŠŸæ³•"===i.ç±»å‹){const e=i.åŠŸæ³•æ•ˆæœ;e?.å±æ€§åŠ æˆ&amp;&amp;(n+=r(e.å±æ€§åŠ æˆ.æ”»å‡»åŠ›),t+=r(e.å±æ€§åŠ æˆ.é˜²å¾¡åŠ›),o+=r(e.å±æ€§åŠ æˆ.çµè¯†),l+=r(e.å±æ€§åŠ æˆ.æ•æ·))}}catch(e){console.warn("[å¤©é“æ¼”ç®—] åŠŸæ³•åŠ æˆè®¡ç®—å¤±è´¥:",e)}return{æ”»å‡»:n,é˜²å¾¡:t,çµè¯†:o,æ•æ·:l}}(e),g=function(e){let n=0,t=0,o=0,l=0;try{(0,a.get)(e,"ç©å®¶è§’è‰²çŠ¶æ€.çŠ¶æ€æ•ˆæœ",[]).forEach(e=&gt;{if(!e)return;const a=r(e.å¼ºåº¦,1);n+=r(e.æ”»å‡»åŠ æˆ)*a,t+=r(e.é˜²å¾¡åŠ æˆ)*a,o+=r(e.çµè¯†åŠ æˆ)*a,l+=r(e.æ•æ·åŠ æˆ)*a,"buff"===e.ç±»å‹?(n+=5*a,t+=3*a,o+=4*a,l+=2*a):"debuff"===e.ç±»å‹&amp;&amp;(n-=8*a,t-=5*a,o-=6*a,l-=4*a)})}catch(e){console.warn("[å¤©é“æ¼”ç®—] çŠ¶æ€åŠ æˆè®¡ç®—å¤±è´¥:",e)}return{æ”»å‡»:n,é˜²å¾¡:t,çµè¯†:o,æ•æ·:l}}(e);Math.round((3*t+4*o+.5*r(d.å½“å‰)+v.æ”»å‡»+u.æ”»å‡»+g.æ”»å‡»)*p),Math.round((4*t+3*i+.3*r(s.ä¸Šé™)+v.é˜²å¾¡+u.é˜²å¾¡+g.é˜²å¾¡)*p),Math.round((4*l+3*o+.6*r(m.å½“å‰)+v.çµè¯†+u.çµè¯†+g.çµè¯†)*p),Math.round((3*o+2*t+v.æ•æ·+u.æ•æ·+g.æ•æ·)*p)})(e,n),l(e),String((0,a.get)(e,"ç©å®¶è§’è‰²çŠ¶æ€.å¢ƒç•Œ.åç§°","å‡¡äºº"));n.åå­—,(new Date).toISOString()}(e,n),console.log("[å¤©é“æ¼”ç®—] è®¡ç®—å®Œæˆï¼ˆæ•°æ®ç”±Storeç»Ÿä¸€ç®¡ç†ï¼‰")}catch(e){console.error("[å¤©é“æ¼”ç®—] è®¡ç®—å¤±è´¥:",e)}}async function d(e,n){return s(e,n)}function m(){return"\n## å¤©é“æ¼”ç®—ç³»ç»Ÿ v5.0\n\n### åˆ¤å®šè§„åˆ™\næ ¹æ®è§’è‰²çš„å…ˆå¤©å…­å¸ã€å¢ƒç•Œã€è£…å¤‡ç­‰ç»¼åˆå› ç´ è¿›è¡Œåˆ¤å®šã€‚\n\n#### å¯ç”¨åˆ¤å®šç±»å‹ï¼š\n- æ”»å‡»/é˜²å¾¡ï¼ˆæˆ˜æ–—ï¼‰\n- ä¿®ç‚¼/ç‚¼åˆ¶ï¼ˆæå‡ï¼‰\n- äº¤äº’ï¼ˆç¤¾äº¤ï¼‰\n- æ¢ç´¢ï¼ˆå†’é™©ï¼‰\n\n#### ç»“æœç­‰çº§ï¼š\n- å®Œç¾(5%)ï¼šè¶…å‡¡è¡¨ç°ï¼Œé¢å¤–å¥–åŠ±\n- å¤§æˆ(15%)ï¼šä¼˜ç§€ç»“æœï¼Œæ­£å¸¸å¥–åŠ±\n- æˆåŠŸ(60%)ï¼šè¾¾æˆç›®æ ‡ï¼ŒåŸºç¡€å¥–åŠ±\n- å¤±è´¥(15%)ï¼šæœªè¾¾ç›®æ ‡ï¼Œè½»å¾®æƒ©ç½š\n- å¤§è´¥(5%)ï¼šä¸¥é‡å¤±è¯¯ï¼Œé‡å¤§æƒ©ç½š\n\n#### æ­»äº¡æœºåˆ¶ï¼š\nå½“ `heavenly.æ­»äº¡çŠ¶æ€.å·²æ­»äº¡` ä¸º true æ—¶ï¼Œè§’è‰²æ­»äº¡ï¼Œæ¸¸æˆç»“æŸã€‚\n\n### ä½¿ç”¨æ–¹å¼\n1. æ ¹æ®è¡ŒåŠ¨é€‰æ‹©åˆ¤å®šç±»å‹\n2. ä½¿ç”¨é¢„è®¡ç®—æ•°å€¼æ‰§è¡Œåˆ¤å®š\n3. åŸºäºç»“æœç­‰çº§å™è¿°åæœ\n4. æ›´æ–°è§’è‰²çŠ¶æ€ï¼ˆä¼¤å®³/å¥–åŠ±ï¼‰\n\n**é‡è¦ï¼šä¸¥æ ¼æŒ‰ç…§æ•°å€¼è®¡ç®—ï¼Œä¸å¾—éšæ„ä¿®æ”¹ç»“æœã€‚**\n"}},5056:(e,n,t)=&gt;{e.exports=function(e){var n=t.nc;n&amp;&amp;e.setAttribute("nonce",n)}},5072:e=&gt;{var n=[];function t(e){for(var t=-1,a=0;a<n.length;a++)if(n[a].identifier===e){t=a;break}return t}function="" a(e,a){for(var="" r="{},l=[],i=0;i&lt;e.length;i++){var" c="e[i],s=a.base?c[0]+a.base:c[0],d=r[s]||0,m=&quot;&quot;.concat(s,&quot;" ").concat(d);r[s]="d+1;var" p="t(m),v={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)n[p].references++,n[p].updater(v);else{var" u="o(v,a);a.byIndex=i,n.splice(i,0,{identifier:m,updater:u,references:1})}l.push(m)}return" l}function="" o(e,n){var="" t="n.domAPI(n);return" t.update(e),function(n){if(n){if(n.css="==e.css&amp;&amp;n.media===e.media&amp;&amp;n.sourceMap===e.sourceMap&amp;&amp;n.supports===e.supports&amp;&amp;n.layer===e.layer)return;t.update(e=n)}else" t.remove()}}e.exports="function(e,o){var" function(e){e="e||[];for(var" l="0;l&lt;r.length;l++){var" i="t(r[l]);n[i].references--}for(var" d="t(r[s]);0===n[d].references&amp;&amp;(n[d].updater(),n.splice(d,1))}r=c}}},5258:(e,n,t)=">{t.d(n,{A:()=&gt;i});var a=t(1601),o=t.n(a),r=t(6314),l=t.n(r)()(o());l.push([e.id,"\n.retry-dialog-overlay[data-v-9136f00c] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.6);\n  z-index: 99999;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 20px;\n  backdrop-filter: blur(4px);\n}\n.retry-dialog[data-v-9136f00c] {\n  background: var(--color-surface);\n  border: 1px solid var(--color-border);\n  border-radius: 16px;\n  width: 100%;\n  max-width: 480px;\n  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);\n  animation: dialog-appear-9136f00c 0.3s ease-out;\n  overflow: hidden;\n  /* ç¡®ä¿èƒŒæ™¯å®Œå…¨è´´åˆ */\n  display: flex;\n  flex-direction: column;\n}\n@keyframes dialog-appear-9136f00c {\nfrom {\n    opacity: 0;\n    transform: scale(0.9) translateY(20px);\n}\nto {\n    opacity: 1;\n    transform: scale(1) translateY(0);\n}\n}\n.dialog-header[data-v-9136f00c] {\n  padding: 24px 24px 16px;\n  text-align: center;\n  background: var(--color-surface);\n  /* å»é™¤å¯èƒ½çš„é—´éš™ */\n  margin: 0;\n  flex-shrink: 0;\n}\n.dialog-header h3[data-v-9136f00c] {\n  margin: 0;\n  padding: 0;\n  font-size: 1.25rem;\n  font-weight: 600;\n  color: var(--color-text);\n  line-height: 1.4;\n}\n.dialog-content[data-v-9136f00c] {\n  padding: 20px 24px;\n  text-align: center;\n  background: var(--color-surface);\n  /* ç¡®ä¿å†…å®¹åŒºåŸŸå¯æ»šåŠ¨ä½†ä¸è¶…å‡º */\n  max-height: 50vh;\n  overflow-y: auto;\n  overflow-x: hidden;\n  /* å»é™¤å¯èƒ½çš„é—´éš™ */\n  margin: 0;\n  flex: 1;\n}\n\n/* æ»šåŠ¨æ¡æ ·å¼ä¼˜åŒ– */\n.dialog-content[data-v-9136f00c]::-webkit-scrollbar {\n  width: 6px;\n}\n.dialog-content[data-v-9136f00c]::-webkit-scrollbar-track {\n  background: transparent;\n}\n.dialog-content[data-v-9136f00c]::-webkit-scrollbar-thumb {\n  background: rgba(0, 0, 0, 0.2);\n  border-radius: 3px;\n}\n.dialog-content[data-v-9136f00c]::-webkit-scrollbar-thumb:hover {\n  background: rgba(0, 0, 0, 0.4);\n}\n.error-icon[data-v-9136f00c] {\n  color: var(--color-warning);\n  margin: 0 0 16px 0;\n  padding: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.message[data-v-9136f00c] {\n  color: var(--color-text);\n  line-height: 1.6;\n  margin: 0;\n  padding: 0;\n  white-space: pre-line;\n  text-align: left;\n  word-break: break-word;\n}\n.dialog-actions[data-v-9136f00c] {\n  display: flex;\n  gap: 12px;\n  padding: 16px 24px 24px;\n  background: var(--color-surface);\n  /* å»é™¤å¯èƒ½çš„é—´éš™ */\n  margin: 0;\n  flex-shrink: 0;\n}\n.btn-primary[data-v-9136f00c],\n.btn-secondary[data-v-9136f00c] {\n  flex: 1;\n  padding: 12px 20px;\n  margin: 0;\n  border-radius: 8px;\n  border: 1px solid;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  font-size: 14px;\n  line-height: 1.5;\n}\n.btn-primary[data-v-9136f00c] {\n  background: var(--color-primary);\n  border-color: var(--color-primary);\n  color: white;\n}\n.btn-primary[data-v-9136f00c]:hover {\n  background: var(--color-primary-hover);\n  border-color: var(--color-primary-hover);\n  transform: translateY(-1px);\n  box-shadow: 0 4px 12px rgba(var(--color-primary-rgb), 0.3);\n}\n.btn-secondary[data-v-9136f00c] {\n  background: transparent;\n  border-color: var(--color-border);\n  color: var(--color-text-secondary);\n}\n.btn-secondary[data-v-9136f00c]:hover {\n  background: var(--color-surface-hover);\n  border-color: var(--color-text-secondary);\n  color: var(--color-text);\n  transform: translateY(-1px);\n}\n.btn-primary[data-v-9136f00c]:active,\n.btn-secondary[data-v-9136f00c]:active {\n  transform: translateY(0) scale(0.98);\n}\n@media (max-width: 480px) {\n.retry-dialog-overlay[data-v-9136f00c] {\n    padding: 16px;\n}\n.retry-dialog[data-v-9136f00c] {\n    max-width: none;\n    border-radius: 12px;\n}\n.dialog-header[data-v-9136f00c] {\n    padding: 20px 20px 12px;\n}\n.dialog-header h3[data-v-9136f00c] {\n    font-size: 1.1rem;\n}\n.dialog-content[data-v-9136f00c] {\n    padding: 16px 20px;\n    max-height: 60vh;\n}\n.dialog-actions[data-v-9136f00c] {\n    flex-direction: column-reverse;\n    gap: 10px;\n    padding: 12px 20px 20px;\n}\n.btn-primary[data-v-9136f00c],\n  .btn-secondary[data-v-9136f00c] {\n    flex: none;\n    width: 100%;\n}\n}\n",""]);const i=l},5272:(e,n,t)=&gt;{t.d(n,{A:()=&gt;i});var a=t(1601),o=t.n(a),r=t(6314),l=t.n(r)()(o());l.push([e.id,"\n.origin-selection-container[data-v-907f35d4] {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n.loading-state[data-v-907f35d4],\n.error-state[data-v-907f35d4],\n.placeholder[data-v-907f35d4] {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  font-size: 1.2rem;\n  color: var(--color-text-secondary);\n}\n.origin-layout[data-v-907f35d4] {\n  display: grid;\n  grid-template-columns: 1fr 2fr;\n  gap: 2rem;\n  height: 100%;\n  overflow: hidden;\n}\n.origin-left-panel[data-v-907f35d4] {\n  display: flex;\n  flex-direction: column;\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  overflow: hidden;\n  background: var(--color-surface);\n}\n.origin-list-container[data-v-907f35d4] {\n  flex: 1;\n  overflow-y: auto;\n  padding: 0.5rem;\n}\n.origin-list-container[data-v-907f35d4]::-webkit-scrollbar { width: 8px;\n}\n.origin-list-container[data-v-907f35d4]::-webkit-scrollbar-track { background: rgba(0, 0, 0, 0.2); border-radius: 4px;\n}\n.origin-list-container[data-v-907f35d4]::-webkit-scrollbar-thumb { background: rgba(var(--color-primary-rgb), 0.3); border-radius: 4px;\n}\n.origin-list-container[data-v-907f35d4]::-webkit-scrollbar-thumb:hover { background: rgba(var(--color-primary-rgb), 0.5);\n}\n.origin-item[data-v-907f35d4] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0.8rem 1rem;\n  margin-bottom: 0.5rem;\n  border-radius: 6px;\n  cursor: pointer;\n  transition: all 0.2s ease-in-out;\n  border-left: 3px solid transparent;\n}\n.item-content[data-v-907f35d4] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex-grow: 1;\n}\n\n/* æŒ‰é’®ç»„å®¹å™¨ */\n.action-buttons[data-v-907f35d4] {\n  display: flex;\n  align-items: center;\n  gap: 0.3rem;\n  opacity: 0;\n  transition: opacity 0.2s;\n  margin-left: 0.5rem;\n}\n.origin-item:hover .action-buttons[data-v-907f35d4] {\n  opacity: 1;\n}\n\n/* ç¼–è¾‘æŒ‰é’® */\n.edit-btn[data-v-907f35d4] {\n  background: none;\n  border: none;\n  color: var(--color-text-secondary);\n  cursor: pointer;\n  padding: 0.3rem;\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: opacity 0.2s, color 0.2s, background-color 0.2s;\n}\n.edit-btn[data-v-907f35d4]:hover {\n  color: var(--color-primary);\n  background-color: rgba(59, 130, 246, 0.1);\n}\n.delete-btn[data-v-907f35d4] {\n  background: none;\n  border: none;\n  color: var(--color-text-secondary);\n  cursor: pointer;\n  padding: 0.3rem;\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: opacity 0.2s, color 0.2s, background-color 0.2s;\n}\n\n/* ç§»é™¤åŸæœ‰çš„åˆ é™¤æŒ‰é’®hoveré€»è¾‘ï¼Œå› ä¸ºç°åœ¨æŒ‰é’®ç»„ç»Ÿä¸€ç®¡ç† */\n.delete-btn[data-v-907f35d4]:hover {\n  color: var(--color-danger);\n  background-color: rgba(255, 0, 0, 0.1);\n}\n.origin-item[data-v-907f35d4]:hover {\n  background: var(--color-surface-light);\n}\n.origin-item.selected[data-v-907f35d4] {\n  background: rgba(var(--color-primary-rgb), 0.2);\n  color: var(--color-primary);\n  font-weight: 600;\n  border-left: 3px solid var(--color-primary);\n}\n.origin-item.disabled[data-v-907f35d4] {\n  opacity: 0.5;\n  cursor: not-allowed;\n  background: transparent;\n  color: var(--color-text-disabled);\n}\n.origin-item.disabled[data-v-907f35d4]:hover {\n  background: var(--color-surface-danger);\n}\n.origin-name[data-v-907f35d4] {\n  font-weight: 500;\n}\n.origin-cost[data-v-907f35d4] {\n  color: var(--color-accent);\n}\n.divider[data-v-907f35d4] {\n height: 1px;\n background: linear-gradient(to right, transparent, rgba(var(--color-primary-rgb), 0.2), transparent);\n margin: 0.5rem 0;\n}\n.single-actions-container[data-v-907f35d4] {\n  border-top: 1px solid var(--color-border);\n  background: rgba(0, 0, 0, 0.3);\n  padding: 0.5rem;\n  display: flex;\n  flex-wrap: wrap;\n  gap: 0.5rem;\n}\n.action-item[data-v-907f35d4] {\n  flex: 1;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 0.8rem 1rem;\n  border-radius: 6px;\n  cursor: pointer;\n  transition: all 0.2s ease-in-out;\n  border: 1px solid var(--color-border);\n  background: var(--color-surface-light);\n  color: var(--color-text);\n  font-size: 1rem;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  min-width: 0;\n}\n.action-item[data-v-907f35d4]:hover {\n  background: var(--color-surface-lighter);\n  border-color: var(--color-primary);\n  color: var(--color-primary);\n}\n.action-name[data-v-907f35d4] {\n  font-weight: 500;\n}\n.origin-details-container[data-v-907f35d4] {\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  padding: 1.5rem;\n  background: var(--color-surface);\n}\n.origin-details[data-v-907f35d4] {\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  min-height: 0;\n}\n.origin-details h2[data-v-907f35d4] {\n  margin-top: 0;\n  margin-bottom: 1rem;\n  color: var(--color-primary);\n  flex-shrink: 0;\n}\n.description-scroll[data-v-907f35d4] {\n  flex: 1;\n  overflow-y: auto;\n  line-height: 1.6;\n  margin-bottom: 1rem;\n  padding-right: 0.5rem;\n}\n.description-scroll p[data-v-907f35d4] {\n  margin: 0;\n  white-space: pre-wrap;\n  color: var(--color-text-secondary);\n}\n.description-scroll[data-v-907f35d4]::-webkit-scrollbar { width: 8px;\n}\n.description-scroll[data-v-907f35d4]::-webkit-scrollbar-track { background: rgba(0, 0, 0, 0.2); border-radius: 4px;\n}\n.description-scroll[data-v-907f35d4]::-webkit-scrollbar-thumb { background: rgba(var(--color-primary-rgb), 0.3); border-radius: 4px;\n}\n.description-scroll[data-v-907f35d4]::-webkit-scrollbar-thumb:hover { background: rgba(var(--color-primary-rgb), 0.5);\n}\n.cost-display[data-v-907f35d4] {\n  text-align: right;\n  font-weight: bold;\n  color: var(--color-accent);\n  flex-shrink: 0;\n}\n\n/* å“åº”å¼é€‚é… - æ‰‹æœºç«¯ä¼˜åŒ– */\n@media (max-width: 1200px) {\n.origin-layout[data-v-907f35d4] {\n    grid-template-columns: 1fr 1.8fr;\n    gap: 1.5rem;\n}\n}\n@media (max-width: 1024px) {\n.origin-layout[data-v-907f35d4] {\n    grid-template-columns: 1fr 1.5fr;\n    gap: 1.2rem;\n}\n.origin-details h2[data-v-907f35d4] {\n    font-size: 1.6rem;\n}\n}\n@media (max-width: 640px) {\n.top-actions-container[data-v-907f35d4] {\n    flex-wrap: wrap;\n    justify-content: stretch;\n}\n.top-actions-container .action-item[data-v-907f35d4] {\n    flex-grow: 1;\n    text-align: center;\n}\n.origin-layout[data-v-907f35d4] {\n    /* æ”¹ä¸ºå‚ç›´å †å å¸ƒå±€ */\n    grid-template-columns: 1fr;\n    grid-template-rows: auto 1fr;\n    gap: 1rem;\n    height: auto;\n    overflow: visible;\n    padding: 0.8rem;\n}\n.origin-left-panel[data-v-907f35d4] {\n    order: 1;\n    max-height: 40vh;\n}\n.origin-details-container[data-v-907f35d4] {\n    order: 2;\n    min-height: 300px;\n}\n.origin-list-container[data-v-907f35d4] {\n    max-height: 35vh;\n    /* æ·»åŠ è§¦æ‘¸æ»šåŠ¨ä¼˜åŒ– */\n    -webkit-overflow-scrolling: touch;\n    scrollbar-width: thin;\n}\n  \n  /* ä¼˜åŒ–è§¦æ‘¸ä½“éªŒ */\n.origin-item[data-v-907f35d4],\n  .action-item[data-v-907f35d4] {\n    -webkit-tap-highlight-color: transparent;\n    touch-action: manipulation;\n}\n}\n@media (max-width: 640px) {\n.origin-layout[data-v-907f35d4] {\n    gap: 0.8rem;\n    padding: 0.6rem;\n}\n.origin-left-panel[data-v-907f35d4] {\n    max-height: 35vh;\n}\n.origin-list-container[data-v-907f35d4] {\n    max-height: 30vh;\n    padding: 0.5rem;\n}\n.origin-item[data-v-907f35d4] {\n    padding: 0.7rem;\n    font-size: 0.95rem;\n    margin-bottom: 0.4rem;\n}\n.single-actions-container[data-v-907f35d4] {\n    padding: 0.5rem;\n    gap: 0.4rem;\n}\n.action-item[data-v-907f35d4] {\n    padding: 0.7rem 1rem;\n    font-size: 0.9rem;\n}\n.origin-details-container[data-v-907f35d4] {\n    padding: 1.2rem;\n    min-height: 250px;\n}\n.origin-details h2[data-v-907f35d4] {\n    font-size: 1.4rem;\n    margin-bottom: 0.8rem;\n}\n}\n@media (max-width: 480px) {\n.top-actions-container[data-v-907f35d4] {\n    flex-direction: column;\n    align-items: stretch;\n}\n.origin-selection-container[data-v-907f35d4] {\n    padding: 0.4rem;\n    height: auto;\n    overflow-y: auto;\n    -webkit-overflow-scrolling: touch;\n}\n.origin-layout[data-v-907f35d4] {\n    gap: 0.6rem;\n    padding: 0;\n    height: auto;\n    min-height: 0;\n}\n.origin-left-panel[data-v-907f35d4] {\n    max-height: none;\n    border-radius: 6px;\n}\n.origin-list-container[data-v-907f35d4] {\n    max-height: 26vh;\n    padding: 0.4rem;\n}\n.origin-item[data-v-907f35d4] {\n    padding: 0.6rem 0.8rem;\n    font-size: 0.9rem;\n    margin-bottom: 0.3rem;\n    border-radius: 4px;\n}\n.origin-name[data-v-907f35d4] {\n    font-size: 0.9rem;\n}\n.origin-cost[data-v-907f35d4] {\n    font-size: 0.8rem;\n}\n.divider[data-v-907f35d4] {\n    margin: 0.3rem 0;\n}\n.single-actions-container[data-v-907f35d4] {\n    flex-direction: column;\n    gap: 0.4rem;\n    padding: 0.4rem;\n}\n.action-item[data-v-907f35d4] {\n    padding: 0.6rem;\n    font-size: 0.85rem;\n    border-radius: 4px;\n}\n.origin-details-container[data-v-907f35d4] {\n    padding: 1rem;\n    min-height: 200px;\n    border-radius: 6px;\n}\n.origin-details h2[data-v-907f35d4] {\n    font-size: 1.3rem;\n    margin-bottom: 0.6rem;\n}\n.description-scroll[data-v-907f35d4] {\n    font-size: 0.9rem;\n    line-height: 1.5;\n    padding-right: 0.3rem;\n    margin-bottom: 0.8rem;\n}\n.cost-display[data-v-907f35d4] {\n    font-size: 1rem;\n    text-align: center;\n}\n.placeholder[data-v-907f35d4] {\n    font-size: 1rem;\n    padding: 1rem;\n    text-align: center;\n    min-height: 150px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n.top-actions-container[data-v-907f35d4] {\n    flex-direction: column;\n    align-items: stretch;\n    padding: 0.5rem;\n}\n.top-actions-container .action-item[data-v-907f35d4] {\n    text-align: center;\n}\n}\n\n/* é¡¶éƒ¨åŠŸèƒ½æŒ‰é’® */\n.top-actions-container[data-v-907f35d4] {\n  display: flex;\n  gap: 0.5rem;\n  padding: 0.75rem;\n  border-bottom: 1px solid var(--color-border);\n  background: rgba(0, 0, 0, 0.1);\n  justify-content: flex-end;\n}\n.top-actions-container .action-item[data-v-907f35d4] {\n  padding: 0.5rem 1rem;\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  background: var(--color-surface-light);\n  color: var(--color-text);\n  cursor: pointer;\n  transition: all 0.2s ease;\n  font-size: 0.9rem;\n  white-space: nowrap;\n}\n.top-actions-container .action-item[data-v-907f35d4]:hover {\n  background: var(--color-surface-lighter);\n  border-color: var(--color-primary);\n  color: var(--color-primary);\n}\n@media (max-width: 360px) {\n.origin-selection-container[data-v-907f35d4] {\n    padding: 0.3rem;\n}\n.origin-layout[data-v-907f35d4] {\n    gap: 0.4rem;\n}\n.origin-left-panel[data-v-907f35d4] {\n    max-height: 28vh;\n}\n.origin-list-container[data-v-907f35d4] {\n    max-height: 24vh;\n    padding: 0.3rem;\n}\n.origin-item[data-v-907f35d4] {\n    padding: 0.5rem 0.6rem;\n    font-size: 0.85rem;\n    margin-bottom: 0.2rem;\n}\n.origin-name[data-v-907f35d4] {\n    font-size: 0.8rem;\n}\n.origin-cost[data-v-907f35d4] {\n    font-size: 0.75rem;\n}\n.origin-details-container[data-v-907f35d4] {\n    padding: 0.8rem;\n    min-height: 180px;\n}\n.origin-details h2[data-v-907f35d4] {\n    font-size: 1.1rem;\n    margin-bottom: 0.5rem;\n}\n.description-scroll[data-v-907f35d4] {\n    font-size: 0.85rem;\n    line-height: 1.4;\n    margin-bottom: 0.6rem;\n}\n.cost-display[data-v-907f35d4] {\n    font-size: 0.9rem;\n}\n.action-item[data-v-907f35d4] {\n    padding: 0.5rem;\n    font-size: 0.8rem;\n}\n.placeholder[data-v-907f35d4] {\n    font-size: 0.9rem;\n    padding: 0.8rem;\n    min-height: 120px;\n}\n}\n",""]);const i=l},5408:(e,n,t)=&gt;{t.d(n,{BA:()=&gt;c,XN:()=&gt;l,__:()=&gt;r,tQ:()=&gt;o,x$:()=&gt;i});const a='ä½ æ˜¯ä¸“ä¸šçš„ä¸–ç•Œè§‚å†…å®¹ç”Ÿæˆå™¨ï¼Œæ ¹æ®ç”¨æˆ·æä¾›çš„ä¸»é¢˜ç”Ÿæˆå¯¹åº”é£æ ¼çš„å†…å®¹ã€‚\n\nã€æ ¸å¿ƒè¦æ±‚ã€‘\n1. å¿…é¡»ä¸¥æ ¼éµå®ˆJSONæ ¼å¼è§„èŒƒ\n2. æ‰€æœ‰æ•°å€¼å­—æ®µå¿…é¡»æ˜¯æ•°å­—ç±»å‹ï¼Œä¸èƒ½æ˜¯å­—ç¬¦ä¸²\n3. è¾“å‡ºå¿…é¡»ä½¿ç”¨```jsonä»£ç å—åŒ…è£¹\n4. ä¸å¾—æ·»åŠ ä»»ä½•é¢å¤–çš„è§£é‡Šè¯´æ˜æ–‡å­—\n\nã€ä¸–ç•Œè§‚æ ¸å¿ƒç†å¿µã€‘\næ— è®ºèƒŒæ™¯è®¾å®šæ˜¯ä»€ä¹ˆï¼ˆä»™ä¾ ã€ç§‘å¹»ã€ç°ä»£ã€èµ›åšæœ‹å…‹ç­‰ï¼‰ï¼Œæ ¸å¿ƒéƒ½æ˜¯"ä¿®ä»™ä½“ç³»"ï¼š\n- ç°ä»£èƒŒæ™¯ â†’ çµæ°”å¤è‹ã€ç‹¬è‡ªä¿®ç‚¼\n- ç§‘å¹»èƒŒæ™¯ â†’ æ˜Ÿé™…ä¿®çœŸã€çµèƒ½è§‰é†’\n- èµ›åšæœ‹å…‹ â†’ æ•°æ®çµä¿®ã€ä¹‰ä½“ç‚¼æ°”\nå…³é”®è¯ï¼š"ä¸€äººä¿®ä»™"çš„å­¤ç‹¬æ„Ÿ + è¶…å‡¡ä½“ç³»\n\nã€è¾“å‡ºæ ¼å¼ã€‘\n```json\n{JSONå†…å®¹}\n```\n',o=`${a}\n\nã€ä»»åŠ¡ã€‘ç”Ÿæˆä¸–ç•Œè®¾å®š\n\nã€å­—æ®µã€‘name(2-6å­—)/description(200-400å­—)/era(5-10å­—)\n\nã€ç¤ºä¾‹ã€‘\n\`\`\`json\n{"name":"é’äº‘ç•Œ","description":"ä¸Šå¤ä»™äººå¼€è¾Ÿ,çµæ°”å……æ²›,ä¿®çœŸå…´ç››ã€‚åˆ†ä¸œèƒœ/å—ç–†/è¥¿è’/åŒ—æµ·å››åŸŸ,å„æœ‰ä½“ç³»ä¼ æ‰¿ã€‚åƒå¹´å‰ä»™é­”å¤§æˆ˜åè§„åˆ™é‡æ•´,å¦‚ä»Šç››ä¸–å®—é—¨æ—ç«‹å¤©éª„è¾ˆå‡º,æš—æµæ¶ŒåŠ¨å°å°æ¾åŠ¨...","era":"ç››ä¸–ä¿®çœŸ"}\n\`\`\`\n\nã€å¸¸è§é”™è¯¯ã€‘ç¼ºå°‘JSONä»£ç å—ã€å­—æ®µåç§°é”™è¯¯ã€æè¿°è¿‡çŸ­ã€åç§°è¿‡é•¿\n`,r=`${a}\n\nã€ä»»åŠ¡ã€‘ç”Ÿæˆå¤©èµ‹ç­‰çº§\n\nã€å¿…å¡«å­—æ®µã€‘\n- name: å¤©èµ‹åç§°\n- description: æè¿°æ–‡å­—ï¼ˆ50-150å­—ï¼‰\n- total_points: æ€»ç‚¹æ•°ï¼ˆæ•°å­—ç±»å‹ï¼ŒèŒƒå›´10-50ï¼‰\n- rarity: ç¨€æœ‰åº¦ï¼ˆæ•°å­—ç±»å‹ï¼ŒèŒƒå›´1-5ï¼‰\n- color: é¢œè‰²ï¼ˆåå…­è¿›åˆ¶æ ¼å¼ï¼‰\n\nã€é‡è¦æç¤ºã€‘total_points å’Œ rarity å¿…é¡»æ˜¯æ•°å­—ç±»å‹ï¼Œä¸èƒ½ç”¨å¼•å·åŒ…è£¹æˆå­—ç¬¦ä¸²\n\nã€æ­£ç¡®ç¤ºä¾‹ã€‘\n\`\`\`json\n{"name":"å‡¡å¤«ä¿—å­","description":"èµ„è´¨å¹³åº¸,ä¿®ç‚¼ç¼“æ…¢,éœ€æ•°å€åŠªåŠ›","total_points":15,"rarity":1,"color":"#808080"}\n\`\`\`\n\nã€å¸¸è§é”™è¯¯ã€‘æ•°å€¼å­—æ®µä½¿ç”¨äº†å­—ç¬¦ä¸²ç±»å‹ã€æ•°å€¼è¶…å‡ºè§„å®šèŒƒå›´\n`,l=`${a}\n\nã€ä»»åŠ¡ã€‘ç”Ÿæˆå‡ºèº«èƒŒæ™¯\n\nã€å­—æ®µè¦æ±‚ã€‘\n- name (å­—ç¬¦ä¸²): 4-6å­—çš„å‡ºèº«åç§°ï¼Œå¦‚"ä¹¦é¦™é—¨ç¬¬"ã€"æ±Ÿæ¹–æ¸¸ä¾ "\n- description (å­—ç¬¦ä¸²): 100-300å­—çš„èƒŒæ™¯æ•…äº‹\n- talent_cost (æ•°å­—): 0-10ä¹‹é—´çš„æ•´æ•°ï¼ŒèƒŒæ™¯è¶Šå¥½æ¶ˆè€—è¶Šé«˜\n- rarity (æ•°å­—): 1-5ä¹‹é—´çš„æ•´æ•°\n- attribute_modifiers (å¯¹è±¡): å…ˆå¤©å…­å¸åŠ æˆï¼Œæ€»å’Œä¸è¶…è¿‡5ç‚¹\n- effects (æ•°ç»„): 1-2ä¸ªç‹¬ç‰¹æ•ˆæœçš„æ–‡å­—æè¿°\n\nã€å…ˆå¤©å…­å¸ã€‘æ ¹éª¨ã€çµæ€§ã€æ‚Ÿæ€§ã€æ°”è¿ã€é­…åŠ›ã€å¿ƒæ€§\n\nã€æ­£ç¡®ç¤ºä¾‹1ã€‘\n\`\`\`json\n{\n  "name": "ä¹¦é¦™é—¨ç¬¬",\n  "description": "ç”Ÿäºä¹¦é¦™ä¸–å®¶ï¼Œè‡ªå¹¼é¥±è¯»è¯—ä¹¦ï¼Œæ¥å—è‰¯å¥½æ•™è‚²ã€‚å®¶ä¸­è™½æ— ä¿®çœŸä¼ æ‰¿ï¼Œä½†æ·±åšçš„æ–‡åŒ–åº•è•´åŸ¹å…»äº†è¶…å‡¡çš„æ‚Ÿæ€§å’Œæ°”åº¦ã€‚",\n  "talent_cost": 3,\n  "rarity": 2,\n  "attribute_modifiers": {\n    "æ‚Ÿæ€§": 2,\n    "é­…åŠ›": 1\n  },\n  "effects": [\n    "å­¦ä¹ åŠŸæ³•é€Ÿåº¦æå‡20%",\n    "ä¸æ–‡å£«ã€å„’ä¿®å¥½æ„Ÿåº¦æ›´æ˜“æå‡"\n  ]\n}\n\`\`\`\n\nã€æ­£ç¡®ç¤ºä¾‹2ã€‘\n\`\`\`json\n{\n  "name": "ä»™é—¨å¼ƒå¾’",\n  "description": "æ›¾æ˜¯æŸä»™é—¨å¤–é—¨å¼Ÿå­ï¼Œå› æ•…è¢«é€å‡ºå¸ˆé—¨ã€‚è™½ç„¶å¤±å»äº†å®—é—¨åº‡æŠ¤ï¼Œä½†æŒæ¡äº†ä¸€äº›åŸºç¡€ä¿®ç‚¼æ³•é—¨ï¼Œä¸”å¯¹å®—é—¨è§„çŸ©äº†å¦‚æŒ‡æŒã€‚",\n  "talent_cost": 5,\n  "rarity": 3,\n  "attribute_modifiers": {\n    "æ ¹éª¨": 1,\n    "å¿ƒæ€§": 2\n  },\n  "effects": [\n    "åˆå§‹æŒæ¡ä¸€é—¨åŸºç¡€åŠŸæ³•",\n    "å¯¹å„å¤§å®—é—¨è§„çŸ©æœ‰æ‰€äº†è§£"\n  ]\n}\n\`\`\`\n\nã€é”™è¯¯ç¤ºä¾‹ã€‘ä»¥ä¸‹æ“ä½œä¼šå¯¼è‡´ç”Ÿæˆå¤±è´¥\n- é”™è¯¯ï¼š"talent_cost": "5" ï¼ˆå¿…é¡»æ˜¯æ•°å­—ç±»å‹ï¼Œä¸èƒ½æ˜¯å­—ç¬¦ä¸²ï¼‰\n- é”™è¯¯ï¼šattribute_modifiers çš„å±æ€§åŠ æˆæ€»å’Œè¶…è¿‡5ç‚¹\n- é”™è¯¯ï¼šeffects å­—æ®µä¸ºç©ºæ•°ç»„\n- é”™è¯¯ï¼šå±æ€§åå†™é”™ï¼ˆä¾‹å¦‚å†™æˆ"æ‚Ÿå§“"è€Œä¸æ˜¯"æ‚Ÿæ€§"ï¼‰\n`,i=`${a}\n\nã€ä»»åŠ¡ã€‘ç”Ÿæˆæ ¸å¿ƒå¤©èµ‹ç±»å‹ï¼ˆå¦‚çµæ ¹ã€è¡€ç»Ÿç­‰ï¼‰\n\nã€å­—æ®µè¦æ±‚ã€‘\n- name (å­—ç¬¦ä¸²): çµæ ¹åç§°ï¼Œä¸å«ç­‰çº§å‰ç¼€ï¼ˆå¦‚"é›·çµæ ¹"è€Œé"ä¸Šå“é›·çµæ ¹"ï¼‰\n- tier (å­—ç¬¦ä¸²): ç­‰çº§ï¼Œå¯é€‰å€¼ï¼šå‡¡å“ã€ä¸‹å“ã€ä¸­å“ã€ä¸Šå“ã€æå“ã€ç¥å“\n- description (å­—ç¬¦ä¸²): 50-200å­—çš„çµæ ¹æè¿°\n- cultivation_speed (å­—ç¬¦ä¸²): ä¿®ç‚¼é€Ÿåº¦ï¼Œæ ¼å¼ä¸º"æ•°å­—x"ï¼Œå¦‚"1.6x"\n- special_effects (æ•°ç»„): 1-3ä¸ªç‰¹æ®Šæ•ˆæœ\n- base_multiplier (æ•°å­—): åŸºç¡€å€ç‡ï¼Œçº¯æ•°å­—ï¼ˆæ³¨æ„ï¼šä¸æ˜¯å­—ç¬¦ä¸²ï¼ï¼‰\n- talent_cost (æ•°å­—): 3-30ä¹‹é—´çš„æ•´æ•°ï¼Œå“çº§è¶Šé«˜æ¶ˆè€—è¶Šå¤§\n- rarity (æ•°å­—): 1-5ä¹‹é—´çš„æ•´æ•°\n\nã€ç­‰çº§å¯¹åº”å€ç‡å‚è€ƒã€‘\n- å‡¡å“: 1.0x\n- ä¸‹å“: 1.1x\n- ä¸­å“: 1.3x\n- ä¸Šå“: 1.6x\n- æå“: 2.0x\n- ç¥å“: 2.8xï¼ˆæç½•è§ï¼‰\n\nã€æ­£ç¡®ç¤ºä¾‹1ã€‘\n\`\`\`json\n{\n  "name": "ç«çµæ ¹",\n  "tier": "ä¸­å“",\n  "description": "å¤©ç”Ÿäº²å’Œç«å±æ€§çµæ°”ï¼Œä¿®ç‚¼ç«ç³»åŠŸæ³•äº‹åŠåŠŸå€ã€‚ç«çµæ ¹è€…æ€§æ ¼åˆšçƒˆï¼Œæˆ˜æ–—åŠ›å¼ºæ‚ã€‚",\n  "cultivation_speed": "1.3x",\n  "special_effects": [\n    "ç«ç³»æœ¯æ³•å¨åŠ›æå‡30%",\n    "æŠ—ç«å±æ€§ä¼¤å®³"\n  ],\n  "base_multiplier": 1.3,\n  "talent_cost": 7,\n  "rarity": 2\n}\n\`\`\`\n\nã€æ­£ç¡®ç¤ºä¾‹2ã€‘\n\`\`\`json\n{\n  "name": "é›·çµæ ¹",\n  "tier": "ä¸Šå“",\n  "description": "é›·éœ†ä¹‹åŠ›åŠ èº«ï¼Œä¿®ç‚¼é€Ÿåº¦æå¿«ã€‚é›·çµæ ¹ç½•è§è€Œå¼ºå¤§ï¼Œä¿®ç‚¼è€…å¾€å¾€èƒ½åœ¨æˆ˜æ–—ä¸­å æ®ä¼˜åŠ¿ã€‚",\n  "cultivation_speed": "1.6x",\n  "special_effects": [\n    "é›·ç³»æœ¯æ³•å¨åŠ›æå‡50%",\n    "èº«æ³•é€Ÿåº¦æå‡",\n    "å¤©åŠ«æŠ—æ€§å¢åŠ "\n  ],\n  "base_multiplier": 1.6,\n  "talent_cost": 11,\n  "rarity": 3\n}\n\`\`\`\n\nã€é”™è¯¯ç¤ºä¾‹ã€‘ä»¥ä¸‹æ“ä½œä¼šå¯¼è‡´ç”Ÿæˆå¤±è´¥\n- é”™è¯¯ï¼š"base_multiplier": "1.6" ï¼ˆå¿…é¡»æ˜¯æ•°å­—ç±»å‹ï¼Œä¸èƒ½æ˜¯å­—ç¬¦ä¸²ï¼è¿™æ˜¯å¸¸è§é”™è¯¯ï¼‰\n- é”™è¯¯ï¼š"talent_cost": "10" ï¼ˆå¿…é¡»æ˜¯æ•°å­—ç±»å‹ï¼‰\n- é”™è¯¯ï¼šcultivation_speed ä¸ base_multiplier æ•°å€¼ä¸ä¸€è‡´\n- é”™è¯¯ï¼šname å­—æ®µåŒ…å«ç­‰çº§å‰ç¼€ï¼ˆä¾‹å¦‚"ä¸Šå“ç«çµæ ¹"ï¼Œåº”è¯¥åªå†™"ç«çµæ ¹"ï¼‰\n`,c=`${a}\n\nã€ä»»åŠ¡ã€‘ç”Ÿæˆå…ˆå¤©å¤©èµ‹\n\nã€å­—æ®µè¦æ±‚ã€‘\n- name (å­—ç¬¦ä¸²): 4-6å­—çš„å¤©èµ‹åç§°ï¼Œä½“ç°å…¶å…ˆå¤©ç‰¹æ€§\n- description (å­—ç¬¦ä¸²): 30-100å­—çš„å¤©èµ‹æè¿°\n\nã€æ­£ç¡®ç¤ºä¾‹1ã€‘\n\`\`\`json\n{\n  "name": "å¤©ç”Ÿå‰‘å¿ƒ",\n  "description": "å¤©ç”Ÿå¯¹å‰‘é“æœ‰è¶…å‡¡çš„é¢†æ‚ŸåŠ›ï¼Œä¿®ç‚¼å‰‘æ³•é€Ÿåº¦æå¿«ï¼Œæ›´å®¹æ˜“é¢†æ‚Ÿå‰‘æ„ã€‚"\n}\n\`\`\`\n\nã€æ­£ç¡®ç¤ºä¾‹2ã€‘\n\`\`\`json\n{\n  "name": "çµç›®æ…§çœ¼",\n  "description": "èƒ½å¤Ÿçœ‹ç©¿å¹»æœ¯ä¸é˜µæ³•ï¼Œå¯¹çµæ°”æµåŠ¨æœ‰è¶…ä¹å¸¸äººçš„æ„ŸçŸ¥èƒ½åŠ›ã€‚"\n}\n\`\`\`\n\nã€æ­£ç¡®ç¤ºä¾‹3ã€‘\n\`\`\`json\n{\n  "name": "ä¸¹é“åœ£ä½“",\n  "description": "å¤©ç”Ÿä½“è´¨é€‚åˆç‚¼ä¸¹ï¼Œæœç”¨ä¸¹è¯æ•ˆæœåŠ å€ï¼Œç‚¼ä¸¹æˆåŠŸç‡å¤§å¹…æå‡ã€‚"\n}\n\`\`\`\n\nã€é”™è¯¯ç¤ºä¾‹ã€‘ä»¥ä¸‹æ“ä½œä¼šå¯¼è‡´ç”Ÿæˆå¤±è´¥\n- é”™è¯¯ï¼šç¼ºå°‘ description å­—æ®µ\n- é”™è¯¯ï¼šæè¿°è¿‡äºç®€çŸ­ï¼ˆå°‘äº20å­—ï¼‰\n- é”™è¯¯ï¼šåç§°è¿‡é•¿ï¼ˆè¶…è¿‡8å­—ï¼‰\n`},5805:(e,n,t)=&gt;{t.d(n,{A:()=&gt;i});var a=t(1601),o=t.n(a),r=t(6314),l=t.n(r)()(o());l.push([e.id,'\n.modal-overlay[data-v-0cb8c11b] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.7);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n}\n.modal-dialog[data-v-0cb8c11b] {\n  width: 90%;\n  max-width: 600px;\n  max-height: 80vh;\n  display: flex;\n  flex-direction: column;\n  background: var(--color-surface);\n  border-radius: 12px;\n  padding: 2rem;\n  overflow: hidden;\n}\n.modal-title[data-v-0cb8c11b] {\n  margin-top: 0;\n  color: var(--color-primary);\n  text-align: center;\n  margin-bottom: 1.5rem;\n  flex-shrink: 0;\n}\n.form-fields[data-v-0cb8c11b] {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  margin-bottom: 1.5rem;\n  overflow-y: auto;\n  flex: 1;\n  padding-right: 0.5rem;\n}\n.form-fields[data-v-0cb8c11b]::-webkit-scrollbar {\n  width: 8px;\n}\n.form-fields[data-v-0cb8c11b]::-webkit-scrollbar-track {\n  background: rgba(0, 0, 0, 0.1);\n  border-radius: 4px;\n}\n.form-fields[data-v-0cb8c11b]::-webkit-scrollbar-thumb {\n  background: rgba(var(--color-primary-rgb), 0.3);\n  border-radius: 4px;\n}\n.form-fields[data-v-0cb8c11b]::-webkit-scrollbar-thumb:hover {\n  background: rgba(var(--color-primary-rgb), 0.5);\n}\n.form-group label[data-v-0cb8c11b] {\n  display: block;\n  margin-bottom: 0.5rem;\n  color: var(--color-text-secondary);\n  font-weight: 500;\n}\n.form-group input[data-v-0cb8c11b],\n.form-group textarea[data-v-0cb8c11b],\n.form-group select[data-v-0cb8c11b] {\n  width: 100%;\n  padding: 0.75rem;\n  background: var(--color-background);\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  color: var(--color-text);\n  font-size: 1rem;\n  transition: var(--transition-fast);\n}\ninput[type="color"][data-v-0cb8c11b] {\n  padding: 0.25rem;\n  height: 2.5rem;\n}\ninput[type="color"][data-v-0cb8c11b] {\n  padding: 0.25rem;\n  height: 2.5rem;\n}\n.form-group input[data-v-0cb8c11b]:focus,\n.form-group textarea[data-v-0cb8c11b]:focus,\n.form-group select[data-v-0cb8c11b]:focus {\n  outline: none;\n  border-color: var(--color-primary);\n  box-shadow: 0 0 10px rgba(var(--color-primary-rgb), 0.3);\n}\n.error-messages[data-v-0cb8c11b] {\n    color: var(--color-danger);\n    margin-bottom: 1rem;\n    font-size: 0.9rem;\n    flex-shrink: 0;\n}\n.modal-actions[data-v-0cb8c11b] {\n  display: flex;\n  justify-content: flex-end;\n  gap: 1rem;\n  margin-top: 1rem;\n  flex-shrink: 0;\n}\n\n/* Transition styles */\n.modal-fade-enter-active[data-v-0cb8c11b], .modal-fade-leave-active[data-v-0cb8c11b] {\n  transition: opacity 0.3s ease;\n}\n.modal-fade-enter-from[data-v-0cb8c11b], .modal-fade-leave-to[data-v-0cb8c11b] {\n  opacity: 0;\n}\n.modal-fade-enter-active .modal-content[data-v-0cb8c11b],\n.modal-fade-leave-active .modal-content[data-v-0cb8c11b] {\n  transition: transform 0.3s ease;\n}\n.modal-fade-enter-from .modal-content[data-v-0cb8c11b],\n.modal-fade-leave-to .modal-content[data-v-0cb8c11b] {\n  transform: scale(0.9);\n}\n\n/* åŠ¨æ€åˆ—è¡¨æ ·å¼ */\n.dynamic-list-container[data-v-0cb8c11b] {\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  background: var(--color-surface-light);\n  padding: 1rem;\n}\n.list-header[data-v-0cb8c11b] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 1rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.add-btn[data-v-0cb8c11b] {\n  background: var(--color-primary);\n  color: white;\n  border: none;\n  padding: 0.5rem 1rem;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 0.9rem;\n  transition: all 0.2s ease;\n}\n.add-btn[data-v-0cb8c11b]:hover {\n  background: var(--color-primary-dark);\n}\n.list-items[data-v-0cb8c11b] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n.list-item[data-v-0cb8c11b] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.75rem;\n  background: var(--color-surface);\n  border: 1px solid var(--color-border);\n  border-radius: 4px;\n}\n.item-inputs[data-v-0cb8c11b] {\n  display: flex;\n  gap: 0.5rem;\n  flex: 1;\n}\n.item-input[data-v-0cb8c11b] {\n  flex: 1;\n  padding: 0.5rem;\n  border: 1px solid var(--color-border);\n  border-radius: 4px;\n  background: var(--color-background);\n  color: var(--color-text);\n  font-size: 0.9rem;\n}\n.item-input[data-v-0cb8c11b]:focus {\n  outline: none;\n  border-color: var(--color-primary);\n  box-shadow: 0 0 5px rgba(var(--color-primary-rgb), 0.3);\n}\n.remove-btn[data-v-0cb8c11b] {\n  background: var(--color-danger);\n  color: white;\n  border: none;\n  width: 30px;\n  height: 30px;\n  border-radius: 50%;\n  cursor: pointer;\n  font-size: 1.2rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.2s ease;\n  flex-shrink: 0;\n}\n.remove-btn[data-v-0cb8c11b]:hover {\n  background: #dc2626;\n  transform: scale(1.1);\n}\n.empty-list[data-v-0cb8c11b] {\n  text-align: center;\n  color: var(--color-text-secondary);\n  font-style: italic;\n  padding: 2rem;\n}\n@media (max-width: 600px) {\n.modal-dialog[data-v-0cb8c11b] {\n    padding: 1.5rem;\n    width: 95%;\n    max-height: 90vh;\n}\n.item-inputs[data-v-0cb8c11b] {\n    flex-direction: column;\n}\n.modal-actions[data-v-0cb8c11b] {\n    flex-direction: column-reverse;\n    gap: 0.5rem;\n}\n.modal-actions .btn[data-v-0cb8c11b] {\n    width: 100%;\n}\n}\n',""]);const i=l},5828:(e,n,t)=&gt;{t.d(n,{A:()=&gt;i});var a=t(1601),o=t.n(a),r=t(6314),l=t.n(r)()(o());l.push([e.id,"\n.modal-overlay[data-v-de60386a] {\n  position: fixed;\n  inset: 0;\n  background: rgba(0, 0, 0, 0.6);\n  backdrop-filter: blur(4px);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 9999;\n  animation: fadeIn-de60386a 0.2s ease-out;\n}\n@keyframes fadeIn-de60386a {\nfrom {\n    opacity: 0;\n}\nto {\n    opacity: 1;\n}\n}\n.modal-content[data-v-de60386a] {\n  background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);\n  border: 1px solid rgba(255, 215, 0, 0.3);\n  border-radius: 12px;\n  width: 90%;\n  max-width: 500px;\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);\n  animation: slideUp-de60386a 0.3s ease-out;\n}\n@keyframes slideUp-de60386a {\nfrom {\n    transform: translateY(20px);\n    opacity: 0;\n}\nto {\n    transform: translateY(0);\n    opacity: 1;\n}\n}\n.modal-header[data-v-de60386a] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 20px 24px;\n  border-bottom: 1px solid rgba(255, 215, 0, 0.2);\n}\n.modal-header h3[data-v-de60386a] {\n  margin: 0;\n  font-size: 1.25rem;\n  color: #ffd700;\n  font-weight: 600;\n}\n.close-btn[data-v-de60386a] {\n  background: none;\n  border: none;\n  font-size: 2rem;\n  color: #999;\n  cursor: pointer;\n  line-height: 1;\n  padding: 0;\n  width: 32px;\n  height: 32px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 4px;\n  transition: all 0.2s;\n}\n.close-btn[data-v-de60386a]:hover {\n  background: rgba(255, 255, 255, 0.1);\n  color: #fff;\n}\n.modal-body[data-v-de60386a] {\n  padding: 24px;\n}\n.hint[data-v-de60386a] {\n  margin: 0 0 12px 0;\n  color: #ccc;\n  font-size: 0.95rem;\n}\n.prompt-input[data-v-de60386a] {\n  width: 100%;\n  padding: 12px;\n  border: 1px solid rgba(255, 215, 0, 0.3);\n  border-radius: 8px;\n  background: rgba(0, 0, 0, 0.3);\n  color: #fff;\n  font-size: 0.95rem;\n  font-family: inherit;\n  resize: vertical;\n  min-height: 120px;\n  transition: border-color 0.2s, box-shadow 0.2s;\n}\n.prompt-input[data-v-de60386a]:focus {\n  outline: none;\n  border-color: #ffd700;\n  box-shadow: 0 0 0 3px rgba(255, 215, 0, 0.1);\n}\n.prompt-input[data-v-de60386a]::placeholder {\n  color: #666;\n}\n.modal-footer[data-v-de60386a] {\n  display: flex;\n  justify-content: flex-end;\n  gap: 12px;\n  padding: 16px 24px;\n  border-top: 1px solid rgba(255, 215, 0, 0.2);\n}\n.cancel-btn[data-v-de60386a],\n.submit-btn[data-v-de60386a] {\n  padding: 10px 24px;\n  border-radius: 6px;\n  font-size: 0.95rem;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s;\n  border: none;\n}\n.cancel-btn[data-v-de60386a] {\n  background: rgba(255, 255, 255, 0.1);\n  color: #ccc;\n}\n.cancel-btn[data-v-de60386a]:hover {\n  background: rgba(255, 255, 255, 0.15);\n  color: #fff;\n}\n.submit-btn[data-v-de60386a] {\n  background: linear-gradient(135deg, #ffd700 0%, #ffed4e 100%);\n  color: #1a1a2e;\n  font-weight: 600;\n}\n.submit-btn[data-v-de60386a]:hover:not(:disabled) {\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(255, 215, 0, 0.4);\n}\n.submit-btn[data-v-de60386a]:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n",""]);const i=l},5885:(e,n,t)=&gt;{t.d(n,{A:()=&gt;i});var a=t(1601),o=t.n(a),r=t(6314),l=t.n(r)()(o());l.push([e.id,"\n.modal-overlay[data-v-2e089ec8] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.75);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 3000;\n  padding: 20px;\n  backdrop-filter: blur(4px);\n  animation: fadeIn-2e089ec8 0.2s ease-out;\n}\n@keyframes fadeIn-2e089ec8 {\nfrom {\n    opacity: 0;\n}\nto {\n    opacity: 1;\n}\n}\n.deep-cultivation-modal[data-v-2e089ec8] {\n  background: var(--color-surface);\n  border-radius: 16px;\n  width: 100%;\n  max-width: 600px;\n  max-height: 90vh;\n  display: flex;\n  flex-direction: column;\n  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);\n  animation: slideUp-2e089ec8 0.3s cubic-bezier(0.16, 1, 0.3, 1);\n}\n@keyframes slideUp-2e089ec8 {\nfrom {\n    opacity: 0;\n    transform: translateY(30px) scale(0.95);\n}\nto {\n    opacity: 1;\n    transform: translateY(0) scale(1);\n}\n}\n.modal-header[data-v-2e089ec8] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 24px;\n  border-bottom: 1px solid var(--color-border);\n  background: linear-gradient(135deg, var(--color-surface-light), rgba(var(--color-primary-rgb), 0.05));\n}\n.modal-header h3[data-v-2e089ec8] {\n  margin: 0;\n  font-size: 1.5rem;\n  font-weight: 700;\n  color: var(--color-text);\n  background: linear-gradient(135deg, var(--color-primary), var(--color-accent));\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-clip: text;\n}\n.close-btn[data-v-2e089ec8] {\n  background: none;\n  border: none;\n  color: var(--color-text-secondary);\n  cursor: pointer;\n  padding: 8px;\n  border-radius: 8px;\n  transition: all 0.2s;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.close-btn[data-v-2e089ec8]:hover {\n  background: var(--color-danger);\n  color: white;\n}\n.modal-content[data-v-2e089ec8] {\n  flex: 1;\n  overflow-y: auto;\n  padding: 24px;\n  display: flex;\n  flex-direction: column;\n  gap: 24px;\n}\n\n/* åŠŸæ³•ä¿¡æ¯åŒºåŸŸ */\n.technique-info-section[data-v-2e089ec8] {\n  background: var(--color-surface-light);\n  border: 1px solid var(--color-border);\n  border-radius: 12px;\n  padding: 20px;\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n}\n.info-header[data-v-2e089ec8] {\n  display: flex;\n  align-items: center;\n  gap: 16px;\n}\n.technique-icon[data-v-2e089ec8] {\n  font-size: 2.5rem;\n  width: 60px;\n  height: 60px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 12px;\n  background: linear-gradient(135deg, rgba(var(--color-primary-rgb), 0.1), rgba(var(--color-accent-rgb), 0.1));\n}\n.technique-icon.quality-ç¥[data-v-2e089ec8] { background: linear-gradient(135deg, rgba(220, 38, 38, 0.2), rgba(248, 113, 113, 0.2));\n}\n.technique-icon.quality-ä»™[data-v-2e089ec8] { background: linear-gradient(135deg, rgba(245, 158, 11, 0.2), rgba(251, 191, 36, 0.2));\n}\n.technique-icon.quality-å¤©[data-v-2e089ec8] { background: linear-gradient(135deg, rgba(168, 85, 247, 0.2), rgba(192, 132, 252, 0.2));\n}\n.technique-icon.quality-åœ°[data-v-2e089ec8] { background: linear-gradient(135deg, rgba(59, 130, 246, 0.2), rgba(96, 165, 250, 0.2));\n}\n.technique-icon.quality-ç„[data-v-2e089ec8] { background: linear-gradient(135deg, rgba(16, 185, 129, 0.2), rgba(52, 211, 153, 0.2));\n}\n.technique-icon.quality-é»„[data-v-2e089ec8] { background: linear-gradient(135deg, rgba(250, 204, 21, 0.2), rgba(253, 224, 71, 0.2));\n}\n.technique-details[data-v-2e089ec8] {\n  flex: 1;\n}\n.technique-name[data-v-2e089ec8] {\n  font-size: 1.25rem;\n  font-weight: 700;\n  margin: 0 0 8px 0;\n  color: var(--color-text);\n}\n.technique-name.quality-ç¥[data-v-2e089ec8] { color: #dc2626;\n}\n.technique-name.quality-ä»™[data-v-2e089ec8] { color: #f59e0b;\n}\n.technique-name.quality-å¤©[data-v-2e089ec8] { color: #a855f7;\n}\n.technique-name.quality-åœ°[data-v-2e089ec8] { color: #3b82f6;\n}\n.technique-name.quality-ç„[data-v-2e089ec8] { color: #10b981;\n}\n.technique-name.quality-é»„[data-v-2e089ec8] { color: #facc15;\n}\n.technique-quality[data-v-2e089ec8] {\n  font-size: 0.9rem;\n  color: var(--color-text-secondary);\n  font-weight: 500;\n}\n\n/* è¿›åº¦æ¡ */\n.progress-section[data-v-2e089ec8] {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n.progress-label[data-v-2e089ec8] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  font-size: 0.9rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.progress-percent[data-v-2e089ec8] {\n  color: var(--color-primary);\n  font-size: 1rem;\n}\n.progress-bar-bg[data-v-2e089ec8] {\n  height: 12px;\n  background: rgba(var(--color-border-rgb), 0.3);\n  border-radius: 999px;\n  overflow: hidden;\n  position: relative;\n}\n.progress-bar-fill[data-v-2e089ec8] {\n  height: 100%;\n  background: linear-gradient(90deg, var(--color-primary), var(--color-accent));\n  border-radius: 999px;\n  transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1);\n  position: relative;\n}\n.progress-bar-fill[data-v-2e089ec8]::after {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: -100%;\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);\n  animation: shine-2e089ec8 2s infinite;\n}\n@keyframes shine-2e089ec8 {\nto {\n    left: 100%;\n}\n}\n\n/* æ•ˆæœåˆ—è¡¨ */\n.effects-section[data-v-2e089ec8] {\n  border-top: 1px solid var(--color-border);\n  padding-top: 12px;\n}\n.effects-section h5[data-v-2e089ec8] {\n  margin: 0 0 8px 0;\n  font-size: 0.9rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.effects-list[data-v-2e089ec8] {\n  list-style: none;\n  padding: 0;\n  margin: 0;\n  display: flex;\n  flex-direction: column;\n  gap: 6px;\n}\n.effects-list li[data-v-2e089ec8] {\n  font-size: 0.85rem;\n  color: var(--color-text-secondary);\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n.effect-icon[data-v-2e089ec8] {\n  font-size: 1rem;\n}\n.attr-bonus[data-v-2e089ec8] {\n  padding: 2px 8px;\n  background: rgba(var(--color-success-rgb), 0.1);\n  color: var(--color-success);\n  border-radius: 4px;\n  font-weight: 500;\n  margin-left: 4px;\n}\n\n/* ä¿®ç‚¼å¤©æ•°é€‰æ‹©åŒºåŸŸ */\n.cultivation-days-section[data-v-2e089ec8] {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n}\n.section-label[data-v-2e089ec8] {\n  font-size: 1rem;\n  font-weight: 600;\n  color: var(--color-text);\n  margin: 0;\n}\n.section-hint[data-v-2e089ec8] {\n  font-size: 0.85rem;\n  color: var(--color-text-secondary);\n  margin: 0;\n  line-height: 1.5;\n}\n.input-group[data-v-2e089ec8] {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n.days-input[data-v-2e089ec8] {\n  flex: 1;\n  padding: 12px 16px;\n  font-size: 1.1rem;\n  font-weight: 600;\n  border: 2px solid var(--color-border);\n  border-radius: 8px;\n  background: var(--color-surface-light);\n  color: var(--color-text);\n  transition: all 0.2s;\n}\n.days-input[data-v-2e089ec8]:focus {\n  outline: none;\n  border-color: var(--color-primary);\n  background: var(--color-surface);\n}\n.input-unit[data-v-2e089ec8] {\n  font-size: 1rem;\n  font-weight: 600;\n  color: var(--color-text-secondary);\n}\n\n/* å¿«æ·æŒ‰é’® */\n.preset-buttons[data-v-2e089ec8] {\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 8px;\n}\n.preset-btn[data-v-2e089ec8] {\n  padding: 10px;\n  border: 2px solid var(--color-border);\n  border-radius: 8px;\n  background: var(--color-surface-light);\n  color: var(--color-text);\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n.preset-btn[data-v-2e089ec8]:hover {\n  background: var(--color-surface-hover);\n  border-color: var(--color-primary);\n}\n.preset-btn.active[data-v-2e089ec8] {\n  background: var(--color-primary);\n  border-color: var(--color-primary);\n  color: white;\n}\n\n/* æç¤ºä¿¡æ¯ */\n.cultivation-hints[data-v-2e089ec8] {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  padding: 16px;\n  background: rgba(var(--color-info-rgb), 0.05);\n  border: 1px solid rgba(var(--color-info-rgb), 0.2);\n  border-radius: 8px;\n}\n.hint-item[data-v-2e089ec8] {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  font-size: 0.85rem;\n  color: var(--color-text-secondary);\n}\n.hint-icon[data-v-2e089ec8] {\n  font-size: 1rem;\n}\n\n/* åº•éƒ¨æŒ‰é’® */\n.modal-footer[data-v-2e089ec8] {\n  display: flex;\n  justify-content: flex-end;\n  gap: 12px;\n  padding: 20px 24px;\n  border-top: 1px solid var(--color-border);\n  background: var(--color-surface-light);\n  border-radius: 0 0 16px 16px;\n}\n.btn[data-v-2e089ec8] {\n  padding: 10px 24px;\n  border-radius: 8px;\n  font-weight: 600;\n  font-size: 0.95rem;\n  cursor: pointer;\n  transition: all 0.2s;\n  border: none;\n}\n.btn-cancel[data-v-2e089ec8] {\n  background: var(--color-surface-hover);\n  color: var(--color-text);\n  border: 1px solid var(--color-border);\n}\n.btn-cancel[data-v-2e089ec8]:hover {\n  background: var(--color-border);\n}\n.btn-confirm[data-v-2e089ec8] {\n  background: linear-gradient(135deg, var(--color-primary), var(--color-accent));\n  color: white;\n}\n.btn-confirm[data-v-2e089ec8]:hover:not(:disabled) {\n  transform: translateY(-1px);\n  box-shadow: 0 4px 12px rgba(var(--color-primary-rgb), 0.3);\n}\n.btn-confirm[data-v-2e089ec8]:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n\n/* å“åº”å¼è®¾è®¡ */\n@media (max-width: 640px) {\n.deep-cultivation-modal[data-v-2e089ec8] {\n    max-width: 100%;\n    border-radius: 16px 16px 0 0;\n    max-height: 95vh;\n}\n.modal-header[data-v-2e089ec8] {\n    padding: 20px;\n}\n.modal-content[data-v-2e089ec8] {\n    padding: 20px;\n}\n.preset-buttons[data-v-2e089ec8] {\n    grid-template-columns: repeat(2, 1fr);\n}\n.modal-footer[data-v-2e089ec8] {\n    padding: 16px 20px;\n}\n}\n",""]);const i=l},5890:(e,n,t)=&gt;{t.d(n,{A:()=&gt;i});var a=t(1601),o=t.n(a),r=t(6314),l=t.n(r)()(o());l.push([e.id,'\n.modal-overlay[data-v-0d860b7f] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.7);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n  backdrop-filter: blur(8px);\n  animation: fadeIn-0d860b7f 0.2s ease-out;\n}\n.modal-dialog[data-v-0d860b7f] {\n  width: 90%;\n  max-width: 600px;\n  max-height: 80vh;\n  overflow-y: auto;\n  background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);\n  border: 2px solid rgba(139, 92, 246, 0.3);\n  border-radius: 16px;\n  box-shadow: 0 20px 60px rgba(139, 92, 246, 0.2);\n  animation: slideIn-0d860b7f 0.3s ease-out;\n}\n.step-content[data-v-0d860b7f] {\n  padding: 24px;\n}\n.modal-title[data-v-0d860b7f] {\n  margin-top: 0;\n  color: #e2e8f0;\n  text-align: center;\n  margin-bottom: 0.5rem;\n  font-size: 1.2rem;\n  font-weight: 600;\n  background: linear-gradient(135deg, #a855f7, #8b5cf6);\n  background-clip: text;\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n}\n.modal-subtitle[data-v-0d860b7f] {\n  text-align: center;\n  color: #94a3b8;\n  margin-bottom: 1.5rem;\n  font-size: 0.9rem;\n  line-height: 1.4;\n}\n.form-group[data-v-0d860b7f] {\n  margin-bottom: 1rem;\n}\n.code-input[data-v-0d860b7f] {\n  width: 100%;\n  padding: 12px 16px;\n  background: rgba(0, 0, 0, 0.3);\n  border: 2px solid rgba(139, 92, 246, 0.2);\n  border-radius: 8px;\n  color: #e2e8f0;\n  font-size: 1rem;\n  box-sizing: border-box;\n  text-align: center;\n  transition: border-color 0.2s ease;\n}\n.code-input[data-v-0d860b7f]:focus {\n  outline: none;\n  border-color: rgba(139, 92, 246, 0.5);\n  box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1);\n}\n.code-input[data-v-0d860b7f]::placeholder {\n  color: #64748b;\n}\n.prompt-section[data-v-0d860b7f] {\n  margin-bottom: 24px;\n}\n.prompt-label[data-v-0d860b7f] {\n  display: block;\n  font-size: 0.9rem;\n  font-weight: 600;\n  color: #e2e8f0;\n  margin-bottom: 8px;\n}\n.prompt-input[data-v-0d860b7f] {\n  width: 100%;\n  padding: 12px;\n  background: rgba(0, 0, 0, 0.3);\n  border: 2px solid rgba(139, 92, 246, 0.2);\n  border-radius: 8px;\n  color: #e2e8f0;\n  font-size: 0.9rem;\n  line-height: 1.4;\n  resize: vertical;\n  min-height: 100px;\n  transition: border-color 0.2s ease;\n  font-family: inherit;\n  box-sizing: border-box;\n}\n.prompt-input[data-v-0d860b7f]:focus {\n  outline: none;\n  border-color: rgba(139, 92, 246, 0.5);\n  box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1);\n}\n.prompt-input[data-v-0d860b7f]::placeholder {\n  color: #64748b;\n}\n.char-count[data-v-0d860b7f] {\n  text-align: right;\n  font-size: 0.7rem;\n  color: #64748b;\n  margin-top: 4px;\n}\n.suggested-prompts[data-v-0d860b7f] {\n  margin-bottom: 24px;\n}\n.suggestions-title[data-v-0d860b7f] {\n  font-size: 0.85rem;\n  font-weight: 600;\n  color: #cbd5e1;\n  margin-bottom: 12px;\n}\n.suggestions-grid[data-v-0d860b7f] {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  gap: 8px;\n}\n.suggestion-button[data-v-0d860b7f] {\n  padding: 8px 12px;\n  background: rgba(139, 92, 246, 0.1);\n  border: 1px solid rgba(139, 92, 246, 0.3);\n  border-radius: 6px;\n  color: #cbd5e1;\n  font-size: 0.8rem;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  text-align: left;\n  line-height: 1.3;\n}\n.suggestion-button[data-v-0d860b7f]:hover {\n  background: rgba(139, 92, 246, 0.2);\n  border-color: rgba(139, 92, 246, 0.5);\n  color: #e2e8f0;\n  transform: translateY(-1px);\n}\n.error-message[data-v-0d860b7f] {\n  color: #ef4444;\n  text-align: center;\n  margin-bottom: 1rem;\n  min-height: 1.2em;\n  font-size: 0.85rem;\n}\n.form-actions[data-v-0d860b7f] {\n  display: flex;\n  justify-content: flex-end;\n  gap: 12px;\n  margin-top: 1.5rem;\n}\n.btn[data-v-0d860b7f] {\n  padding: 10px 20px;\n  border: none;\n  border-radius: 8px;\n  font-size: 0.9rem;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  background: linear-gradient(135deg, #8b5cf6, #a855f7);\n  color: white;\n}\n.btn[data-v-0d860b7f]:hover:not(:disabled) {\n  transform: translateY(-1px);\n  box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3);\n}\n.btn[data-v-0d860b7f]:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n  transform: none;\n  box-shadow: none;\n}\n.btn-secondary[data-v-0d860b7f] {\n  background: rgba(100, 116, 139, 0.2);\n  color: #cbd5e1;\n}\n.btn-secondary[data-v-0d860b7f]:hover {\n  background: rgba(100, 116, 139, 0.3);\n  color: #e2e8f0;\n}\n@keyframes fadeIn-0d860b7f {\nfrom { opacity: 0;\n}\nto { opacity: 1;\n}\n}\n@keyframes slideIn-0d860b7f {\nfrom { \n    opacity: 0;\n    transform: translateY(-20px) scale(0.95);\n}\nto { \n    opacity: 1;\n    transform: translateY(0) scale(1);\n}\n}\n\n/* æ·±è‰²ä¸»é¢˜é€‚é… */\n[data-theme="dark"] .modal-dialog[data-v-0d860b7f] {\n  background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);\n  border-color: rgba(139, 92, 246, 0.4);\n}\n[data-theme="dark"] .code-input[data-v-0d860b7f],\n[data-theme="dark"] .prompt-input[data-v-0d860b7f] {\n  background: rgba(0, 0, 0, 0.5);\n  border-color: rgba(139, 92, 246, 0.3);\n}\n[data-theme="dark"] .suggestion-button[data-v-0d860b7f] {\n  background: rgba(139, 92, 246, 0.15);\n  border-color: rgba(139, 92, 246, 0.4);\n}\n@media (max-width: 480px) {\n.modal-dialog[data-v-0d860b7f] {\n    padding: 1.5rem 1rem;\n    width: 95%;\n    max-height: 90vh;\n}\n.modal-title[data-v-0d860b7f] {\n    font-size: 1.1rem;\n}\n.form-actions[data-v-0d860b7f] {\n    flex-direction: column-reverse;\n    gap: 0.5rem;\n}\n.form-actions .btn[data-v-0d860b7f] {\n    width: 100%;\n}\n.suggestions-grid[data-v-0d860b7f] {\n    grid-template-columns: 1fr;\n}\n}\n',""]);const i=l},6164:(e,n,t)=&gt;{t.d(n,{A:()=&gt;i});var a=t(1601),o=t.n(a),r=t(6314),l=t.n(r)()(o());l.push([e.id,"\n.modal-overlay[data-v-2ee8c39d] {\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n}\n.modal-content[data-v-2ee8c39d] {\n  background: var(--color-background);\n  border-radius: 12px;\n  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);\n  max-width: 500px;\n  width: 90%;\n  max-height: 80vh;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n}\n.modal-header[data-v-2ee8c39d] {\n  padding: 1.5rem 1.5rem 1rem 1.5rem;\n  border-bottom: 1px solid var(--color-border);\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n.modal-header h3[data-v-2ee8c39d] {\n  margin: 0;\n  font-size: 1.1rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.close-btn[data-v-2ee8c39d] {\n  background: none;\n  border: none;\n  color: var(--color-text-secondary);\n  cursor: pointer;\n  padding: 0.5rem;\n  border-radius: 6px;\n  transition: all 0.2s;\n}\n.close-btn[data-v-2ee8c39d]:hover {\n  background: var(--color-hover);\n  color: var(--color-text);\n}\n.modal-body[data-v-2ee8c39d] {\n  padding: 1.5rem;\n  overflow-y: auto;\n  flex: 1;\n}\n.form-group[data-v-2ee8c39d] {\n  margin-bottom: 1rem;\n}\n.form-group label[data-v-2ee8c39d] {\n  display: block;\n  margin-bottom: 0.5rem;\n  font-weight: 500;\n  color: var(--color-text);\n}\n.form-input[data-v-2ee8c39d] {\n  width: 100%;\n  padding: 0.75rem;\n  background: var(--color-background);\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  color: var(--color-text);\n  font-size: 0.875rem;\n  outline: none;\n  transition: border-color 0.2s;\n}\n.form-input[data-v-2ee8c39d]:focus {\n  border-color: var(--color-primary);\n}\n.form-textarea[data-v-2ee8c39d] {\n  width: 100%;\n  min-height: 150px;\n  padding: 0.75rem;\n  background: var(--color-background);\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  color: var(--color-text);\n  font-size: 0.875rem;\n  font-family: 'Consolas', 'Monaco', monospace;\n  outline: none;\n  transition: border-color 0.2s;\n  resize: vertical;\n}\n.form-textarea[data-v-2ee8c39d]:focus {\n  border-color: var(--color-primary);\n}\n.form-hint-text[data-v-2ee8c39d] {\n  margin: 0.25rem 0 0 0;\n  font-size: 0.75rem;\n  color: var(--color-info);\n}\n.value-type-selector[data-v-2ee8c39d] {\n  display: flex;\n  gap: 0.5rem;\n  margin-bottom: 0.75rem;\n  flex-wrap: wrap;\n}\n.type-btn[data-v-2ee8c39d] {\n  padding: 0.375rem 0.75rem;\n  background: var(--color-surface);\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  color: var(--color-text-secondary);\n  cursor: pointer;\n  font-size: 0.75rem;\n  transition: all 0.2s;\n}\n.type-btn[data-v-2ee8c39d]:hover {\n  background: var(--color-hover);\n  border-color: var(--color-primary);\n  color: var(--color-text);\n}\n.type-btn.active[data-v-2ee8c39d] {\n  background: var(--color-primary);\n  border-color: var(--color-primary);\n  color: white;\n  font-weight: 500;\n}\n.form-textarea.has-error[data-v-2ee8c39d] {\n  border-color: var(--color-danger);\n}\n.error-message[data-v-2ee8c39d] {\n  margin-top: 0.5rem;\n  padding: 0.5rem;\n  background: rgba(239, 68, 68, 0.1);\n  border: 1px solid var(--color-danger);\n  border-radius: 4px;\n  color: var(--color-danger);\n  font-size: 0.75rem;\n}\n.form-hint[data-v-2ee8c39d] {\n  margin-top: 0.5rem;\n}\n.form-hint p[data-v-2ee8c39d] {\n  margin: 0;\n  font-size: 0.75rem;\n  color: var(--color-success);\n}\n.preview-section[data-v-2ee8c39d] {\n  margin-top: 1rem;\n  padding-top: 1rem;\n  border-top: 1px solid var(--color-border);\n}\n.preview-section label[data-v-2ee8c39d] {\n  display: block;\n  margin-bottom: 0.5rem;\n  font-weight: 500;\n  color: var(--color-text);\n  font-size: 0.875rem;\n}\n.preview-content[data-v-2ee8c39d] {\n  margin: 0;\n  padding: 0.75rem;\n  background: var(--color-code-bg);\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  color: var(--color-text);\n  font-size: 0.75rem;\n  font-family: 'Consolas', 'Monaco', monospace;\n  max-height: 150px;\n  overflow: auto;\n  white-space: pre-wrap;\n  word-break: break-word;\n}\n.modal-footer[data-v-2ee8c39d] {\n  padding: 1rem 1.5rem;\n  border-top: 1px solid var(--color-border);\n  display: flex;\n  gap: 0.75rem;\n  justify-content: flex-end;\n}\n.cancel-btn[data-v-2ee8c39d] {\n  padding: 0.75rem 1.5rem;\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  background: transparent;\n  color: var(--color-text-secondary);\n  cursor: pointer;\n  font-size: 0.875rem;\n  transition: all 0.2s;\n}\n.cancel-btn[data-v-2ee8c39d]:hover {\n  background: var(--color-hover);\n  border-color: var(--color-text-secondary);\n  color: var(--color-text);\n}\n.save-btn[data-v-2ee8c39d] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.75rem 1.5rem;\n  background: var(--color-primary);\n  border: none;\n  border-radius: 6px;\n  color: white;\n  cursor: pointer;\n  font-size: 0.875rem;\n  font-weight: 500;\n  transition: all 0.2s;\n}\n.save-btn[data-v-2ee8c39d]:hover:not(:disabled) {\n  background: var(--color-primary-hover);\n  transform: translateY(-1px);\n}\n.save-btn[data-v-2ee8c39d]:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n",""]);const i=l},6262:(e,n)=&gt;{n.A=(e,n)=&gt;{const t=e.__vccOpts||e;for(const[e,a]of n)t[e]=a;return t}},6314:e=&gt;{e.exports=function(e){var n=[];return n.toString=function(){return this.map(function(n){var t="",a=void 0!==n[5];return n[4]&amp;&amp;(t+="@supports (".concat(n[4],") {")),n[2]&amp;&amp;(t+="@media ".concat(n[2]," {")),a&amp;&amp;(t+="@layer".concat(n[5].length&gt;0?" ".concat(n[5]):""," {")),t+=e(n),a&amp;&amp;(t+="}"),n[2]&amp;&amp;(t+="}"),n[4]&amp;&amp;(t+="}"),t}).join("")},n.i=function(e,t,a,o,r){"string"==typeof e&amp;&amp;(e=[[null,e,void 0]]);var l={};if(a)for(var i=0;i<this.length;i++){var c="this[i][0];null!=c&amp;&amp;(l[c]=!0)}for(var" s="0;s&lt;e.length;s++){var" d="[].concat(e[s]);a&amp;&amp;l[d[0]]||(void" 0!="=r&amp;&amp;(void" 0="==d[5]||(d[1]=&quot;@layer&quot;.concat(d[5].length">0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=r),t&amp;&amp;(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=t):d[2]=t),o&amp;&amp;(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=o):d[4]="".concat(o)),n.push(d))}},n}},6478:(e,n,t)=&gt;{t.d(n,{A:()=&gt;i});var a=t(1601),o=t.n(a),r=t(6314),l=t.n(r)()(o());l.push([e.id,"\n.memory-section[data-v-70b78bf0] {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  padding: 1rem;\n}\n.section-header[data-v-70b78bf0] {\n  margin-bottom: 1rem;\n  flex-shrink: 0;\n}\n.section-title[data-v-70b78bf0] {\n  margin: 0;\n  font-size: 1.1rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.memory-content[data-v-70b78bf0] {\n  flex: 1;\n  overflow: hidden;\n}\n.data-display[data-v-70b78bf0] {\n  height: 100%;\n  overflow: hidden;\n}\n.code-pre[data-v-70b78bf0] {\n  margin: 0;\n  padding: 0.75rem;\n  background: var(--color-code-bg);\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  height: 100%;\n  overflow: auto;\n  font-family: 'Consolas', 'Monaco', monospace;\n  font-size: 0.8rem;\n  line-height: 1.4;\n  white-space: pre-wrap;\n  word-break: break-word;\n}\n.empty-state[data-v-70b78bf0] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  color: var(--color-text-secondary);\n  text-align: center;\n}\n\n/* æ‰‹æœºç«¯é€‚é… */\n@media (max-width: 640px) {\n.memory-section[data-v-70b78bf0] {\n    padding: 0.75rem;\n}\n.section-title[data-v-70b78bf0] {\n    font-size: 1rem;\n    text-align: center;\n}\n.code-pre[data-v-70b78bf0] {\n    font-size: 0.75rem;\n    padding: 0.5rem;\n}\n.empty-state[data-v-70b78bf0] {\n    padding: 2rem 0.5rem;\n}\n}\n@media (max-width: 480px) {\n.memory-section[data-v-70b78bf0] {\n    padding: 0.5rem;\n}\n.section-title[data-v-70b78bf0] {\n    font-size: 0.9rem;\n}\n.code-pre[data-v-70b78bf0] {\n    font-size: 0.7rem;\n    padding: 0.4rem;\n}\n}\n",""]);const i=l},6533:(e,n,t)=&gt;{t.d(n,{A:()=&gt;i});var a=t(1601),o=t.n(a),r=t(6314),l=t.n(r)()(o());l.push([e.id,"\n.loading-overlay[data-v-c8648b8a] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.7);\n  backdrop-filter: blur(5px);\n  -webkit-backdrop-filter: blur(5px);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 10000;\n}\n.loading-content[data-v-c8648b8a] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 20px;\n}\n.spinner[data-v-c8648b8a] {\n  width: 50px;\n  height: 50px;\n  border: 5px solid rgba(var(--color-primary-rgb), 0.3);\n  border-top-color: var(--color-primary);\n  border-radius: 50%;\n  animation: spin-c8648b8a 1.2s linear infinite;\n}\n@keyframes spin-c8648b8a {\nto {\n    transform: rotate(360deg);\n}\n}\n.loading-text[data-v-c8648b8a] {\n  color: var(--color-accent);\n  font-size: 1.2rem;\n  font-weight: 500;\n  text-shadow: 0 0 10px rgba(var(--color-primary-rgb), 0.5);\n}\n.fade-enter-active[data-v-c8648b8a],\n.fade-leave-active[data-v-c8648b8a] {\n  transition: opacity 0.3s ease;\n}\n.fade-enter-from[data-v-c8648b8a],\n.fade-leave-to[data-v-c8648b8a] {\n  opacity: 0;\n}\n",""]);const i=l},6560:(e,n,t)=&gt;{t.d(n,{A:()=&gt;i});var a=t(1601),o=t.n(a),r=t(6314),l=t.n(r)()(o());l.push([e.id,"\n/* é¡¶éƒ¨åŠŸèƒ½æŒ‰é’® */\n.top-actions-container[data-v-c7bc47b8] {\n  display: flex;\n  gap: 0.5rem;\n  padding: 0.75rem;\n  border-bottom: 1px solid var(--color-border);\n  background: rgba(0, 0, 0, 0.1);\n  justify-content: flex-end;\n}\n.top-actions-container .action-item[data-v-c7bc47b8] {\n  padding: 0.5rem 1rem;\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  background: var(--color-surface-light);\n  color: var(--color-text);\n  cursor: pointer;\n  transition: all 0.2s ease;\n  font-size: 0.9rem;\n  white-space: nowrap;\n}\n.top-actions-container .action-item[data-v-c7bc47b8]:hover {\n  background: var(--color-surface-lighter);\n  border-color: var(--color-primary);\n  color: var(--color-primary);\n}\n.world-selection-container[data-v-c7bc47b8] {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n.loading-state[data-v-c7bc47b8], .error-state[data-v-c7bc47b8], .placeholder[data-v-c7bc47b8] {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  font-size: 1.2rem;\n  color: var(--color-text-secondary);\n}\n.world-layout[data-v-c7bc47b8] {\n  display: grid;\n  grid-template-columns: 1fr 2fr;\n  gap: 2rem;\n  height: 100%;\n  overflow: hidden;\n}\n.left-panel[data-v-c7bc47b8] {\n  display: flex;\n  flex-direction: column;\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  overflow: hidden;\n  background: var(--color-surface);\n}\n.list-container[data-v-c7bc47b8] {\n  flex: 1;\n  overflow-y: auto;\n  padding: 0.5rem;\n}\n.list-item[data-v-c7bc47b8] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0.8rem 1rem;\n  margin-bottom: 0.5rem;\n  border-radius: 6px;\n  cursor: pointer;\n  transition: all 0.2s ease-in-out;\n}\n.item-content[data-v-c7bc47b8] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex-grow: 1;\n}\n.item-name[data-v-c7bc47b8] {\n  flex-grow: 1;\n}\n\n/* æŒ‰é’®ç»„å®¹å™¨ */\n.action-buttons[data-v-c7bc47b8] {\n  display: flex;\n  align-items: center;\n  gap: 0.3rem;\n  opacity: 0;\n  transition: opacity 0.2s;\n  margin-left: 0.5rem;\n}\n.list-item:hover .action-buttons[data-v-c7bc47b8] {\n  opacity: 1;\n}\n\n/* ç¼–è¾‘æŒ‰é’® */\n.edit-btn[data-v-c7bc47b8] {\n  background: none;\n  border: none;\n  color: var(--color-text-secondary);\n  cursor: pointer;\n  padding: 0.3rem;\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: opacity 0.2s, color 0.2s, background-color 0.2s;\n}\n.edit-btn[data-v-c7bc47b8]:hover {\n  color: var(--color-primary);\n  background-color: rgba(59, 130, 246, 0.1);\n}\n.delete-btn[data-v-c7bc47b8] {\n  background: none;\n  border: none;\n  color: var(--color-text-secondary);\n  cursor: pointer;\n  padding: 0.3rem;\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: opacity 0.2s, color 0.2s, background-color 0.2s;\n}\n.delete-btn[data-v-c7bc47b8]:hover {\n  color: var(--color-danger);\n  background-color: rgba(255, 0, 0, 0.1);\n}\n.list-item[data-v-c7bc47b8]:hover {\n  background: var(--color-surface-light);\n}\n.list-item.selected[data-v-c7bc47b8] {\n  background: rgba(var(--color-primary-rgb), 0.2);\n  color: var(--color-primary);\n  font-weight: 600;\n  border-left: 3px solid var(--color-primary);\n}\n.details-container[data-v-c7bc47b8] {\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  padding: 1.5rem;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  min-height: 0;\n  background: var(--color-surface);\n}\n.world-details[data-v-c7bc47b8] {\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  min-height: 0;\n  overflow: hidden;\n}\n.details-header[data-v-c7bc47b8] {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: 0.5rem;\n}\n.details-title[data-v-c7bc47b8] {\n  margin: 0;\n}\n.map-settings-btn[data-v-c7bc47b8] {\n  display: inline-flex;\n  align-items: center;\n  gap: 6px;\n  padding: 6px 10px;\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  background: var(--color-surface-light);\n  color: var(--color-text);\n  cursor: pointer;\n}\n.map-settings-btn[data-v-c7bc47b8]:hover {\n  border-color: var(--color-primary);\n  color: var(--color-primary);\n}\n.world-details h2[data-v-c7bc47b8] {\n  margin-top: 0;\n  color: var(--color-primary);\n  flex-shrink: 0;\n}\n.world-details .era[data-v-c7bc47b8] {\n  font-style: italic;\n  color: var(--color-accent);\n  margin-bottom: 1rem;\n  flex-shrink: 0;\n}\n.description-scroll[data-v-c7bc47b8] {\n  flex: 1;\n  overflow-y: auto;\n  line-height: 1.6;\n  padding-right: 0.5rem;\n  min-height: 0;\n}\n.description-scroll p[data-v-c7bc47b8] {\n  margin: 0;\n  white-space: pre-wrap;\n}\n\n/* åœ°å›¾ç”Ÿæˆé€‰é¡¹æ ·å¼ */\n.map-options[data-v-c7bc47b8] {\n  margin-top: 0.8rem;\n  border: 1px dashed var(--color-border);\n  border-radius: 8px;\n  padding: 0.8rem;\n  background: var(--color-surface);\n  /* å½“æ˜¾ç¤ºè®¾ç½®æ—¶ï¼Œè¯¥åŒºåŸŸå¯å æ»¡å¹¶å†…éƒ¨æ»šåŠ¨ */\n  flex: 1 1 auto;\n  overflow: auto;\n}\n\n/* é…ç½®è­¦å‘Šæ ·å¼ */\n.config-warning[data-v-c7bc47b8] {\n  display: flex;\n  align-items: flex-start;\n  gap: 0.75rem;\n  padding: 0.75rem;\n  margin-bottom: 1rem;\n  background: rgba(255, 193, 7, 0.1);\n  border: 1px solid rgba(255, 193, 7, 0.3);\n  border-radius: 6px;\n  color: #856404;\n}\n.warning-icon[data-v-c7bc47b8] {\n  font-size: 1.2rem;\n  flex-shrink: 0;\n  margin-top: 0.1rem;\n}\n.warning-text[data-v-c7bc47b8] {\n  flex: 1;\n}\n.warning-title[data-v-c7bc47b8] {\n  font-weight: 600;\n  font-size: 0.95rem;\n  margin-bottom: 0.25rem;\n  color: #856404;\n}\n.warning-desc[data-v-c7bc47b8] {\n  font-size: 0.85rem;\n  color: #6c5ce7;\n  line-height: 1.4;\n}\n\n/* é£é™©é…ç½®è¾“å…¥æ¡†æ ·å¼ */\n.option-item input.config-risky[data-v-c7bc47b8] {\n  border-color: #ffc107;\n  background-color: rgba(255, 193, 7, 0.05);\n  box-shadow: 0 0 0 2px rgba(255, 193, 7, 0.1);\n}\n.option-item input.config-risky[data-v-c7bc47b8]:focus {\n  border-color: #ff9800;\n  box-shadow: 0 0 0 2px rgba(255, 152, 0, 0.2);\n}\n\n/* é…ç½®æç¤ºæ–‡å­— */\n.config-hint[data-v-c7bc47b8] {\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n  opacity: 0.8;\n  margin-top: 0.2rem;\n}\n.map-options-header[data-v-c7bc47b8] {\n  font-weight: 700;\n  color: var(--color-primary);\n  margin-bottom: 0.6rem;\n}\n.map-options-grid[data-v-c7bc47b8] {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));\n  gap: 0.8rem;\n}\n.geo-grid[data-v-c7bc47b8] {\n  margin-top: 0.8rem;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n}\n.range-inputs[data-v-c7bc47b8] {\n  display: flex;\n  align-items: center;\n  gap: 0.4rem;\n}\n.range-inputs input[data-v-c7bc47b8] {\n  flex: 1;\n  min-width: 0;\n}\n.range-inputs span[data-v-c7bc47b8] {\n  color: var(--color-text-secondary);\n}\n.option-item[data-v-c7bc47b8] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.35rem;\n}\n.option-label[data-v-c7bc47b8] {\n  font-size: 0.85rem;\n  color: var(--color-text-secondary);\n}\n.option-item input[data-v-c7bc47b8] {\n  width: 100%;\n  padding: 0.5rem 0.6rem;\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  background: var(--color-background);\n  color: var(--color-text);\n}\n.map-options-actions[data-v-c7bc47b8] {\n  display: flex;\n  gap: 0.5rem;\n  margin-top: 0.6rem;\n}\n.opt-btn[data-v-c7bc47b8] {\n  padding: 0.45rem 0.8rem;\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  background: var(--color-surface-light);\n  cursor: pointer;\n}\n.opt-btn[data-v-c7bc47b8]:hover {\n  border-color: var(--color-primary);\n  color: var(--color-primary);\n}\n\n/* Custom Scrollbar */\n.list-container[data-v-c7bc47b8]::-webkit-scrollbar,\n.description-scroll[data-v-c7bc47b8]::-webkit-scrollbar {\n  width: 8px;\n}\n.list-container[data-v-c7bc47b8]::-webkit-scrollbar-track,\n.description-scroll[data-v-c7bc47b8]::-webkit-scrollbar-track {\n  background: rgba(0, 0, 0, 0.2);\n  border-radius: 4px;\n}\n.list-container[data-v-c7bc47b8]::-webkit-scrollbar-thumb,\n.description-scroll[data-v-c7bc47b8]::-webkit-scrollbar-thumb {\n  background: rgba(var(--color-primary-rgb), 0.3);\n  border-radius: 4px;\n}\n.list-container[data-v-c7bc47b8]::-webkit-scrollbar-thumb:hover,\n.description-scroll[data-v-c7bc47b8]::-webkit-scrollbar-thumb:hover {\n  background: rgba(var(--color-primary-rgb), 0.5);\n}\n\n/* æ— ä¸–ç•Œæ•°æ®æ—¶çš„æ˜¾ç¤º */\n.no-worlds-message[data-v-c7bc47b8] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 200px;\n  text-align: center;\n  color: var(--color-text-secondary);\n}\n.no-worlds-icon[data-v-c7bc47b8] {\n  font-size: 3rem;\n  margin-bottom: 1rem;\n  opacity: 0.6;\n}\n.no-worlds-text[data-v-c7bc47b8] {\n  font-size: 1rem;\n  margin-bottom: 0.5rem;\n}\n.no-worlds-hint[data-v-c7bc47b8] {\n  font-size: 0.9rem;\n  opacity: 0.7;\n  font-style: italic;\n}\n.single-actions-container[data-v-c7bc47b8] {\n  border-top: 1px solid var(--color-border);\n  background: rgba(0, 0, 0, 0.3);\n  padding: 0.5rem;\n  display: flex;\n  gap: 0.5rem;\n  flex-shrink: 0;\n}\n.action-item[data-v-c7bc47b8] {\n  flex: 1;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 0.8rem 1rem;\n  border-radius: 6px;\n  cursor: pointer;\n  transition: all 0.2s ease-in-out;\n  border: 1px solid var(--color-border);\n  background: var(--color-surface-light);\n  color: var(--color-text);\n  font-size: 1rem;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.action-item[data-v-c7bc47b8]:hover {\n  background: var(--color-surface-lighter);\n  border-color: var(--color-primary);\n  color: var(--color-primary);\n}\n.action-name[data-v-c7bc47b8] {\n  font-weight: 500;\n  margin-left: 0.25rem;\n}\n.action-icon[data-v-c7bc47b8] {\n  font-size: 1.1em;\n  vertical-align: middle;\n}\n.action-item[data-v-c7bc47b8]:disabled {\n  opacity: 0.6;\n  cursor: not-allowed;\n}\n\n/* å“åº”å¼é€‚é… */\n@media (max-width: 1024px) {\n.world-layout[data-v-c7bc47b8] {\n    grid-template-columns: 1fr 1.5fr;\n    gap: 1.2rem;\n}\n}\n@media (max-width: 640px) {\n.top-actions-container[data-v-c7bc47b8] {\n    flex-wrap: wrap;\n    justify-content: stretch;\n    gap: 0.5rem;\n}\n.top-actions-container .action-item[data-v-c7bc47b8] {\n    flex: 1 1 45%;\n    text-align: center;\n    min-width: 120px;\n}\n.world-layout[data-v-c7bc47b8] {\n    /* æ”¹ä¸ºå‚ç›´å †å å¸ƒå±€ */\n    display: flex;\n    flex-direction: column;\n    gap: 0.75rem;\n    height: 100%;\n    overflow: hidden;\n    padding: 0;\n}\n.left-panel[data-v-c7bc47b8] {\n    order: 1;\n    flex-shrink: 0;\n    max-height: 35vh;\n    overflow: hidden;\n}\n.details-container[data-v-c7bc47b8] {\n    order: 2;\n    flex: 1;\n    min-height: 0;\n    overflow-y: auto;\n    -webkit-overflow-scrolling: touch;\n}\n.list-container[data-v-c7bc47b8] {\n    max-height: calc(35vh - 60px); /* å‡å»é¡¶éƒ¨æŒ‰é’®é«˜åº¦ */\n    overflow-y: auto;\n    /* æ·»åŠ è§¦æ‘¸æ»šåŠ¨ä¼˜åŒ– */\n    -webkit-overflow-scrolling: touch;\n    scrollbar-width: thin;\n}\n\n  /* ä¼˜åŒ–è§¦æ‘¸ä½“éªŒ */\n.list-item[data-v-c7bc47b8],\n  .action-item[data-v-c7bc47b8] {\n    -webkit-tap-highlight-color: transparent;\n    touch-action: manipulation;\n}\n.map-options-grid[data-v-c7bc47b8] { grid-template-columns: 1fr;\n}\n\n  /* ç»†èŠ‚ä¼˜åŒ– */\n.list-item[data-v-c7bc47b8] {\n    padding: 0.7rem 0.9rem;\n    font-size: 0.95rem;\n    margin-bottom: 0.4rem;\n}\n.single-actions-container[data-v-c7bc47b8] {\n    padding: 0.5rem;\n    gap: 0.4rem;\n}\n.action-item[data-v-c7bc47b8] {\n    padding: 0.7rem 1rem;\n    font-size: 0.9rem;\n}\n.details-container[data-v-c7bc47b8] {\n    padding: 0.75rem;\n}\n}\n@media (max-width: 480px) {\n.top-actions-container[data-v-c7bc47b8] {\n    flex-direction: column;\n    align-items: stretch;\n    padding: 0.4rem;\n    gap: 0.4rem;\n}\n.top-actions-container .action-item[data-v-c7bc47b8] {\n    flex: 1 1 100%;\n    text-align: center;\n}\n.world-selection-container[data-v-c7bc47b8] {\n    padding: 0.3rem;\n    height: 100%;\n}\n.world-layout[data-v-c7bc47b8] {\n    gap: 0.5rem;\n}\n.left-panel[data-v-c7bc47b8] {\n    max-height: 32vh;\n}\n.list-container[data-v-c7bc47b8] {\n    max-height: calc(32vh - 110px); /* å‡å»é¡¶éƒ¨æŒ‰é’®å †å åçš„é«˜åº¦ */\n    padding: 0.4rem;\n}\n.list-item[data-v-c7bc47b8] {\n    padding: 0.6rem 0.8rem;\n    font-size: 0.9rem;\n    margin-bottom: 0.3rem;\n    border-radius: 4px;\n}\n.details-container[data-v-c7bc47b8] {\n    padding: 0.75rem;\n    border-radius: 6px;\n}\n.world-details h2[data-v-c7bc47b8] {\n    font-size: 1.2rem;\n    margin-bottom: 0.5rem;\n}\n.world-details .era[data-v-c7bc47b8] {\n    font-size: 0.9rem;\n    margin-bottom: 0.8rem;\n}\n.description-scroll[data-v-c7bc47b8] {\n    font-size: 0.9rem;\n    line-height: 1.5;\n    padding-right: 0.3rem;\n}\n.single-actions-container[data-v-c7bc47b8] {\n    flex-direction: column;\n    gap: 0.4rem;\n    padding: 0.4rem;\n}\n.action-item[data-v-c7bc47b8] {\n    padding: 0.6rem;\n    font-size: 0.85rem;\n    border-radius: 4px;\n}\n.placeholder[data-v-c7bc47b8] {\n    font-size: 1rem;\n    padding: 1rem;\n    text-align: center;\n    min-height: 100px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n}\n@media (max-width: 360px) {\n.world-selection-container[data-v-c7bc47b8] {\n    padding: 0.3rem;\n}\n.world-layout[data-v-c7bc47b8] {\n    gap: 0.4rem;\n    padding: 0;\n}\n.left-panel[data-v-c7bc47b8] {\n    max-height: 28vh;\n}\n.list-container[data-v-c7bc47b8] {\n    max-height: 24vh;\n    padding: 0.3rem;\n}\n.list-item[data-v-c7bc47b8] {\n    padding: 0.5rem 0.6rem;\n    font-size: 0.85rem;\n    margin-bottom: 0.2rem;\n}\n.details-container[data-v-c7bc47b8] {\n    padding: 0.8rem;\n    min-height: 120px;\n}\n.world-details h2[data-v-c7bc47b8] {\n    font-size: 1.1rem;\n    margin-bottom: 0.4rem;\n}\n.world-details .era[data-v-c7bc47b8] {\n    font-size: 0.8rem;\n    margin-bottom: 0.6rem;\n}\n.description-scroll[data-v-c7bc47b8] {\n    font-size: 0.85rem;\n    line-height: 1.4;\n}\n.action-item[data-v-c7bc47b8] {\n    padding: 0.5rem;\n    font-size: 0.8rem;\n}\n.placeholder[data-v-c7bc47b8] {\n    font-size: 0.9rem;\n    padding: 0.8rem;\n}\n}\n",""]);const i=l},6588:(e,n,t)=&gt;{t.d(n,{repairSaveData:()=&gt;o});var a=t(2224);function o(e){if(console.log("[æ•°æ®ä¿®å¤] å¼€å§‹ä¿®å¤å­˜æ¡£æ•°æ®"),!e||"object"!=typeof e)return console.error("[æ•°æ®ä¿®å¤] âŒ å­˜æ¡£æ•°æ®ä¸ºç©ºæˆ–æ— æ•ˆï¼Œåˆ›å»ºé»˜è®¤å­˜æ¡£"),{è§’è‰²åŸºç¡€ä¿¡æ¯:{åå­—:"æ— åä¿®å£«",æ€§åˆ«:"ç”·",ä¸–ç•Œ:"æœå¤©å¤§é™†",å¤©èµ„:"å‡¡äºº",å‡ºç”Ÿ:"æ•£ä¿®",çµæ ¹:"äº”è¡Œæ‚çµæ ¹",å¤©èµ‹:[],å…ˆå¤©å…­å¸:{æ ¹éª¨:5,çµæ€§:5,æ‚Ÿæ€§:5,æ°”è¿:5,é­…åŠ›:5,å¿ƒæ€§:5},åå¤©å…­å¸:{æ ¹éª¨:0,çµæ€§:0,æ‚Ÿæ€§:0,æ°”è¿:0,é­…åŠ›:0,å¿ƒæ€§:0}},ç©å®¶è§’è‰²çŠ¶æ€:{å¢ƒç•Œ:{åç§°:"å‡¡äºº",é˜¶æ®µ:"",å½“å‰è¿›åº¦:0,ä¸‹ä¸€çº§æ‰€éœ€:100,çªç ´æè¿°:"å¼•æ°”å…¥ä½“ï¼Œæ„Ÿæ‚Ÿå¤©åœ°çµæ°”ï¼Œè¸ä¸Šä¿®ä»™ç¬¬ä¸€æ­¥"},å£°æœ›:0,ä½ç½®:{æè¿°:"æœå¤©å¤§é™†Â·æ— åä¹‹åœ°"},æ°”è¡€:{å½“å‰:100,ä¸Šé™:100},çµæ°”:{å½“å‰:50,ä¸Šé™:50},ç¥è¯†:{å½“å‰:30,ä¸Šé™:30},å¯¿å‘½:{å½“å‰:18,ä¸Šé™:80},çŠ¶æ€æ•ˆæœ:[],å¤©é“ç‚¹:0},è£…å¤‡æ :{è£…å¤‡1:null,è£…å¤‡2:null,è£…å¤‡3:null,è£…å¤‡4:null,è£…å¤‡5:null,è£…å¤‡6:null},ä¸‰åƒå¤§é“:{å¤§é“åˆ—è¡¨:{}},èƒŒåŒ…:{çµçŸ³:{ä¸‹å“:0,ä¸­å“:0,ä¸Šå“:0,æå“:0},ç‰©å“:{}},äººç‰©å…³ç³»:{},å®—é—¨ç³»ç»Ÿ:{availableSects:[],sectRelationships:{},sectHistory:[]},è®°å¿†:{çŸ­æœŸè®°å¿†:[],ä¸­æœŸè®°å¿†:[],é•¿æœŸè®°å¿†:[]},æ¸¸æˆæ—¶é—´:{å¹´:1e3,æœˆ:1,æ—¥:1,å°æ—¶:8,åˆ†é’Ÿ:0},ä¿®ç‚¼åŠŸæ³•:null,æŒæ¡æŠ€èƒ½:[]};const n=(0,a.cloneDeep)(e);if(n.è§’è‰²åŸºç¡€ä¿¡æ¯&amp;&amp;"object"==typeof n.è§’è‰²åŸºç¡€ä¿¡æ¯){if(n.è§’è‰²åŸºç¡€ä¿¡æ¯.åå­—=n.è§’è‰²åŸºç¡€ä¿¡æ¯.åå­—||"æ— åä¿®å£«",n.è§’è‰²åŸºç¡€ä¿¡æ¯.æ€§åˆ«=n.è§’è‰²åŸºç¡€ä¿¡æ¯.æ€§åˆ«||"ç”·",n.è§’è‰²åŸºç¡€ä¿¡æ¯.ä¸–ç•Œ=n.è§’è‰²åŸºç¡€ä¿¡æ¯.ä¸–ç•Œ||"æœå¤©å¤§é™†",n.è§’è‰²åŸºç¡€ä¿¡æ¯.å…ˆå¤©å…­å¸&amp;&amp;"object"==typeof n.è§’è‰²åŸºç¡€ä¿¡æ¯.å…ˆå¤©å…­å¸){const e=n.è§’è‰²åŸºç¡€ä¿¡æ¯.å…ˆå¤©å…­å¸;e.æ ¹éª¨=d(e.æ ¹éª¨,0,10,5),e.çµæ€§=d(e.çµæ€§,0,10,5),e.æ‚Ÿæ€§=d(e.æ‚Ÿæ€§,0,10,5),e.æ°”è¿=d(e.æ°”è¿,0,10,5),e.é­…åŠ›=d(e.é­…åŠ›,0,10,5),e.å¿ƒæ€§=d(e.å¿ƒæ€§,0,10,5)}else n.è§’è‰²åŸºç¡€ä¿¡æ¯.å…ˆå¤©å…­å¸={æ ¹éª¨:5,çµæ€§:5,æ‚Ÿæ€§:5,æ°”è¿:5,é­…åŠ›:5,å¿ƒæ€§:5};n.è§’è‰²åŸºç¡€ä¿¡æ¯.åå¤©å…­å¸&amp;&amp;"object"==typeof n.è§’è‰²åŸºç¡€ä¿¡æ¯.åå¤©å…­å¸||(n.è§’è‰²åŸºç¡€ä¿¡æ¯.åå¤©å…­å¸={æ ¹éª¨:0,çµæ€§:0,æ‚Ÿæ€§:0,æ°”è¿:0,é­…åŠ›:0,å¿ƒæ€§:0})}else console.warn("[æ•°æ®ä¿®å¤] è§’è‰²åŸºç¡€ä¿¡æ¯ç¼ºå¤±ï¼Œåˆ›å»ºé»˜è®¤å€¼"),n.è§’è‰²åŸºç¡€ä¿¡æ¯={åå­—:"æ— åä¿®å£«",æ€§åˆ«:"ç”·",ä¸–ç•Œ:"æœå¤©å¤§é™†",å¤©èµ„:"å‡¡äºº",å‡ºç”Ÿ:"æ•£ä¿®",çµæ ¹:"äº”è¡Œæ‚çµæ ¹",å¤©èµ‹:[],å…ˆå¤©å…­å¸:{æ ¹éª¨:5,çµæ€§:5,æ‚Ÿæ€§:5,æ°”è¿:5,é­…åŠ›:5,å¿ƒæ€§:5},åå¤©å…­å¸:{æ ¹éª¨:0,çµæ€§:0,æ‚Ÿæ€§:0,æ°”è¿:0,é­…åŠ›:0,å¿ƒæ€§:0}};if(n.ç©å®¶è§’è‰²çŠ¶æ€&amp;&amp;"object"==typeof n.ç©å®¶è§’è‰²çŠ¶æ€?(n.ç©å®¶è§’è‰²çŠ¶æ€.å¢ƒç•Œ=l(n.ç©å®¶è§’è‰²çŠ¶æ€.å¢ƒç•Œ),n.ç©å®¶è§’è‰²çŠ¶æ€.æ°”è¡€=i(n.ç©å®¶è§’è‰²çŠ¶æ€.æ°”è¡€,100,100),n.ç©å®¶è§’è‰²çŠ¶æ€.çµæ°”=i(n.ç©å®¶è§’è‰²çŠ¶æ€.çµæ°”,50,50),n.ç©å®¶è§’è‰²çŠ¶æ€.ç¥è¯†=i(n.ç©å®¶è§’è‰²çŠ¶æ€.ç¥è¯†,30,30),n.ç©å®¶è§’è‰²çŠ¶æ€.å¯¿å‘½=i(n.ç©å®¶è§’è‰²çŠ¶æ€.å¯¿å‘½,18,80),n.ç©å®¶è§’è‰²çŠ¶æ€.ä½ç½®&amp;&amp;"object"==typeof n.ç©å®¶è§’è‰²çŠ¶æ€.ä½ç½®?n.ç©å®¶è§’è‰²çŠ¶æ€.ä½ç½®.æè¿°||(n.ç©å®¶è§’è‰²çŠ¶æ€.ä½ç½®.æè¿°="æœå¤©å¤§é™†Â·æ— åä¹‹åœ°"):n.ç©å®¶è§’è‰²çŠ¶æ€.ä½ç½®={æè¿°:"æœå¤©å¤§é™†Â·æ— åä¹‹åœ°"},Array.isArray(n.ç©å®¶è§’è‰²çŠ¶æ€.çŠ¶æ€æ•ˆæœ)||(n.ç©å®¶è§’è‰²çŠ¶æ€.çŠ¶æ€æ•ˆæœ=[]),n.ç©å®¶è§’è‰²çŠ¶æ€.å£°æœ›=d(n.ç©å®¶è§’è‰²çŠ¶æ€.å£°æœ›,0,999999,0)):(console.warn("[æ•°æ®ä¿®å¤] ç©å®¶è§’è‰²çŠ¶æ€ç¼ºå¤±ï¼Œåˆ›å»ºé»˜è®¤å€¼"),n.ç©å®¶è§’è‰²çŠ¶æ€={å¢ƒç•Œ:{åç§°:"å‡¡äºº",é˜¶æ®µ:"",å½“å‰è¿›åº¦:0,ä¸‹ä¸€çº§æ‰€éœ€:100,çªç ´æè¿°:"å¼•æ°”å…¥ä½“ï¼Œæ„Ÿæ‚Ÿå¤©åœ°çµæ°”ï¼Œè¸ä¸Šä¿®ä»™ç¬¬ä¸€æ­¥"},å£°æœ›:0,ä½ç½®:{æè¿°:"æœå¤©å¤§é™†Â·æ— åä¹‹åœ°"},æ°”è¡€:{å½“å‰:100,ä¸Šé™:100},çµæ°”:{å½“å‰:50,ä¸Šé™:50},ç¥è¯†:{å½“å‰:30,ä¸Šé™:30},å¯¿å‘½:{å½“å‰:18,ä¸Šé™:80},çŠ¶æ€æ•ˆæœ:[],å¤©é“ç‚¹:0}),n.è£…å¤‡æ &amp;&amp;"object"==typeof n.è£…å¤‡æ ||(n.è£…å¤‡æ ={è£…å¤‡1:null,è£…å¤‡2:null,è£…å¤‡3:null,è£…å¤‡4:null,è£…å¤‡5:null,è£…å¤‡6:null}),n.èƒŒåŒ…&amp;&amp;"object"==typeof n.èƒŒåŒ…)if(n.èƒŒåŒ….çµçŸ³&amp;&amp;"object"==typeof n.èƒŒåŒ….çµçŸ³?(n.èƒŒåŒ….çµçŸ³.ä¸‹å“=d(n.èƒŒåŒ….çµçŸ³.ä¸‹å“,0,999999999,0),n.èƒŒåŒ….çµçŸ³.ä¸­å“=d(n.èƒŒåŒ….çµçŸ³.ä¸­å“,0,999999999,0),n.èƒŒåŒ….çµçŸ³.ä¸Šå“=d(n.èƒŒåŒ….çµçŸ³.ä¸Šå“,0,999999999,0),n.èƒŒåŒ….çµçŸ³.æå“=d(n.èƒŒåŒ….çµçŸ³.æå“,0,999999999,0)):n.èƒŒåŒ….çµçŸ³={ä¸‹å“:0,ä¸­å“:0,ä¸Šå“:0,æå“:0},n.èƒŒåŒ….ç‰©å“&amp;&amp;"object"==typeof n.èƒŒåŒ….ç‰©å“){const e={};for(const[t,a]of Object.entries(n.èƒŒåŒ….ç‰©å“))a&amp;&amp;"object"==typeof a&amp;&amp;a.åç§°&amp;&amp;(e[t]=c(a));n.èƒŒåŒ….ç‰©å“=e}else n.èƒŒåŒ….ç‰©å“={};else n.èƒŒåŒ…={çµçŸ³:{ä¸‹å“:0,ä¸­å“:0,ä¸Šå“:0,æå“:0},ç‰©å“:{}};if(n.äººç‰©å…³ç³»&amp;&amp;"object"==typeof n.äººç‰©å…³ç³»){const e={};for(const[t,a]of Object.entries(n.äººç‰©å…³ç³»))a&amp;&amp;"object"==typeof a&amp;&amp;a.åå­—&amp;&amp;(e[t]=s(a));n.äººç‰©å…³ç³»=e}else n.äººç‰©å…³ç³»={};if(n.è®°å¿†&amp;&amp;"object"==typeof n.è®°å¿†?(n.è®°å¿†.çŸ­æœŸè®°å¿†=Array.isArray(n.è®°å¿†.çŸ­æœŸè®°å¿†)?n.è®°å¿†.çŸ­æœŸè®°å¿†:[],n.è®°å¿†.ä¸­æœŸè®°å¿†=Array.isArray(n.è®°å¿†.ä¸­æœŸè®°å¿†)?n.è®°å¿†.ä¸­æœŸè®°å¿†:[],n.è®°å¿†.é•¿æœŸè®°å¿†=Array.isArray(n.è®°å¿†.é•¿æœŸè®°å¿†)?n.è®°å¿†.é•¿æœŸè®°å¿†:[]):n.è®°å¿†={çŸ­æœŸè®°å¿†:[],ä¸­æœŸè®°å¿†:[],é•¿æœŸè®°å¿†:[]},n.æ¸¸æˆæ—¶é—´=(t=n.æ¸¸æˆæ—¶é—´)&amp;&amp;"object"==typeof t?{å¹´:d(t.å¹´,1,999999,1e3),æœˆ:d(t.æœˆ,1,12,1),æ—¥:d(t.æ—¥,1,30,1),å°æ—¶:d(t.å°æ—¶,0,23,8),åˆ†é’Ÿ:d(t.åˆ†é’Ÿ,0,59,0)}:{å¹´:1e3,æœˆ:1,æ—¥:1,å°æ—¶:8,åˆ†é’Ÿ:0},n.ä¸‰åƒå¤§é“&amp;&amp;"object"==typeof n.ä¸‰åƒå¤§é“&amp;&amp;n.ä¸‰åƒå¤§é“.å¤§é“åˆ—è¡¨||(n.ä¸‰åƒå¤§é“={å¤§é“åˆ—è¡¨:{}}),n.ä¿®ç‚¼åŠŸæ³•&amp;&amp;"object"==typeof n.ä¿®ç‚¼åŠŸæ³•){const e=n.ä¿®ç‚¼åŠŸæ³•;e.åç§°&amp;&amp;e.ç‰©å“ID||(console.warn("[æ•°æ®ä¿®å¤] ä¿®ç‚¼åŠŸæ³•æ•°æ®ä¸å®Œæ•´ï¼Œæ¸…ç©º"),n.ä¿®ç‚¼åŠŸæ³•=null)}var t;return Array.isArray(n.æŒæ¡æŠ€èƒ½)||(n.æŒæ¡æŠ€èƒ½=[]),n.å®—é—¨ç³»ç»Ÿ&amp;&amp;"object"==typeof n.å®—é—¨ç³»ç»Ÿ||(n.å®—é—¨ç³»ç»Ÿ={availableSects:[],sectRelationships:{},sectHistory:[]}),console.log("[æ•°æ®ä¿®å¤] âœ… å­˜æ¡£æ•°æ®ä¿®å¤å®Œæˆ"),n}function r(e,n){const t=e||"å‡¡äºº",a=n||"";if("å‡¡äºº"===t)return"å¼•æ°”å…¥ä½“ï¼Œæ„Ÿæ‚Ÿå¤©åœ°çµæ°”ï¼Œè¸ä¸Šä¿®ä»™ç¬¬ä¸€æ­¥";const o={ç»ƒæ°”:{åˆæœŸ:"å‡èšä¸¹ç”°çµæ°”ï¼Œæ‰“é€šä»»ç£äºŒè„‰ï¼Œå†²å‡»ç»ƒæ°”ä¸­æœŸ",ä¸­æœŸ:"æ‹“å®½ç»è„‰ï¼Œæå‡çµæ°”å®¹é‡ï¼Œå†²å‡»ç»ƒæ°”åæœŸ",åæœŸ:"å‡å®æ ¹åŸºï¼Œæ„Ÿæ‚Ÿå¤©åœ°æ³•åˆ™ï¼Œå†²å‡»ç»ƒæ°”åœ†æ»¡",åœ†æ»¡:"çµæ°”è´¯é€šå‘¨å¤©ï¼Œå‡ç»ƒçµæ ¹æœ¬æºï¼Œå‡†å¤‡ç­‘åŸº","":"æ¬è¿å‘¨å¤©ï¼Œå‡èšçµæ°”ï¼Œå¤¯å®ç»ƒæ°”æ ¹åŸº"},ç­‘åŸº:{åˆæœŸ:"å‡èšé“å°ï¼Œå°†çµæ°”å‹ç¼©å‡å®ï¼Œå†²å‡»ç­‘åŸºä¸­æœŸ",ä¸­æœŸ:"ç¨³å›ºé“åŸºï¼Œæ‰©å……ä¸¹ç”°å®¹é‡ï¼Œå†²å‡»ç­‘åŸºåæœŸ",åæœŸ:"æ„Ÿæ‚Ÿå¤©åœ°æ³•åˆ™ï¼Œå‡ç»ƒé‡‘ä¸¹é›å½¢ï¼Œå†²å‡»ç­‘åŸºåœ†æ»¡",åœ†æ»¡:"é“åŸºåœ†æ»¡ï¼Œç ´è€Œåç«‹ï¼Œå°†çµæ°”å‡èšæˆé‡‘ä¸¹","":"å¤¯å®é“åŸºï¼Œå‹ç¼©çµæ°”ï¼Œæå‡ç­‘åŸºå¢ƒç•Œ"},é‡‘ä¸¹:{åˆæœŸ:"å‡å®é‡‘ä¸¹ï¼Œåˆ»ç”»ç¬¦æ–‡ï¼Œå†²å‡»é‡‘ä¸¹ä¸­æœŸ",ä¸­æœŸ:"æ·¬ç‚¼é‡‘ä¸¹ï¼Œé¢†æ‚Ÿé“éŸµï¼Œå†²å‡»é‡‘ä¸¹åæœŸ",åæœŸ:"é‡‘ä¸¹å¤§æˆï¼Œè•´å…»å…ƒç¥ï¼Œå†²å‡»é‡‘ä¸¹åœ†æ»¡",åœ†æ»¡:"ç ´ä¸¹æˆå©´ï¼Œå…ƒç¥å‡ºçªï¼Œè¸å…¥å…ƒå©´å¢ƒç•Œ","":"æ·¬ç‚¼é‡‘ä¸¹æœ¬æºï¼Œåˆ»ç”»å¤©åœ°ç¬¦æ–‡ï¼Œæå‡é‡‘ä¸¹å“è´¨"},å…ƒå©´:{åˆæœŸ:"ç¨³å›ºå…ƒå©´ï¼Œå‡ç»ƒç¥é­‚ï¼Œå†²å‡»å…ƒå©´ä¸­æœŸ",ä¸­æœŸ:"å…ƒå©´å£®å¤§ï¼Œæ„Ÿæ‚Ÿå¤§é“ï¼Œå†²å‡»å…ƒå©´åæœŸ",åæœŸ:"å…ƒå©´å¤§æˆï¼Œå‡ç»ƒå…ƒç¥ï¼Œå†²å‡»å…ƒå©´åœ†æ»¡",åœ†æ»¡:"å…ƒç¥èœ•å˜ï¼Œè‚‰èº«æˆåœ£ï¼Œå‡†å¤‡åŒ–ç¥","":"å£®å¤§å…ƒå©´ï¼Œæ·¬ç‚¼ç¥é­‚ï¼Œæå‡å…ƒå©´å¢ƒç•Œ"},åŒ–ç¥:{åˆæœŸ:"ç¥é­‚åˆä¸€ï¼Œé¢†æ‚Ÿæ³•åˆ™ï¼Œå†²å‡»åŒ–ç¥ä¸­æœŸ",ä¸­æœŸ:"å‡èšç¥æ ¼ï¼Œå‚æ‚Ÿå¤©é“ï¼Œå†²å‡»åŒ–ç¥åæœŸ",åæœŸ:"ç¥æ ¼å¤§æˆï¼Œèåˆæ³•åˆ™ï¼Œå†²å‡»åŒ–ç¥åœ†æ»¡",åœ†æ»¡:"ç‚¼è™šåˆé“ï¼Œè‚‰èº«ä¸ç­ï¼Œå‡†å¤‡çªç ´ç‚¼è™š","":"æ„Ÿæ‚Ÿå¤§é“æ³•åˆ™ï¼Œå‡ç»ƒç¥æ ¼ï¼Œæå‡åŒ–ç¥å¢ƒç•Œ"},ç‚¼è™š:{åˆæœŸ:"ç‚¼è™šåŒ–å®ï¼Œè™šç©ºå‡å½¢ï¼Œå†²å‡»ç‚¼è™šä¸­æœŸ",ä¸­æœŸ:"è™šå®åˆä¸€ï¼Œå‚æ‚Ÿç©ºé—´æ³•åˆ™ï¼Œå†²å‡»ç‚¼è™šåæœŸ",åæœŸ:"æ’•è£‚è™šç©ºï¼ŒæŒæ§ç©ºé—´ï¼Œå†²å‡»ç‚¼è™šåœ†æ»¡",åœ†æ»¡:"è™šç©ºå¤§æˆï¼Œä¸å¤©åœ°åˆä¸€ï¼Œå‡†å¤‡æ¸¡åŠ«","":"ç‚¼åŒ–è™šç©ºä¹‹åŠ›ï¼Œæ„Ÿæ‚Ÿç©ºé—´å¥¥ä¹‰ï¼Œæå‡ç‚¼è™šå¢ƒç•Œ"},åˆä½“:{åˆæœŸ:"å¤©äººåˆä¸€ï¼Œä¸å¤©åœ°å…±é¸£ï¼Œå†²å‡»åˆä½“ä¸­æœŸ",ä¸­æœŸ:"é¢†æ‚Ÿå¤©é“ï¼ŒæŒæ§å¤©åœ°ä¹‹åŠ›ï¼Œå†²å‡»åˆä½“åæœŸ",åæœŸ:"å¤©åœ°è®¤å¯ï¼Œæ³•åˆ™åŠ èº«ï¼Œå†²å‡»åˆä½“åœ†æ»¡",åœ†æ»¡:"ä¸é“åˆçœŸï¼Œå¤©åŠ«å°†è‡³ï¼Œå‡†å¤‡æ¸¡åŠ«é£å‡","":"æ„Ÿæ‚Ÿå¤©åœ°å¤§é“ï¼Œä¸å¤©åœ°å…±é¸£ï¼Œæå‡åˆä½“å¢ƒç•Œ"},å¤§ä¹˜:{åˆæœŸ:"å¤§é“åœ†æ»¡ï¼Œæ³•åˆ™å…¥ä½“ï¼Œå†²å‡»å¤§ä¹˜ä¸­æœŸ",ä¸­æœŸ:"å¤©é“è®¤å¯ï¼Œå‚æ‚Ÿä»™é“ï¼Œå†²å‡»å¤§ä¹˜åæœŸ",åæœŸ:"ä»™éŸµåˆç°ï¼Œå‡†å¤‡æ¸¡åŠ«ï¼Œå†²å‡»å¤§ä¹˜åœ†æ»¡",åœ†æ»¡:"æ¸¡ä¹ä¹å¤©åŠ«ï¼Œé£å‡ä»™ç•Œï¼Œè¶…è„±å‡¡å°˜","":"æ„Ÿæ‚Ÿä»™é“å¥¥ä¹‰ï¼Œå‡ç»ƒä»™ä½“ï¼Œå‡†å¤‡é£å‡"}}[t];return o?o[a]||o[""]||`æ„Ÿæ‚Ÿ${t}å¢ƒç•Œå¥¥ä¹‰ï¼Œæå‡ä¿®ä¸ºå¢ƒç•Œ`:{åˆæœŸ:`å‡ç»ƒ${t}åˆæœŸæ ¹åŸºï¼Œå†²å‡»${t}ä¸­æœŸ`,ä¸­æœŸ:`ç¨³å›º${t}ä¸­æœŸä¿®ä¸ºï¼Œå†²å‡»${t}åæœŸ`,åæœŸ:`åœ†æ»¡${t}åæœŸå¢ƒç•Œï¼Œå†²å‡»${t}åœ†æ»¡`,åœ†æ»¡:`${t}åœ†æ»¡å¤§æˆï¼Œå‡†å¤‡çªç ´ä¸‹ä¸€å¢ƒç•Œ`,"":`æ„Ÿæ‚Ÿ${t}å¢ƒç•Œå¥¥ä¹‰ï¼Œæå‡ä¿®ä¸º`}[a]||`æ„Ÿæ‚Ÿ${t}å¢ƒç•Œï¼Œæå‡ä¿®ä¸º`}function l(e){if(!e||"object"!=typeof e)return{åç§°:"å‡¡äºº",é˜¶æ®µ:"",å½“å‰è¿›åº¦:0,ä¸‹ä¸€çº§æ‰€éœ€:100,çªç ´æè¿°:"å¼•æ°”å…¥ä½“ï¼Œæ„Ÿæ‚Ÿå¤©åœ°çµæ°”ï¼Œè¸ä¸Šä¿®ä»™ç¬¬ä¸€æ­¥"};const n=e.åç§°||"å‡¡äºº",t=e.é˜¶æ®µ||"";return{åç§°:n,é˜¶æ®µ:t,å½“å‰è¿›åº¦:d(e.å½“å‰è¿›åº¦,0,999999999,0),ä¸‹ä¸€çº§æ‰€éœ€:d(e.ä¸‹ä¸€çº§æ‰€éœ€,1,999999999,100),çªç ´æè¿°:e.çªç ´æè¿°||r(n,t)}}function i(e,n,t){if(!e||"object"!=typeof e)return{å½“å‰:n,ä¸Šé™:t};const a=d(e.å½“å‰,0,999999999,n),o=d(e.ä¸Šé™,1,999999999,t);return{å½“å‰:Math.min(a,o),ä¸Šé™:o}}function c(e){const n={...e};return n.ç‰©å“ID=n.ç‰©å“ID||`item_${Date.now()}`,n.åç§°=n.åç§°||"æœªå‘½åç‰©å“",n.æ•°é‡=d(n.æ•°é‡,1,999999,1),n.å“è´¨&amp;&amp;"object"==typeof n.å“è´¨?(["å‡¡","é»„","ç„","åœ°","å¤©","ä»™","ç¥"].includes(n.å“è´¨.quality)||(n.å“è´¨.quality="å‡¡"),n.å“è´¨.grade=d(n.å“è´¨.grade,0,10,1)):n.å“è´¨={quality:"å‡¡",grade:1},["è£…å¤‡","åŠŸæ³•","å…¶ä»–"].includes(n.ç±»å‹)||(n.ç±»å‹="å…¶ä»–"),n}function s(e){const n={...e};return n.åå­—=n.åå­—||"æ— å",n.æ€§åˆ«=n.æ€§åˆ«||"ç”·",n.å¹´é¾„=d(n.å¹´é¾„,1,1e4,20),n.å¢ƒç•Œ=l(n.å¢ƒç•Œ),n.å…ˆå¤©å…­å¸&amp;&amp;"object"==typeof n.å…ˆå¤©å…­å¸||(n.å…ˆå¤©å…­å¸={æ ¹éª¨:5,çµæ€§:5,æ‚Ÿæ€§:5,æ°”è¿:5,é­…åŠ›:5,å¿ƒæ€§:5}),n.å½“å‰ä½ç½®&amp;&amp;"object"==typeof n.å½“å‰ä½ç½®?n.å½“å‰ä½ç½®.æè¿°||(n.å½“å‰ä½ç½®.æè¿°="æœå¤©å¤§é™†Â·æ— åä¹‹åœ°"):n.å½“å‰ä½ç½®={æè¿°:"æœå¤©å¤§é™†Â·æ— åä¹‹åœ°"},n.å¥½æ„Ÿåº¦=d(n.å¥½æ„Ÿåº¦,-100,100,0),Array.isArray(n.è®°å¿†)||(n.è®°å¿†=[]),n.èƒŒåŒ…&amp;&amp;"object"==typeof n.èƒŒåŒ…||(n.èƒŒåŒ…={çµçŸ³:{ä¸‹å“:0,ä¸­å“:0,ä¸Šå“:0,æå“:0},ç‰©å“:{}}),n}function d(e,n,t,a){if("number"==typeof e&amp;&amp;!isNaN(e))return Math.max(n,Math.min(t,e));if("string"==typeof e){const a=parseFloat(e);if(!isNaN(a))return Math.max(n,Math.min(t,a))}return a}},6597:(e,n,t)=&gt;{t.d(n,{A:()=&gt;i});var a=t(1601),o=t.n(a),r=t(6314),l=t.n(r)()(o());l.push([e.id,"\n.data-type-selector[data-v-b66d579e] {\n  padding: 1rem;\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));\n  gap: 0.75rem;\n  border-bottom: 1px solid var(--color-border);\n}\n\n/* æ‰‹æœºç«¯é€‚é… */\n@media (max-width: 640px) {\n.data-type-selector[data-v-b66d579e] {\n    grid-template-columns: 1fr 1fr;\n    gap: 0.5rem;\n    padding: 0.75rem;\n}\n}\n@media (max-width: 480px) {\n.data-type-selector[data-v-b66d579e] {\n    gap: 0.4rem;\n    padding: 0.5rem;\n}\n}\n.type-btn[data-v-b66d579e] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.5rem 1rem;\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 0.875rem;\n  transition: all 0.2s ease;\n  position: relative;\n  overflow: visible;\n  width: 100%;\n  justify-content: flex-start;\n  color: var(--color-text);\n  background: var(--color-background);\n}\n.type-btn[data-v-b66d579e]:hover {\n  border-color: var(--color-primary);\n  background: var(--color-primary-light);\n  transform: translateY(-1px);\n  box-shadow: 0 4px 12px rgba(var(--color-primary-rgb), 0.15);\n}\n.type-btn.active[data-v-b66d579e] {\n  background: var(--color-primary);\n  color: white;\n  border-color: var(--color-primary);\n}\n.type-btn.active[data-v-b66d579e]:hover,\n.type-btn.active[data-v-b66d579e]:focus,\n.type-btn.active[data-v-b66d579e]:focus-visible {\n  background: var(--color-primary-hover);\n  color: white;\n  border-color: var(--color-primary-hover);\n  transform: translateY(-1px);\n  box-shadow: 0 6px 16px rgba(var(--color-primary-rgb), 0.25);\n}\n.type-btn svg[data-v-b66d579e] {\n  color: inherit;\n}\n.type-btn[data-v-b66d579e]:focus {\n  outline: none;\n}\n.type-btn[data-v-b66d579e]:focus-visible {\n  box-shadow: 0 0 0 3px rgba(var(--color-primary-rgb), 0.25);\n  border-color: var(--color-primary);\n}\n.type-btn[data-v-b66d579e]:active {\n  transform: translateY(0);\n  box-shadow: none;\n}\n.count-badge[data-v-b66d579e] {\n  position: absolute;\n  top: -0.5rem;\n  right: -0.5rem;\n  background: var(--color-accent);\n  color: white;\n  font-size: 0.75rem;\n  padding: 0.125rem 0.375rem;\n  border-radius: 10px;\n  min-width: 1.25rem;\n  text-align: center;\n  z-index: 2;\n}\n\n/* æ‰‹æœºç«¯æŒ‰é’®é€‚é… */\n@media (max-width: 640px) {\n.type-btn[data-v-b66d579e] {\n    padding: 0.4rem 0.6rem;\n    font-size: 0.8rem;\n    gap: 0.3rem;\n}\n.count-badge[data-v-b66d579e] {\n    font-size: 0.7rem;\n    padding: 0.1rem 0.3rem;\n    min-width: 1rem;\n}\n}\n@media (max-width: 480px) {\n.type-btn[data-v-b66d579e] {\n    padding: 0.35rem 0.5rem;\n    font-size: 0.75rem;\n    gap: 0.25rem;\n}\n.count-badge[data-v-b66d579e] {\n    font-size: 0.65rem;\n    padding: 0.08rem 0.25rem;\n    min-width: 0.9rem;\n}\n}\n",""]);const i=l},6627:(e,n,t)=&gt;{t.d(n,{A:()=&gt;i});var a=t(1601),o=t.n(a),r=t(6314),l=t.n(r)()(o());l.push([e.id,'/* Theme overrides to improve light/dark readability (focused on dashboard sidebar) */\n\n/* Scrollbars follow theme */\n.right-sidebar .sidebar-content {\n  scrollbar-color: var(--scrollbar-thumb-color) transparent;\n}\n.right-sidebar .sidebar-content::-webkit-scrollbar-thumb {\n  background: var(--scrollbar-thumb-color);\n}\n\n/* Containers use themed surfaces/borders */\n.right-sidebar .ai-chat-section,\n.right-sidebar .info-section,\n.right-sidebar .cultivation-section,\n.right-sidebar .vitals-section,\n.right-sidebar .attributes-section,\n.right-sidebar .location-section,\n.right-sidebar .wealth-section,\n.right-sidebar .collapsible-section {\n  background: var(--color-surface) !important;\n  border: 1px solid var(--color-border) !important;\n}\n\n/* Subtle hover */\n.right-sidebar .section-header:hover {\n  background: var(--color-surface-light) !important;\n}\n\n/* Text colors */\n.right-sidebar .sidebar-title,\n.right-sidebar .detail-value,\n.right-sidebar .vital-text,\n.right-sidebar .effect-name,\n.right-sidebar .realm-name {\n  color: var(--color-text) !important;\n}\n.right-sidebar .detail-label,\n.right-sidebar .state-label,\n.right-sidebar .state-text,\n.right-sidebar .progress-text,\n.right-sidebar .effect-time,\n.right-sidebar .empty-text,\n.right-sidebar .no-char-text,\n.right-sidebar .realm-level,\n.right-sidebar .vital-name {\n  color: var(--color-text-secondary) !important;\n}\n.right-sidebar .section-title { color: var(--color-text) !important; }\n.right-sidebar .section-icon { color: var(--color-primary) !important; }\n\n/* Collapsible toggle icon */\n.right-sidebar .collapse-toggle { color: var(--color-text-secondary) !important; }\n.right-sidebar .collapse-toggle:hover {\n  color: var(--color-text) !important;\n  background: var(--color-surface-light) !important;\n}\n\n/* Vital item cards */\n.right-sidebar .vital-item {\n  background: var(--color-surface) !important;\n  border: 1px solid var(--color-border) !important;\n}\n.right-sidebar .vital-item:hover {\n  background: var(--color-surface-light) !important;\n  border-color: var(--color-border) !important;\n}\n\n/* Progress bars */\n.right-sidebar .progress-bar { background: var(--color-surface-light) !important; }\n.right-sidebar .progress-fill.health { background: var(--vital-health) !important; }\n.right-sidebar .progress-fill.mana { background: var(--vital-lingqi) !important; }\n.right-sidebar .progress-fill.spirit { background: var(--vital-spirit) !important; }\n.right-sidebar .progress-fill.lifespan { background: var(--vital-lifespan) !important; }\n.right-sidebar .progress-fill.cultivation { background: var(--color-accent) !important; }\n\n/* Status effect cards: neutral base, colored left bar */\n.right-sidebar .status-effect-card {\n  background: var(--color-surface) !important;\n  border: 1px solid var(--color-border) !important;\n}\n.right-sidebar .status-effect-card::before { background: var(--color-border) !important; }\n.right-sidebar .status-effect-card.buff::before { background: linear-gradient(to bottom, var(--color-success), var(--color-success)) !important; }\n.right-sidebar .status-effect-card.debuff::before { background: linear-gradient(to bottom, var(--color-error), var(--color-error)) !important; }\n\n/* Talent card simplified */\n.right-sidebar .talent-card {\n  background: var(--color-surface) !important;\n  border: 1px solid var(--color-accent) !important;\n  border-left: 4px solid var(--color-accent) !important;\n}\n.right-sidebar .talent-name { color: var(--color-accent) !important; }\n.right-sidebar .talent-level {\n  color: var(--color-warning) !important;\n  background: var(--color-surface-light) !important;\n  border: 1px solid var(--color-warning) !important;\n}\n\n/* Icons by type */\n.right-sidebar .vital-icon.blood { color: var(--vital-health) !important; }\n.right-sidebar .vital-icon.mana { color: var(--vital-lingqi) !important; }\n.right-sidebar .vital-icon.spirit { color: var(--vital-spirit) !important; }\n.right-sidebar .vital-icon.lifespan { color: var(--vital-lifespan) !important; }\n\n/* Character summary sections keep a subtle primary/accents using existing rgb if available */\n.right-sidebar .character-info-section {\n  background: rgba(var(--color-primary-rgb), 0.06) !important;\n  border: 1px solid rgba(var(--color-primary-rgb), 0.15) !important;\n}\n.right-sidebar .character-state-section {\n  background: var(--color-surface) !important;\n  border: 1px solid var(--color-border) !important;\n}\n\n/* Inventory item count badge: keep readable in both themes */\n.item-quantity-display { color: #f7f7f5 !important; text-shadow: 0 1px 2px rgba(0,0,0,0.5); }\n\n/* ===== ä¿®å¤å³ä¾§é¢æ¿é¢œè‰²æ·¡åŒ–é—®é¢˜ ===== */\n\n/* ç§»é™¤å¯èƒ½å¯¼è‡´ç™½è‰²é®ç½©çš„æ•ˆæœ */\n.right-sidebar,\n.right-panel-area {\n  filter: none !important;\n  backdrop-filter: none !important;\n  -webkit-backdrop-filter: none !important;\n  mix-blend-mode: normal !important;\n  opacity: 1 !important;\n}\n\n/* ç¡®ä¿å³ä¾§é¢æ¿çš„èƒŒæ™¯å®Œå…¨ä¸é€æ˜ */\n.right-sidebar {\n  background: var(--color-surface) !important;\n}\n\n/* ç§»é™¤ä»»ä½•å¯èƒ½çš„ä¼ªå…ƒç´ é®ç½© */\n.right-sidebar::before,\n.right-sidebar::after,\n.right-panel-area::before,\n.right-panel-area::after {\n  display: none !important;\n}\n\n/* ===== æŒ‰é’®æ–‡å­—æº¢å‡ºå’Œå±…ä¸­ä¿®å¤ ===== */\n\n/* é€šç”¨æŒ‰é’®æœ€å°å®½åº¦å’Œå±…ä¸­æ ·å¼ */\nbutton {\n  min-width: fit-content;\n  text-align: center;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n/* RetryConfirmDialog æŒ‰é’®ä¿®å¤ */\n.retry-dialog .btn-primary,\n.retry-dialog .btn-secondary {\n  min-width: 100px !important; /* ç¡®ä¿æœ€å°å®½åº¦ */\n  padding: 12px 24px !important; /* å¢åŠ å·¦å³å†…è¾¹è·é˜²æ­¢æ–‡å­—æº¢å‡º */\n  text-align: center;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n/* DataClearButtons æŒ‰é’®ä¿®å¤ */\n.clear-button {\n  min-width: 120px !important; /* é˜²æ­¢"æ¸…é™¤è‡ªå®šä¹‰æ•°æ®"ç­‰é•¿æ–‡å­—æº¢å‡º */\n  padding: 0.4rem 1rem !important; /* å¢åŠ å·¦å³å†…è¾¹è· */\n  text-align: center;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: flex !important;\n  align-items: center;\n  justify-content: center;\n  gap: 0.25rem;\n}\n\n.clear-button .clear-text {\n  flex: 1;\n  text-align: center;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n/* SavePanel æ“ä½œæŒ‰é’®ä¿®å¤ */\n.operation-btn {\n  min-width: 140px !important; /* ä¸º"å¯¼å‡ºå­˜æ¡£"ã€"å¯¼å…¥å­˜æ¡£"ç­‰æŒ‰é’®è®¾ç½®æœ€å°å®½åº¦ */\n  padding: 1rem 1.2rem !important;\n  text-align: center;\n}\n\n.operation-btn .btn-content {\n  width: 100%;\n  text-align: center;\n}\n\n.operation-btn .btn-title {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n/* MainGamePanel ä¸­çš„å¿«æ·æ“ä½œæŒ‰é’®ä¿®å¤ */\n.quick-action-btn {\n  min-width: 80px !important; /* ç¡®ä¿æŒ‰é’®æœ€å°å®½åº¦ */\n  min-height: 70px;\n  padding: 12px 10px !important; /* å¢åŠ å·¦å³å†…è¾¹è· */\n  text-align: center;\n  display: flex !important;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 6px;\n}\n\n.quick-action-btn .action-text {\n  width: 100%;\n  text-align: center;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  font-size: 0.8rem;\n  line-height: 1.2;\n}\n\n/* é…ç½®å¼¹çª—æŒ‰é’®ä¿®å¤ */\n.cancel-btn,\n.confirm-btn {\n  min-width: 80px !important; /* ç¡®ä¿"å–æ¶ˆ"ã€"ç¡®è®¤"æŒ‰é’®æœ€å°å®½åº¦ */\n  padding: 8px 24px !important; /* å¢åŠ å·¦å³å†…è¾¹è· */\n  text-align: center;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n/* LocalPromptModal æŒ‰é’®ä¿®å¤ */\n.cancel-button {\n  min-width: 80px !important;\n  padding: 8px 24px !important;\n  text-align: center;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n/* é€šç”¨æŒ‰é’®æ–‡å­—å±…ä¸­ä¿®å¤ */\n.btn-text,\n.action-text,\n.btn-title {\n  text-align: center !important;\n  width: 100%;\n  display: block;\n}\n\n/* ä¿®å¤LeftSidebarä¸­çš„æŒ‰é’® */\n.left-sidebar .nav-btn {\n  min-width: 100%;\n  text-align: left; /* LeftSidebaræŒ‰é’®åº”è¯¥å·¦å¯¹é½ */\n}\n\n.left-sidebar .nav-btn .btn-text,\n.left-sidebar .nav-btn .btn-desc {\n  text-align: left;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n/* TopBarä¸­çš„å…¨å±æŒ‰é’® */\n.fullscreen-btn {\n  min-width: 32px !important;\n  min-height: 32px !important;\n  display: flex !important;\n  align-items: center;\n  justify-content: center;\n}\n\n/* å‘é€æŒ‰é’®ä¿®å¤ */\n.send-button {\n  min-width: 60px !important;\n  padding: 12px 24px !important;\n  text-align: center;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: flex !important;\n  align-items: center;\n  justify-content: center;\n}\n\n/* è¡ŒåŠ¨é€‰æ‹©å™¨æŒ‰é’®ä¿®å¤ */\n.action-selector-btn {\n  min-width: 44px !important;\n  min-height: 44px !important;\n  display: flex !important;\n  align-items: center;\n  justify-content: center;\n}\n\n/* å“åº”å¼è°ƒæ•´ */\n@media (max-width: 640px) {\n  .clear-button {\n    min-width: 100px !important;\n    padding: 0.3rem 0.8rem !important;\n  }\n  \n  .operation-btn {\n    min-width: 120px !important;\n    padding: 0.8rem 1rem !important;\n  }\n  \n  .quick-action-btn {\n    min-width: 70px !important;\n    min-height: 60px;\n    padding: 8px 6px !important;\n  }\n  \n  .cancel-btn,\n  .confirm-btn {\n    min-width: 70px !important;\n    padding: 6px 18px !important;\n  }\n  \n  .send-button {\n    min-width: 50px !important;\n    padding: 10px 20px !important;\n  }\n}\n\n@media (max-width: 480px) {\n  .clear-button {\n    min-width: 90px !important;\n    padding: 0.25rem 0.6rem !important;\n  }\n  \n  .operation-btn {\n    min-width: 100px !important;\n    padding: 0.6rem 0.8rem !important;\n  }\n  \n  .quick-action-btn {\n    min-width: 60px !important;\n    min-height: 50px;\n    padding: 6px 4px !important;\n  }\n  \n  .cancel-btn,\n  .confirm-btn {\n    min-width: 60px !important;\n    padding: 6px 15px !important;\n  }\n  \n  .send-button {\n    min-width: 45px !important;\n    padding: 8px 16px !important;\n  }\n}\n',""]);const i=l},6728:(e,n,t)=&gt;{function a(e,n){const t={æ ¹éª¨:0,çµæ€§:0,æ‚Ÿæ€§:0,æ°”è¿:0,é­…åŠ›:0,å¿ƒæ€§:0};return Object.values(e).forEach(e=&gt;{if(e&amp;&amp;n.ç‰©å“&amp;&amp;n.ç‰©å“[e]){const a=n.ç‰©å“[e];"è£…å¤‡å¢å¹…"in a&amp;&amp;a.è£…å¤‡å¢å¹…?.åå¤©å…­å¸&amp;&amp;Object.entries(a.è£…å¤‡å¢å¹….åå¤©å…­å¸).forEach(([e,n])=&gt;{e in t&amp;&amp;"number"==typeof n&amp;&amp;(t[e]+=n)})}}),t}function o(e,n){const t=n.è£…å¤‡æ &amp;&amp;n.èƒŒåŒ…?a(n.è£…å¤‡æ ,n.èƒŒåŒ…):{æ ¹éª¨:0,çµæ€§:0,æ‚Ÿæ€§:0,æ°”è¿:0,é­…åŠ›:0,å¿ƒæ€§:0},o=function(e){const n={æ ¹éª¨:0,çµæ€§:0,æ‚Ÿæ€§:0,æ°”è¿:0,é­…åŠ›:0,å¿ƒæ€§:0};if(!e.èƒŒåŒ…?.ç‰©å“)return n;const t=Object.values(e.èƒŒåŒ….ç‰©å“).find(e=&gt;"åŠŸæ³•"===e?.ç±»å‹&amp;&amp;!0===e?.å·²è£…å¤‡);if(t&amp;&amp;"åŠŸæ³•"===t.ç±»å‹&amp;&amp;t.åŠŸæ³•æ•ˆæœ?.å±æ€§åŠ æˆ){const e=t.åŠŸæ³•æ•ˆæœ.å±æ€§åŠ æˆ;for(const t in e)t in n&amp;&amp;(n[t]+=e[t]||0)}return n}(n),r={æ ¹éª¨:t.æ ¹éª¨+0+o.æ ¹éª¨,çµæ€§:t.çµæ€§+0+o.çµæ€§,æ‚Ÿæ€§:t.æ‚Ÿæ€§+0+o.æ‚Ÿæ€§,æ°”è¿:t.æ°”è¿+0+o.æ°”è¿,é­…åŠ›:t.é­…åŠ›+0+o.é­…åŠ›,å¿ƒæ€§:t.å¿ƒæ€§+0+o.å¿ƒæ€§};return{å…ˆå¤©å…­å¸:e,åå¤©å…­å¸:r,æœ€ç»ˆå…­å¸:{æ ¹éª¨:e.æ ¹éª¨+r.æ ¹éª¨,çµæ€§:e.çµæ€§+r.çµæ€§,æ‚Ÿæ€§:e.æ‚Ÿæ€§+r.æ‚Ÿæ€§,æ°”è¿:e.æ°”è¿+r.æ°”è¿,é­…åŠ›:e.é­…åŠ›+r.é­…åŠ›,å¿ƒæ€§:e.å¿ƒæ€§+r.å¿ƒæ€§}}}t.d(n,{MH:()=&gt;o,calculateEquipmentBonuses:()=&gt;a})},6782:(e,n,t)=&gt;{t.d(n,{A:()=&gt;i});var a=t(1601),o=t.n(a),r=t(6314),l=t.n(r)()(o());l.push([e.id,"\n.right-sidebar[data-v-b79cffd4] {\n  width: 100%;\n  height: 100%;\n  padding: 16px;\n  box-sizing: border-box;\n  font-family: var(--font-family-sans-serif);\n  display: flex;\n  flex-direction: column;\n  background: var(--color-surface);\n}\n.sidebar-header[data-v-b79cffd4] {\n  margin-bottom: 16px;\n  padding: 12px 0;\n  border-bottom: 1px solid var(--color-border);\n  background: transparent;\n}\n.sidebar-title[data-v-b79cffd4] {\n  margin: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 8px;\n  font-size: 1rem;\n  font-weight: 600;\n  color: var(--color-text);\n  text-align: center;\n}\n.title-icon[data-v-b79cffd4] {\n  color: var(--color-primary);\n  flex-shrink: 0;\n}\n.title-badge[data-v-b79cffd4] {\n  display: inline-block;\n  padding: 2px 8px;\n  border-radius: 9999px;\n  background: var(--color-primary);\n  color: #fff;\n  font-weight: 600;\n  font-size: 12px;\n  letter-spacing: 0.2px;\n}\n\n/* ç§»é™¤æ·±è‰²ä¸»é¢˜ç¡¬ç¼–ç ï¼Œä½¿ç”¨CSSå˜é‡è‡ªåŠ¨é€‚é… */\n.sidebar-content[data-v-b79cffd4] {\n  flex: 1;\n  overflow-y: auto;\n  scrollbar-width: thin;\n  scrollbar-color: rgba(0, 0, 0, 0.2) transparent;\n}\n.sidebar-content[data-v-b79cffd4]::-webkit-scrollbar {\n  width: 4px;\n}\n.sidebar-content[data-v-b79cffd4]::-webkit-scrollbar-track {\n  background: transparent;\n}\n.sidebar-content[data-v-b79cffd4]::-webkit-scrollbar-thumb {\n  background: rgba(0, 0, 0, 0.2);\n  border-radius: 2px;\n}\n[data-theme=\"dark\"] .sidebar-content[data-v-b79cffd4]::-webkit-scrollbar-thumb {\n  background: var(--scrollbar-thumb-color);\n}\n\n/* è§’è‰²åŸºæœ¬ä¿¡æ¯æ ·å¼ */\n.character-info-section[data-v-b79cffd4] {\n  margin-bottom: 16px;\n  padding: 12px;\n  background: var(--color-surface-light);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n}\n.character-basic[data-v-b79cffd4] {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 8px;\n}\n.character-basic .detail-item[data-v-b79cffd4] {\n  background: var(--color-surface-hover);\n  border-radius: 6px;\n  padding: 8px;\n  font-size: 0.75rem;\n}\n.character-basic .detail-label[data-v-b79cffd4] {\n  color: var(--color-text-secondary);\n  font-weight: 500;\n}\n.character-basic .detail-value[data-v-b79cffd4] {\n  color: var(--color-text);\n  font-weight: 600;\n}\n\n/* è§’è‰²çŠ¶æ€åŒºåŸŸæ ·å¼ */\n.character-state-section[data-v-b79cffd4] {\n  margin-bottom: 16px;\n  padding: 12px;\n  background: var(--color-surface-light);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n}\n.character-states[data-v-b79cffd4] {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n.state-item[data-v-b79cffd4] {\n  background: var(--color-surface-hover);\n  border-radius: 6px;\n  padding: 8px;\n}\n.state-label[data-v-b79cffd4] {\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n  font-weight: 500;\n  margin-bottom: 4px;\n  display: block;\n}\n.state-content[data-v-b79cffd4] {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n}\n.state-text[data-v-b79cffd4] {\n  font-size: 0.7rem;\n  color: var(--color-text-muted);\n  text-align: center;\n}\n.progress-fill.cultivation[data-v-b79cffd4] {\n  background: linear-gradient(90deg, #8b5cf6, #a78bfa);\n}\n\n/* æ”¶ç¼©åŒºåŸŸé€šç”¨æ ·å¼ */\n.collapsible-section[data-v-b79cffd4] {\n  margin-bottom: 16px;\n  padding: 0;\n  background: var(--color-surface-light);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n}\n.section-header[data-v-b79cffd4] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 12px 16px;\n  cursor: pointer;\n  transition: background 0.2s ease;\n  border-radius: 8px 8px 0 0;\n}\n.section-header[data-v-b79cffd4]:hover {\n  background: var(--color-surface-hover);\n}\n.collapse-toggle[data-v-b79cffd4] {\n  background: none;\n  border: none;\n  color: var(--color-text-secondary);\n  cursor: pointer;\n  padding: 4px;\n  border-radius: 4px;\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.collapse-toggle[data-v-b79cffd4]:hover {\n  color: var(--color-text);\n  background: var(--color-surface-hover);\n}\n.collapse-toggle svg[data-v-b79cffd4] {\n  transform: rotate(0deg);\n  transition: transform 0.2s ease;\n}\n.collapse-toggle.collapsed svg[data-v-b79cffd4] {\n  transform: rotate(-90deg);\n}\n.status-details[data-v-b79cffd4] {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 8px;\n  margin-top: 8px;\n}\n.current-status[data-v-b79cffd4] {\n  margin-top: 8px;\n  padding-top: 8px;\n  border-top: 1px solid var(--color-border);\n}\n.current-status .status-details[data-v-b79cffd4] {\n  display: flex;\n  flex-direction: column;\n  gap: 6px;\n  margin-top: 0;\n}\n.detail-item[data-v-b79cffd4] {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: 6px;\n  padding: 6px 8px;\n  background: var(--color-surface-hover);\n  border-radius: 4px;\n  font-size: 0.75rem;\n}\n.detail-label[data-v-b79cffd4] {\n  color: var(--color-text-secondary);\n  font-weight: 500;\n}\n.detail-value[data-v-b79cffd4] {\n  color: var(--color-text);\n  font-weight: 600;\n}\n\n/* å…­ç»´çµæ ¹åŒºåŸŸæ ·å¼ */\n.attributes-section[data-v-b79cffd4] {\n  margin-bottom: 16px;\n  padding: 12px;\n  background: var(--color-surface-light);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n}\n.attributes-grid[data-v-b79cffd4] {\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  gap: 8px;\n  margin-bottom: 12px;\n}\n.attribute-item[data-v-b79cffd4] {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 8px;\n  background: var(--color-surface);\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  transition: all 0.2s ease;\n}\n.attribute-item[data-v-b79cffd4]:hover {\n  background: var(--color-surface-hover);\n  border-color: var(--color-border-hover);\n}\n.attr-info[data-v-b79cffd4] {\n  flex: 1;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n.attr-name[data-v-b79cffd4] {\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n  font-weight: 500;\n}\n.attr-value[data-v-b79cffd4] {\n  font-size: 0.85rem;\n  color: var(--color-text);\n  font-weight: 700;\n}\n.attr-quality[data-v-b79cffd4] {\n  font-size: 0.65rem;\n  padding: 2px 6px;\n  border-radius: 4px;\n  font-weight: 600;\n  border: 1px solid;\n}\n\n/* å±æ€§å“è´¨é¢œè‰² */\n.quality-purple .attr-quality[data-v-b79cffd4] {\n  background: #8b5cf6;\n  color: white;\n  border-color: #8b5cf6;\n}\n.quality-orange .attr-quality[data-v-b79cffd4] {\n  background: #f59e0b;\n  color: white;\n  border-color: #f59e0b;\n}\n.quality-blue .attr-quality[data-v-b79cffd4] {\n  background: #3b82f6;\n  color: white;\n  border-color: #3b82f6;\n}\n.quality-green .attr-quality[data-v-b79cffd4] {\n  background: #10b981;\n  color: white;\n  border-color: #10b981;\n}\n.quality-gray .attr-quality[data-v-b79cffd4] {\n  background: #6b7280;\n  color: white;\n  border-color: #6b7280;\n}\n\n/* çµæ ¹å’Œå£°æœ›ä¿¡æ¯ */\n.spiritual-info[data-v-b79cffd4] {\n  border-top: 1px solid var(--color-border);\n  padding-top: 8px;\n  display: flex;\n  flex-direction: column;\n  gap: 6px;\n}\n.info-row[data-v-b79cffd4] {\n  display: flex;\n}\n.info-item[data-v-b79cffd4] {\n  flex: 1;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 6px 8px;\n  background: var(--color-surface);\n  border-radius: 4px;\n  font-size: 0.75rem;\n}\n.info-label[data-v-b79cffd4] {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  color: var(--color-text-secondary);\n  font-weight: 500;\n}\n.info-icon[data-v-b79cffd4] {\n  flex-shrink: 0;\n}\n.info-icon.spiritual[data-v-b79cffd4] {\n  color: var(--color-accent);\n}\n.info-icon.reputation[data-v-b79cffd4] {\n  color: var(--color-warning);\n}\n.info-value[data-v-b79cffd4] {\n  color: var(--color-text);\n  font-weight: 600;\n}\n\n/* å›¾æ ‡é¢œè‰² */\n.section-icon.attributes[data-v-b79cffd4] {\n  color: var(--color-accent);\n}\n\n/* é€šç”¨åŒºå—æ ·å¼ */\n.ai-chat-section[data-v-b79cffd4],\n.info-section[data-v-b79cffd4],\n.cultivation-section[data-v-b79cffd4],\n.vitals-section[data-v-b79cffd4],\n.attributes-section[data-v-b79cffd4],\n.location-section[data-v-b79cffd4],\n.wealth-section[data-v-b79cffd4] {\n  margin-bottom: 16px;\n  padding: 12px;\n  background: var(--color-surface-light);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n}\n\n/* å¤©èµ‹ç¥é€šç‰¹å®šæ ·å¼ */\n.talents-list[data-v-b79cffd4] {\n  padding: 0 16px 16px;\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n}\n\n/* ç©ºçŠ¶æ€æ ·å¼ */\n.empty-talents[data-v-b79cffd4] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 2rem 1rem;\n  text-align: center;\n  gap: 0.5rem;\n}\n.empty-icon[data-v-b79cffd4] {\n  font-size: 2rem;\n  margin-bottom: 0.5rem;\n  opacity: 0.7;\n}\n.empty-text[data-v-b79cffd4] {\n  color: var(--color-text-secondary);\n  font-size: 0.95rem;\n  font-weight: 500;\n  margin-bottom: 0.25rem;\n}\n.empty-hint[data-v-b79cffd4] {\n  color: var(--color-text-muted);\n  font-size: 0.8rem;\n  line-height: 1.4;\n  max-width: 200px;\n}\n\n/* çŠ¶æ€æ•ˆæœç‰¹å®šæ ·å¼ */\n.status-effects[data-v-b79cffd4] {\n  padding: 0 16px 16px;\n}\n.empty-status[data-v-b79cffd4] {\n  padding: 20px;\n  text-align: center;\n}\n.empty-text[data-v-b79cffd4] {\n  font-size: 0.8rem;\n  color: var(--color-text-muted);\n  font-style: italic;\n}\n\n/* æ–°çš„æ ‡ç­¾å¼çŠ¶æ€æ•ˆæœæ ·å¼ - ç´§å‡‘ä¸”ç¾è§‚ */\n.status-tags-container[data-v-b79cffd4] {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 8px;\n  padding: 12px;\n}\n.status-tag[data-v-b79cffd4] {\n  display: inline-flex;\n  align-items: center;\n  gap: 6px;\n  padding: 6px 10px;\n  border-radius: 20px;\n  font-size: 0.75rem;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  border: 1px solid;\n  backdrop-filter: blur(4px);\n  white-space: nowrap;\n  max-width: 100%;\n  overflow: hidden;\n}\n.status-tag.buff[data-v-b79cffd4] {\n  background: linear-gradient(135deg, rgba(var(--color-success-rgb), 0.2), rgba(var(--color-success-rgb), 0.1));\n  border-color: rgba(var(--color-success-rgb), 0.4);\n  color: var(--color-success);\n}\n.status-tag.debuff[data-v-b79cffd4] {\n  background: linear-gradient(135deg, rgba(var(--color-error-rgb), 0.2), rgba(var(--color-error-rgb), 0.1));\n  border-color: rgba(var(--color-error-rgb), 0.4);\n  color: var(--color-danger);\n}\n.status-tag[data-v-b79cffd4]:hover {\n  transform: translateY(-1px) scale(1.05);\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);\n}\n.status-tag.buff[data-v-b79cffd4]:hover {\n  background: linear-gradient(135deg, rgba(var(--color-success-rgb), 0.3), rgba(var(--color-success-rgb), 0.15));\n  border-color: rgba(var(--color-success-rgb), 0.6);\n  box-shadow: 0 4px 12px rgba(var(--color-success-rgb), 0.3);\n}\n.status-tag.debuff[data-v-b79cffd4]:hover {\n  background: linear-gradient(135deg, rgba(var(--color-error-rgb), 0.3), rgba(var(--color-error-rgb), 0.15));\n  border-color: rgba(var(--color-error-rgb), 0.6);\n  box-shadow: 0 4px 12px rgba(var(--color-error-rgb), 0.3);\n}\n.tag-icon[data-v-b79cffd4] {\n  font-size: 0.8rem;\n  flex-shrink: 0;\n}\n.tag-name[data-v-b79cffd4] {\n  font-weight: 600;\n  flex-shrink: 0;\n}\n.tag-intensity[data-v-b79cffd4] {\n  font-size: 0.65rem;\n  background: rgba(var(--color-warning-rgb), 0.8);\n  color: var(--color-text);\n  padding: 1px 4px;\n  border-radius: 8px;\n  font-weight: 600;\n  flex-shrink: 0;\n}\n.tag-time[data-v-b79cffd4] {\n  font-size: 0.65rem;\n  opacity: 0.8;\n  font-weight: 400;\n  flex-shrink: 0;\n}\n/* æ ‡é¢˜æ ·å¼ - å›¾æ ‡å’Œæ–‡å­—åœ¨ä¸€è¡Œ */\n.section-title[data-v-b79cffd4] {\n  margin: 0;\n  font-size: 0.85rem;\n  font-weight: 600;\n  color: var(--color-text);\n  padding-bottom: 6px;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n.section-title span[data-v-b79cffd4] {\n  flex: 1;\n}\n.section-icon[data-v-b79cffd4] {\n  color: var(--color-primary);\n  opacity: 0.8;\n  flex-shrink: 0;\n}\n.section-icon.gold[data-v-b79cffd4] {\n  color: var(--color-warning);\n}\n.vital-icon[data-v-b79cffd4] {\n  flex-shrink: 0;\n}\n.vital-icon.blood[data-v-b79cffd4] { color: var(--vital-health);\n}\n.vital-icon.mana[data-v-b79cffd4] { color: var(--vital-lingqi);\n}\n.vital-icon.spirit[data-v-b79cffd4] { color: var(--vital-spirit);\n}\n.vital-icon.lifespan[data-v-b79cffd4] { color: var(--vital-lifespan);\n}\n.vital-icon.reputation[data-v-b79cffd4] { color: var(--color-warning);\n}\n\n/* å£°æœ›æ˜¾ç¤ºæ ·å¼ */\n.reputation-display[data-v-b79cffd4] {\n  margin-top: 8px;\n  border-top: 1px solid var(--color-border);\n  padding-top: 8px;\n}\n.reputation-item[data-v-b79cffd4] {\n  background: var(--color-surface);\n  border-radius: 6px;\n  padding: 8px;\n  border: 1px solid var(--color-border);\n  transition: all 0.2s ease;\n}\n.reputation-item[data-v-b79cffd4]:hover {\n  background: var(--color-surface-hover);\n  border-color: var(--color-border-hover);\n}\n.reputation-info[data-v-b79cffd4] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n.reputation-label[data-v-b79cffd4] {\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n  font-weight: 500;\n  display: flex;\n  align-items: center;\n  gap: 4px;\n}\n.reputation-value[data-v-b79cffd4] {\n  font-size: 0.8rem;\n  color: var(--color-warning);\n  font-weight: 600;\n  padding: 2px 6px;\n  background: rgba(var(--color-warning-rgb), 0.1);\n  border: 1px solid rgba(var(--color-warning-rgb), 0.3);\n  border-radius: 12px;\n  display: flex;\n  align-items: center;\n  gap: 4px;\n}\n.reputation-number[data-v-b79cffd4] {\n  font-size: 0.7rem;\n  color: var(--color-text-secondary);\n  opacity: 0.8;\n}\n\n/* ç‚¹å‡»æç¤ºæ ·å¼ */\n.clickable[data-v-b79cffd4] {\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n.clickable[data-v-b79cffd4]:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);\n  border-color: rgba(var(--color-accent-rgb), 0.5);\n}\n\n/* å¤©èµ‹å¡ç‰‡æ ·å¼ - å¢å¼ºç¾è§‚æ€§ */\n.talent-card[data-v-b79cffd4] {\n  background: linear-gradient(135deg, rgba(var(--color-accent-rgb), 0.15), rgba(var(--color-accent-rgb), 0.1));\n  border: 1px solid rgba(var(--color-accent-rgb), 0.3);\n  border-left: 4px solid var(--color-accent);\n  border-radius: 12px;\n  padding: 16px;\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  backdrop-filter: blur(8px);\n  position: relative;\n  overflow: hidden;\n}\n.talent-card[data-v-b79cffd4]::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: linear-gradient(135deg,\n    rgba(var(--color-accent-rgb), 0.1) 0%,\n    rgba(var(--color-accent-rgb), 0.05) 50%,\n    rgba(var(--color-accent-rgb), 0.1) 100%);\n  opacity: 0;\n  transition: opacity 0.3s ease;\n  pointer-events: none;\n}\n.talent-card[data-v-b79cffd4]:hover::before {\n  opacity: 1;\n}\n.talent-card[data-v-b79cffd4]:hover {\n  background: linear-gradient(135deg, rgba(var(--color-accent-rgb), 0.2), rgba(var(--color-accent-rgb), 0.15));\n  border-color: rgba(var(--color-accent-rgb), 0.5);\n  transform: translateX(6px) translateY(-2px);\n  box-shadow: 0 8px 32px rgba(var(--color-accent-rgb), 0.25), 0 0 0 1px rgba(var(--color-accent-rgb), 0.2);\n}\n.talent-header[data-v-b79cffd4] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  position: relative;\n  z-index: 1;\n}\n.talent-name[data-v-b79cffd4] {\n  font-size: 0.9rem;\n  font-weight: 700;\n  color: var(--color-accent);\n  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);\n}\n.talent-level[data-v-b79cffd4] {\n  font-size: 0.75rem;\n  color: var(--color-warning);\n  font-weight: 600;\n  background: linear-gradient(135deg, rgba(var(--color-warning-rgb), 0.2), rgba(var(--color-warning-rgb), 0.1));\n  padding: 4px 10px;\n  border-radius: 12px;\n  border: 1px solid rgba(var(--color-warning-rgb), 0.3);\n  backdrop-filter: blur(4px);\n}\n.talent-progress[data-v-b79cffd4] {\n  margin-top: 10px;\n  position: relative;\n  z-index: 1;\n}\n.progress-fill.talent[data-v-b79cffd4] {\n  background: linear-gradient(90deg, var(--color-accent), var(--color-accent-hover), rgba(var(--color-accent-rgb), 0.9));\n  box-shadow: 0 2px 8px rgba(var(--color-accent-rgb), 0.3);\n}\n\n/* ç”Ÿå‘½ä½“å¾æ ·å¼ */\n.vitals-list[data-v-b79cffd4] {\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n}\n.vital-item[data-v-b79cffd4] {\n  background: var(--color-surface);\n  border-radius: 8px;\n  padding: 12px;\n  border: 1px solid var(--color-border);\n  transition: all 0.2s ease;\n}\n.vital-item[data-v-b79cffd4]:hover {\n  background: var(--color-surface-hover);\n  border-color: var(--color-border-hover);\n}\n.vital-info[data-v-b79cffd4] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 8px;\n}\n.vital-name[data-v-b79cffd4] {\n  font-size: 0.8rem;\n  color: var(--color-text-secondary);\n  font-weight: 500;\n  display: flex;\n  align-items: center;\n  gap: 6px;\n}\n.vital-text[data-v-b79cffd4] {\n  font-size: 0.75rem;\n  color: var(--color-text);\n  font-weight: 600;\n}\n.progress-bar[data-v-b79cffd4] {\n  height: 6px;\n  background: var(--color-surface-light);\n  border-radius: 3px;\n  overflow: hidden;\n  position: relative;\n}\n.progress-fill[data-v-b79cffd4] {\n  height: 100%;\n  border-radius: 3px;\n  transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1);\n}\n.progress-fill.health[data-v-b79cffd4] { background: var(--vital-health);\n}\n.progress-fill.mana[data-v-b79cffd4] { background: var(--vital-lingqi);\n}\n.progress-fill.spirit[data-v-b79cffd4] { background: var(--vital-spirit);\n}\n/* å¯¿å…ƒè¿›åº¦æ¡ç»Ÿä¸€ç´«è‰² */\n.progress-fill.lifespan[data-v-b79cffd4] { background: var(--vital-lifespan);\n}\n\n/* ä¿®ä¸ºçŠ¶æ€æ ·å¼ */\n.realm-display[data-v-b79cffd4] {\n  background: var(--color-surface);\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  padding: 10px;\n  margin-bottom: 10px;\n}\n.realm-info[data-v-b79cffd4] {\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  margin-bottom: 8px;\n  flex-direction: column;\n  gap: 4px;\n}\n.realm-name[data-v-b79cffd4] {\n  font-size: 0.85rem;\n  font-weight: 600;\n  color: var(--color-accent);\n}\n.realm-breakthrough[data-v-b79cffd4] {\n  font-size: 0.7rem;\n  color: var(--color-text-secondary);\n  line-height: 1.4;\n  opacity: 0.8;\n}\n.realm-level[data-v-b79cffd4] {\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n}\n\n/* å‡¡äººå¢ƒç•Œç‰¹æ®Šæ ·å¼ */\n.realm-mortal[data-v-b79cffd4] {\n  padding: 8px;\n  background: rgba(var(--color-primary-rgb), 0.05);\n  border-radius: 4px;\n  text-align: center;\n  border: 1px dashed rgba(var(--color-primary-rgb), 0.3);\n}\n.mortal-text[data-v-b79cffd4] {\n  font-size: 0.8rem;\n  color: var(--color-text-secondary);\n  font-style: italic;\n  opacity: 0.8;\n}\n.realm-progress[data-v-b79cffd4] {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n}\n.progress-text[data-v-b79cffd4] {\n  font-size: 0.65rem;\n  color: var(--color-text-muted);\n  text-align: center;\n}\n\n/* çŠ¶æ€æ•ˆæœæ ·å¼ */\n.status-effects[data-v-b79cffd4] {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 6px;\n}\n.status-effect[data-v-b79cffd4] {\n  padding: 4px 8px;\n  border-radius: 12px;\n  font-size: 0.7rem;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 2px;\n}\n.status-effect.buff[data-v-b79cffd4] {\n  background: linear-gradient(135deg, #10b981, #059669);\n  color: white;\n  box-shadow: 0 2px 4px rgba(16, 185, 129, 0.2);\n}\n.status-effect.debuff[data-v-b79cffd4] {\n  background: linear-gradient(135deg, #ef4444, #dc2626);\n  color: white;\n  box-shadow: 0 2px 4px rgba(239, 68, 68, 0.2);\n}\n.status-effect[data-v-b79cffd4]:hover {\n  transform: translateY(-1px);\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);\n}\n.effect-name[data-v-b79cffd4] {\n  font-size: 0.65rem;\n}\n.effect-time[data-v-b79cffd4] {\n  font-size: 0.6rem;\n  opacity: 0.8;\n}\n\n/* æ— è§’è‰²æ•°æ®æ ·å¼ */\n.no-character[data-v-b79cffd4] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  gap: 10px;\n}\n.no-char-text[data-v-b79cffd4] {\n  font-size: 0.9rem;\n  color: var(--color-text-muted);\n  font-style: italic;\n}\n\n/* å“åº”å¼è®¾è®¡ */\n@media (max-width: 640px) {\n.right-sidebar[data-v-b79cffd4] {\n    padding: 12px;\n}\n.sidebar-title[data-v-b79cffd4] {\n    font-size: 0.9rem;\n}\n.section-title[data-v-b79cffd4] {\n    font-size: 0.8rem;\n}\n.vitals-list[data-v-b79cffd4] {\n    gap: 8px;\n}\n.vital-item[data-v-b79cffd4] {\n    padding: 6px;\n}\n.vital-name[data-v-b79cffd4] {\n    font-size: 0.7rem;\n}\n.vital-text[data-v-b79cffd4] {\n    font-size: 0.65rem;\n}\n.talent-card[data-v-b79cffd4] {\n    padding: 10px;\n}\n.talent-name[data-v-b79cffd4] {\n    font-size: 0.8rem;\n}\n.status-effect-card[data-v-b79cffd4] {\n    padding: 8px 10px;\n}\n.effect-name[data-v-b79cffd4] {\n    font-size: 0.75rem;\n}\n.status-tags-container[data-v-b79cffd4] {\n    gap: 6px;\n    padding: 8px;\n}\n.status-tag[data-v-b79cffd4] {\n    font-size: 0.7rem;\n    padding: 4px 8px;\n    gap: 4px;\n}\n.tag-intensity[data-v-b79cffd4] {\n    font-size: 0.6rem;\n    padding: 1px 3px;\n}\n.tag-time[data-v-b79cffd4] {\n    font-size: 0.6rem;\n}\n.detail-item[data-v-b79cffd4] {\n    padding: 5px 6px;\n    font-size: 0.7rem;\n}\n.attributes-grid[data-v-b79cffd4] {\n    gap: 6px;\n}\n.attribute-item[data-v-b79cffd4] {\n    padding: 6px;\n}\n.attr-name[data-v-b79cffd4] {\n    font-size: 0.7rem;\n}\n.attr-value[data-v-b79cffd4] {\n    font-size: 0.8rem;\n}\n.attr-quality[data-v-b79cffd4] {\n    font-size: 0.6rem;\n    padding: 1px 4px;\n}\n.info-item[data-v-b79cffd4] {\n    padding: 5px 6px;\n    font-size: 0.7rem;\n}\n.realm-name[data-v-b79cffd4] {\n    font-size: 0.8rem;\n}\n.progress-bar[data-v-b79cffd4] {\n    height: 5px;\n}\n}\n@media (max-width: 480px) {\n.right-sidebar[data-v-b79cffd4] {\n    padding: 8px;\n}\n.sidebar-header[data-v-b79cffd4] {\n    margin-bottom: 12px;\n    padding-bottom: 8px;\n}\n.vitals-section[data-v-b79cffd4],\n  .cultivation-section[data-v-b79cffd4],\n  .collapsible-section[data-v-b79cffd4] {\n    margin-bottom: 12px;\n    padding: 10px;\n}\n.attributes-section[data-v-b79cffd4] {\n    margin-bottom: 12px;\n    padding: 10px;\n}\n.attributes-grid[data-v-b79cffd4] {\n    gap: 4px;\n}\n.attribute-item[data-v-b79cffd4] {\n    padding: 5px;\n}\n.attr-name[data-v-b79cffd4] {\n    font-size: 0.65rem;\n}\n.attr-value[data-v-b79cffd4] {\n    font-size: 0.75rem;\n}\n.attr-quality[data-v-b79cffd4] {\n    font-size: 0.55rem;\n    padding: 1px 3px;\n}\n.status-details[data-v-b79cffd4] {\n    grid-template-columns: 1fr;\n}\n.talents-list[data-v-b79cffd4] {\n    padding: 0 12px 12px;\n}\n.status-effects[data-v-b79cffd4] {\n    padding: 0 12px 12px;\n}\n.status-tags-container[data-v-b79cffd4] {\n    gap: 4px;\n    padding: 6px;\n}\n.status-tag[data-v-b79cffd4] {\n    font-size: 0.65rem;\n    padding: 3px 6px;\n    gap: 3px;\n}\n.tag-intensity[data-v-b79cffd4] {\n    font-size: 0.55rem;\n    padding: 1px 2px;\n}\n.tag-time[data-v-b79cffd4] {\n    font-size: 0.55rem;\n}\n}\n\n/* å¹³æ¿è®¾å¤‡ä¼˜åŒ– */\n@media (min-width: 769px) and (max-width: 1024px) {\n.right-sidebar[data-v-b79cffd4] {\n    padding: 14px;\n}\n.vital-item[data-v-b79cffd4] {\n    padding: 7px;\n}\n.talent-card[data-v-b79cffd4] {\n    padding: 11px;\n}\n}\n\n/* å¤§å±å¹•ä¼˜åŒ– */\n@media (min-width: 1440px) {\n.right-sidebar[data-v-b79cffd4] {\n    padding: 20px;\n}\n.sidebar-title[data-v-b79cffd4] {\n    font-size: 1.1rem;\n}\n.section-title[data-v-b79cffd4] {\n    font-size: 0.9rem;\n}\n.vital-name[data-v-b79cffd4] {\n    font-size: 0.8rem;\n}\n.talent-name[data-v-b79cffd4] {\n    font-size: 0.9rem;\n}\n.effect-name[data-v-b79cffd4] {\n    font-size: 0.85rem;\n}\n.status-tags-container[data-v-b79cffd4] {\n    gap: 10px;\n    padding: 16px;\n}\n.status-tag[data-v-b79cffd4] {\n    font-size: 0.8rem;\n    padding: 8px 12px;\n}\n}\n\n/* æ·±è‰²ä¸»é¢˜é€‚é…ï¼šä½¿ç”¨CSSå˜é‡è‡ªåŠ¨é€‚é… */\n@media (prefers-color-scheme: dark) {\n.right-sidebar[data-v-b79cffd4] {\n    background: var(--color-surface);\n}\n.vitals-section[data-v-b79cffd4],\n  .cultivation-section[data-v-b79cffd4],\n  .collapsible-section[data-v-b79cffd4] {\n    background: var(--color-surface-light);\n}\n.status-tag.buff[data-v-b79cffd4] {\n    background: linear-gradient(135deg, rgba(var(--color-success-rgb), 0.15), rgba(var(--color-success-rgb), 0.08));\n    border-color: rgba(var(--color-success-rgb), 0.3);\n    color: var(--color-success);\n}\n.status-tag.debuff[data-v-b79cffd4] {\n    background: linear-gradient(135deg, rgba(var(--color-error-rgb), 0.15), rgba(var(--color-error-rgb), 0.08));\n    border-color: rgba(var(--color-error-rgb), 0.3);\n    color: var(--color-danger);\n}\n.status-tag.buff[data-v-b79cffd4]:hover {\n    background: linear-gradient(135deg, rgba(var(--color-success-rgb), 0.25), rgba(var(--color-success-rgb), 0.12));\n    border-color: rgba(var(--color-success-rgb), 0.5);\n    color: var(--color-success);\n    box-shadow: 0 4px 12px rgba(var(--color-success-rgb), 0.2);\n}\n.status-tag.debuff[data-v-b79cffd4]:hover {\n    background: linear-gradient(135deg, rgba(var(--color-error-rgb), 0.25), rgba(var(--color-error-rgb), 0.12));\n    border-color: rgba(var(--color-error-rgb), 0.5);\n    color: var(--color-danger);\n    box-shadow: 0 4px 12px rgba(var(--color-error-rgb), 0.2);\n}\n.tag-intensity[data-v-b79cffd4] {\n    background: rgba(var(--color-warning-rgb), 0.9);\n    color: var(--color-text);\n}\n}\n",""]);const i=l},6893:(e,n,t)=&gt;{t.d(n,{A:()=&gt;i});var a=t(1601),o=t.n(a),r=t(6314),l=t.n(r)()(o());l.push([e.id,"\n/* Step transition animation */\n.fade-step-enter-active,\n.fade-step-leave-active {\n  transition: opacity 0.3s ease;\n}\n.fade-step-enter-from,\n.fade-step-leave-to {\n  opacity: 0;\n}\n",""]);const i=l},6912:(e,n,t)=&gt;{t.d(n,{$O:()=&gt;r,kp:()=&gt;a.kp,uH:()=&gt;o});var a=t(1265);const o=`\nã€æœ€é«˜ä¼˜å…ˆçº§ã€‘æ•°æ®æ ¼å¼é“å¾‹ - è¿åæ­¤è§„åˆ™å°†å¯¼è‡´ç³»ç»Ÿé”™è¯¯ï¼Œå¿…é¡»ä¸¥æ ¼éµå®ˆ\n\n========== è§„åˆ™ä¸€ï¼šNPCå¢ƒç•Œç»“æ„ï¼ˆè¿åå¿…ç½šï¼‰ ==========\n\nã€æ ¸å¿ƒè¦æ±‚ã€‘NPCçš„å¢ƒç•Œå¯¹è±¡åªæœ‰2ä¸ªå­—æ®µï¼š\n\`\`\`json\n{"åç§°": "é‡‘ä¸¹", "é˜¶æ®µ": "ä¸­æœŸ"}\n\`\`\`\n\nã€ä¸¥ç¦æ“ä½œã€‘ä¸å¾—æ·»åŠ ä»¥ä¸‹ç©å®¶ä¸“å±å­—æ®µï¼š\n- å½“å‰è¿›åº¦\n- ä¸‹ä¸€çº§æ‰€éœ€\n- çªç ´æè¿°\n- ä»»ä½•å…¶ä»–é¢å¤–å­—æ®µ\n\nã€æ­£ç¡®ç¤ºä¾‹ã€‘NPCå¢ƒç•Œçš„æ ‡å‡†æ ¼å¼ï¼š\n\`\`\`json\n"å¢ƒç•Œ": {"åç§°": "å…ƒå©´", "é˜¶æ®µ": "åæœŸ"}\n\`\`\`\n\nã€é”™è¯¯ç¤ºä¾‹ã€‘ä»¥ä¸‹æ ¼å¼ä¼šå¯¼è‡´ç³»ç»Ÿé”™è¯¯ï¼š\n\`\`\`json\n"å¢ƒç•Œ": {"åç§°": "å…ƒå©´", "é˜¶æ®µ": "åæœŸ", "å½“å‰è¿›åº¦": 0, "ä¸‹ä¸€çº§æ‰€éœ€": 100}\n\`\`\`\n\n========== è§„åˆ™äºŒï¼šç§å¯†ä¿¡æ¯ç»“æ„ï¼ˆNSFWæ¨¡å¼ä¸“ç”¨ï¼‰ ==========\nå¿…é¡»åŒ…å«ä»¥ä¸‹å®Œæ•´å­—æ®µï¼Œç¼ºä¸€ä¸å¯ï¼š\n- æ˜¯å¦ä¸ºå¤„å¥³: boolean (å¥³æ€§NPCå¿…å¡«)\n- æ˜¯å¦ä¸ºå¤„ç”·: boolean (ç”·æ€§NPCå¯é€‰)\n- èº«ä½“éƒ¨ä½: Array (3-5ä¸ªéƒ¨ä½å¯¹è±¡ï¼Œè§ä¸‹æ–¹ç»“æ„)\n- æ€§æ ¼å€¾å‘: "çº¯æƒ…" | "ä¸»åŠ¨" | "è¢«åŠ¨" | "æ·«è¡" | "M" | "S" | "åŒæ€§"\n- æ€§å–å‘: "å¼‚æ€§æ‹" | "åŒæ€§æ‹" | "åŒæ€§æ‹" | "æ³›æ€§æ‹"\n- æ€§ç™–å¥½: Array (å¯é€‰ï¼Œå¦‚: ["æ†ç»‘", "é‡å¤–", "å¤šäºº"])\n- æ€§æ¸´æœ›ç¨‹åº¦: number (0-100)\n- å½“å‰æ€§çŠ¶æ€: string ("æ­£å¸¸" | "å¾®æ¹¿" | "å…´å¥‹" | "å‘æƒ…" | "é«˜æ½®"ç­‰)\n- ä½“æ¶²åˆ†æ³ŒçŠ¶æ€: string (å¯é€‰ï¼Œå¦‚: "å¾®å¾®æ¹¿æ¶¦")\n- æ€§äº¤æ€»æ¬¡æ•°: number\n- æ€§ä¼´ä¾£æ•°é‡: number\n- æ€§ä¼´ä¾£åå•: Array<string> (å¯é€‰)\n- æœ€è¿‘ä¸€æ¬¡æ€§è¡Œä¸ºæ—¶é—´: string (å¯é€‰ï¼Œæ¸¸æˆæ—¶é—´æ ¼å¼)\n- ç‰¹æ®Šä½“è´¨: Array (å¯é€‰ï¼Œå¦‚: ["æ˜“æ½®å¹", "å¤šé‡é«˜æ½®"])\n\n**èº«ä½“éƒ¨ä½å¯¹è±¡ç»“æ„**ï¼š\n\`\`\`json\n{\n  "éƒ¨ä½åç§°": "string (å¦‚: èƒ¸éƒ¨ã€å°ç©´ã€é˜´èŒç­‰)",\n  "å¼€å‘åº¦": 0-100,\n  "æ•æ„Ÿåº¦": 0-100,\n  "ç‰¹å¾æè¿°": "string (å¤–è§‚æè¿°)",\n  "ç‰¹æ®Šå°è®°": "string (å¯é€‰ï¼Œå¦‚: æ·«çº¹ã€å’¬ç—•)"\n}\n\`\`\`\n\nã€é€»è¾‘çº¦æŸè§„åˆ™ã€‘æ•°æ®å¿…é¡»ä¿æŒä¸€è‡´æ€§ï¼š\n- æ˜¯å¦ä¸ºå¤„å¥³=true â†’ æ€§äº¤æ€»æ¬¡æ•°=0, æ€§ä¼´ä¾£æ•°é‡=0, æ€§ä¼´ä¾£åå•=[]\n- æ€§ä¼´ä¾£æ•°é‡ å¿…é¡»ç­‰äº æ€§ä¼´ä¾£åå•.length\n- ä¸¥ç¦ä½¿ç”¨"ä¿å¯†"ã€"æœªçŸ¥"ä½œä¸ºæ€§ä¼´ä¾£åå•å ä½ç¬¦\n- èº«ä½“éƒ¨ä½æ•°ç»„è‡³å°‘åŒ…å«3ä¸ªæ ¸å¿ƒéƒ¨ä½\n\n========================================\n\nã€æ•°æ®ç»“æ„æ ‘ã€‘å®Œæ•´SaveDataç»“æ„å®šä¹‰\n\n\`\`\`\nSaveData (æ ¹å¯¹è±¡)\nâ”œâ”€â”€ è§’è‰²åŸºç¡€ä¿¡æ¯ (å¯ä¿®æ”¹éƒ¨åˆ†å­—æ®µ)\nâ”‚   â”œâ”€â”€ åå­—: string (åªè¯»)\nâ”‚   â”œâ”€â”€ æ€§åˆ«: "ç”·"|"å¥³"|"å…¶ä»–" (åªè¯»)\nâ”‚   â”œâ”€â”€ å¹´é¾„: number (è‡ªåŠ¨è®¡ç®—ï¼Œç¦æ”¹)\nâ”‚   â”œâ”€â”€ å‡ºç”Ÿæ—¥æœŸ: {å¹´, æœˆ, æ—¥, å°æ—¶?, åˆ†é’Ÿ?} (åªè¯»)\nâ”‚   â”œâ”€â”€ ä¸–ç•Œ: string (åªè¯»)\nâ”‚   â”œâ”€â”€ ç§æ—: string (é»˜è®¤"äººæ—")\nâ”‚   â”œâ”€â”€ å¤©èµ„: string (åªè¯»)\nâ”‚   â”œâ”€â”€ å‡ºç”Ÿ: string|{åç§°, æè¿°} (åªè¯»)\nâ”‚   â”œâ”€â”€ çµæ ¹: string|{åç§°, å“çº§, æè¿°, å±æ€§[], ä¿®ç‚¼åŠ æˆ} (åªè¯»)\nâ”‚   â”œâ”€â”€ å¤©èµ‹: [{åç§°, æè¿°}] (åªè¯»)\nâ”‚   â”œâ”€â”€ å…ˆå¤©å…­å¸: {æ ¹éª¨, çµæ€§, æ‚Ÿæ€§, æ°”è¿, é­…åŠ›, å¿ƒæ€§} (åªè¯»ï¼Œ1-10)\nâ”‚   â””â”€â”€ åå¤©å…­å¸: {æ ¹éª¨, çµæ€§, æ‚Ÿæ€§, æ°”è¿, é­…åŠ›, å¿ƒæ€§} (å¯ä¿®æ”¹ï¼Œç”¨add)\nâ”‚\nâ”œâ”€â”€ ç©å®¶è§’è‰²çŠ¶æ€ (å¯ä¿®æ”¹)\nâ”‚   â”œâ”€â”€ å¢ƒç•Œ: {åç§°, é˜¶æ®µ, å½“å‰è¿›åº¦, ä¸‹ä¸€çº§æ‰€éœ€, çªç ´æè¿°} (ç”¨setæ›´æ–°æ•´ä¸ªå¯¹è±¡ï¼Œçªç ´æ—¶å¿…é¡»æ›´æ–°çªç ´æè¿°)\nâ”‚   â”œâ”€â”€ å£°æœ›: number (ç”¨add)\nâ”‚   â”œâ”€â”€ æ°”è¡€: {å½“å‰, ä¸Šé™} (å½“å‰ç”¨addï¼Œä¸Šé™çªç ´æ—¶ç”¨add)\nâ”‚   â”œâ”€â”€ çµæ°”: {å½“å‰, ä¸Šé™} (å½“å‰ç”¨addï¼Œä¸Šé™çªç ´æ—¶ç”¨add)\nâ”‚   â”œâ”€â”€ ç¥è¯†: {å½“å‰, ä¸Šé™} (å½“å‰ç”¨addï¼Œä¸Šé™çªç ´æ—¶ç”¨add)\nâ”‚   â”œâ”€â”€ å¯¿å‘½: {å½“å‰, ä¸Šé™} (å½“å‰è‡ªåŠ¨å¢åŠ ï¼Œä¸Šé™çªç ´æ—¶ç”¨add)\nâ”‚   â”œâ”€â”€ ä½ç½®: {æè¿°:"å¤§é™†Â·åœ°ç‚¹", longitude, latitude} (ä¸‰ä¸ªå­—æ®µåŒæ—¶set)\nâ”‚   â”œâ”€â”€ çŠ¶æ€æ•ˆæœ: [{çŠ¶æ€åç§°, ç±»å‹, å‰©ä½™æ—¶é—´, æ•ˆæœ}] (ç”¨pushæ·»åŠ )\nâ”‚   â””â”€â”€ å¤§é“æ„Ÿæ‚Ÿ: {é“å: {æ„Ÿæ‚Ÿå†…å®¹, æ—¶é—´}} (ç”¨set)\nâ”‚\nâ”œâ”€â”€ è£…å¤‡æ  (åªè¯»ï¼Œç¦æ­¢ä¿®æ”¹)\nâ”‚   â”œâ”€â”€ è£…å¤‡1: string|null (è£…å¤‡IDæˆ–null)\nâ”‚   â”œâ”€â”€ è£…å¤‡2: string|null\nâ”‚   â”œâ”€â”€ è£…å¤‡3: string|null\nâ”‚   â”œâ”€â”€ è£…å¤‡4: string|null\nâ”‚   â”œâ”€â”€ è£…å¤‡5: string|null\nâ”‚   â””â”€â”€ è£…å¤‡6: string|null\nâ”‚\nâ”œâ”€â”€ ä¸‰åƒå¤§é“ (å¯ä¿®æ”¹)\nâ”‚   â”œâ”€â”€ å·²è§£é”å¤§é“: [é“å] (ç”¨pushæ·»åŠ )\nâ”‚   â””â”€â”€ å¤§é“è¿›åº¦: {é“å: {å½“å‰é˜¶æ®µ, å½“å‰ç»éªŒ, æ€»ç»éªŒ}} (ç”¨setæˆ–addç»éªŒ)\nâ”‚\nâ”œâ”€â”€ èƒŒåŒ… (å¯ä¿®æ”¹)\nâ”‚   â”œâ”€â”€ çµçŸ³: {ä¸‹å“, ä¸­å“, ä¸Šå“, æå“} (ç”¨addå¢å‡)\nâ”‚   â””â”€â”€ ç‰©å“: {ç‰©å“ID: Itemå¯¹è±¡} (ç”¨setæ·»åŠ ç‰©å“ï¼Œç”¨addä¿®æ”¹æ•°é‡ï¼Œç”¨deleteåˆ é™¤)\nâ”‚       â”œâ”€â”€ è£…å¤‡ç‰©å“: {ç‰©å“ID, åç§°, ç±»å‹:"è£…å¤‡", å“è´¨, æ•°é‡, æè¿°, è£…å¤‡å¢å¹…, å·²è£…å¤‡}\nâ”‚       â”œâ”€â”€ åŠŸæ³•ç‰©å“: {ç‰©å“ID, åç§°, ç±»å‹:"åŠŸæ³•", å“è´¨, æ•°é‡, æè¿°, åŠŸæ³•æ•ˆæœ, åŠŸæ³•æŠ€èƒ½[], ä¿®ç‚¼è¿›åº¦, å·²è£…å¤‡}\nâ”‚       â”œâ”€â”€ ä¸¹è¯ç‰©å“: {ç‰©å“ID, åç§°, ç±»å‹:"ä¸¹è¯", å“è´¨, æ•°é‡, æè¿°, ä½¿ç”¨æ•ˆæœ}\nâ”‚       â””â”€â”€ å…¶ä»–ç‰©å“: {ç‰©å“ID, åç§°, ç±»å‹:"ææ–™"|"å…¶ä»–", å“è´¨, æ•°é‡, æè¿°}\nâ”‚\nâ”œâ”€â”€ ä¿®ç‚¼åŠŸæ³• (åªè¯»å¼•ç”¨ï¼Œç¦æ­¢ç›´æ¥ä¿®æ”¹)\nâ”‚   â”œâ”€â”€ ç‰©å“ID: string\nâ”‚   â””â”€â”€ åç§°: string\nâ”‚\nâ”œâ”€â”€ æŒæ¡æŠ€èƒ½ (è‡ªåŠ¨è®¡ç®—ï¼Œç¦æ­¢ä¿®æ”¹)\nâ”‚   â””â”€â”€ [{æŠ€èƒ½åç§°, æŠ€èƒ½æè¿°, æ¥æº, æ¶ˆè€—, ç†Ÿç»ƒåº¦, ä½¿ç”¨æ¬¡æ•°}]\nâ”‚\nâ”œâ”€â”€ äººç‰©å…³ç³» (å¯ä¿®æ”¹)\nâ”‚   â””â”€â”€ {NPCåå­—: NPCæ¡£æ¡ˆå¯¹è±¡}\nâ”‚       â”œâ”€â”€ åå­—: string\nâ”‚       â”œâ”€â”€ æ€§åˆ«: "ç”·"|"å¥³"|"å…¶ä»–"\nâ”‚       â”œâ”€â”€ å¹´é¾„: number (è‡ªåŠ¨è®¡ç®—)\nâ”‚       â”œâ”€â”€ å‡ºç”Ÿæ—¥æœŸ: {å¹´, æœˆ, æ—¥}\nâ”‚       â”œâ”€â”€ ç§æ—: string\nâ”‚       â”œâ”€â”€ å‡ºç”Ÿ: string\nâ”‚       â”œâ”€â”€ å¤–è²Œæè¿°: string\nâ”‚       â”œâ”€â”€ æ€§æ ¼ç‰¹å¾: [string]\nâ”‚       â”œâ”€â”€ å¢ƒç•Œ: {åç§°, é˜¶æ®µ} (ã€æ³¨æ„ã€‘NPCå¢ƒç•Œæ˜¯ç®€åŒ–ç»“æ„ï¼Œä¸¥ç¦æ·»åŠ "å½“å‰è¿›åº¦"ç­‰ç©å®¶ä¸“å±å­—æ®µ)\nâ”‚       â”œâ”€â”€ çµæ ¹: {åç§°, å“çº§}\nâ”‚       â”œâ”€â”€ å¤©èµ‹: [{åç§°, æè¿°}]\nâ”‚       â”œâ”€â”€ å…ˆå¤©å…­å¸: {æ ¹éª¨, çµæ€§, æ‚Ÿæ€§, æ°”è¿, é­…åŠ›, å¿ƒæ€§}\nâ”‚       â”œâ”€â”€ ä¸ç©å®¶å…³ç³»: string\nâ”‚       â”œâ”€â”€ å¥½æ„Ÿåº¦: number (-100~100ï¼Œç”¨add)\nâ”‚       â”œâ”€â”€ äººæ ¼åº•çº¿: [string]\nâ”‚       â”œâ”€â”€ è®°å¿†: [{æ—¶é—´, äº‹ä»¶}] (ç”¨pushæ·»åŠ )\nâ”‚       â”œâ”€â”€ è®°å¿†æ€»ç»“: [string]\nâ”‚       â”œâ”€â”€ å½“å‰ä½ç½®: {æè¿°, longitude, latitude}\nâ”‚       â”œâ”€â”€ åŠ¿åŠ›å½’å±: string\nâ”‚       â”œâ”€â”€ å½“å‰å¤–è²ŒçŠ¶æ€: string (ç”¨setå®æ—¶æ›´æ–°)\nâ”‚       â”œâ”€â”€ å½“å‰å†…å¿ƒæƒ³æ³•: string (ç”¨setå®æ—¶æ›´æ–°)\nâ”‚       â”œâ”€â”€ èƒŒåŒ…: {çµçŸ³, ç‰©å“}\nâ”‚       â”œâ”€â”€ ç§å¯†ä¿¡æ¯: {14ä¸ªå¿…å¡«å­—æ®µ} (ã€æ¡ä»¶ç”Ÿæˆã€‘ä»…å½“ç³»ç»Ÿ.nsfwMode=trueä¸”æ€§åˆ«ç¬¦åˆnsfwGenderFilteræ—¶ç”Ÿæˆ)\nâ”‚       â”‚   ã€å¿…å¡«å­—æ®µã€‘æ˜¯å¦ä¸ºå¤„å¥³/å¤„ç”·, èº«ä½“éƒ¨ä½[], æ€§æ ¼å€¾å‘, æ€§å–å‘, æ€§ç™–å¥½[], æ€§æ¸´æœ›ç¨‹åº¦,\nâ”‚       â”‚              å½“å‰æ€§çŠ¶æ€, ä½“æ¶²åˆ†æ³ŒçŠ¶æ€, æ€§äº¤æ€»æ¬¡æ•°, æ€§ä¼´ä¾£æ•°é‡, æ€§ä¼´ä¾£åå•[],\nâ”‚       â”‚              æœ€è¿‘ä¸€æ¬¡æ€§è¡Œä¸ºæ—¶é—´, ç‰¹æ®Šä½“è´¨[]\nâ”‚       â”‚   ã€ç”Ÿæˆè§„åˆ™ã€‘åˆ›å»ºNPCæ—¶è‹¥æ»¡è¶³æ¡ä»¶å¿…é¡»ç«‹å³ç”Ÿæˆï¼Œä¸å¾—çœç•¥æˆ–ä½¿ç”¨å ä½ç¬¦\nâ”‚       â””â”€â”€ å®æ—¶å…³æ³¨: boolean\nâ”‚\nâ”œâ”€â”€ è®°å¿† (å¯ä¿®æ”¹)\nâ”‚   â”œâ”€â”€ çŸ­æœŸè®°å¿†: [string] (AIè‡ªåŠ¨ç”Ÿæˆï¼Œç”¨äºä¸‹æ¬¡ç”Ÿæˆ)\nâ”‚   â”œâ”€â”€ ä¸­æœŸè®°å¿†: [string]\nâ”‚   â””â”€â”€ é•¿æœŸè®°å¿†: [string]\nâ”‚\nâ”œâ”€â”€ ä¸–ç•Œä¿¡æ¯ (å¯ä¿®æ”¹)\nâ”‚   â”œâ”€â”€ åœ°å›¾: {continents[], factions[], features[]}\nâ”‚   â”œâ”€â”€ å¤§é™†ä¿¡æ¯: [{åç§°, æè¿°, åœ°ç†ç‰¹å¾, ...}]\nâ”‚   â”œâ”€â”€ åŠ¿åŠ›ä¿¡æ¯: [{id, åç§°, ç±»å‹, ç­‰çº§, ä½ç½®, ...}]\nâ”‚   â””â”€â”€ åœ°ç‚¹ä¿¡æ¯: [{åç§°, ç±»å‹, ä½ç½®, coordinates, ...}]\nâ”‚\nâ”œâ”€â”€ æ¸¸æˆæ—¶é—´ (å¯ä¿®æ”¹)\nâ”‚   â”œâ”€â”€ å¹´: number\nâ”‚   â”œâ”€â”€ æœˆ: number (1-12)\nâ”‚   â”œâ”€â”€ æ—¥: number (1-30)\nâ”‚   â”œâ”€â”€ å°æ—¶: number (0-23)\nâ”‚   â””â”€â”€ åˆ†é’Ÿ: number (0-59) (ç”¨addæ¨è¿›ï¼Œè‡ªåŠ¨è¿›ä½)\nâ”‚\nâ”œâ”€â”€ å®—é—¨ (å¯ä¿®æ”¹)\nâ”‚   â”œâ”€â”€ sectName: string\nâ”‚   â”œâ”€â”€ sectType: string\nâ”‚   â”œâ”€â”€ position: string\nâ”‚   â”œâ”€â”€ contribution: number (ç”¨add)\nâ”‚   â”œâ”€â”€ relationship: string\nâ”‚   â”œâ”€â”€ reputation: number (ç”¨add)\nâ”‚   â””â”€â”€ ...\nâ”‚\nâ”œâ”€â”€ ç©¿è¶Šè€…ç³»ç»Ÿ (å¯ä¿®æ”¹)\nâ”‚   â”œâ”€â”€ ç³»ç»Ÿç±»å‹: string\nâ”‚   â”œâ”€â”€ ä»»åŠ¡é¢å‘æç¤ºè¯: string\nâ”‚   â”œâ”€â”€ è‡ªåŠ¨åˆ·æ–°: boolean\nâ”‚   â”œâ”€â”€ é»˜è®¤ä»»åŠ¡æ•°é‡: number\nâ”‚   â”œâ”€â”€ æœªå®Œæˆä»»åŠ¡: [{ä»»åŠ¡ID, ä»»åŠ¡ç±»å‹, ä»»åŠ¡æè¿°, ...}] (ç”¨pushæ·»åŠ ï¼Œç”¨deleteåˆ é™¤)\nâ”‚   â””â”€â”€ å·²å®Œæˆä»»åŠ¡åå•: [string]\nâ”‚\nâ”œâ”€â”€ ç³»ç»Ÿä»»åŠ¡ (å¯ä¿®æ”¹)\nâ”‚   â”œâ”€â”€ é…ç½®: {å¯ç”¨, ä»»åŠ¡ç±»å‹, é¢å‘æ•°é‡}\nâ”‚   â”œâ”€â”€ è¿›è¡Œä¸­ä»»åŠ¡: [ä»»åŠ¡å¯¹è±¡]\nâ”‚   â””â”€â”€ å·²å®Œæˆä»»åŠ¡åç§°: [string]\nâ”‚\nâ””â”€â”€ ç³»ç»Ÿ (åªè¯»ï¼Œç¦æ­¢ä¿®æ”¹)\n    â”œâ”€â”€ nsfwMode: boolean\n    â””â”€â”€ nsfwGenderFilter: "all"|"female"|"male"\n\`\`\`\n\n${a.hp}\n\n# ğŸ“‹ å­—æ®µæ“ä½œè§„åˆ™é€ŸæŸ¥è¡¨\n\n| å­—æ®µè·¯å¾„ | æ“ä½œç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |\n|---------|---------|------|------|\n| **æ¸¸æˆæ—¶é—´.åˆ†é’Ÿ** | add | æ¨è¿›æ—¶é—´ï¼Œè‡ªåŠ¨è¿›ä½ | \`{"action":"add","key":"æ¸¸æˆæ—¶é—´.åˆ†é’Ÿ","value":30}\` |\n| **ç©å®¶è§’è‰²çŠ¶æ€.å¢ƒç•Œ** | set | æ›´æ–°æ•´ä¸ªå¢ƒç•Œå¯¹è±¡ | \`{"action":"set","key":"ç©å®¶è§’è‰²çŠ¶æ€.å¢ƒç•Œ","value":{...}}\` |\n| **ç©å®¶è§’è‰²çŠ¶æ€.æ°”è¡€.å½“å‰** | add | å¢å‡æ°”è¡€ï¼ˆè´Ÿæ•°=æ‰£è¡€ï¼‰ | \`{"action":"add","key":"ç©å®¶è§’è‰²çŠ¶æ€.æ°”è¡€.å½“å‰","value":-50}\` |\n| **ç©å®¶è§’è‰²çŠ¶æ€.æ°”è¡€.ä¸Šé™** | add | çªç ´æ—¶å¢åŠ ä¸Šé™ | \`{"action":"add","key":"ç©å®¶è§’è‰²çŠ¶æ€.æ°”è¡€.ä¸Šé™","value":100}\` |\n| **ç©å®¶è§’è‰²çŠ¶æ€.å¯¿å‘½.ä¸Šé™** | add | **å¿…é¡»ç”¨add**ï¼Œç¦æ­¢set | \`{"action":"add","key":"ç©å®¶è§’è‰²çŠ¶æ€.å¯¿å‘½.ä¸Šé™","value":130}\` |\n| **ç©å®¶è§’è‰²çŠ¶æ€.ä½ç½®.æè¿°** | set | åŒæ—¶æ›´æ–°æè¿°+åæ ‡ | \`{"action":"set","key":"ç©å®¶è§’è‰²çŠ¶æ€.ä½ç½®.æè¿°","value":"å¤§é™†Â·åœ°ç‚¹"}\` |\n| **ç©å®¶è§’è‰²çŠ¶æ€.çŠ¶æ€æ•ˆæœ** | push | æ·»åŠ buff/debuff | \`{"action":"push","key":"ç©å®¶è§’è‰²çŠ¶æ€.çŠ¶æ€æ•ˆæœ","value":{...}}\` |\n| **èƒŒåŒ….çµçŸ³.ä¸‹å“** | add | å¢å‡çµçŸ³ï¼ˆè´Ÿæ•°=æ¶ˆè€—ï¼‰ | \`{"action":"add","key":"èƒŒåŒ….çµçŸ³.ä¸‹å“","value":-100}\` |\n| **èƒŒåŒ….ç‰©å“.sword_001** | set | æ·»åŠ æ–°ç‰©å“ï¼ˆå®Œæ•´å¯¹è±¡ï¼‰ | \`{"action":"set","key":"èƒŒåŒ….ç‰©å“.sword_001","value":{...}}\` |\n| **èƒŒåŒ….ç‰©å“.pill_001.æ•°é‡** | add | ä¿®æ”¹ç‰©å“æ•°é‡ | \`{"action":"add","key":"èƒŒåŒ….ç‰©å“.pill_001.æ•°é‡","value":-1}\` |\n| **èƒŒåŒ….ç‰©å“.pill_001** | delete | åˆ é™¤ç‰©å“ | \`{"action":"delete","key":"èƒŒåŒ….ç‰©å“.pill_001"}\` |\n| **èƒŒåŒ….ç‰©å“.gongfa_001.ä¿®ç‚¼è¿›åº¦** | add | **å”¯ä¸€ä¿®æ”¹åŠŸæ³•è¿›åº¦çš„æ–¹å¼** | \`{"action":"add","key":"èƒŒåŒ….ç‰©å“.gongfa_001.ä¿®ç‚¼è¿›åº¦","value":5}\` |\n| **äººç‰©å…³ç³».å¼ ä¸‰** | set | åˆ›å»ºæ–°NPCï¼ˆå®Œæ•´å¯¹è±¡ï¼Œå«ç§å¯†ä¿¡æ¯ï¼‰ | \`{"action":"set","key":"äººç‰©å…³ç³».å¼ ä¸‰","value":{...}}\` ã€æ³¨æ„ã€‘è‹¥nsfwMode=trueéœ€åŒ…å«ç§å¯†ä¿¡æ¯ |\n| **äººç‰©å…³ç³».å¼ ä¸‰.å¥½æ„Ÿåº¦** | add | å¢å‡å¥½æ„Ÿåº¦ï¼ˆ-100~100ï¼‰ | \`{"action":"add","key":"äººç‰©å…³ç³».å¼ ä¸‰.å¥½æ„Ÿåº¦","value":10}\` |\n| **äººç‰©å…³ç³».å¼ ä¸‰.å½“å‰å¤–è²ŒçŠ¶æ€** | set | å®æ—¶æ›´æ–°NPCçŠ¶æ€ | \`{"action":"set","key":"äººç‰©å…³ç³».å¼ ä¸‰.å½“å‰å¤–è²ŒçŠ¶æ€","value":"..."}\` |\n| **äººç‰©å…³ç³».å¼ ä¸‰.è®°å¿†** | push | æ·»åŠ NPCè®°å¿† | \`{"action":"push","key":"äººç‰©å…³ç³».å¼ ä¸‰.è®°å¿†","value":{æ—¶é—´,äº‹ä»¶}}\` |\n| **äººç‰©å…³ç³».å¼ ä¸‰.ç§å¯†ä¿¡æ¯.æ€§æ¸´æœ›ç¨‹åº¦** | set | æ›´æ–°NSFWçŠ¶æ€ï¼ˆä»…nsfwMode=trueæ—¶ï¼‰ | \`{"action":"set","key":"äººç‰©å…³ç³».å¼ ä¸‰.ç§å¯†ä¿¡æ¯.æ€§æ¸´æœ›ç¨‹åº¦","value":50}\` |\n| **è§’è‰²åŸºç¡€ä¿¡æ¯.åå¤©å…­å¸.æ ¹éª¨** | add | å¢åŠ åå¤©å±æ€§ | \`{"action":"add","key":"è§’è‰²åŸºç¡€ä¿¡æ¯.åå¤©å…­å¸.æ ¹éª¨","value":1}\` |\n| **ä¸‰åƒå¤§é“.å·²è§£é”å¤§é“** | push | è§£é”æ–°å¤§é“ | \`{"action":"push","key":"ä¸‰åƒå¤§é“.å·²è§£é”å¤§é“","value":"å‰‘é“"}\` |\n| **ä¸‰åƒå¤§é“.å¤§é“è¿›åº¦.å‰‘é“.å½“å‰ç»éªŒ** | add | å¢åŠ å¤§é“ç»éªŒ | \`{"action":"add","key":"ä¸‰åƒå¤§é“.å¤§é“è¿›åº¦.å‰‘é“.å½“å‰ç»éªŒ","value":100}\` |\n| **è£…å¤‡æ .*** | âŒç¦æ­¢ | ç”±ç©å®¶UIæ“ä½œï¼ŒAIä¸èƒ½ä¿®æ”¹ | - |\n| **ä¿®ç‚¼åŠŸæ³•.*** | âŒç¦æ­¢ | åªè¯»å¼•ç”¨ï¼Œç”±è£…å¤‡åŠŸæ³•è‡ªåŠ¨ç®¡ç† | - |\n| **æŒæ¡æŠ€èƒ½** | âŒç¦æ­¢ | è‡ªåŠ¨è®¡ç®—ï¼ŒAIä¸èƒ½ä¿®æ”¹ | - |\n| **ç³»ç»Ÿ.*** | âŒç¦æ­¢ | å‰ç«¯è®¾ç½®ï¼ŒAIåªèƒ½è¯»å– | - |\n\n# ğŸ”´ å…³é”®è§„åˆ™ï¼ˆå¿…é¡»éµå®ˆï¼‰\n\n## 1. åªè¯»å­—æ®µï¼ˆç¦æ­¢ä¿®æ”¹ï¼‰\n- **è£…å¤‡æ .***: ç”±ç©å®¶UIæ“ä½œ\n- **ä¿®ç‚¼åŠŸæ³•.***: ç”±è£…å¤‡åŠŸæ³•è‡ªåŠ¨ç®¡ç†\n- **æŒæ¡æŠ€èƒ½**: æ ¹æ®åŠŸæ³•è¿›åº¦è‡ªåŠ¨è®¡ç®—\n- **ç³»ç»Ÿ.***: å‰ç«¯ç”¨æˆ·è®¾ç½®\n- **è§’è‰²åŸºç¡€ä¿¡æ¯** çš„å¤§éƒ¨åˆ†å­—æ®µï¼ˆé™¤äº†åå¤©å…­å¸ï¼‰\n- **å¹´é¾„**: è‡ªåŠ¨è®¡ç®—ï¼ˆå½“å‰å¹´ - å‡ºç”Ÿå¹´ï¼‰\n\n## 2. å¿…é¡»ç”¨addçš„å­—æ®µï¼ˆç¦æ­¢setï¼‰\n- **ç©å®¶è§’è‰²çŠ¶æ€.å¯¿å‘½.ä¸Šé™**: çªç ´æ—¶å¿…é¡»ç”¨addå¢åŠ \n- **ç©å®¶è§’è‰²çŠ¶æ€.æ°”è¡€/çµæ°”/ç¥è¯†.ä¸Šé™**: çªç ´æ—¶ç”¨addå¢åŠ \n- **èƒŒåŒ….çµçŸ³.***: å¢å‡ç”¨add\n- **å¥½æ„Ÿåº¦**: å¢å‡ç”¨addï¼ŒèŒƒå›´-100~100\n- **æ•°é‡**: ç‰©å“æ•°é‡å¢å‡ç”¨add\n\n## 3. å¿…é¡»åŒæ—¶æ›´æ–°çš„å­—æ®µ\n- **ä½ç½®**: å¿…é¡»åŒæ—¶æ›´æ–° æè¿° + longitude + latitude ä¸‰ä¸ªå­—æ®µ\n- **å¢ƒç•Œçªç ´**: å¿…é¡»æ›´æ–° å¢ƒç•Œå¯¹è±¡ï¼ˆåç§°+é˜¶æ®µ+è¿›åº¦+æ‰€éœ€+**çªç ´æè¿°**ï¼‰+ å¯¿å‘½ä¸Šé™ + å±æ€§ä¸Šé™\n  - **çªç ´æè¿°** å¿…é¡»æ ¹æ®å½“å‰å‰§æƒ…åŠ¨æ€ç”Ÿæˆï¼Œä¾‹å¦‚ï¼š"å€ŸåŠ©ç­‘åŸºä¸¹å†²ç ´ç“¶é¢ˆ"ã€"æ„Ÿæ‚Ÿå‰‘é“çœŸæ„ç ´å¢ƒ"\n\n## 4. æ•°å€¼èŒƒå›´é™åˆ¶\n- **å¥½æ„Ÿåº¦**: -100 ~ 100\n- **äº²å¯†æ¸´æœ›**: 0 ~ 100\n- **æ„ŸçŸ¥åº¦/å”¤é†’åº¦**: 0 ~ 100\n- **ä¿®ç‚¼è¿›åº¦**: 0 ~ 100\n- **å…ˆå¤©å…­å¸**: 1 ~ 10\n- addæ“ä½œå‰å¿…é¡»è®¡ç®—ï¼Œç¡®ä¿ä¸è¶…èŒƒå›´\n\n## 5. ç‰¹æ®Šæ ¼å¼è¦æ±‚\n- **ç‰©å“ID**: å¿…é¡»å”¯ä¸€ï¼Œæ ¼å¼ï¼šç±»å‹_éšæœºæ•°å­—ï¼ˆå¦‚ sword_12345, pill_001, gongfa_001ï¼‰\n- **ä½ç½®æè¿°**: æ ¼å¼ï¼š"å¤§é™†åÂ·åœ°ç‚¹å"ï¼ˆå¦‚"é’äº‘å¤§é™†Â·é’äº‘å®—"ï¼‰\n- **æ—¶é—´å­—æ®µ**: "å°æ—¶""åˆ†é’Ÿ"ï¼ˆä¸èƒ½ç®€å†™"æ—¶""åˆ†"ï¼‰\n- **å“è´¨**: {"quality":"å‡¡|é»„|ç„|åœ°|å¤©|ä»™|ç¥","grade":0-10}\n- **åŠŸæ³•æŠ€èƒ½**: å¿…é¡»æ˜¯æ•°ç»„[]ï¼Œä¸èƒ½æ˜¯å¯¹è±¡{}\n\n## 6. JSONæ´ç™– (JSON Purism)\n- **ä¸¥æ ¼éµå®ˆç»“æ„**ï¼šä½ çš„è¾“å‡ºå¿…é¡»ä¸¥æ ¼åŒ¹é…ä¸Šæ–¹å®šä¹‰çš„ç»“æ„æ ‘ã€‚\n- **ç¦æ­¢æ·»åŠ é¢å¤–å­—æ®µ**ï¼šä¸¥ç¦åœ¨ä»»ä½•å¯¹è±¡ä¸­æ·»åŠ ç»“æ„æ ‘æœªå®šä¹‰çš„å­—æ®µã€‚ä¾‹å¦‚ï¼ŒNPCçš„\`å¢ƒç•Œ\`å¯¹è±¡åªæœ‰\`åç§°\`å’Œ\`é˜¶æ®µ\`ï¼Œä¸å¯æ·»åŠ \`å½“å‰è¿›åº¦\`ã€‚\n- **ç»“æ„é”™è¯¯ &gt; å†…å®¹ä¸ä½³**ï¼šä¸€ä¸ªç»“æ„å®Œå…¨æ­£ç¡®ä½†å†…å®¹å¹³åº¸çš„JSONï¼Œè¿œå¥½äºä¸€ä¸ªå†…å®¹ä¸°å¯Œä½†ç»“æ„é”™è¯¯çš„JSONã€‚å‰ç«¯è§£æå¤±è´¥ä¼šå¯¼è‡´æ•´ä¸ªå¯¹è±¡æ— æ³•æ˜¾ç¤ºã€‚\n\n${a.bk}\n\n# ğŸ“¦ å®Œæ•´æ•°æ®ç»“æ„ç¤ºä¾‹\n\n## ç‰©å“ç»“æ„\n\n### è£…å¤‡ç‰©å“\n\`\`\`json\n{\n  "ç‰©å“ID": "sword_12345",\n  "åç§°": "ç„é“å‰‘",\n  "ç±»å‹": "è£…å¤‡",\n  "å“è´¨": {"quality": "é»„", "grade": 5},\n  "æ•°é‡": 1,\n  "æè¿°": "ä¸€æŠŠé”‹åˆ©çš„é•¿å‰‘ï¼Œå‰‘èº«åˆ»æœ‰ç„çº¹",\n  "è£…å¤‡å¢å¹…": {\n    "åå¤©å…­å¸": {\n      "æ ¹éª¨": 2,\n      "æ°”è¿": 1\n    },\n    "æ°”è¡€ä¸Šé™": 50,\n    "çµæ°”ä¸Šé™": 30\n  },\n  "å·²è£…å¤‡": false\n}\n\`\`\`\n\n### åŠŸæ³•ç‰©å“\n\`\`\`json\n{\n  "ç‰©å“ID": "gongfa_001",\n  "åç§°": "é’æœ¨é•¿ç”Ÿè¯€",\n  "ç±»å‹": "åŠŸæ³•",\n  "å“è´¨": {"quality": "ç„", "grade": 7},\n  "æ•°é‡": 1,\n  "æè¿°": "æœ¨å±æ€§é«˜çº§åŠŸæ³•ï¼Œä¿®ç‚¼å¯å»¶å¹´ç›Šå¯¿",\n  "åŠŸæ³•æ•ˆæœ": {\n    "ä¿®ç‚¼é€Ÿåº¦åŠ æˆ": 1.5,\n    "å±æ€§åŠ æˆ": {\n      "æ ¹éª¨": 2,\n      "çµæ°”ä¸Šé™": 100\n    },\n    "ç‰¹æ®Šèƒ½åŠ›": ["æœ¨éæœ¯", "ç”Ÿå‘½æ¢å¤åŠ é€Ÿ"]\n  },\n  "åŠŸæ³•æŠ€èƒ½": [\n    {\n      "æŠ€èƒ½åç§°": "é’æœ¨ç›¾",\n      "æŠ€èƒ½æè¿°": "å‡èšæœ¨ä¹‹çµæ°”å½¢æˆé˜²æŠ¤ç›¾",\n      "æ¶ˆè€—": "çµæ°”30ç‚¹",\n      "è§£é”éœ€è¦ç†Ÿç»ƒåº¦": 0\n    },\n    {\n      "æŠ€èƒ½åç§°": "æœ¨é¾™ç¼ ç»•",\n      "æŠ€èƒ½æè¿°": "å¬å”¤æœ¨é¾™æŸç¼šæ•Œäºº",\n      "æ¶ˆè€—": "çµæ°”80ç‚¹",\n      "è§£é”éœ€è¦ç†Ÿç»ƒåº¦": 50\n    }\n  ],\n  "ä¿®ç‚¼è¿›åº¦": 35,\n  "å·²è£…å¤‡": true\n}\n\`\`\`\nâš ï¸ ç¬¬ä¸€ä¸ªæŠ€èƒ½çš„"è§£é”éœ€è¦ç†Ÿç»ƒåº¦"å¿…é¡»ä¸º0ï¼ˆå¼€å±€å¯ç”¨ï¼‰\n\n### ä¸¹è¯ç‰©å“\n\`\`\`json\n{\n  "ç‰©å“ID": "pill_001",\n  "åç§°": "å›çµä¸¹",\n  "ç±»å‹": "ä¸¹è¯",\n  "å“è´¨": {"quality": "é»„", "grade": 6},\n  "æ•°é‡": 5,\n  "æè¿°": "å¿«é€Ÿæ¢å¤çµæ°”çš„ä¸¹è¯",\n  "ä½¿ç”¨æ•ˆæœ": {\n    "æ¢å¤çµæ°”": 100,\n    "æŒç»­æ—¶é—´": 0\n  }\n}\n\`\`\`\n\n========== NPCæ¡£æ¡ˆç»“æ„ç¤ºä¾‹ ==========\n\nã€æ ¼å¼æ£€æŸ¥è¦ç‚¹ã€‘åˆ›å»ºNPCæ—¶å¿…é¡»éµå®ˆï¼š\n\n1. ã€å¢ƒç•Œå­—æ®µã€‘åªæœ‰2ä¸ªå­—æ®µï¼šåç§° å’Œ é˜¶æ®µ\n   - ä¸¥ç¦æ·»åŠ ï¼šå½“å‰è¿›åº¦ã€ä¸‹ä¸€çº§æ‰€éœ€ã€çªç ´æè¿°\n\n2. ã€ç§å¯†ä¿¡æ¯å­—æ®µã€‘æ ¹æ®ç³»ç»Ÿè®¾ç½®å†³å®šæ˜¯å¦ç”Ÿæˆ\n   - æ£€æŸ¥æ¡ä»¶ï¼šç³»ç»Ÿ.nsfwMode === true\n   - æ€§åˆ«è¿‡æ»¤ï¼šç³»ç»Ÿ.nsfwGenderFilter (all/female/male)\n   - å¿…å¡«å­—æ®µï¼š14ä¸ªå­—æ®µç¼ºä¸€ä¸å¯ï¼ˆè¯¦è§ä¸Šæ–¹NSFWè§„åˆ™ï¼‰\n   - ã€é‡è¦ã€‘åˆ›å»ºNPCæ—¶ï¼Œå¦‚æœnsfwMode=trueä¸”æ€§åˆ«ç¬¦åˆè¿‡æ»¤æ¡ä»¶ï¼Œå¿…é¡»ç«‹å³ç”Ÿæˆå®Œæ•´çš„ç§å¯†ä¿¡æ¯å¯¹è±¡ï¼Œä¸å¾—çœç•¥æˆ–å»¶å\n\nã€NPCæ¡£æ¡ˆå®Œæ•´ç¤ºä¾‹ã€‘ï¼ˆåŒ…å«NSFWä¿¡æ¯ï¼‰\n\n\`\`\`json\n{\n  "åå­—": "æ—æ¸…ç’ƒ",\n  "æ€§åˆ«": "å¥³",\n  "å¹´é¾„": 18,\n  "å‡ºç”Ÿæ—¥æœŸ": {"å¹´": 982, "æœˆ": 3, "æ—¥": 15},\n  "ç§æ—": "äººæ—",\n  "å‡ºç”Ÿ": "é’äº‘å®—å¼Ÿå­",\n  "å¤–è²Œæè¿°": "å®¹è²Œæ¸…ä¸½ï¼Œä¸€è¢­ç™½è¡£ï¼Œæ°”è´¨å‡ºå°˜",\n  "æ€§æ ¼ç‰¹å¾": ["æ¸©æŸ”", "åšéŸ§", "é‡æƒ…"],\n  "å¢ƒç•Œ": {\n    "åç§°": "ç­‘åŸº",\n    "é˜¶æ®µ": "åˆæœŸ"\n  },\n  "çµæ ¹": {\n    "åç§°": "å†°éœœçµæ ¹",\n    "å“çº§": "ä¸Šå“"\n  },\n  "å¤©èµ‹": [\n    {"åç§°": "å†°å¿ƒ", "æè¿°": "ä¸å—å¿ƒé­”ä¾µæ‰°"}\n  ],\n  "å…ˆå¤©å…­å¸": {\n    "æ ¹éª¨": 7,\n    "çµæ€§": 9,\n    "æ‚Ÿæ€§": 8,\n    "æ°”è¿": 6,\n    "é­…åŠ›": 9,\n    "å¿ƒæ€§": 8\n  },\n  "ä¸ç©å®¶å…³ç³»": "å¸ˆå§",\n  "å¥½æ„Ÿåº¦": 60,\n  "äººæ ¼åº•çº¿": ["ä¸èƒ½ä¼¤å®³æ— è¾œ", "ä¸èƒ½èƒŒå›å®—é—¨"],\n  "è®°å¿†": [\n    {"æ—¶é—´": "ä»™é“1000å¹´2æœˆ1æ—¥", "äº‹ä»¶": "ç¬¬ä¸€æ¬¡è§åˆ°ç©å®¶"}\n  ],\n  "è®°å¿†æ€»ç»“": ["å¯¹ç©å®¶å°è±¡ä¸é”™"],\n  "å½“å‰ä½ç½®": {\n    "æè¿°": "é’äº‘å¤§é™†Â·é’äº‘å®—Â·å†…é—¨",\n    "longitude": 115.23,\n    "latitude": 35.67\n  },\n  "åŠ¿åŠ›å½’å±": "é’äº‘å®—",\n  "å½“å‰å¤–è²ŒçŠ¶æ€": "é¢è‰²çº¢æ¶¦ï¼Œå˜´è§’å«ç¬‘",\n  "å½“å‰å†…å¿ƒæƒ³æ³•": "è¿™å¸ˆå¼Ÿèµ„è´¨ä¸é”™ï¼Œå¯ä»¥å¤šåŠ å…³ç…§",\n  "èƒŒåŒ…": {\n    "çµçŸ³": {\n      "ä¸‹å“": 500,\n      "ä¸­å“": 50,\n      "ä¸Šå“": 5,\n      "æå“": 0\n    },\n    "ç‰©å“": {\n      "sword_001": {\n        "ç‰©å“ID": "sword_001",\n        "åç§°": "éœœåå‰‘",\n        "ç±»å‹": "è£…å¤‡",\n        "å“è´¨": {"quality": "ç„", "grade": 6},\n        "æ•°é‡": 1,\n        "æè¿°": "å†°å±æ€§æ³•å‰‘",\n        "å·²è£…å¤‡": false\n      }\n    }\n  },\n  "ç§å¯†ä¿¡æ¯": {\n    "æ˜¯å¦ä¸ºå¤„å¥³": true,\n    "èº«ä½“éƒ¨ä½": [\n      {\n        "éƒ¨ä½åç§°": "èƒ¸éƒ¨",\n        "å¼€å‘åº¦": 0,\n        "æ•æ„Ÿåº¦": 20,\n        "ç‰¹å¾æè¿°": "å‘è‚²è‰¯å¥½ï¼Œç™½çš™æŸ”è½¯",\n        "ç‰¹æ®Šå°è®°": "æ— "\n      },\n      {\n        "éƒ¨ä½åç§°": "å°ç©´",\n        "å¼€å‘åº¦": 0,\n        "æ•æ„Ÿåº¦": 30,\n        "ç‰¹å¾æè¿°": "æœªç»äººäº‹ï¼Œç´§è‡´ç²‰å«©",\n        "ç‰¹æ®Šå°è®°": "æ— "\n      },\n      {\n        "éƒ¨ä½åç§°": "é¢ˆéƒ¨",\n        "å¼€å‘åº¦": 0,\n        "æ•æ„Ÿåº¦": 25,\n        "ç‰¹å¾æè¿°": "è‚Œè‚¤ç™½çš™ç»†è…»",\n        "ç‰¹æ®Šå°è®°": "æ— "\n      }\n    ],\n    "æ€§æ ¼å€¾å‘": "çº¯æƒ…",\n    "æ€§å–å‘": "å¼‚æ€§æ‹",\n    "æ€§ç™–å¥½": [],\n    "æ€§æ¸´æœ›ç¨‹åº¦": 10,\n    "å½“å‰æ€§çŠ¶æ€": "æ­£å¸¸",\n    "ä½“æ¶²åˆ†æ³ŒçŠ¶æ€": "æ­£å¸¸",\n    "æ€§äº¤æ€»æ¬¡æ•°": 0,\n    "æ€§ä¼´ä¾£æ•°é‡": 0,\n    "æ€§ä¼´ä¾£åå•": [],\n    "æœ€è¿‘ä¸€æ¬¡æ€§è¡Œä¸ºæ—¶é—´": "ä»æœª",\n    "ç‰¹æ®Šä½“è´¨": []\n  },\n  "å®æ—¶å…³æ³¨": false\n}\n\`\`\`\n\n${a.Iz}\n\n## å¢ƒç•Œç»“æ„\n\`\`\`json\n{\n  "åç§°": "ç‚¼æ°”",\n  "é˜¶æ®µ": "ä¸­æœŸ",\n  "å½“å‰è¿›åº¦": 350,\n  "ä¸‹ä¸€çº§æ‰€éœ€": 500\n}\n\`\`\`\n\n### å¢ƒç•Œç³»ç»Ÿè¯´æ˜\n| å¢ƒç•Œ | å¯¿å‘½ | é˜¶æ®µ | ç‰¹å¾ |\n|------|------|------|------|\n| å‡¡äºº | 100å¹´ | æ—  | ç”Ÿè€ç—…æ­» |\n| ç‚¼æ°” | 120å¹´ | åˆæœŸ/ä¸­æœŸ/åæœŸ/åœ†æ»¡/æå¢ƒ | å¼•æ°”å…¥ä½“ã€æ¬è¿å‘¨å¤© |\n| ç­‘åŸº | 250å¹´ | åˆæœŸ/ä¸­æœŸ/åæœŸ/åœ†æ»¡/æå¢ƒ | ç´«åºœå¼€è¾Ÿã€è¾Ÿè°· |\n| é‡‘ä¸¹ | 500-800å¹´ | åˆæœŸ/ä¸­æœŸ/åæœŸ/åœ†æ»¡/æå¢ƒ | é‡‘ä¸¹æˆå‹ã€å¾¡ç©ºé£è¡Œ |\n| å…ƒå©´ | 1500-2000å¹´ | åˆæœŸ/ä¸­æœŸ/åæœŸ/åœ†æ»¡/æå¢ƒ | å…ƒå©´å‡ºçªã€å¯å¤ºèˆ |\n\n${a.EF}\n\nâš ï¸ **å¢ƒç•Œçªç ´å¿…é¡»å¢åŠ å¯¿å‘½ä¸Šé™**ï¼š\n- ç”¨ **add** å¢åŠ ï¼Œç¦ç”¨ set\n- å¢ƒç•Œçªç ´ï¼š+100-150å¹´\n- é˜¶æ®µçªç ´ï¼š+20-50å¹´\n- é«˜å¢ƒç•Œæ›´å¤§ï¼šå…ƒå©´+500å¹´ã€åŒ–ç¥+2000å¹´\n\nâœ… æ­£ç¡®ï¼š\`{"action":"add","scope":"chat","key":"ç©å®¶è§’è‰²çŠ¶æ€.å¯¿å‘½.ä¸Šé™","value":130}\`\nâŒ é”™è¯¯ï¼š\`{"action":"set","scope":"chat","key":"ç©å®¶è§’è‰²çŠ¶æ€.å¯¿å‘½.ä¸Šé™","value":250}\`\n\n## ä½ç½®ç»“æ„\n\`\`\`json\n{\n  "æè¿°": "é’äº‘å¤§é™†Â·é’äº‘å®—Â·è—ç»é˜",\n  "longitude": 115.23,\n  "latitude": 35.67\n}\n\`\`\`\n\nâš ï¸ **æ›´æ–°ä½ç½®å¿…é¡»åŒæ—¶æ›´æ–°ä¸‰ä¸ªå­—æ®µ**ï¼š\n\`\`\`json\n[\n  {"action":"set","scope":"chat","key":"ç©å®¶è§’è‰²çŠ¶æ€.ä½ç½®.æè¿°","value":"é’äº‘å¤§é™†Â·é’äº‘å®—Â·è—ç»é˜"},\n  {"action":"set","scope":"chat","key":"ç©å®¶è§’è‰²çŠ¶æ€.ä½ç½®.longitude","value":115.23},\n  {"action":"set","scope":"chat","key":"ç©å®¶è§’è‰²çŠ¶æ€.ä½ç½®.latitude","value":35.67}\n]\n\`\`\`\n\n# ğŸ¯ ä¿®ä»™ä¸–ç•Œè®¾å®š\n\n**äººç‰©å‘½å**ï¼šå¤éŸµå å­—(æ¥šæ¸…ç’ƒ)ã€å…µå™¨å€ŸåŠ¿(å‰‘æ— å°˜)ã€å¤©åœ°æ„è±¡(é£è¢­æœˆ)\n**æœé¥°**ï¼šæè´¨(äº‘çº±/å†°èš•ä¸)ã€è‰²å½©(æœˆç™½/éœœé›ª)ã€æ¬¾å¼(å¹¿è¢–æµä»™)\n**å™äº‹è¯æ±‡**ï¼šå…ƒç‚/çœŸå…ƒ(éèƒ½é‡)ã€å…ƒç¥/çœŸçµ(éçµé­‚)ã€ç¥é€š/æœ¯æ³•(éé­”æ³•)\n\n## åæ ‡ç³»ç»Ÿ\n- longitude: 100-130\n- latitude: 25-45\n- ç²¾åº¦: 2-4ä½å°æ•°\n\n## å“è´¨ç³»ç»Ÿ\næ ¼å¼ï¼š\`{"quality":"å‡¡|é»„|ç„|åœ°|å¤©|ä»™|ç¥","grade":0-10}\`\n- å‡¡/é»„ï¼šå¼€å±€å¸¸è§\n- ç„/åœ°ï¼šä¸­æœŸ\n- å¤©/ä»™/ç¥ï¼šé«˜çº§\n\n## NPCç‰©å“é…ç½®\n- å¿…é¡»3-8ä»¶ç‰©å“\n- å“è´¨åŒ¹é…å¢ƒç•Œï¼šç‚¼æ°”(å‡¡)ã€ç­‘åŸº(é»„)ã€é‡‘ä¸¹(ç„)\n- çµçŸ³ï¼šæ•£ä¿®100-500ã€å¼Ÿå­500-2000ã€é•¿è€1000+`.trim(),r='# ä»»åŠ¡ï¼šç”ŸæˆåŠŸæ³•ç§˜ç±\n\nå“è´¨åŠ æˆï¼šå‡¡(1.05-1.15) | é»„(1.2-1.35) | ç„(1.4-1.6) | åœ°(1.7-1.9) | å¤©(2.0-2.3) | ä»™(2.5-3.0) | ç¥(3.5-5.0)\næŠ€èƒ½è¦æ±‚ï¼šå‡¡/é»„(å¯æ— ) | ç„(â‰¥1) | åœ°(â‰¥2) | å¤©(â‰¥3) | ä»™(â‰¥4)\n\n## JSONè¾“å‡ºæ ¼å¼\n```json\n{\n  "ç‰©å“ID": "gongfa_éšæœºæ•°å­—",\n  "åç§°": "åŠŸæ³•åç§°",\n  "ç±»å‹": "åŠŸæ³•",\n  "å“è´¨": {"quality": "å“è´¨", "grade": 5},\n  "æ•°é‡": 1,\n  "æè¿°": "åŠŸæ³•æè¿°",\n  "åŠŸæ³•æ•ˆæœ": {\n    "ä¿®ç‚¼é€Ÿåº¦åŠ æˆ": 1.35,\n    "å±æ€§åŠ æˆ": {\n      "æ ¹éª¨": 1,\n      "çµæ°”ä¸Šé™": 50\n    },\n    "ç‰¹æ®Šèƒ½åŠ›": ["ç‰¹æ®Šèƒ½åŠ›æè¿°"]\n  },\n  "åŠŸæ³•æŠ€èƒ½": [\n    {\n      "æŠ€èƒ½åç§°": "æŠ€èƒ½1åç§°",\n      "æŠ€èƒ½æè¿°": "æŠ€èƒ½1æ•ˆæœæè¿°",\n      "æ¶ˆè€—": "æ¶ˆè€—æè¿°",\n      "è§£é”éœ€è¦ç†Ÿç»ƒåº¦": 0\n    }\n  ],\n  "ä¿®ç‚¼è¿›åº¦": 0,\n  "å·²è£…å¤‡": false\n}\n```\n\nâš ï¸ åŠŸæ³•æŠ€èƒ½å¿…é¡»æ•°ç»„[]éå¯¹è±¡{} | ç¬¬ä¸€ä¸ªæŠ€èƒ½è§£é”éœ€æ±‚å¿…é¡»ä¸º0 | ä¿®ç‚¼è¿›åº¦0-100 | å·²è£…å¤‡é»˜è®¤false\n'},6932:(e,n,t)=&gt;{t.d(n,{A:()=&gt;i});var a=t(1601),o=t.n(a),r=t(6314),l=t.n(r)()(o());l.push([e.id,"\n.cloud-sync-button[data-v-5e3340f2] {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 0.3rem;\n  padding: 0.5rem 0.8rem;\n  border-radius: 6px;\n  cursor: pointer;\n  transition: all 0.2s ease-in-out;\n  border: 1px solid var(--color-border);\n  background: var(--color-surface-light);\n  color: var(--color-text);\n  font-size: 0.85rem;\n  min-width: 80px;\n  white-space: nowrap;\n}\n.cloud-sync-button[data-v-5e3340f2]:hover {\n  background: var(--color-surface-lighter);\n  border-color: var(--color-primary);\n  color: var(--color-primary);\n}\n.sync-text[data-v-5e3340f2] {\n  font-weight: 500;\n}\n.sync-icon[data-v-5e3340f2] {\n  font-size: 1em;\n  flex-shrink: 0;\n}\n\n/* å·²åŒæ­¥çŠ¶æ€æ ·å¼ */\n.cloud-sync-button.synced[data-v-5e3340f2] {\n  background: linear-gradient(135deg, rgba(var(--color-primary-rgb), 0.1), rgba(var(--color-success-rgb), 0.1));\n  border-color: var(--color-success);\n  color: var(--color-success);\n}\n.cloud-sync-button[data-v-5e3340f2]:disabled {\n  opacity: 0.6;\n  cursor: not-allowed;\n}\n.cloud-sync-button.synced[data-v-5e3340f2]:hover {\n  background: linear-gradient(135deg, rgba(var(--color-primary-rgb), 0.2), rgba(var(--color-success-rgb), 0.2));\n}\n\n/* Size variants */\n.cloud-sync-button.small[data-v-5e3340f2] {\n  padding: 0.5rem 0.75rem;\n  font-size: 0.9rem;\n  min-width: 100px;\n}\n.cloud-sync-button.large[data-v-5e3340f2] {\n  padding: 1rem 1.5rem;\n  font-size: 1.1rem;\n  min-width: 180px;\n}\n\n/* Compact variant */\n.cloud-sync-button.compact[data-v-5e3340f2] {\n  min-width: auto;\n  padding: 0.5rem;\n}\n.cloud-sync-button.compact .sync-text[data-v-5e3340f2] {\n  display: none;\n}\n",""]);const i=l},6939:(e,n,t)=&gt;{function a(e,n){let t=n.å¹´-e.å¹´;return(n.æœˆ<e.æœˆ||n.æœˆ===e.æœˆ&&n.æ—¥<e.æ—¥)&&t--,math.max(0,t)}function o(e,n){return{å¹´:n.å¹´-e,æœˆ:n.æœˆ,æ—¥:n.æ—¥,å°æ—¶:0,åˆ†é’Ÿ:0}}function="" r(e){const="" n="e.æ¸¸æˆæ—¶é—´||{å¹´:1,æœˆ:1,æ—¥:1,å°æ—¶:8,åˆ†é’Ÿ:0};if(!e.è§’è‰²åŸºç¡€ä¿¡æ¯?.å‡ºç”Ÿæ—¥æœŸ){const" t="e.è§’è‰²åŸºç¡€ä¿¡æ¯?.å¹´é¾„||18,a=o(t,n);return" e.è§’è‰²åŸºç¡€ä¿¡æ¯||(e.è§’è‰²åŸºç¡€ä¿¡æ¯="{}),e.è§’è‰²åŸºç¡€ä¿¡æ¯.å‡ºç”Ÿæ—¥æœŸ=a,console.log(&quot;[å¯¿å‘½è®¡ç®—]" åˆå§‹åŒ–ç©å®¶å‡ºç”Ÿæ—¥æœŸ:",a,"å½“å‰å¹´é¾„:",t),t}const="" e.è§’è‰²åŸºç¡€ä¿¡æ¯&&(e.è§’è‰²åŸºç¡€ä¿¡æ¯.å¹´é¾„="t),t}function" l(e,n){const="" r.å¯¿å‘½?.å½“å‰||l.å¹´é¾„||0;if(!l.å‡ºç”Ÿæ—¥æœŸ){const="" e="l.å¹´é¾„||r.å¯¿å‘½?.å½“å‰||18,n=o(e,t);return" l.å‡ºç”Ÿæ—¥æœŸ="n,console.log(`[å¯¿å‘½è®¡ç®—]" åˆå§‹åŒ–npcå‡ºç”Ÿæ—¥æœŸ="" [${l.åå­—||"æœªçŸ¥"}]:`,n,"å½“å‰å¹´é¾„:",e),e}const="" i="a(l.å‡ºç”Ÿæ—¥æœŸ,t);return" void="" 0!="=l.å¹´é¾„&amp;&amp;(l.å¹´é¾„=i),r.å¯¿å‘½&amp;&amp;(r.å¯¿å‘½.å½“å‰=i),i}t.d(n,{R:()=">a,updateLifespanFromGameTime:()=&gt;r,updateNpcLifespanFromGameTime:()=&gt;l})},6972:(e,n,t)=&gt;{t.d(n,{aY:()=&gt;r,$7:()=&gt;l,eb:()=&gt;i});var a=t(4270),o=t(8651);function r(e,n){const t=e;console.log(`ã€ç¥è¯†å°è®°-è¯Šæ–­ã€‘å¼€å§‹è¯Šæ–­${n}çš„AIå“åº”:`,{type:typeof e,isNull:null===e,isUndefined:void 0===e,isString:"string"==typeof e,isEmpty:"string"==typeof e&amp;&amp;""===e.trim(),length:"string"==typeof e?e.length:"N/A",hasChoices:t&amp;&amp;t.choices,choicesLength:t&amp;&amp;t.choices?t.choices.length:"N/A"}),t&amp;&amp;"object"==typeof t&amp;&amp;t.choices&amp;&amp;(console.log("ã€ç¥è¯†å°è®°-è¯Šæ–­ã€‘æ£€æµ‹åˆ°OpenAIæ ¼å¼å“åº”ï¼Œchoices:",t.choices),t.choices.length&gt;0&amp;&amp;t.choices[0].message&amp;&amp;(console.log("ã€ç¥è¯†å°è®°-è¯Šæ–­ã€‘ç¬¬ä¸€ä¸ªchoiceçš„æ¶ˆæ¯å†…å®¹:",t.choices[0].message.content),t.choices[0].message.content&amp;&amp;""!==t.choices[0].message.content.trim()||console.warn("ã€ç¥è¯†å°è®°-è¯Šæ–­ã€‘AIè¿”å›äº†ç©ºçš„contentï¼Œè¿™é€šå¸¸è¡¨ç¤ºæ¨¡å‹é…ç½®é—®é¢˜æˆ–æç¤ºè¯è¿‡äºå¤æ‚")))}async function l(e,n,t=!0,r=3,l=!1,i){console.log(`ã€ç¥è¯†å°è®°ã€‘å¼€å§‹ç”Ÿæˆ${n}ï¼Œä½¿ç”¨TavernHelper.generate()æ–¹æ³•`),console.log(`ã€ç¥è¯†å°è®°-è°ƒè¯•ã€‘æç¤ºè¯é•¿åº¦: ${e?.length||0} å­—ç¬¦`),console.log("ã€ç¥è¯†å°è®°-è°ƒè¯•ã€‘æç¤ºè¯å‰500å­—ç¬¦:",e.substring(0,500)),console.log("ã€ç¥è¯†å°è®°-è°ƒè¯•ã€‘æç¤ºè¯æ˜¯å¦åŒ…å«æ ¸å¿ƒè§„åˆ™:",e.includes("ã€æ ¸å¿ƒè§„åˆ™")),console.log("ã€ç¥è¯†å°è®°-è°ƒè¯•ã€‘æç¤ºè¯æ˜¯å¦åŒ…å«æ ¼å¼åŒ–æ ‡è®°:",e.includes("ã€æ ¼å¼åŒ–æ ‡è®°è§„èŒƒã€‘")),console.log("ã€ç¥è¯†å°è®°-è°ƒè¯•ã€‘æç¤ºè¯æ˜¯å¦åŒ…å«INPUT_PLACEHOLDER:",e.includes("INPUT_PLACEHOLDER"));const c=function(e){if(!e)return"";const n=String(e).replace(/\r\n/g,"\n").split("\n"),t=[];let a=!1;for(let e of n){e=e.replace(/[ \t]+$/g,""),e=e.replace(/^\s+/g,"");const n=0===e.length;n&amp;&amp;a||(t.push(e),a=n)}return t.join("\n").trim()}(e);console.log("ã€ç¥è¯†å°è®°ã€‘å‡†å¤‡å‘é€ä»»åŠ¡æç¤ºè¯ï¼Œå¤§å°:",c.length,"å­—ç¬¦");const s=(0,o.getTavernHelper)();if(!s)throw new Error("é…’é¦†åŠ©æ‰‹æœªåˆå§‹åŒ–");try{t&amp;&amp;a.o.info(`å¤©æœºè¿è½¬ï¼Œæ¨æ¼”${n}...`),console.log("ã€ç¥è¯†å°è®°ã€‘ä½¿ç”¨/injectå‘½ä»¤æ³¨å…¥æç¤ºè¯"),console.log("ã€ç¥è¯†å°è®°-è°ƒè¯•ã€‘å‡†å¤‡å‘é€çš„æç¤ºè¯é•¿åº¦:",c.length),console.log("ã€ç¥è¯†å°è®°-è°ƒè¯•ã€‘æç¤ºè¯å‰500å­—ç¬¦:",c.substring(0,500)),console.log("ã€ç¥è¯†å°è®°-è°ƒè¯•ã€‘æç¤ºè¯å500å­—ç¬¦:",c.substring(Math.max(0,c.length-500))),console.log("ã€ç¥è¯†å°è®°-è°ƒè¯•ã€‘æç¤ºè¯æ˜¯å¦åŒ…å«DATA_STRUCTURE_DEFINITIONS:",c.includes("# æ•°æ®ç»“æ„å®šä¹‰")),console.log("ã€ç¥è¯†å°è®°-è°ƒè¯•ã€‘æç¤ºè¯æ˜¯å¦åŒ…å«ç©å®¶æ ¸å¿ƒé€‰æ‹©:",c.includes("# ç©å®¶æ ¸å¿ƒé€‰æ‹©")),console.log("ã€ç¥è¯†å°è®°-è°ƒè¯•ã€‘æç¤ºè¯æ˜¯å¦åŒ…å«åƒå¤œ:",c.includes("åƒå¤œ")),console.log("ã€ç¥è¯†å°è®°-è°ƒè¯•ã€‘æç¤ºè¯æ˜¯å¦åŒ…å«ç‘¶æ± åœ£åœ°:",c.includes("ç‘¶æ± åœ£åœ°")),console.log("ã€ç¥è¯†å°è®°ã€‘ç›´æ¥å‘é€æç¤ºè¯ä½œä¸º user_inputï¼Œä¸ä½¿ç”¨æ³¨å…¥"),console.log("ã€ç¥è¯†å°è®°-è°ƒè¯•ã€‘æç¤ºè¯é•¿åº¦:",c.length);const e=await s.generate({user_input:c,should_stream:l,max_chat_history:0});let o;if(console.log("ã€ç¥è¯†å°è®°-è°ƒè¯•ã€‘TavernHelper.generate()è¿”å›ç»“æœç±»å‹:",typeof e),console.log("ã€ç¥è¯†å°è®°-è°ƒè¯•ã€‘TavernHelper.generate()è¿”å›ç»“æœ:",e),"string"==typeof e)o=e.trim();else{if(!e||"object"!=typeof e)throw new Error("TavernHelper.generate()è¿”å›äº†ç©ºçš„å“åº”å†…å®¹ï¼Œå“åº”ç±»å‹: "+typeof e);{const n=e;if("string"==typeof n.content)console.log("ã€ç¥è¯†å°è®°ã€‘æ£€æµ‹åˆ°å¯¹è±¡æ ¼å¼å“åº”ï¼Œæå–contentå­—æ®µ"),o=n.content.trim();else{if("string"!=typeof n.text)throw console.error("ã€ç¥è¯†å°è®°ã€‘æ— æ³•ä»å¯¹è±¡ä¸­æå–æ–‡æœ¬å†…å®¹:",e),new Error("TavernHelper.generate()è¿”å›äº†æ— æ•ˆçš„å¯¹è±¡æ ¼å¼");console.log("ã€ç¥è¯†å°è®°ã€‘æ£€æµ‹åˆ°å¯¹è±¡æ ¼å¼å“åº”ï¼Œæå–textå­—æ®µ"),o=n.text.trim()}}}if(!o)throw new Error("æå–çš„å“åº”æ–‡æœ¬ä¸ºç©º");console.log("ã€ç¥è¯†å°è®°ã€‘AIå“åº”æ–‡æœ¬é•¿åº¦:",o.length),console.log("ã€ç¥è¯†å°è®°ã€‘AIåŸå§‹å“åº”æ–‡æœ¬ (å‰200å­—ç¬¦):",o.substring(0,200));const r=function(e){return e&amp;&amp;"string"==typeof e?e.replace(/```json\s*/g,"").replace(/```\s*/g,"").replace(/^["']|["']$/g,"").replace(/\r\n/g,"\n").trim():""}(o);let i,d=r.match(/```json\s*([\s\S]*?)\s*```/);d||(d=r.match(/```\s*([\s\S]*?)\s*```/)),i=d?d[1].trim():r,console.log("ã€ç¥è¯†å°è®°ã€‘æå–åˆ°çš„JSONå­—ç¬¦ä¸² (å‰500å­—ç¬¦):",i.substring(0,500));const m=function(e,n,t="æœªçŸ¥"){try{return e&amp;&amp;"string"==typeof e?JSON.parse(e):(console.warn(`[JSONè§£æ] ${t}: è¾“å…¥ä¸æ˜¯å­—ç¬¦ä¸²`),n)}catch(a){return console.error(`[JSONè§£æ] ${t}: è§£æå¤±è´¥`,a),console.error("[JSONè§£æ] åŸå§‹å­—ç¬¦ä¸²:",e.substring(0,200)),n}}(i,null,`ç”Ÿæˆ${n}`);if(!m)throw console.error("ã€ç¥è¯†å°è®°ã€‘JSONè§£æå¤±è´¥ï¼ŒåŸå§‹æ–‡æœ¬:",o),new Error("å“åº”æ ¼å¼æ— æ•ˆï¼šæ— æ³•è§£æJSONå†…å®¹");console.log(`ã€ç¥è¯†å°è®°ã€‘æˆåŠŸè§£æ${n}:`,m);let p=m;if(m&amp;&amp;"object"==typeof m&amp;&amp;("text"in m||"tavern_commands"in m)){const e=function(e,n="æœªçŸ¥"){try{if(!e||"object"!=typeof e)return console.error(`[æ•°æ®éªŒè¯] ${n}: æ•°æ®ä¸æ˜¯å¯¹è±¡`,e),null;const t=e;if(!t.text||"string"!=typeof t.text)return console.error(`[æ•°æ®éªŒè¯] ${n}: ç¼ºå°‘textå­—æ®µæˆ–æ ¼å¼é”™è¯¯`),null;t.tavern_commands||(console.warn(`[æ•°æ®éªŒè¯] ${n}: ç¼ºå°‘tavern_commandsï¼Œä½¿ç”¨ç©ºæ•°ç»„`),t.tavern_commands=[]),Array.isArray(t.tavern_commands)||(console.warn(`[æ•°æ®éªŒè¯] ${n}: tavern_commandsä¸æ˜¯æ•°ç»„ï¼Œå°è¯•ä¿®å¤`),t.tavern_commands=[]);const a=[],o=["set","add","delete","push","pull"],r=["global","chat","character","message"];for(let e=0;e<t.tavern_commands.length;e++){const l="t.tavern_commands[e];l&amp;&amp;&quot;object&quot;==typeof" l?l.action&&"string"="=typeof" l.action?o.includes(l.action)?(l.scope&&"string"="=typeof" l.scope||(console.warn(`[æ•°æ®éªŒè¯]="" ${n}:="" å‘½ä»¤${e}ç¼ºå°‘scopeï¼Œé»˜è®¤ä½¿ç”¨chat`),l.scope="chat" ),r.includes(l.scope)||(console.warn(`[æ•°æ®éªŒè¯]="" å‘½ä»¤${e}çš„scope="" "${l.scope}"="" ä¸åˆæ³•ï¼Œæ”¹ä¸ºchat`),l.scope="chat" ),l.key&&"string"="=typeof" l.key?"delete"="==l.action||void" 0!="=l.value?a.push(l):console.warn(`[æ•°æ®éªŒè¯]" å‘½ä»¤${e}ç¼ºå°‘valueï¼Œè·³è¿‡`):console.warn(`[æ•°æ®éªŒè¯]="" å‘½ä»¤${e}ç¼ºå°‘keyï¼Œè·³è¿‡`)):console.warn(`[æ•°æ®éªŒè¯]="" å‘½ä»¤${e}çš„action="" "${l.action}"="" ä¸åˆæ³•ï¼Œè·³è¿‡`):console.warn(`[æ•°æ®éªŒè¯]="" å‘½ä»¤${e}ç¼ºå°‘actionï¼Œè·³è¿‡`):console.warn(`[æ•°æ®éªŒè¯]="" å‘½ä»¤${e}ä¸æ˜¯å¯¹è±¡ï¼Œè·³è¿‡`)}return="" t.tavern_commands="a,t.short_term_memory||(t.short_term_memory=&quot;&quot;),t.mid_term_memory||(t.mid_term_memory=&quot;&quot;),console.log(`[æ•°æ®éªŒè¯]" éªŒè¯é€šè¿‡ï¼Œæœ‰æ•ˆå‘½ä»¤æ•°:="" ${a.length}`),t}catch(e){return="" console.error(`[æ•°æ®éªŒè¯]="" éªŒè¯è¿‡ç¨‹å‡ºé”™`,e),null}}(m,n);if(!e)throw="" console.error("ã€ç¥è¯†å°è®°ã€‘gmå“åº”éªŒè¯å¤±è´¥"),new="" error(`ç”Ÿæˆçš„${n}æ•°æ®ç»“æ„ä¸å®Œæ•´`);p="e,console.log(`ã€ç¥è¯†å°è®°ã€‘GMå“åº”éªŒè¯é€šè¿‡ï¼Œå‘½ä»¤æ•°:" ${e.tavern_commands?.length||0}`)}else="" p="(e=">{try{if(!e||"object"!=typeof e)return e;const n=Object.prototype.hasOwnProperty.call(e,"text"),t=Object.prototype.hasOwnProperty.call(e,"tavern_commands");if(!n||!t)return e;const a=new Set(["set","add","delete","push","pull"]),o=new Set(["global","chat","character","message"]),r=e=&gt;{if(Array.isArray(e))return e;if(e&amp;&amp;"object"==typeof e){const n=[],t=(e,t)=&gt;{if(e&amp;&amp;"object"==typeof e)for(const a of Object.keys(e))n.push({action:t,scope:"chat",key:a,value:e[a]})},a=(e,t)=&gt;{if(Array.isArray(e))for(const a of e)if(a)if(Array.isArray(a)){const[e,o]=a;"string"==typeof e&amp;&amp;n.push({action:t,scope:"chat",key:e,value:o})}else if("object"==typeof a&amp;&amp;a){const e=a.key;"string"==typeof e&amp;&amp;n.push({action:t,scope:a.scope||"chat",key:e,value:a.value})}else"string"==typeof a&amp;&amp;"delete"===t&amp;&amp;n.push({action:t,scope:"chat",key:a})};return"set"in e&amp;&amp;t(e.set,"set"),"add"in e&amp;&amp;t(e.add,"add"),"push"in e&amp;&amp;a(e.push,"push"),"pull"in e&amp;&amp;a(e.pull,"pull"),"delete"in e&amp;&amp;a(e.delete,"delete"),console.log("ã€ç¥è¯†å°è®°|æ ¡éªŒã€‘tavern_commands å¯¹è±¡æ ¼å¼å·²å±•å¼€ä¸ºæ•°ç»„ï¼Œé•¿åº¦:",n.length),n}return console.warn("ã€ç¥è¯†å°è®°|æ ¡éªŒã€‘tavern_commands ç±»å‹å¼‚å¸¸ï¼Œéæ•°ç»„/å¯¹è±¡ï¼Œç±»å‹:",typeof e),[]};let l=e.tavern_commands;if(l=r(l),!Array.isArray(l))throw new Error("tavern_commands å¿…é¡»ä¸ºæ•°ç»„");const i=[];for(const e of l){if(!e||"object"!=typeof e)throw new Error("å‘½ä»¤é¡¹å¿…é¡»ä¸ºå¯¹è±¡");const n=e.action??e.command??e.op;let t=String(n||"").trim().toLowerCase();const r={set_value:"set",set_player_data:"set",add_item:"push",add_npc:"set",remove_item:"pull",remove_npc:"delete","_.set":"set","_.add":"add","_.push":"push","_.pull":"pull","_.delete":"delete",unset:"delete",del:"delete"};r[t]&amp;&amp;(t=r[t]);const l=String(e.scope||"chat").trim(),c=String(e.key||"").trim();if(!a.has(t))throw new Error("å­˜åœ¨éæ³•action");if(!o.has(l))throw new Error("å­˜åœ¨éæ³•scope");if(!c)throw new Error("å­˜åœ¨éæ³•key");i.push({action:t,scope:l,key:c,value:e.value})}return e.tavern_commands=i,console.log("ã€ç¥è¯†å°è®°|æ ¡éªŒã€‘tavern_commands é€šè¿‡æ ¡éªŒï¼Œæ•°é‡:",i.length),e}catch(e){const n=e instanceof Error?e.message:String(e);throw new Error(`GMå“åº”æ ¡éªŒå¤±è´¥: ${n}`)}})(p);return t&amp;&amp;a.o.success(`${n}æ¨æ¼”å®Œæˆï¼`),p}catch(e){const o=e instanceof Error?e.message:String(e);return console.error(`ã€ç¥è¯†å°è®°ã€‘ç”Ÿæˆ${n}å¤±è´¥:`,o),t&amp;&amp;a.o.error(`æ¨æ¼”${n}å¤±è´¥: ${o}`),null}}async function i(e,n,t=!0){try{const r=(0,o.getTavernHelper)();if(!r)throw new Error("é…’é¦†åŠ©æ‰‹æœªåˆå§‹åŒ–");t&amp;&amp;a.o.info("å¤©æœºè¿è½¬ï¼ŒAIæ¨æ¼”ä¸­..."),console.log("ã€AIæ¨æ¼”-Rawæ¨¡å¼ã€‘ç”¨æˆ·è¾“å…¥:",e),n&amp;&amp;console.log("ã€AIæ¨æ¼”-Rawæ¨¡å¼ã€‘ä½¿ç”¨ç³»ç»Ÿæç¤ºè¯:",n.substring(0,100)+"...");const l=[];n&amp;&amp;l.push({role:"system",content:n}),l.push({role:"user",content:e}),console.log(`ã€AIæ¨æ¼”-Rawæ¨¡å¼ã€‘å‘é€${l.length}æ¡æç¤ºè¯`);const i=await r.generateRaw({ordered_prompts:l,should_stream:!1});let c;if(console.log("ã€AIæ¨æ¼”-Rawæ¨¡å¼ã€‘æ”¶åˆ°å“åº”ç±»å‹:",typeof i),"string"!=typeof i)throw new Error("æ”¶åˆ°éå­—ç¬¦ä¸²ç±»å‹çš„å“åº”");if(c=i.trim(),!c)throw new Error("å“åº”æ–‡æœ¬ä¸ºç©º");return console.log(`ã€AIæ¨æ¼”-Rawæ¨¡å¼ã€‘å“åº”æ–‡æœ¬é•¿åº¦: ${c.length} å­—ç¬¦`),console.log("ã€AIæ¨æ¼”-Rawæ¨¡å¼ã€‘å“åº”å‰200å­—ç¬¦:",c.substring(0,200)),t&amp;&amp;a.o.success("AIæ¨æ¼”å®Œæˆ"),c}catch(e){const n=e instanceof Error?e.message:String(e);return console.error("ã€AIæ¨æ¼”-Rawæ¨¡å¼ã€‘å¤±è´¥:",n),t&amp;&amp;a.o.error(`AIæ¨æ¼”å¤±è´¥: ${n}`),null}}},6973:(e,n,t)=&gt;{t.d(n,{A:()=&gt;i});var a=t(1601),o=t.n(a),r=t(6314),l=t.n(r)()(o());l.push([e.id,"\n.variable-section[data-v-28e177ee] {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  padding: 1rem;\n}\n.section-header[data-v-28e177ee] {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 1rem;\n  flex-shrink: 0;\n}\n.section-title[data-v-28e177ee] {\n  margin: 0;\n  font-size: 1.1rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.add-btn[data-v-28e177ee] {\n  display: flex;\n  align-items: center;\n  gap: 0.25rem;\n  padding: 0.5rem 1rem;\n  background: var(--color-primary);\n  color: white;\n  border: none;\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 0.875rem;\n  transition: all 0.2s;\n}\n.add-btn[data-v-28e177ee]:hover {\n  background: var(--color-primary-hover);\n}\n.variable-content[data-v-28e177ee] {\n  flex: 1;\n  overflow: hidden;\n}\n.variable-list[data-v-28e177ee] {\n  height: 100%;\n  overflow-y: auto;\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n}\n.variable-item[data-v-28e177ee] {\n  background: var(--color-surface);\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  padding: 1rem;\n}\n.variable-header[data-v-28e177ee] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 0.5rem;\n  gap: 0.5rem;\n}\n.variable-key[data-v-28e177ee] {\n  font-weight: 600;\n  color: var(--color-primary);\n  flex: 1;\n  word-break: break-word;\n}\n.variable-type[data-v-28e177ee] {\n  font-size: 0.75rem;\n  padding: 0.125rem 0.5rem;\n  background: var(--color-accent-light);\n  color: var(--color-accent);\n  border-radius: 4px;\n  flex-shrink: 0;\n}\n.variable-actions[data-v-28e177ee] {\n  display: flex;\n  gap: 0.25rem;\n  flex-shrink: 0;\n}\n.action-btn[data-v-28e177ee] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 24px;\n  height: 24px;\n  padding: 0;\n  border: 1px solid var(--color-border);\n  border-radius: 4px;\n  cursor: pointer;\n  transition: all 0.2s;\n  color: var(--color-text-secondary);\n  background: var(--color-surface);\n}\n.action-btn[data-v-28e177ee]:hover {\n  background: var(--color-hover);\n  color: var(--color-text);\n}\n.action-btn.edit[data-v-28e177ee]:hover {\n  background: var(--color-info);\n  color: white;\n  border-color: var(--color-info);\n}\n.action-btn.copy[data-v-28e177ee]:hover {\n  background: var(--color-success);\n  color: white;\n  border-color: var(--color-success);\n}\n.action-btn.delete[data-v-28e177ee]:hover {\n  background: var(--color-danger);\n  color: white;\n  border-color: var(--color-danger);\n}\n.variable-value[data-v-28e177ee] {\n  font-size: 0.875rem;\n  color: var(--color-text-secondary);\n  word-break: break-word;\n}\n.code-pre[data-v-28e177ee] {\n  margin: 0;\n  padding: 0.75rem;\n  background: var(--color-code-bg);\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  max-height: 200px;\n  overflow: auto;\n  font-family: 'Consolas', 'Monaco', monospace;\n  font-size: 0.8rem;\n  line-height: 1.4;\n  white-space: pre-wrap;\n  word-break: break-word;\n}\n.empty-state[data-v-28e177ee] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 3rem 1rem;\n  color: var(--color-text-secondary);\n  text-align: center;\n}\n.debug-info[data-v-28e177ee] {\n  margin-top: 1rem;\n  font-size: 0.8rem;\n  color: var(--color-text-secondary);\n}\n.debug-info summary[data-v-28e177ee] {\n  cursor: pointer;\n  color: var(--color-primary);\n}\n.debug-content[data-v-28e177ee] {\n  margin-top: 0.5rem;\n  padding: 0.5rem;\n  background: var(--color-surface);\n  border-radius: 4px;\n  text-align: left;\n}\n.debug-actions[data-v-28e177ee] {\n  margin-top: 0.5rem;\n}\n.debug-btn[data-v-28e177ee] {\n  padding: 0.25rem 0.5rem;\n  background: var(--color-primary);\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 0.75rem;\n}\n\n/* æ‰‹æœºç«¯é€‚é… */\n@media (max-width: 640px) {\n.variable-section[data-v-28e177ee] {\n    padding: 0.75rem;\n}\n.section-header[data-v-28e177ee] {\n    flex-direction: column;\n    align-items: stretch;\n    gap: 0.5rem;\n    margin-bottom: 0.75rem;\n}\n.section-title[data-v-28e177ee] {\n    font-size: 1rem;\n    text-align: center;\n}\n.add-btn[data-v-28e177ee] {\n    align-self: center;\n    padding: 0.4rem 0.8rem;\n    font-size: 0.8rem;\n}\n.variable-item[data-v-28e177ee] {\n    padding: 0.75rem;\n}\n.variable-header[data-v-28e177ee] {\n    flex-direction: column;\n    align-items: stretch;\n    gap: 0.5rem;\n}\n.variable-key[data-v-28e177ee] {\n    font-size: 0.9rem;\n}\n.variable-actions[data-v-28e177ee] {\n    justify-content: center;\n    gap: 0.5rem;\n}\n.action-btn[data-v-28e177ee] {\n    width: 32px;\n    height: 32px;\n}\n.code-pre[data-v-28e177ee] {\n    font-size: 0.75rem;\n    padding: 0.5rem;\n}\n}\n@media (max-width: 480px) {\n.variable-section[data-v-28e177ee] {\n    padding: 0.5rem;\n}\n.section-title[data-v-28e177ee] {\n    font-size: 0.9rem;\n}\n.add-btn[data-v-28e177ee] {\n    padding: 0.35rem 0.7rem;\n    font-size: 0.75rem;\n}\n.variable-item[data-v-28e177ee] {\n    padding: 0.5rem;\n}\n.variable-key[data-v-28e177ee] {\n    font-size: 0.85rem;\n}\n.variable-type[data-v-28e177ee] {\n    font-size: 0.7rem;\n}\n.action-btn[data-v-28e177ee] {\n    width: 28px;\n    height: 28px;\n}\n.code-pre[data-v-28e177ee] {\n    font-size: 0.7rem;\n    padding: 0.4rem;\n}\n.empty-state[data-v-28e177ee] {\n    padding: 2rem 0.5rem;\n}\n}\n",""]);const i=l},7181:(e,n,t)=&gt;{t.d(n,{Ez:()=&gt;v,x:()=&gt;p,bA:()=&gt;m});var a=t(6972),o=t(4775),r=t(6912),l=t(4986),i=t(1265);const c=(e,n,t)=&gt;{const a=e?.äººç‰©å…³ç³»?Object.keys(e.äººç‰©å…³ç³»).length:0,o=!1!==n&amp;&amp;a&lt;(t||3),c=["ã€å‰§æƒ…æ¨è¿›ã€‘æ ¹æ®å½“å‰çŠ¶æ€æ¨è¿›å™äº‹ï¼Œè¿”å›JSONã€‚","","# æ ¸å¿ƒè§„åˆ™","","## æç¤ºè¯ç»“æ„","1. ç³»ç»Ÿæç¤º(æœ¬æ–‡)ï¼šè§„åˆ™/æ•°æ®ç»“æ„","2. ä¸Šå¹•å‰§æƒ…(assistant)ï¼šä¹‹å‰ç”Ÿæˆçš„çŸ­æœŸè®°å¿†","3. ç©å®¶è¡ŒåŠ¨(user)ï¼šå½“å‰è¾“å…¥","","## å‰§æƒ…æ¨è¿›","ä»æœ€åè®°å¿†æ¨è¿›æ–°å‰§æƒ…ï¼Œç¦é‡å¤/å¤è¿°å·²æœ‰å†…å®¹ã€‚ç©å®¶æ— æ–°åŠ¨ä½œåˆ™æè¿°ç¯å¢ƒ/æ—¶é—´/NPCã€‚","","# æ—¶é—´æ¨è¿›","",'æ¯æ¬¡å¿…é¡»æ¨è¿›æ—¶é—´(é™¤éç©å®¶æ˜ç¡®"ä¸åšä»»ä½•äº‹")ã€‚',"","å‚è€ƒï¼šå¯¹è¯1-5åˆ†,æˆ˜æ–—5-30åˆ†,ä¿®ç‚¼30åˆ†-æ•°æ—¶,ç‚¼ä¸¹/å™¨æ•°æ—¶-æ•°å¤©,èµ¶è·¯æ•°æ—¶-æ•°å¤©,é—­å…³æ•°å¤©-æ•°æœˆ","",'å‘½ä»¤: `{"action":"add","key":"æ¸¸æˆæ—¶é—´.åˆ†é’Ÿ","value":æ¨è¿›åˆ†é’Ÿæ•°}`',"valueæ˜¯æœ¬æ¬¡æ¨è¿›é‡éç´¯è®¡ã€‚æ¢ç®—:1æ—¶=60,1å¤©=1440,1æœˆ=43200,1å¹´=518400","",i.kp,"",r.uH,"",(0,l.An)(),""];e?.ç³»ç»Ÿä»»åŠ¡?.é…ç½®?.å¯ç”¨&amp;&amp;c.push((()=&gt;{const e='\n========== ç³»ç»Ÿä»»åŠ¡åŠŸèƒ½ ==========\n\nã€æ•°æ®ç»“æ„ã€‘\n```json\n{\n  "ç³»ç»Ÿä»»åŠ¡": {\n    "é…ç½®": {\n      "å¯ç”¨": true,\n      "ä»»åŠ¡ç±»å‹": "all|relationship|cultivation|exploration|combat|custom",\n      "é¢å‘æ•°é‡": 3\n    },\n    "è¿›è¡Œä¸­ä»»åŠ¡": [{ä»»åŠ¡å¯¹è±¡}],\n    "å·²å®Œæˆä»»åŠ¡åç§°": []\n  }\n}\n```\n\nã€æ ¸å¿ƒè§„åˆ™ã€‘\n- å‰ç½®æ¡ä»¶ï¼šé…ç½®.å¯ç”¨ === true æ—¶æ‰èƒ½æ“ä½œç³»ç»Ÿä»»åŠ¡\n- æ•°é‡é™åˆ¶ï¼šç”Ÿæˆçš„ä»»åŠ¡æ•°ä¸å¾—è¶…è¿‡é¢å‘æ•°é‡ï¼ˆæœ€å¤§å€¼ä¸º5ï¼‰\n- ã€é‡è¦ã€‘æ¯æ¬¡ç”Ÿæˆåå¿…é¡»æ£€æŸ¥æ‰€æœ‰è¿›è¡Œä¸­ä»»åŠ¡çš„æ¡ä»¶\n- å®Œæˆåˆ¤å®šï¼šå½“ä»»åŠ¡çš„æ‰€æœ‰æ¡ä»¶.å®Œæˆ === true æ—¶ï¼Œå¿…é¡»ç«‹å³æ‰§è¡Œå®Œæˆæµç¨‹\n- å®Œæˆæµç¨‹ï¼šå‘æ”¾å¥–åŠ± + pullåˆ é™¤ä»»åŠ¡ + pushä»»åŠ¡åç§°åˆ°å·²å®Œæˆåˆ—è¡¨\n- å¤±è´¥å¤„ç†ï¼šä»»åŠ¡å¤±è´¥æ—¶ï¼Œæ‰§è¡Œæƒ©ç½š + pullåˆ é™¤ä»»åŠ¡\n\nã€ä»»åŠ¡IDå‘½åè§„èŒƒã€‘\næ ¼å¼ï¼štask_ç±»å‹ç¼©å†™_å¹´æœˆæ—¥_åºå·\nç±»å‹ç¼©å†™å¯¹ç…§è¡¨ï¼š\n- rel: äº¤å‹ä»»åŠ¡\n- com: é“ä¾£ä»»åŠ¡\n- cul: ä¿®ç‚¼ä»»åŠ¡\n- exp: æ¢ç´¢ä»»åŠ¡\n- bat: æˆ˜æ–—ä»»åŠ¡\n- cus: è‡ªå®šä¹‰ä»»åŠ¡\n\nã€ä»»åŠ¡æœ‰æ•ˆæœŸã€‘\nå•ä½ï¼šæ¸¸æˆå†…åˆ†é’Ÿ\næ—¶é—´æ¢ç®—ï¼š1å°æ—¶=60åˆ†é’Ÿï¼Œ1å¤©=1440åˆ†é’Ÿï¼Œ1æœˆ=43200åˆ†é’Ÿï¼Œ1å¹´=518400åˆ†é’Ÿ\nè¿‡æœŸåˆ¤å®šï¼š(å½“å‰æ¸¸æˆæ—¶é—´ - ä»»åŠ¡é¢å‘æ—¶é—´) &gt; ä»»åŠ¡æœ‰æ•ˆæœŸ\n\nã€ä»»åŠ¡è§¦å‘æ—¶æœºã€‘\n- åˆ°è¾¾æ–°åœ°ç‚¹ â†’ è§¦å‘æ¢ç´¢ä»»åŠ¡æˆ–æˆ˜æ–—ä»»åŠ¡\n- ä¸æ–°NPCäº’åŠ¨ä¸”å…³ç³»è‰¯å¥½ â†’ è§¦å‘äº¤å‹ä»»åŠ¡\n- NPCå¥½æ„Ÿåº¦â‰¥60 â†’ è§¦å‘é“ä¾£ä»»åŠ¡\n- å¢ƒç•Œçªç ´ â†’ è§¦å‘ä¿®ç‚¼ä»»åŠ¡\n- å‰§æƒ…å…³é”®èŠ‚ç‚¹ â†’ è§¦å‘å¯¹åº”ç±»å‹ä»»åŠ¡\n\nã€æ“ä½œç¤ºä¾‹ã€‘\n\n[é¢å‘æ–°ä»»åŠ¡]\n`{"action":"push","key":"ç³»ç»Ÿä»»åŠ¡.è¿›è¡Œä¸­ä»»åŠ¡","value":{å®Œæ•´ä»»åŠ¡å¯¹è±¡}}`\n\n[æ›´æ–°ä»»åŠ¡è¿›åº¦]\n`{"action":"set","key":"ç³»ç»Ÿä»»åŠ¡.è¿›è¡Œä¸­ä»»åŠ¡.0.æ¡ä»¶.0.è¿›åº¦.å½“å‰","value":2}`\n\n[æ ‡è®°ä»»åŠ¡æ¡ä»¶å®Œæˆ]\n`{"action":"set","key":"ç³»ç»Ÿä»»åŠ¡.è¿›è¡Œä¸­ä»»åŠ¡.0.æ¡ä»¶.0.å®Œæˆ","value":true}`\n\n[å®Œæˆä»»åŠ¡] å¿…é¡»æŒ‰é¡ºåºæ‰§è¡Œä»¥ä¸‹ä¸‰ä¸ªæ“ä½œï¼Œç¼ºä¸€ä¸å¯ï¼š\n```json\n[\n  {"action":"add","scope":"chat","key":"èƒŒåŒ….çµçŸ³.ä¸‹å“","value":100},\n  {"action":"pull","scope":"chat","key":"ç³»ç»Ÿä»»åŠ¡.è¿›è¡Œä¸­ä»»åŠ¡","value":{"ä»»åŠ¡ID":"task_rel_1000_0315_001"}},\n  {"action":"push","scope":"chat","key":"ç³»ç»Ÿä»»åŠ¡.å·²å®Œæˆä»»åŠ¡åç§°","value":"åˆè¯†é“å‹"}\n]\n```\n\n[ä»»åŠ¡å¤±è´¥]\n```json\n[\n  {"action":"add","scope":"chat","key":"ç©å®¶è§’è‰²çŠ¶æ€.å£°æœ›","value":-10},\n  {"action":"pull","scope":"chat","key":"ç³»ç»Ÿä»»åŠ¡.è¿›è¡Œä¸­ä»»åŠ¡","value":{"ä»»åŠ¡ID":"task_xxx"}}\n]\n```\n  ';return e})(),"","ğŸ”´ **ä»»åŠ¡æ£€æŸ¥æé†’**: æ¯æ¬¡ç”Ÿæˆåæ£€æŸ¥è¿›è¡Œä¸­ä»»åŠ¡,è‹¥æ¡ä»¶å…¨éƒ¨æ»¡è¶³(æ‰€æœ‰æ¡ä»¶.å®Œæˆ=true)åˆ™å¿…é¡»æ‰§è¡Œå®Œæˆæµç¨‹(å‘å¥–åŠ±+åˆ é™¤ä»»åŠ¡+è®°å½•åç§°)",""),o&amp;&amp;c.push("","========== ã€ç´§æ€¥ã€‘äººç‰©å…³ç³»ä¸è¶³ï¼Œéœ€ç”Ÿæˆæ–°NPC ==========","",`ã€å½“å‰çŠ¶æ€ã€‘NPCæ•°é‡: ${a} | æœ€ä½è¦æ±‚: ${t||3}`,"","ã€ç”Ÿæˆè¦æ±‚ã€‘","1. è‡ªç„¶å¼•å…¥1-2ä¸ªç¬¦åˆå½“å‰åœºæ™¯çš„NPC","2. ä½¿ç”¨setæ“ä½œåˆ›å»ºå®Œæ•´NPCæ¡£æ¡ˆ","3. å¿…å¡«å­—æ®µï¼šåå­—/æ€§åˆ«/å¹´é¾„/å‡ºç”Ÿæ—¥æœŸ/ç§æ—/å‡ºç”Ÿ/å¤–è²Œ/æ€§æ ¼/å¢ƒç•Œ/çµæ ¹/å¤©èµ‹/å…­å¸/å…³ç³»/å¥½æ„Ÿåº¦/ä½ç½®/èƒŒåŒ…ç­‰","4. ã€é‡è¦ã€‘è‹¥ç³»ç»Ÿ.nsfwMode=trueï¼Œå¿…é¡»æ ¹æ®æ€§åˆ«è¿‡æ»¤æ¡ä»¶ç”Ÿæˆå®Œæ•´ç§å¯†ä¿¡æ¯ï¼ˆ14ä¸ªå¿…å¡«å­—æ®µï¼Œä¸å¾—çœç•¥ï¼‰","","ã€æ“ä½œç¤ºä¾‹ã€‘",'`{"action":"set","scope":"chat","key":"äººç‰©å…³ç³».æå¸ˆå…„","value":{å®Œæ•´NPCå¯¹è±¡}}`',"","ã€æ³¨æ„äº‹é¡¹ã€‘","- NPCå¢ƒç•Œåªæœ‰2ä¸ªå­—æ®µï¼šåç§° å’Œ é˜¶æ®µï¼ˆä¸è¦æ·»åŠ å½“å‰è¿›åº¦ç­‰å­—æ®µï¼‰",'- ç§å¯†ä¿¡æ¯å¿…é¡»åŒ…å«å…¨éƒ¨14ä¸ªå¿…å¡«å­—æ®µï¼Œä¸å¾—ä½¿ç”¨å ä½ç¬¦æˆ–"å¾…è¡¥å……"',"");const s=e?.ç³»ç»Ÿä»»åŠ¡?.é…ç½®;if(s?.å¯ç”¨){const n=e?.ç³»ç»Ÿä»»åŠ¡?.è¿›è¡Œä¸­ä»»åŠ¡?.length||0,t=s?.é¢å‘æ•°é‡||3;n<t&&c.push("","# ğŸ”´="" ä»»åŠ¡æ•°é‡ä¸è¶³ï¼Œéœ€ç”Ÿæˆæ–°ä»»åŠ¡","",`å½“å‰:="" ${n}="" éœ€è¦:="" ${t}`,"","åœ¨å½“å‰å‰§æƒ…ä¸­,="" è‡ªç„¶åœ°å¼•å…¥ä¸€ä¸ªæ–°ä»»åŠ¡,="" å¹¶ç”¨="" tavern="" command="" çš„="" `push`="" æ“ä½œæ·»åŠ åˆ°="" `ç³»ç»Ÿä»»åŠ¡.è¿›è¡Œä¸­ä»»åŠ¡`="" æ•°ç»„ä¸­ã€‚","æ–°ä»»åŠ¡å¿…é¡»æ˜¯ä¸€ä¸ªå®Œæ•´çš„ä»»åŠ¡å¯¹è±¡,="" åŒ…å«="" `id`,="" `åç§°`,="" `æè¿°`,="" `ç›®æ ‡`,="" `å¥–åŠ±`,="" `çŠ¶æ€`="" ç­‰å­—æ®µã€‚",'ç¤ºä¾‹:="" `{"action":"push","scope":"chat","key":"ç³»ç»Ÿä»»åŠ¡.è¿›è¡Œä¸­ä»»åŠ¡","value":{ä¸€ä¸ªå®Œæ•´çš„ä»»åŠ¡å¯¹è±¡}}`',"")}return="" c.push("#="" tavern_commandsç”Ÿæˆè§„åˆ™(æœ€é«˜ä¼˜å…ˆçº§)","","##="" åŸºæœ¬åŸåˆ™","",'æ¯ä¸ªå‰§æƒ…å˜åŒ–å¿…é¡»å¯¹åº”å‘½ä»¤ã€‚æ ¼å¼:="" `{"action":"æ“ä½œ","scope":"chat","key":"è·¯å¾„","value":å€¼}`',"","**æ“ä½œ**ï¼šset(è®¾ç½®),add(å¢å‡æ•°å€¼),push(æ·»åŠ æ•°ç»„),delete(åˆ é™¤),pull(ç§»é™¤æ•°ç»„)","","##="" å¸¸è§åœºæ™¯ç¤ºä¾‹","",'**æ—¶é—´**(å¿…é¡»):="" `{"action":"add","key":"æ¸¸æˆæ—¶é—´.åˆ†é’Ÿ","value":30}`="" (valueæ˜¯æ¨è¿›é‡éç´¯è®¡)',"",'**å—ä¼¤**:="" `{"action":"add","key":"ç©å®¶è§’è‰²çŠ¶æ€.æ°”è¡€.å½“å‰","value":-50}`="" (è´Ÿæ•°æ‰£è¡€,ç¦setæ•´ä¸ªå¯¹è±¡)',"",'**è·ç‰©å“**:="" `{"action":"set","key":"èƒŒåŒ….ç‰©å“.sword_001","value":{å®Œæ•´ç‰©å“}}`="" (idæ ¼å¼:ç±»å‹_æ•°å­—)',"",'**è€—ç‰©å“**:="" `{"action":"add","key":"èƒŒåŒ….ç‰©å“.pill_001.æ•°é‡","value":-1}`="" æˆ–delete',"",'**èŠ±çµçŸ³**:="" `{"action":"add","key":"èƒŒåŒ….çµçŸ³.ä¸‹å“","value":-100}`',"","**ä¿®ç‚¼**:="" æ—¶é—´+="" çµæ°”-="" è¿›åº¦+="" å¢ƒç•Œè¿›åº¦+","","**çªç ´**:="" setå¢ƒç•Œ(å«åç§°="" é˜¶æ®µ="" è¿›åº¦="" æ‰€éœ€="" çªç ´æè¿°)+addå¯¿å‘½ä¸Šé™+addå±æ€§ä¸Šé™","","**npc**:="" addå¥½æ„Ÿåº¦="" setçŠ¶æ€="" pushè®°å¿†","",'**åˆ›å»ºnpc**:="" `{"action":"set","key":"äººç‰©å…³ç³».å¼ ä¸‰","value":{å®Œæ•´æ¡£æ¡ˆ}}`',"="" ã€é‡è¦ã€‘åˆ›å»ºnpcæ—¶å¿…é¡»æ£€æŸ¥ç³»ç»Ÿ.nsfwmodeï¼Œè‹¥ä¸ºtrueä¸”æ€§åˆ«ç¬¦åˆè¿‡æ»¤æ¡ä»¶ï¼Œå¿…é¡»åœ¨valueä¸­åŒ…å«å®Œæ•´çš„ç§å¯†ä¿¡æ¯å¯¹è±¡ï¼ˆ14ä¸ªå¿…å¡«å­—æ®µï¼‰","","**ç§»åŠ¨**:="" åŒæ—¶setæè¿°+longitude+latitude="" (æ ¼å¼:å¤§é™†Â·åœ°ç‚¹)","","##="" å¸¸è§é”™è¯¯","","âŒ="" setæ•´ä¸ªå¯¹è±¡(èƒŒåŒ…="" æ°”è¡€)="" â†’="" âœ…="" æ”¹å…·ä½“å­—æ®µ",'âŒ="" ç¼ºscopeå­—æ®µ="" å¿…é¡»å«scope:"chat"',"âŒ="" å¯¿å‘½ä¸Šé™ç”¨set="" å¿…é¡»ç”¨add","âŒ="" å¿˜æ¨è¿›æ—¶é—´="" ä»»ä½•è¡ŒåŠ¨å¿…é¡»æ¨æ—¶é—´","âŒ="" æ•°å€¼è¶…èŒƒå›´="" æå‰ç®—ç¡®ä¿ä¸è¶…","âŒ="" jsonæ ¼å¼é”™(å¼•å·="" é€—å·)="" ä¸¥æ ¼json","","##="" ç”Ÿæˆæµç¨‹","","1è¯»textâ†’2åˆ—å˜åŒ–â†’3ç”Ÿæˆå‘½ä»¤â†’4æ£€æ•°å€¼â†’5æ£€jsonâ†’6ç¡®è®¤æ—¶é—´","","#="" ä¿®ä»™ä¸–ç•Œé“å¾‹(æœ€é«˜ä¼˜å…ˆçº§)","","##="" ä¸–ç•Œè§„åˆ™","å¢ƒç•Œå‹åˆ¶ç»å¯¹(ä½å¢ƒç•Œæ— æ³•èƒœé«˜å¢ƒç•Œ)="" |="" çµæ ¹å¤©å®š="" åŠŸæ³•ä¼˜åŠ£="" è¶Šé˜¶å¿…è´¥","","##="" ä¿®ç‚¼ä»£ä»·","æ—¶é—´:ç‚¼æ°”å‡å±‚1-3å¹´,ç­‘åŸºæ•°åå¹´="" èµ„æº:çªç ´è€—50-200çµçŸ³,è´¥åˆ™å°½å¤±="" é£é™©:å¼ºçªâ†’èµ°ç«="" è·Œå¢ƒ="" æŸå¯¿="" å¿ƒé­”:æ€¥åŠŸ="" æ€æˆ®å¿…åå™¬","","##="" æˆ˜æ–—è§„åˆ™",'æ•Œå…¨åŠ›(ä¸ç•™æ‰‹="" ä¸ç­‰å¾…="" æœ€ä¼˜æˆ˜æœ¯)="" å¢ƒç•Œå‹åˆ¶="" æˆ˜æœ¯åˆç†="" å¤±è¯¯å¿…æ­»="" æ­»äº¡ç»ˆå±€(æ— "æ°å¥½æ•‘å‘½")',"","##="" æ­»äº¡ä¸å—ä¼¤(æ ¸å¿ƒç©æ³•)","","**å›æ¡£æµæ¸¸æˆ,æ­»äº¡="" å—ä¼¤å¿…é¡»é¢‘ç¹å‘ç”Ÿ**","","**å¿…é¡»æ‰§è¡Œ**ï¼šæˆ˜æ–—å¿…ä¼¤,é²è½å¿…æ­»,ä½œæ­»å¿…æ­»,å®åŠ›ä¸è¶³å¿…æ­»,è¿ç»­ä½è´¨é€‰æ‹©â†’ä¼ç¬”â†’æ­»äº¡","","**è§¦å‘**(æ»¡è¶³ä¹‹ä¸€)ï¼šè¶Šé˜¶="" é‡ä¼¤ç»­æˆ˜="" å…¥æ­»åœ°="" æ€’å¼ºè€…="" å¼ºçªè´¥="" æ¯’ä¼¤æœªæ²»","","**ç¦æ­¢**ï¼šè¿æ°”é€ƒè„±="" æ•Œå¤±è¯¯="" å‰è¾ˆæ•‘="" ä½èƒœé«˜="" çµå…‰åŒ–é™©","","##="" ç©å®¶å™äº‹æƒ","","**å¯è¿°**ï¼šè‡ªèº«è¡ŒåŠ¨="" æ„å›¾="" é€‰æ‹©","","**ä¸å¯è¿°(æ‹’ç»)**ï¼šäº‹ä»¶ç»“æœ="" npcååº”="" å‰§æƒ…å‘å±•="" è¶…èŒƒå›´å†…å®¹","","**å¤„ç†**ï¼šè¯†åˆ«å£èƒ¡â†’å¿½ç•¥ä¸åˆç†â†’æŒ‰çœŸå®è§„åˆ™æ¨","",'ä¾‹ï¼šç©å®¶è¯´"è¿æ°”æ¡è‡³å®"â†’æ‹’,æŒ‰æ¦‚ç‡æ— æˆ–æœ‰å±é™©="" "npcè¢«æ‰“åŠ¨"â†’æ‹’,npcæŒ‰æ€§æ ¼åˆ¤æ–­="" "çµå…‰çªç ´"â†’æ‹’,éœ€é•¿æœŸç§¯ç´¯',"","##="" å™äº‹é£æ ¼",'ä½“æ„Ÿæå†™(ç»è„‰ç—›="" æ’•è£‚="" è‹¦æ¶©)="" ç™½æä¼ ç¥(äº‹å®éœ‡æ’¼éå †è¯)="" ç«‹ä½“è§’è‰²(ç‹¬ç«‹äººæ ¼éå·¥å…·)="" ç•™ç™½é«˜é˜¶(é“ç¢°æ’="" æ³•åˆ™äº¤é”‹)="" æ—¶åºæ²§æ¡‘(ç‰©æ˜¯äººé)="" å¢ƒç•ŒåŒ¹é…(é«˜å¢ƒç•Œç¦ç”¨"å¼•æ°”""æ¬è¿å‘¨å¤©"ç­‰ç‚¼æ°”æœŸæè¿°)',"","#="" çŠ¶æ€å˜æ›´è¯†åˆ«","","ä¸»åŠ¨è¯†åˆ«åŒæ­¥ï¼šä¿®ç‚¼="" çªç ´â†’å¢ƒç•Œ="" ä¸Šé™="" å­¦ä¹ â†’æŠ€èƒ½="" åŠŸæ³•="" å¾—="" å¤±ç‰©å“â†’èƒŒåŒ…="" æˆ˜æ–—="" ä¼¤â†’æ°”è¡€="" çµæ°”="" æƒ…æ„Ÿâ†’å¥½æ„Ÿåº¦="" æ–°äººâ†’npcæ¡£æ¡ˆ="" æ—¶é—´â†’åˆ†é’Ÿ(å¿…å¡«)","","#="" å‘é€å‰æ£€æŸ¥","","**æ€è€ƒ**ï¼šå“ªäº›äº‹ä»¶?å½±å“å“ªäº›å­—æ®µ?éœ€å“ªäº›commands?","","**éªŒè¯**ï¼šjsonæ­£ç¡®="" textæƒ…èŠ‚æœ‰commandså¯¹åº”="" å«æ—¶é—´æ¨è¿›="" æ•°å€¼èŒƒå›´å†…="" ç‰©å“npcç»“æ„å®Œæ•´="" nsfwåˆè§„","","**ğŸ”´æ­»äº¡æ£€æŸ¥**ï¼šç©å®¶å±é™©="" é²è½?æ»¡è¶³æ­»äº¡è§¦å‘?å·²å®‰æ’åˆç†æ­»äº¡?ç»™äº†ä¸è¯¥æœ‰çš„è¿æ°”?","","**è®°ä½ï¼šæ­»äº¡="" å—ä¼¤æ˜¯æ ¸å¿ƒéä¾‹å¤–,ç©å®¶æœŸå¾…æŒ‘æˆ˜="" å¤±è´¥è®©æˆåŠŸæ›´æœ‰ä»·å€¼**"),c.join("\n")};var="" s="t(8651),d=t(4270);async" function="" m(e,n){console.log("ã€ç®€å•å“åº”ã€‘å‡†å¤‡è°ƒç”¨ai...",{inputdata:e});try{const="" t="n.replace(&quot;INPUT_PLACEHOLDER&quot;,JSON.stringify(e,null,2)),o=await(0,a.$7)(t,&quot;ç®€å•JSONç”Ÿæˆ&quot;,!1,3,!1);if(!o||&quot;object&quot;!=typeof" o)throw="" new="" error("aiè¿”å›çš„å“åº”ä¸æ˜¯æœ‰æ•ˆçš„jsonå¯¹è±¡");return="" console.log("ã€ç®€å•å“åº”ã€‘æˆåŠŸç”Ÿæˆ:",o),o}catch(e){if(console.error("ã€ç®€å•å“åº”ã€‘ç”Ÿæˆè¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯:",e),e="" instanceof="" error)throw="" error(`ç”Ÿæˆç®€å•å“åº”å¤±è´¥:="" ${e.message}`);throw="" error(`ç”Ÿæˆç®€å•å“åº”æ—¶å‘ç”ŸæœªçŸ¥é”™è¯¯:="" ${string(e)}`)}}async="" p(e,n,a){if(console.log("ã€ç¥è¯†å°è®°ã€‘å‡†å¤‡è°ƒç”¨aiç”Ÿæˆå¤©é“åˆè¨€ï¼Œæ•°æ®:",{initialgamedata:e,mapdata:n}),!e||!e.baseinfo||!e.creationdetails)throw="" console.error("ã€ç¥è¯†å°è®°-è‡´å‘½é”™è¯¯ã€‘initialgamedata="" æˆ–å…¶æ ¸å¿ƒå±æ€§ç¼ºå¤±",e),new="" error("åˆå§‹æ¸¸æˆæ•°æ®ä¸å®Œæ•´ï¼Œæ— æ³•å¼€å§‹ç”Ÿæˆã€‚");if(!e.baseinfo.å…ˆå¤©å…­å¸)throw="" console.error("ã€ç¥è¯†å°è®°-è‡´å‘½é”™è¯¯ã€‘å…ˆå¤©å…­å¸æ•°æ®ç¼ºå¤±",e.baseinfo),new="" error("è§’è‰²æ ¸å¿ƒå±æ€§â€œå…ˆå¤©å…­å¸â€æ•°æ®ç¼ºå¤±ï¼Œæ— æ³•ç»§ç»­ã€‚");console.log("ã€ç¥è¯†å°è®°ã€‘æ ¸å¿ƒæ•°æ®æ ¡éªŒé€šè¿‡");try{console.log("ã€æ•°æ®ç¼“å­˜ã€‘ç¼“å­˜ç°æœ‰ä¸–ç•Œæ•°æ®...");const{gettavernhelper:n}="await" promise.resolve().then(t.bind(t,8651)),l="n();let" i="null,c=null;if(l)try{const" e="await" l.getvariables({type:"chat"});c="e||{};const" n="e[&quot;ä¸–ç•Œä¿¡æ¯&quot;];n?(i=JSON.parse(JSON.stringify(n)),i&amp;&amp;console.log(&quot;ã€æ•°æ®ç¼“å­˜ã€‘å·²ç¼“å­˜ä¸–ç•Œæ•°æ®:&quot;,{ä¸–ç•Œåç§°:i.ä¸–ç•Œåç§°,å¤§é™†æ•°é‡:i.å¤§é™†ä¿¡æ¯?.length||0,åŠ¿åŠ›æ•°é‡:i.åŠ¿åŠ›ä¿¡æ¯?.length||0,åœ°ç‚¹æ•°é‡:i.åœ°ç‚¹ä¿¡æ¯?.length||0})):console.log(&quot;ã€æ•°æ®ç¼“å­˜ã€‘æœªå‘ç°ç°æœ‰ä¸–ç•Œæ•°æ®&quot;)}catch(e){console.warn(&quot;ã€æ•°æ®ç¼“å­˜ã€‘ç¼“å­˜è¿‡ç¨‹ä¸­å‡ºç°è­¦å‘Š:&quot;,e)}else" console.warn("ã€æ•°æ®ç¼“å­˜ã€‘é…’é¦†è¿æ¥ä¸å¯ç”¨ï¼Œè·³è¿‡æ•°æ®ç¼“å­˜");const="" ai="" åˆ›é€ æ€§ç”Ÿæˆ"),"éšæœºçµæ ¹"!="=m&amp;&amp;(&quot;string&quot;!=typeof(r=m)||&quot;éšæœºçµæ ¹&quot;!==r&amp;&amp;!r.includes(&quot;éšæœº&quot;))||console.log(&quot;ã€éšæœºçµæ ¹ã€‘æ£€æµ‹åˆ°éšæœºçµæ ¹ï¼Œå°†ç”±" åˆ›é€ æ€§ç”Ÿæˆ");const="" p="e=">Math.max(0,Math.min(10,Math.round(e??0))),v={æ ¹éª¨:p(e.baseInfo.å…ˆå¤©å…­å¸?.æ ¹éª¨??0),çµæ€§:p(e.baseInfo.å…ˆå¤©å…­å¸?.çµæ€§??0),æ‚Ÿæ€§:p(e.baseInfo.å…ˆå¤©å…­å¸?.æ‚Ÿæ€§??0),æ°”è¿:p(e.baseInfo.å…ˆå¤©å…­å¸?.æ°”è¿??0),é­…åŠ›:p(e.baseInfo.å…ˆå¤©å…­å¸?.é­…åŠ›??0),å¿ƒæ€§:p(e.baseInfo.å…ˆå¤©å…­å¸?.å¿ƒæ€§??0)};console.log("ã€å±æ€§éªŒè¯ã€‘ç¡®ä¿å…ˆå¤©å…­å¸åœ¨0-10èŒƒå›´å†…:",v);const u={};if(console.log("ã€å…³é”®è¯Šæ–­ã€‘initialGameData.availableContinents:",e.availableContinents),console.log("ã€å…³é”®è¯Šæ–­ã€‘initialGameData.availableLocations:",e.availableLocations),console.log("ã€å…³é”®è¯Šæ–­ã€‘initialGameData.worldInfo:",e.worldInfo),e.availableContinents&amp;&amp;e.availableContinents.length&gt;0){console.log("ã€æ•°æ®æºã€‘ä½¿ç”¨ç›´æ¥ä¼ å…¥çš„ availableContinents æ•°ç»„"),console.log("ã€æ•°æ®éªŒè¯ã€‘å¤§é™†æ•°é‡:",e.availableContinents.length),console.log("ã€æ•°æ®éªŒè¯ã€‘å¤§é™†åç§°åˆ—è¡¨:",e.availableContinents.map(e=&gt;e.åç§°).join("ã€"));const n={ä¸–ç•Œåç§°:e.worldInfo?.ä¸–ç•Œåç§°||"æœªçŸ¥ä¸–ç•Œ",ä¸–ç•ŒèƒŒæ™¯:e.worldInfo?.ä¸–ç•ŒèƒŒæ™¯||"",å¤§é™†ä¿¡æ¯:e.availableContinents,åŠ¿åŠ›ä¿¡æ¯:e.worldInfo?.åŠ¿åŠ›ä¿¡æ¯||[],åœ°ç‚¹ä¿¡æ¯:e.availableLocations||[]};u["ä¸–ç•Œä¿¡æ¯"]=n,console.log("ã€æˆåŠŸã€‘ä¸–ç•Œä¿¡æ¯å·²åŠ è½½åˆ°æç¤ºè¯"),console.log("ã€æˆåŠŸã€‘å¤§é™†æ•°é‡:",n.å¤§é™†ä¿¡æ¯.length),console.log("ã€æˆåŠŸã€‘åœ°ç‚¹æ•°é‡:",n.åœ°ç‚¹ä¿¡æ¯.length)}else if(e.worldInfo&amp;&amp;e.worldInfo.å¤§é™†ä¿¡æ¯){console.log("ã€æ•°æ®æºã€‘ä½¿ç”¨ä¼ å…¥çš„ worldInfo å¯¹è±¡");const n=e.worldInfo,t={ä¸–ç•Œåç§°:n.ä¸–ç•Œåç§°,ä¸–ç•ŒèƒŒæ™¯:n.ä¸–ç•ŒèƒŒæ™¯,å¤§é™†ä¿¡æ¯:n.å¤§é™†ä¿¡æ¯?.map(e=&gt;({åç§°:e.åç§°||e.name,æè¿°:e.æè¿°||e.description,å¤§æ´²è¾¹ç•Œ:e.å¤§æ´²è¾¹ç•Œ||e.continent_bounds})),åŠ¿åŠ›ä¿¡æ¯:n.åŠ¿åŠ›ä¿¡æ¯?.map(e=&gt;({åç§°:e.åç§°,ç±»å‹:e.ç±»å‹,ä½ç½®:e.ä½ç½®,åŠ¿åŠ›èŒƒå›´:e.åŠ¿åŠ›èŒƒå›´})),åœ°ç‚¹ä¿¡æ¯:n.åœ°ç‚¹ä¿¡æ¯?.map(e=&gt;({åç§°:e.åç§°,ç±»å‹:e.ç±»å‹,ä½ç½®:e.ä½ç½®,coordinates:e.coordinates}))};u["ä¸–ç•Œä¿¡æ¯"]=t,console.log("ã€æˆåŠŸã€‘ä» worldInfo å¯¹è±¡æå–ä¸–ç•Œä¿¡æ¯"),console.log("ã€æˆåŠŸã€‘å¤§é™†æ•°é‡:",t.å¤§é™†ä¿¡æ¯?.length||0)}else if(console.warn("ã€è­¦å‘Šã€‘æœªä»å‚æ•°ä¸­è·å–åˆ°ä¸–ç•Œä¿¡æ¯ï¼Œå°è¯•ä»é…’é¦†å˜é‡è¯»å–"),c&amp;&amp;c["ä¸–ç•Œä¿¡æ¯"]){const e=c["ä¸–ç•Œä¿¡æ¯"],n={ä¸–ç•Œåç§°:e.ä¸–ç•Œåç§°,ä¸–ç•ŒèƒŒæ™¯:e.ä¸–ç•ŒèƒŒæ™¯,å¤§é™†ä¿¡æ¯:e.å¤§é™†ä¿¡æ¯?.map(e=&gt;({åç§°:e.åç§°||e.name,æè¿°:e.æè¿°||e.description,å¤§æ´²è¾¹ç•Œ:e.å¤§æ´²è¾¹ç•Œ||e.continent_bounds})),åŠ¿åŠ›ä¿¡æ¯:e.åŠ¿åŠ›ä¿¡æ¯?.map(e=&gt;({åç§°:e.åç§°,ç±»å‹:e.ç±»å‹,ä½ç½®:e.ä½ç½®,åŠ¿åŠ›èŒƒå›´:e.åŠ¿åŠ›èŒƒå›´})),åœ°ç‚¹ä¿¡æ¯:e.åœ°ç‚¹ä¿¡æ¯?.map(e=&gt;({åç§°:e.åç§°,ç±»å‹:e.ç±»å‹,ä½ç½®:e.ä½ç½®,coordinates:e.coordinates}))};u["ä¸–ç•Œä¿¡æ¯"]=n,console.log("ã€å¤‡ç”¨ã€‘ä»é…’é¦†å˜é‡è¯»å–åˆ°ä¸–ç•Œä¿¡æ¯"),console.log("ã€å¤‡ç”¨ã€‘å¤§é™†æ•°é‡:",n.å¤§é™†ä¿¡æ¯?.length||0)}else console.error("ã€è‡´å‘½é”™è¯¯ã€‘æ— æ³•ä»ä»»ä½•æ¥æºè·å–ä¸–ç•Œä¿¡æ¯ï¼"),console.error("ã€è‡´å‘½é”™è¯¯ã€‘initialGameData keys:",Object.keys(e));let g="";try{const e=c?.["è®°å¿†_çŸ­æœŸ"];Array.isArray(e)&amp;&amp;e.length&gt;0&amp;&amp;"string"==typeof e[e.length-1]&amp;&amp;(g=String(e[e.length-1]))}catch(e){console.warn("ã€ç¥è¯†å°è®°ã€‘æå–ä¸Šä¸€æ¡æ–‡æœ¬å¤±è´¥ï¼ˆå¯å¿½ç•¥ï¼‰:",e)}const f={name:e.baseInfo.åå­—||"åŒ¿å",gender:e.baseInfo.æ€§åˆ«||"ç”·",age:Number(e?.creationDetails?.age||16),world:e.baseInfo.ä¸–ç•Œ||"æœªçŸ¥ä¸–ç•Œ",talentTier:e.baseInfo.å¤©èµ„è¯¦æƒ…||e.baseInfo.å¤©èµ„||"å‡¡äºº",origin:e.baseInfo.å‡ºèº«è¯¦æƒ…||e.baseInfo.å‡ºç”Ÿ||"å¹³æ°‘å‡ºèº«",spiritRoot:e.baseInfo.çµæ ¹è¯¦æƒ…||e.baseInfo.çµæ ¹||"åºŸçµæ ¹",talents:Array.isArray(e.baseInfo.å¤©èµ‹è¯¦æƒ…)?e.baseInfo.å¤©èµ‹è¯¦æƒ…:Array.isArray(e.baseInfo.å¤©èµ‹)?e.baseInfo.å¤©èµ‹:[],attributes:v};console.log("ã€ç¥è¯†å°è®°ã€‘æ„å»ºçš„ç”¨æˆ·é€‰æ‹©ä¿¡æ¯:",f);const b=f.age,h=v,y=Math.max(30,80+6*h.æ ¹éª¨+Math.floor(2*h.å¿ƒæ€§)),x=Math.max(0,6*h.çµæ€§),k=Math.max(10,10+2*h.æ‚Ÿæ€§+Math.floor(h.å¿ƒæ€§)),w=Math.max(40,80+2*h.æ ¹éª¨+3*h.æ°”è¿),N=b,E={åŸºçº¿æ•°å€¼:{æ°”è¡€:{å½“å‰:y,ä¸Šé™:y},çµæ°”:{å½“å‰:0,ä¸Šé™:x},ç¥è¯†:{å½“å‰:k,ä¸Šé™:k},å¯¿å‘½:{å½“å‰:N,ä¸Šé™:w}},å…ˆå¤©å…­å¸:h,å¤©èµ„:f.talentTier,çµæ ¹:f.spiritRoot};try{const{getTavernHelper:e}=await Promise.resolve().then(t.bind(t,8651)),n=e();if(n){const e={æ°”è¡€:{å½“å‰:y,ä¸Šé™:y},çµæ°”:{å½“å‰:0,ä¸Šé™:x},ç¥è¯†:{å½“å‰:k,ä¸Šé™:k},å¯¿å‘½:{å½“å‰:N,ä¸Šé™:w}},{deepCleanForClone:a}=await Promise.resolve().then(t.bind(t,3098)),o=a({å±æ€§:e});await n.insertOrAssignVariables(o,{type:"chat"}),console.log("[åˆå§‹åŒ–åŸºçº¿] å·²å†™å…¥ç©å®¶è§’è‰²å±æ€§åŸºçº¿: ",e)}}catch(e){console.warn("[åˆå§‹åŒ–åŸºçº¿] å†™å…¥ç©å®¶è§’è‰²çŠ¶æ€åŸºçº¿å¤±è´¥ï¼ˆéè‡´å‘½ï¼‰ï¼š",e)}const V={character_creation:{selections:f,derived_stats:E},reference:{chatVariables:u||{},last_text:g,note:'ã€å¼ºåˆ¶ã€‘æ‰€æœ‰è·¯å¾„å¿…é¡»ä»¥ saveData. å¼€å¤´ã€‚ã€å¼ºåˆ¶ã€‘æ‰€æœ‰ç‰©å“ï¼Œæ— è®ºç±»å‹ï¼ˆè£…å¤‡/åŠŸæ³•/ä¸¹è¯ç­‰ï¼‰ï¼Œéƒ½å¿…é¡»ç»Ÿä¸€å†™å…¥ "èƒŒåŒ….ç‰©å“" å¯¹è±¡ä¸­ï¼Œå¹¶ä½¿ç”¨ç‰©å“IDä½œä¸ºé”®ã€‚ã€ä¸¥ç¦ã€‘ä¸¥ç¦åˆ›å»º "èƒŒåŒ….è£…å¤‡" æˆ– "èƒŒåŒ….åŠŸæ³•" ç­‰è‡ªå®šä¹‰è·¯å¾„ã€‚ã€å‚è€ƒã€‘ä¸¥æ ¼åŒ¹é…å‚è€ƒä¸­å·²æœ‰å­—æ®µç»“æ„ã€‚ä¾‹å¦‚ï¼šsaveData.ç©å®¶è§’è‰²çŠ¶æ€.æ°”è¡€.å½“å‰'}},C=(0,o.IJ)(f),z=`# ä¸–ç•Œä¿¡æ¯æ•°æ®\n\n    ğŸ”¥ **å¯ç”¨å¤§é™†åç§°**ï¼ˆä½ç½®ç¬¬ä¸€å±‚å¿…é¡»ä»è¿™é‡Œé€‰æ‹©ï¼‰ï¼š\n    ${u["ä¸–ç•Œä¿¡æ¯"]&amp;&amp;u["ä¸–ç•Œä¿¡æ¯"].å¤§é™†ä¿¡æ¯?.map(e=&gt;e.åç§°).join("ã€")||"æœªçŸ¥"}\n\n    **å¤§é™†è¯¦ç»†ä¿¡æ¯**ï¼š\n    ${u["ä¸–ç•Œä¿¡æ¯"]?JSON.stringify(u["ä¸–ç•Œä¿¡æ¯"].å¤§é™†ä¿¡æ¯,null,2):"[]"}\n\n    **å¯ç”¨åœ°ç‚¹åˆ—è¡¨**ï¼š\n    ${u["ä¸–ç•Œä¿¡æ¯"]?JSON.stringify(u["ä¸–ç•Œä¿¡æ¯"].åœ°ç‚¹ä¿¡æ¯,null,2):"[]"}\n\nâš ï¸ **å…³é”®è¦æ±‚**ï¼š\n- ä½ç½®çš„ç¬¬ä¸€å±‚å¿…é¡»ä½¿ç”¨ä¸Šæ–¹"å¯ç”¨å¤§é™†åç§°"ä¸­çš„ä¸€ä¸ªåç§°\n- ä¸¥ç¦ç¼–é€ ä¸å­˜åœ¨çš„å¤§é™†åï¼`,S=`# ç©å®¶æ ¸å¿ƒé€‰æ‹©\n\n${JSON.stringify(V,null,2)}\n\n${a||""}`;console.log("ã€åˆå§‹åŒ–ã€‘ä½¿ç”¨å¤šæ¶ˆæ¯æ ¼å¼ï¼Œç³»ç»Ÿè§„åˆ™:",C.length,"å­—ç¬¦"),console.log("ã€åˆå§‹åŒ–ã€‘ä¸–ç•Œæ•°æ®:",z.length,"å­—ç¬¦"),console.log("ã€åˆå§‹åŒ–ã€‘ç”¨æˆ·è¾“å…¥:",S.length,"å­—ç¬¦");const B=n();if(!B)throw console.error("ã€åˆå§‹åŒ–-è‡´å‘½é”™è¯¯ã€‘é…’é¦†åŠ©æ‰‹æœªåˆå§‹åŒ–"),new Error("é…’é¦†åŠ©æ‰‹æœªåˆå§‹åŒ–");const D=C.length+z.length+S.length;let A,_;console.log("ã€åˆå§‹åŒ–ã€‘å‡†å¤‡è°ƒç”¨AIï¼Œæç¤ºè¯æ€»é•¿åº¦:",D,"å­—ç¬¦"),d.o.info("å¤©æœºè¿è½¬ï¼Œæ¨æ¼”å¤©é“åˆè¨€...");try{A=await B.generate({user_input:S,overrides:{chat_history:{prompts:[{role:"system",content:C},{role:"system",content:z}]}},max_chat_history:0})}catch(e){throw console.error("ã€åˆå§‹åŒ–-é”™è¯¯ã€‘è°ƒç”¨helper.generateå¤±è´¥:",e),new Error("è°ƒç”¨AIæ¥å£å¤±è´¥: "+(e instanceof Error?e.message:String(e)))}if(console.log("ã€åˆå§‹åŒ–-è°ƒè¯•ã€‘AIåŸå§‹è¿”å›ç±»å‹:",typeof A),console.log("ã€åˆå§‹åŒ–-è°ƒè¯•ã€‘AIåŸå§‹è¿”å›å€¼æ˜¯å¦ä¸ºç©º:",null==A||""===A),console.log("ã€åˆå§‹åŒ–-è°ƒè¯•ã€‘AIåŸå§‹è¿”å›å€¼å‰500å­—ç¬¦:","string"==typeof A?A.substring(0,500):JSON.stringify(A).substring(0,500)),!A||""===A||null==A)throw console.error("ã€åˆå§‹åŒ–-é”™è¯¯ã€‘AIè¿”å›äº†ç©ºå€¼:",A),new Error("AIè¿”å›ç©ºå“åº”ï¼Œå¯èƒ½æ˜¯APIè°ƒç”¨å¤±è´¥æˆ–è¢«æ‹¦æˆª");if("object"==typeof A&amp;&amp;A&amp;&amp;"error"in A){const e=A.error,n=e.message||JSON.stringify(e);throw console.error("ã€åˆå§‹åŒ–-é”™è¯¯ã€‘AIæœåŠ¡è¿”å›é”™è¯¯:",n),console.error("ã€åˆå§‹åŒ–-é”™è¯¯ã€‘å®Œæ•´é”™è¯¯å¯¹è±¡:",A),new Error(`AIæœåŠ¡é”™è¯¯: ${n}ã€‚è¿™å¯èƒ½æ˜¯ç”±äºï¼š1) æç¤ºè¯è¿‡é•¿è¶…è¿‡æ¨¡å‹ä¸Šä¸‹æ–‡é™åˆ¶ 2) æœåŠ¡ç«¯æš‚æ—¶ä¸å¯ç”¨ 3) APIé…ç½®é—®é¢˜ã€‚è¯·ç¨åé‡è¯•ã€‚`)}try{if("string"==typeof A){let e=A.trim();if(!e)throw console.error("ã€åˆå§‹åŒ–-é”™è¯¯ã€‘AIè¿”å›äº†ç©ºå­—ç¬¦ä¸²"),new Error("AIè¿”å›ç©ºå­—ç¬¦ä¸²");if(e.startsWith("```json")?e=e.substring(7):e.startsWith("```")&amp;&amp;(e=e.substring(3)),e.endsWith("```")&amp;&amp;(e=e.substring(0,e.length-3)),e=e.trim(),console.log("ã€åˆå§‹åŒ–-è°ƒè¯•ã€‘æ¸…ç†åçš„JSONå‰500å­—ç¬¦:",e.substring(0,500)),!e)throw console.error("ã€åˆå§‹åŒ–-é”™è¯¯ã€‘æ¸…ç†åçš„æ–‡æœ¬ä¸ºç©º"),new Error("æ¸…ç†Markdownæ ‡è®°åæ–‡æœ¬ä¸ºç©º");_=JSON.parse(e)}else{if(!A||"object"!=typeof A)throw console.error("ã€åˆå§‹åŒ–-é”™è¯¯ã€‘AIè¿”å›äº†æ„å¤–çš„ç±»å‹:",typeof A,A),new Error("AIè¿”å›æ•°æ®ç±»å‹æ— æ•ˆ: "+typeof A);_=A}}catch(e){throw console.error("ã€åˆå§‹åŒ–-é”™è¯¯ã€‘è§£æAIè¿”å›å€¼å¤±è´¥:",e),console.error("ã€åˆå§‹åŒ–-é”™è¯¯ã€‘åŸå§‹è¿”å›å€¼ç±»å‹:",typeof A),console.error("ã€åˆå§‹åŒ–-é”™è¯¯ã€‘åŸå§‹è¿”å›å€¼å†…å®¹(å‰2000å­—ç¬¦):","string"==typeof A?A.substring(0,2e3):JSON.stringify(A).substring(0,2e3)),new Error("AIè¿”å›æ•°æ®æ ¼å¼æ— æ•ˆ: "+(e instanceof Error?e.message:String(e)))}if(console.log("ã€ç¥è¯†å°è®°-è°ƒè¯•ã€‘AIåŸå§‹è¿”å›ç»“æœ:",JSON.stringify(_,null,2)),!_||"object"!=typeof _)throw console.warn("ã€ç¥è¯†å°è®°ã€‘AIè¿”å›çš„åˆå§‹æ¶ˆæ¯ç»“æ„æ— æ•ˆï¼Œå°†æŠ›å‡ºé”™è¯¯ä»¥è§¦å‘é‡è¯•:",_),new Error("AIç”Ÿæˆçš„åˆå§‹æ¶ˆæ¯æ ¼å¼æ— æ•ˆæˆ–å†…å®¹ç¼ºå¤±");if(!_.text||"string"!=typeof _.text||!_.text.trim())throw console.warn("ã€ç¥è¯†å°è®°ã€‘AIè¿”å›çš„æ¶ˆæ¯ç¼ºå°‘textå­—æ®µæˆ–ç©º:",_),new Error("AIç”Ÿæˆçš„åˆå§‹æ¶ˆæ¯ç¼ºå°‘å¿…éœ€å­—æ®µtext");if(_.tavern_commands&amp;&amp;!Array.isArray(_.tavern_commands)&amp;&amp;"object"==typeof _.tavern_commands){const e=_.tavern_commands,n=[],t=Object.keys(e);if(t.every(e=&gt;/^\d+$/.test(e))){console.log("ã€æ ¼å¼ä¿®å¤ã€‘æ£€æµ‹åˆ°æ•°å­—ç´¢å¼•çš„tavern_commandsæ ¼å¼ï¼Œæ­£åœ¨è½¬æ¢...");for(const a of t){const t=e[a];if(t&amp;&amp;"object"==typeof t){const e=t;e.action&amp;&amp;e.key&amp;&amp;n.push({action:String(e.action),scope:String(e.scope||"chat"),key:String(e.key),value:e.value})}}}else{const t=(e,t)=&gt;{if(e)if(Array.isArray(e))for(const a of e){if(!a)continue;const e=a.key||a.path||a.target;if(e)n.push({action:t,scope:a.scope||"chat",key:e,value:a.value});else if(Array.isArray(a)){const[e,o]=a;n.push({action:t,scope:"chat",key:e,value:o})}}else if("object"==typeof e&amp;&amp;null!==e)for(const a of Object.keys(e))n.push({action:t,scope:"chat",key:a,value:e[a]})};["set","add","push","pull","delete"].forEach(n=&gt;t(e[n],n))}_.tavern_commands=n,console.log("ã€æ ¼å¼ä¿®å¤ã€‘è½¬æ¢åçš„tavern_commandsæ•°é‡:",n.length)}_.tavern_commands||(console.warn("ã€ç¥è¯†å°è®°ã€‘AIæœªè¿”å›tavern_commandsï¼Œè®¾ç½®ä¸ºç©ºæ•°ç»„"),_.tavern_commands=[]),Array.isArray(_.tavern_commands)||(console.warn("ã€ç¥è¯†å°è®°ã€‘tavern_commandsä¸æ˜¯æ•°ç»„æ ¼å¼ï¼Œå¼ºåˆ¶è®¾ç½®ä¸ºç©ºæ•°ç»„"),_.tavern_commands=[]),Array.isArray(_.tavern_commands)?(console.log("ã€ç¥è¯†å°è®°ã€‘éªŒè¯tavern_commandsæ ¼å¼ï¼ŒåŸå§‹å‘½ä»¤æ•°é‡:",_.tavern_commands.length),console.log("ã€ç¥è¯†å°è®°-è¯¦ç»†ã€‘AIç”Ÿæˆçš„æ‰€æœ‰å‘½ä»¤:",JSON.stringify(_.tavern_commands,null,2)),_.tavern_commands=_.tavern_commands.map(e=&gt;{if(!e)return null;e.action||(e.action="set");const n=e.key;return n?(e.key=String(n),(e.key.includes("è£…å¤‡")||e.key.includes("ç‰©å“"))&amp;&amp;console.log("ã€è£…å¤‡å‘½ä»¤æ£€æµ‹ã€‘",{action:e.action,key:e.key,hasValue:!!e.value,valueType:typeof e.value,value:e.value}),e.scope||(e.scope="chat"),e.key=(e=&gt;{let n=String(e||"").trim();return n.startsWith("character.saveData.")&amp;&amp;(n=n.substring(19)),n.startsWith("character.")&amp;&amp;(n=n.substring(10)),n.startsWith("ç‰©å“.")&amp;&amp;(n=n.replace("ç‰©å“.","èƒŒåŒ…_ç‰©å“.")),("èƒŒåŒ….çµçŸ³"===n||n.startsWith("èƒŒåŒ….çµçŸ³."))&amp;&amp;(n=n.replace("èƒŒåŒ….çµçŸ³","èƒŒåŒ…_çµçŸ³")),("èƒŒåŒ….ç‰©å“"===n||n.startsWith("èƒŒåŒ….ç‰©å“."))&amp;&amp;(n=n.replace("èƒŒåŒ….ç‰©å“","èƒŒåŒ…_ç‰©å“")),n.startsWith("inventory.items")&amp;&amp;(n=n.replace("inventory.items","èƒŒåŒ…_ç‰©å“")),n.startsWith("inventory.currency.çµçŸ³")&amp;&amp;(n=n.replace("inventory.currency.çµçŸ³","èƒŒåŒ…_çµçŸ³")),n.startsWith("å…³ç³»ç½‘")&amp;&amp;(n=n.replace("å…³ç³»ç½‘","äººç‰©å…³ç³»")),n})(e.key),e):(console.warn("ã€ç¥è¯†å°è®°ã€‘ç¼ºå°‘keyï¼Œè·³è¿‡:",e),null)}).filter(e=&gt;null!==e),console.log("ã€ç¥è¯†å°è®°ã€‘æœ‰æ•ˆçš„tavern_commandsæ•°é‡:",_.tavern_commands.length)):(console.warn("ã€ç¥è¯†å°è®°ã€‘AIè¿”å›çš„tavern_commandsä¸æ˜¯æ•°ç»„æ ¼å¼ï¼Œè®¾ç½®ä¸ºç©ºæ•°ç»„"),_.tavern_commands=[]),console.log("ã€ç¥è¯†å°è®°ã€‘æˆåŠŸç”Ÿæˆå¤©é“åˆè¨€ï¼Œå‘½ä»¤æ•°é‡:",_.tavern_commands?.length||0),console.log("ã€è£…å¤‡éªŒè¯ã€‘å¼€å§‹æ£€æŸ¥è£…å¤‡å®Œæ•´æ€§...");const $=_.tavern_commands?.filter(e=&gt;e.key&amp;&amp;e.key.includes("è£…å¤‡æ "))||[],I=_.tavern_commands?.filter(e=&gt;e.key&amp;&amp;e.key.includes("èƒŒåŒ….ç‰©å“."))||[];console.log("ã€è£…å¤‡éªŒè¯ã€‘æ‰¾åˆ°è£…å¤‡å‘½ä»¤æ•°é‡:",$.length),console.log("ã€è£…å¤‡éªŒè¯ã€‘æ‰¾åˆ°ç‰©å“åˆ›å»ºå‘½ä»¤æ•°é‡:",I.length);const T=[];if($.forEach(e=&gt;{if(e.value&amp;&amp;"object"==typeof e.value){const n=e.value,t=n["ç‰©å“ID"]||n.itemId;if(t&amp;&amp;!I.some(e=&gt;e.key&amp;&amp;e.key.includes(String(t)))){console.warn("ã€è£…å¤‡éªŒè¯ã€‘å‘ç°æ— æ•ˆè£…å¤‡å¼•ç”¨ï¼Œå°†æ¸…é™¤:",{itemId:t,slotKey:e.key});const n=_.tavern_commands?.indexOf(e);void 0!==n&amp;&amp;n&gt;=0&amp;&amp;T.push(n)}}}),T.length&gt;0){T.sort((e,n)=&gt;n-e);for(const e of T)_.tavern_commands?.splice(e,1);console.warn(`ã€è£…å¤‡éªŒè¯ã€‘å·²æ¸…é™¤ ${T.length} ä¸ªæ— æ•ˆè£…å¤‡å¼•ç”¨`),console.log("ã€è£…å¤‡éªŒè¯ã€‘æ¸…ç†åçš„å‘½ä»¤æ€»æ•°:",_.tavern_commands?.length)}else console.log("ã€è£…å¤‡éªŒè¯ã€‘æ‰€æœ‰è£…å¤‡å¼•ç”¨éƒ½æœ‰æ•ˆï¼Œé€šè¿‡éªŒè¯");if(i){if(console.log("ã€æ•°æ®æ¤å…¥ã€‘å°†ç¼“å­˜çš„ä¸–ç•Œæ•°æ®æ¤å…¥AIç”Ÿæˆç»“æœ"),_.tavern_commands){const e=_.tavern_commands.length;_.tavern_commands=_.tavern_commands.filter(e=&gt;!e.key||!e.key.includes("ä¸–ç•Œä¿¡æ¯")&amp;&amp;!e.key.includes("world_")),e!==_.tavern_commands.length&amp;&amp;console.log("ã€æ•°æ®æ¤å…¥ã€‘å·²è¿‡æ»¤AIç”Ÿæˆçš„ä¸–ç•Œç›¸å…³å‘½ä»¤ï¼Œé¿å…æ•°æ®å†²çª")}_.tavern_commands||(_.tavern_commands=[]),_.tavern_commands.push({action:"set",scope:"chat",key:"ä¸–ç•Œä¿¡æ¯",value:i}),console.log("ã€æ•°æ®æ¤å…¥ã€‘å·²æ·»åŠ ä¸–ç•Œæ•°æ®æ¤å…¥å‘½ä»¤ï¼Œç¡®ä¿ä¸–ç•Œæ•°æ®å®Œæ•´ä¿å­˜")}else console.log("ã€æ•°æ®æ¤å…¥ã€‘æ— ç¼“å­˜çš„ä¸–ç•Œæ•°æ®ï¼Œä½¿ç”¨AIç”Ÿæˆçš„é»˜è®¤æ•°æ®");return console.log("ã€éªŒè¯ã€‘AIç”Ÿæˆçš„å‘½ä»¤æ•°é‡:",_.tavern_commands?.length||0),{..._,processedOrigin:s,processedSpiritRoot:m,cachedWorldData:i}}catch(e){if(console.error("ã€ç¥è¯†å°è®°ã€‘ç”Ÿæˆå¤©é“åˆè¨€è¿‡ç¨‹ä¸­å‘ç”Ÿä¸¥é‡é”™è¯¯:",e),e instanceof Error)throw new Error(`ç”Ÿæˆåˆå§‹æ¶ˆæ¯å¤±è´¥: ${e.message}\n${e.stack}`);throw new Error(`ç”Ÿæˆåˆå§‹æ¶ˆæ¯æ—¶å‘ç”ŸæœªçŸ¥é”™è¯¯: ${String(e)}`)}var r}async function v(e,n,a){console.log("ã€å‰§æƒ…æ¨è¿›ã€‘å‡†å¤‡ç”Ÿæˆæ¸¸æˆGMå“åº”ï¼Œæ•°æ®:",{currentGameData:e,playerAction:n});try{console.log("ã€ä¼˜åŒ–ã€‘ä½¿ç”¨ currentGameData å‚æ•°ï¼Œä¸å†é‡å¤è·å–é…’é¦†å˜é‡");const o=e=&gt;{try{const n=e?.ç©å®¶è§’è‰²çŠ¶æ€||{},t={å‡¡äºº:0,ç»ƒæ°”:1,ç‚¼æ°”:1,ç­‘åŸº:2,é‡‘ä¸¹:3,å…ƒå©´:4,åŒ–ç¥:5,ç‚¼è™š:6,åˆä½“:7,æ¸¡åŠ«:8}[String(n?.["å¢ƒç•Œ"]?.["åç§°"]||"å‡¡äºº")]||0,a={hp:n?.æ°”è¡€||{å½“å‰:0,ä¸Šé™:0},mp:n?.çµæ°”||{å½“å‰:0,ä¸Šé™:0},spirit:n?.ç¥è¯†||{å½“å‰:0,ä¸Šé™:0},lifespan:n?.å¯¿å‘½||{å½“å‰:0,ä¸Šé™:0}},o=e?.è§’è‰²åŸºç¡€ä¿¡æ¯?.å…ˆå¤©å…­å¸||{},r=e=&gt;Math.max(0,Math.min(10,Number(e||0))),l={æ ¹éª¨:r(o?.æ ¹éª¨),çµæ€§:r(o?.çµæ€§),æ‚Ÿæ€§:r(o?.æ‚Ÿæ€§),æ°”è¿:r(o?.æ°”è¿),é­…åŠ›:r(o?.é­…åŠ›),å¿ƒæ€§:r(o?.å¿ƒæ€§)},i=Object.values(l).reduce((e,n)=&gt;e+n,0),c=e?.è£…å¤‡æ ||{};let s=0;const d=[];["è£…å¤‡1","è£…å¤‡2","è£…å¤‡3","è£…å¤‡4","è£…å¤‡5","è£…å¤‡6"].forEach(e=&gt;{const n=c?.[e];if(n&amp;&amp;"object"==typeof n){d.push(n.åç§°||e);const t=n.è£…å¤‡å¢å¹…||{};if(s+=.5*Number(t?.æ°”è¡€ä¸Šé™||0),s+=.3*Number(t?.çµæ°”ä¸Šé™||0),s+=.2*Number(t?.ç¥è¯†ä¸Šé™||0),t?.åå¤©å…­å¸){const e=Object.values(t.åå¤©å…­å¸).reduce((e,n)=&gt;e+Number(n||0),0);s+=2*e}}});const m=Number(a.hp?.æœ€å¤§||a.hp?.ä¸Šé™||0),p=Number(a.mp?.æœ€å¤§||a.mp?.ä¸Šé™||0),v=Number(a.spirit?.æœ€å¤§||a.spirit?.ä¸Šé™||0),u=Math.round(100*t+.5*m+.3*p+.2*v+2*i+s),g=Array.isArray(n?.çŠ¶æ€æ•ˆæœ)?n.çŠ¶æ€æ•ˆæœ.filter(e=&gt;"buff"===String(e?.ç±»å‹).toLowerCase()):[],f={alchemy:{success_chance:Math.round(Math.min(95,Math.max(5,(5*l.æ‚Ÿæ€§+(n?.ç¥è¯†?.å½“å‰||30)/10)/50*50+l.æ°”è¿))),crit_chance:Math.round(Math.max(1,l.æ°”è¿+l.æ‚Ÿæ€§/2)),description:"åŸºäºå½“å‰æ‚Ÿæ€§å’Œç¥è¯†ï¼Œç‚¼ä¸¹æˆåŠŸç‡è¾ƒé«˜ã€‚"},crafting:{success_chance:Math.round(Math.min(95,Math.max(5,(5*l.æ ¹éª¨+(n?.çµæ°”?.å½“å‰||0)/20)/60*50+l.æ°”è¿))),crit_chance:Math.round(Math.max(1,l.æ°”è¿+l.æ ¹éª¨/2)),description:"åŸºäºå½“å‰æ ¹éª¨å’Œçµæ°”ï¼Œç‚¼å™¨æˆåŠŸç‡ä¸­ç­‰ã€‚"},cultivation:{efficiency:(()=&gt;{let n=5;const t=e?.è§’è‰²åŸºç¡€ä¿¡æ¯?.çµæ ¹,a="string"==typeof t?t:t?.åç§°||"";a.includes("ä»™å“")&amp;&amp;(n+=5),a.includes("æå“")&amp;&amp;(n+=3);const o=e?.ä¿®ç‚¼åŠŸæ³•,r=o?.åŠŸæ³•||o;return"ä»™"===r?.å“è´¨?.quality&amp;&amp;(n+=5),"å¤©"===r?.å“è´¨?.quality&amp;&amp;(n+=3),Math.round(n)})(),breakthrough_chance:Math.round(Math.min(80,Math.max(5,10+2*l.å¿ƒæ€§+l.æ°”è¿))),description:"ä»™å“çµæ ¹å’Œä»™å“åŠŸæ³•å¸¦æ¥äº†æé«˜çš„ä¿®ç‚¼æ•ˆç‡ã€‚"},exploration:{risk_level:(()=&gt;{let a=5;const o=n?.["ä½ç½®"]?.["æè¿°"],r="string"==typeof o?o:"object"==typeof o&amp;&amp;null!==o?o.æè¿°:"",i=e?.ä¸–ç•Œä¿¡æ¯,c=i?.åœ°ç‚¹ä¿¡æ¯?.find(e=&gt;e.åç§°===r);return"æå±é™©"===c?.["å®‰å…¨ç­‰çº§"]&amp;&amp;(a+=5),"å±é™©"===c?.["å®‰å…¨ç­‰çº§"]&amp;&amp;(a+=3),Math.round(Math.max(1,Math.min(10,a-(t+l.æ°”è¿/2))))})(),loot_chance:Math.round(Math.min(90,Math.max(10,20+5*l.æ°”è¿))),description:"å½“å‰ä½ç½®è¾ƒä¸ºå±é™©ï¼Œä½†é«˜æ°”è¿å¯èƒ½å¸¦æ¥æ„å¤–æ”¶è·ã€‚"},social:{persuasion_chance:Math.round(Math.min(95,Math.max(5,50+5*l.é­…åŠ›))),intimidation_chance:Math.round(Math.min(95,Math.max(5,20+2*l.æ ¹éª¨+5*t))),description:"é«˜é­…åŠ›ä½¿å¾—è¯´æœä»–äººå˜å¾—å®¹æ˜“ã€‚"}},b=n?.ä½ç½®?.æè¿°,h="string"==typeof b?b:"object"==typeof b&amp;&amp;null!==b?b.æè¿°:"æœªçŸ¥";return{battle_power:u,realm_level:t,location:h,vitals:{hp:a.hp,mp:a.mp,spirit:a.spirit,lifespan:a.lifespan},active_buffs_count:g.length,active_buffs:g.map(e=&gt;e?.çŠ¶æ€åç§°).filter(Boolean).slice(0,10),equipment_names:d,potential_actions:f}}catch{return null}},r=e.saveData||{};o(r);let l=[];try{const e=r?.["è®°å¿†"]||r?.è®°å¿†,n=e?.["çŸ­æœŸè®°å¿†"]||e?.çŸ­æœŸè®°å¿†;Array.isArray(n)&amp;&amp;(l=n.filter(e=&gt;"string"==typeof e))}catch(e){console.warn("ã€æç¤ºè¯è¿ç»­æ€§ã€‘æå–çŸ­æœŸè®°å¿†å¤±è´¥ï¼ˆå¿½ç•¥ï¼‰:",e)}const i=r?.ç³»ç»Ÿ||{nsfwMode:!0,nsfwGenderFilter:"female"},d=!1!==i.nsfwMode,m=i.nsfwGenderFilter||"female";console.log("ã€å‰§æƒ…æ¨è¿›ã€‘ç³»ç»Ÿè®¾ç½®:",{nsfwMode:d,nsfwGenderFilter:m});const{useUIStore:p}=await Promise.resolve().then(t.bind(t,9173)),v=p();let u=function(e,n,t){return c(e,n,t)}(r,v.autoGenerateNpc,v.minNpcCount);u+=`\n\n# å½“å‰ç³»ç»Ÿè®¾ç½®ï¼ˆå¿…é¡»ä¸¥æ ¼éµå®ˆï¼‰\nnsfwMode: ${d}\nnsfwGenderFilter: ${m}\n\n`,d?(u+="âš ï¸ **ã€æœ€é«˜ä¼˜å…ˆçº§-å¼ºåˆ¶æ‰§è¡Œã€‘ç§å¯†ä¿¡æ¯ç”Ÿæˆè§„åˆ™**\n",u+="å½“åˆ›å»ºæˆ–æ›´æ–°NPCæ—¶ï¼Œå¿…é¡»æ£€æŸ¥æ€§åˆ«å¹¶ä¸¥æ ¼æŒ‰ç…§ä»¥ä¸‹è§„åˆ™ç”Ÿæˆç§å¯†ä¿¡æ¯ï¼š\n\n","female"===m?(u+='âœ… å¥³æ€§NPCï¼ˆæ€§åˆ«="å¥³"ï¼‰ï¼šå¿…é¡»ç”Ÿæˆå®Œæ•´çš„ç§å¯†ä¿¡æ¯å¯¹è±¡ï¼ˆ14ä¸ªå¿…å¡«å­—æ®µï¼‰\n',u+='âŒ ç”·æ€§NPCï¼ˆæ€§åˆ«="ç”·"ï¼‰ï¼šä¸ç”Ÿæˆç§å¯†ä¿¡æ¯å­—æ®µ\n\n'):"male"===m?(u+='âœ… ç”·æ€§NPCï¼ˆæ€§åˆ«="ç”·"ï¼‰ï¼šå¿…é¡»ç”Ÿæˆå®Œæ•´çš„ç§å¯†ä¿¡æ¯å¯¹è±¡ï¼ˆ14ä¸ªå¿…å¡«å­—æ®µï¼Œä½¿ç”¨"æ˜¯å¦ä¸ºå¤„ç”·"ï¼‰\n',u+='âŒ å¥³æ€§NPCï¼ˆæ€§åˆ«="å¥³"ï¼‰ï¼šä¸ç”Ÿæˆç§å¯†ä¿¡æ¯å­—æ®µ\n\n'):(u+="âœ… æ‰€æœ‰NPCï¼ˆæ— è®ºæ€§åˆ«ï¼‰ï¼šå¿…é¡»ç”Ÿæˆå®Œæ•´çš„ç§å¯†ä¿¡æ¯å¯¹è±¡ï¼ˆ14ä¸ªå¿…å¡«å­—æ®µï¼‰\n",u+='   - å¥³æ€§ä½¿ç”¨"æ˜¯å¦ä¸ºå¤„å¥³"\n',u+='   - ç”·æ€§ä½¿ç”¨"æ˜¯å¦ä¸ºå¤„ç”·"\n\n'),u+="ğŸ“‹ ç§å¯†ä¿¡æ¯å¿…å¡«å­—æ®µæ¸…å•ï¼ˆç¼ºä¸€ä¸å¯ï¼‰ï¼š\n",u+="1. æ˜¯å¦ä¸ºå¤„å¥³/å¤„ç”· (boolean)\n",u+="2. èº«ä½“éƒ¨ä½ (Arrayï¼Œå¿…é¡»åŒ…å«3-5ä¸ªéƒ¨ä½å¯¹è±¡)\n",u+="   æ¯ä¸ªéƒ¨ä½ï¼š{éƒ¨ä½åç§°, å¼€å‘åº¦(0-100), æ•æ„Ÿåº¦(0-100), ç‰¹å¾æè¿°, ç‰¹æ®Šå°è®°}\n",u+='3. æ€§æ ¼å€¾å‘ (string: "çº¯æƒ…"|"ä¸»åŠ¨"|"è¢«åŠ¨"|"æ·«è¡"|"M"|"S"|"åŒæ€§")\n',u+='4. æ€§å–å‘ (string: "å¼‚æ€§æ‹"|"åŒæ€§æ‹"|"åŒæ€§æ‹"|"æ³›æ€§æ‹")\n',u+="5. æ€§ç™–å¥½ (Array, 0-3ä¸ªå…ƒç´ )\n",u+="6. æ€§æ¸´æœ›ç¨‹åº¦ (number, 0-100)\n",u+='7. å½“å‰æ€§çŠ¶æ€ (string: "æ­£å¸¸"|"å¾®æ¹¿"|"å…´å¥‹"|"å‘æƒ…"|"é«˜æ½®")\n',u+="8. ä½“æ¶²åˆ†æ³ŒçŠ¶æ€ (string, æè¿°æ€§æ–‡å­—)\n",u+="9. æ€§äº¤æ€»æ¬¡æ•° (number, éè´Ÿæ•´æ•°)\n",u+="10. æ€§ä¼´ä¾£æ•°é‡ (number, éè´Ÿæ•´æ•°)\n",u+='11. æ€§ä¼´ä¾£åå• (Array<string>, ç¦æ­¢ä½¿ç”¨"ä¿å¯†"ç­‰å ä½ç¬¦)\n',u+='12. æœ€è¿‘ä¸€æ¬¡æ€§è¡Œä¸ºæ—¶é—´ (string, æ—¶é—´æ ¼å¼æˆ–"ä»æœª")\n',u+="13. ç‰¹æ®Šä½“è´¨ (Array, 0-Nä¸ªå…ƒç´ )\n\n",u+="âš ï¸ é€»è¾‘ä¸€è‡´æ€§æ£€æŸ¥ï¼š\n",u+="   - æ˜¯å¦ä¸ºå¤„å¥³/å¤„ç”·=true â†’ æ€§äº¤æ€»æ¬¡æ•°=0 ä¸” æ€§ä¼´ä¾£æ•°é‡=0 ä¸” æ€§ä¼´ä¾£åå•=[]\n",u+="   - æ€§ä¼´ä¾£æ•°é‡ å¿…é¡»ç­‰äº æ€§ä¼´ä¾£åå•.length\n\n"):u+='âš ï¸ nsfwMode=falseï¼šç”ŸæˆNPCæ—¶ä¸è¦åŒ…å«"ç§å¯†ä¿¡æ¯"å­—æ®µ\n\n';const g=`&lt;ç©å®¶çš„è¡ŒåŠ¨è¶‹å‘&gt;\n${n||"é™è§‚å…¶å˜ã€‚"}<!--ç©å®¶çš„è¡ŒåŠ¨è¶‹å‘-->`;console.log("ã€å‰§æƒ…æ¨è¿›ã€‘ç³»ç»Ÿæç¤ºè¯é•¿åº¦:",u.length),console.log("ã€å‰§æƒ…æ¨è¿›ã€‘çŸ­æœŸè®°å¿†æ•°é‡:",l.length),console.log("ã€å‰§æƒ…æ¨è¿›ã€‘ç©å®¶è¡ŒåŠ¨:",n);const f=(0,s.getTavernHelper)();if(!f)throw new Error("é…’é¦†åŠ©æ‰‹æœªåˆå§‹åŒ–");const b=l.length&gt;0?l.slice().reverse().join("\n\n---\n\n"):"ã€ä»™é“å…ƒå¹´å…ƒæœˆåˆä¸€ 00:00ã€‘æ—…é€”åˆšåˆšå¼€å§‹...";console.log("ã€å‰§æƒ…æ¨è¿›-è°ƒè¯•ã€‘æ³¨å…¥è®°å¿†é•¿åº¦:",b.length),console.log("ã€å‰§æƒ…æ¨è¿›-è°ƒè¯•ã€‘æ³¨å…¥è®°å¿†å‰300å­—ç¬¦:",b.substring(0,300));const h=await f.generate({user_input:g,injects:[{position:"in_chat",depth:0,role:"system",content:u,should_scan:!1},{position:"in_chat",depth:1,role:"assistant",content:b,should_scan:!0}],max_chat_history:0,should_stream:a||!1});if(console.log("ã€å‰§æƒ…æ¨è¿›-è°ƒè¯•ã€‘AIåŸå§‹è¿”å›ç±»å‹:",typeof h),console.log("ã€å‰§æƒ…æ¨è¿›-è°ƒè¯•ã€‘AIåŸå§‹è¿”å›å€¼å‰500å­—ç¬¦:","string"==typeof h?h.substring(0,500):JSON.stringify(h).substring(0,500)),h&amp;&amp;"object"==typeof h&amp;&amp;"error"in h){const e=h.error,n=e.message||JSON.stringify(e);throw console.error("ã€å‰§æƒ…æ¨è¿›-é”™è¯¯ã€‘AIæœåŠ¡è¿”å›é”™è¯¯:",n),console.error("ã€å‰§æƒ…æ¨è¿›-é”™è¯¯ã€‘å®Œæ•´é”™è¯¯å¯¹è±¡:",h),new Error(`AIæœåŠ¡é”™è¯¯: ${n}ã€‚è¿™å¯èƒ½æ˜¯ç”±äºï¼š1) æç¤ºè¯è¿‡é•¿è¶…è¿‡æ¨¡å‹ä¸Šä¸‹æ–‡é™åˆ¶ 2) æœåŠ¡ç«¯æš‚æ—¶ä¸å¯ç”¨ 3) APIé…ç½®é—®é¢˜ã€‚è¯·ç¨åé‡è¯•ã€‚`)}let y;try{if("string"==typeof h){let e=h.trim();const n=e.match(/```(?:json)?\s*([\s\S]*?)\s*```/);n&amp;&amp;(e=n[1].trim()),y=JSON.parse(e)}else{if(!h||"object"!=typeof h)throw new Error("AIè¿”å›äº†ç©ºçš„å“åº”");y=h}}catch(e){throw console.error("ã€å‰§æƒ…æ¨è¿›ã€‘JSONè§£æå¤±è´¥:",e),console.error("ã€å‰§æƒ…æ¨è¿›ã€‘åŸå§‹è¿”å›å€¼:",h),new Error("AIè¿”å›çš„å“åº”æ ¼å¼æ— æ•ˆ")}if(!y||!y.text)throw console.warn("ã€å‰§æƒ…æ¨è¿›ã€‘AIè¿”å›çš„å“åº”ç»“æ„æ— æ•ˆ:",y),new Error("AIç”Ÿæˆçš„æ¸¸æˆå“åº”æ ¼å¼æ— æ•ˆæˆ–å†…å®¹ç¼ºå¤±");if(Array.isArray(y.tavern_commands)||(console.warn("ã€å‰§æƒ…æ¨è¿›ã€‘AIæœªè¿”å›tavern_commandsæ•°ç»„ï¼Œè®¾ç½®ä¸ºç©ºæ•°ç»„"),y.tavern_commands=[]),d&amp;&amp;y.tavern_commands){const e=y.tavern_commands.filter(e=&gt;!("set"!==e.action||!e.key.startsWith("äººç‰©å…³ç³»."))&amp;&amp;2===e.key.split(".").length);if(e.length&gt;0){console.log(`ã€NSFWéªŒè¯ã€‘æ£€æµ‹åˆ° ${e.length} ä¸ªNPCåˆ›å»ºå‘½ä»¤ï¼Œå¼€å§‹éªŒè¯...`);for(const n of e){const e=n.value;if(!e||"object"!=typeof e)continue;const t=e.æ€§åˆ«,a=e.ç§å¯†ä¿¡æ¯&amp;&amp;"object"==typeof e.ç§å¯†ä¿¡æ¯;let o=!1;if(("all"===m||"female"===m&amp;&amp;"å¥³"===t||"male"===m&amp;&amp;"ç”·"===t)&amp;&amp;(o=!0),o&amp;&amp;!a)throw console.error(`ã€NSFWéªŒè¯å¤±è´¥ã€‘NPC "${e.åå­—}" (æ€§åˆ«: ${t}) ç¼ºå°‘ç§å¯†ä¿¡æ¯å­—æ®µï¼`),console.error("ã€NSFWéªŒè¯ã€‘å½“å‰è®¾ç½®:",{nsfwMode:d,nsfwGenderFilter:m}),new Error(`AIç”Ÿæˆçš„NPC "${e.åå­—}" ç¼ºå°‘å¿…éœ€çš„ç§å¯†ä¿¡æ¯å­—æ®µã€‚nsfwMode=${d}, nsfwGenderFilter=${m}ï¼Œæ€§åˆ«=${t}ã€‚å°†è‡ªåŠ¨é‡è¯•ç”Ÿæˆã€‚`);if(a){const n=e.ç§å¯†ä¿¡æ¯,a=["å¥³"===t?"æ˜¯å¦ä¸ºå¤„å¥³":"æ˜¯å¦ä¸ºå¤„ç”·","èº«ä½“éƒ¨ä½","æ€§æ ¼å€¾å‘","æ€§å–å‘","æ€§ç™–å¥½","æ€§æ¸´æœ›ç¨‹åº¦","å½“å‰æ€§çŠ¶æ€","ä½“æ¶²åˆ†æ³ŒçŠ¶æ€","æ€§äº¤æ€»æ¬¡æ•°","æ€§ä¼´ä¾£æ•°é‡","æ€§ä¼´ä¾£åå•","æœ€è¿‘ä¸€æ¬¡æ€§è¡Œä¸ºæ—¶é—´","ç‰¹æ®Šä½“è´¨"].filter(e=&gt;!(e in n));if(a.length&gt;0)throw console.error(`ã€NSFWéªŒè¯å¤±è´¥ã€‘NPC "${e.åå­—}" çš„ç§å¯†ä¿¡æ¯ç¼ºå°‘å­—æ®µ:`,a),new Error(`AIç”Ÿæˆçš„NPC "${e.åå­—}" ç§å¯†ä¿¡æ¯ä¸å®Œæ•´ï¼Œç¼ºå°‘å­—æ®µ: ${a.join(", ")}ã€‚å°†è‡ªåŠ¨é‡è¯•ç”Ÿæˆã€‚`);if(!Array.isArray(n.èº«ä½“éƒ¨ä½)||n.èº«ä½“éƒ¨ä½.length&lt;3)throw console.error(`ã€NSFWéªŒè¯å¤±è´¥ã€‘NPC "${e.åå­—}" çš„èº«ä½“éƒ¨ä½æ•°ç»„ä¸è¶³3ä¸ª`),new Error(`AIç”Ÿæˆçš„NPC "${e.åå­—}" çš„èº«ä½“éƒ¨ä½æ•°ç»„ä¸å®Œæ•´ï¼ˆéœ€è¦è‡³å°‘3ä¸ªéƒ¨ä½ï¼‰ã€‚å°†è‡ªåŠ¨é‡è¯•ç”Ÿæˆã€‚`);console.log(`ã€NSFWéªŒè¯é€šè¿‡ã€‘NPC "${e.åå­—}" çš„ç§å¯†ä¿¡æ¯å­—æ®µå®Œæ•´`)}}}}return console.log("ã€å‰§æƒ…æ¨è¿›ã€‘æˆåŠŸç”Ÿæˆå“åº”ï¼Œå‘½ä»¤æ•°é‡:",y.tavern_commands?.length||0),y}catch(e){throw console.error("ã€å‰§æƒ…æ¨è¿›ã€‘ç”Ÿæˆæ¸¸æˆå“åº”å¤±è´¥:",e),e}}},7280:(e,n,t)=&gt;{t.d(n,{A:()=&gt;i});var a=t(1601),o=t.n(a),r=t(6314),l=t.n(r)()(o());l.push([e.id,"\n.inventory-content[data-v-61146166] {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  background: var(--color-background);\n  overflow: hidden;\n}\n\n/* è‡ªå®šä¹‰ç¡®è®¤å¼¹çª—æ ·å¼ */\n.custom-confirm-overlay[data-v-61146166] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.6);\n  z-index: 2000;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 20px;\n  backdrop-filter: blur(4px);\n}\n.custom-confirm-modal[data-v-61146166] {\n  background: var(--color-surface);\n  border-radius: 16px;\n  width: 100%;\n  max-width: 400px;\n  overflow: hidden;\n  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);\n  animation: modal-appear-61146166 0.3s ease-out;\n  border: 1px solid var(--color-primary-border);\n}\n.confirm-header[data-v-61146166] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 20px 24px 16px 24px;\n  border-bottom: 1px solid var(--color-border);\n  background: var(--color-primary-light);\n}\n.confirm-header h3[data-v-61146166] {\n  margin: 0;\n  font-size: 1.25rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.confirm-close-btn[data-v-61146166] {\n  background: none;\n  border: none;\n  padding: 4px;\n  border-radius: 6px;\n  cursor: pointer;\n  color: var(--color-text-secondary);\n  transition: all 0.2s ease;\n}\n.confirm-close-btn[data-v-61146166]:hover {\n  background: var(--color-surface-hover);\n  color: var(--color-text);\n}\n.confirm-content[data-v-61146166] {\n  padding: 24px;\n}\n.confirm-content p[data-v-61146166] {\n  margin: 0;\n  color: var(--color-text);\n  line-height: 1.6;\n  white-space: pre-line;\n}\n.confirm-actions[data-v-61146166] {\n  display: flex;\n  gap: 12px;\n  padding: 16px 24px 24px 24px;\n  justify-content: flex-end;\n}\n.confirm-btn[data-v-61146166] {\n  padding: 10px 20px;\n  border-radius: 8px;\n  border: 1px solid var(--color-border);\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  min-width: 80px;\n}\n.cancel-btn[data-v-61146166] {\n  background: var(--color-surface-hover);\n  color: var(--color-text-secondary);\n}\n.cancel-btn[data-v-61146166]:hover {\n  background: var(--color-surface-light);\n  color: var(--color-text);\n}\n.confirm-btn.confirm-btn[data-v-61146166] {\n  background: var(--color-primary);\n  color: white;\n  border-color: var(--color-primary);\n}\n.confirm-btn.confirm-btn[data-v-61146166]:hover {\n  background: var(--color-primary-hover);\n}\n\n/* ç§»åŠ¨ç«¯æ¨¡æ€æ¡† */\n.item-modal-overlay[data-v-61146166] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.6);\n  z-index: 1000;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 20px;\n  backdrop-filter: blur(4px);\n}\n.item-modal[data-v-61146166] {\n  background: var(--color-surface);\n  border-radius: 16px;\n  width: 100%;\n  max-width: 400px;\n  max-height: 80vh;\n  overflow: hidden;\n  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);\n  animation: modal-appear-61146166 0.3s ease-out;\n  border: 1px solid var(--color-primary-border);\n}\n@keyframes modal-appear-61146166 {\nfrom {\n    opacity: 0;\n    transform: scale(0.9) translateY(20px);\n}\nto {\n    opacity: 1;\n    transform: scale(1) translateY(0);\n}\n}\n.modal-header[data-v-61146166] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 16px 20px;\n  border-bottom: 1px solid var(--color-border);\n  background: var(--color-primary-light);\n}\n.modal-header h3[data-v-61146166] {\n  margin: 0;\n  font-size: 1.25rem;\n  font-weight: 600;\n}\n.modal-close-btn[data-v-61146166] {\n  background: none;\n  border: none;\n  padding: 4px;\n  border-radius: 6px;\n  cursor: pointer;\n  color: var(--color-text-secondary);\n  transition: all 0.2s ease;\n}\n.modal-close-btn[data-v-61146166]:hover {\n  background: var(--color-surface-hover);\n  color: var(--color-text);\n}\n.modal-content[data-v-61146166] {\n  padding: 20px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  text-align: center;\n}\n.modal-icon-simple[data-v-61146166] {\n  width: 80px;\n  height: 80px;\n  border-radius: 12px;\n  border: 3px solid var(--color-border);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-bottom: 16px;\n  background: var(--color-surface-hover);\n  font-weight: bold;\n  font-size: 14px;\n  color: var(--color-text);\n}\n.modal-info[data-v-61146166] {\n  width: 100%;\n}\n.modal-meta[data-v-61146166] {\n  color: var(--color-text-secondary);\n  font-size: 0.9rem;\n  margin-bottom: 12px;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  flex-wrap: wrap;\n}\n.grade-display[data-v-61146166] {\n  font-size: 0.8rem;\n  font-weight: bold;\n  padding: 2px 6px;\n  border-radius: 4px;\n  border: 1px solid currentColor;\n  white-space: nowrap;\n}\n\n/* å“çº§é¢œè‰²æ ·å¼ */\n.grade-display.grade-broken[data-v-61146166] {\n  background: #6b7280;\n  color: white;\n  border-color: #6b7280;\n}\n.grade-display.grade-low[data-v-61146166] {\n  background: #10b981; /* ç»¿è‰² - ä¸‹å“ */\n  color: white;\n  border-color: #10b981;\n}\n.grade-display.grade-mid[data-v-61146166] {\n  background: #3b82f6; /* è“è‰² - ä¸­å“ */\n  color: white;\n  border-color: #3b82f6;\n}\n.grade-display.grade-high[data-v-61146166] {\n  background: #8b5cf6; /* ç´«è‰² - ä¸Šå“ */\n  color: white;\n  border-color: #8b5cf6;\n}\n.grade-display.grade-perfect[data-v-61146166] {\n  background: #f59e0b; /* é‡‘è‰² - æå“ */\n  color: white;\n  border-color: #f59e0b;\n}\n.grade-display.grade-unknown[data-v-61146166] {\n  background: #9ca3af;\n  color: white;\n  border-color: #9ca3af;\n}\n.modal-description[data-v-61146166] {\n  color: var(--color-text);\n  line-height: 1.6;\n  margin-bottom: 16px;\n}\n.modal-attributes[data-v-61146166] {\n  background: var(--color-surface-light);\n  border-radius: 8px;\n  padding: 12px;\n  margin-top: 16px;\n}\n.modal-attributes h4[data-v-61146166] {\n  margin: 0 0 8px 0;\n  font-size: 0.9rem;\n  color: var(--color-text-secondary);\n  font-weight: 600;\n}\n.modal-actions[data-v-61146166] {\n  display: flex;\n  gap: 8px;\n  padding: 16px 20px;\n  border-top: 1px solid var(--color-border);\n}\n\n/* ä¸»å†…å®¹åŒºåŸŸ */\n.inventory-content[data-v-61146166] {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n\n/* æ ‡ç­¾å¯¼èˆª */\n.tabs-header[data-v-61146166] {\n  background: var(--color-surface);\n  border-bottom: 1px solid var(--color-border);\n  padding: 16px;\n}\n.tabs-nav[data-v-61146166] {\n  display: flex;\n  gap: 4px;\n  margin-bottom: 16px;\n}\n.tab-btn[data-v-61146166] {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 10px 16px;\n  border: none;\n  border-radius: 8px;\n  background: transparent;\n  color: var(--color-text-secondary);\n  cursor: pointer;\n  transition: all 0.2s ease;\n  font-weight: 500;\n}\n.tab-btn[data-v-61146166]:hover {\n  background: var(--color-surface-hover);\n  color: var(--color-text);\n}\n.tab-btn.active[data-v-61146166] {\n  background: var(--color-primary);\n  color: white;\n}\n\n/* å·¥å…·æ  */\n.tools-section[data-v-61146166] {\n  display: flex;\n  gap: 12px;\n  align-items: center;\n  flex-wrap: wrap;\n}\n.search-box[data-v-61146166] {\n  position: relative;\n  flex: 1;\n  min-width: 200px;\n}\n.search-icon[data-v-61146166] {\n  position: absolute;\n  left: 12px;\n  top: 50%;\n  transform: translateY(-50%);\n  color: var(--color-text-secondary);\n  z-index: 1;\n}\n.search-box input[data-v-61146166] {\n  width: 100%;\n  padding: 10px 12px 10px 40px;\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  background: var(--color-background);\n  font-size: 14px;\n  transition: all 0.2s ease;\n}\n.search-box input[data-v-61146166]:focus {\n  outline: none;\n  border-color: var(--color-primary);\n  box-shadow: 0 0 0 3px rgba(var(--color-primary-rgb), 0.1);\n}\n.filter-buttons[data-v-61146166] {\n  display: flex;\n  gap: 8px;\n}\n.filter-select[data-v-61146166] {\n  padding: 8px 12px;\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  background: var(--color-background);\n  font-size: 13px;\n  min-width: 80px;\n}\n.refresh-btn[data-v-61146166] {\n  padding: 8px;\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  background: var(--color-background);\n  color: var(--color-text-secondary);\n  cursor: pointer;\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  min-width: 32px;\n  height: 32px;\n}\n.refresh-btn[data-v-61146166]:hover:not(:disabled) {\n  background: var(--color-surface-hover);\n  color: var(--color-primary);\n  border-color: var(--color-primary);\n}\n.refresh-btn[data-v-61146166]:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n.refresh-btn .spinning[data-v-61146166] {\n  animation: spin-61146166 1s linear infinite;\n}\n\n/* æ ‡ç­¾å†…å®¹ */\n.tab-content[data-v-61146166] {\n  flex: 1;\n  overflow: hidden;\n}\n\n/* ç‰©å“æ ‡ç­¾ */\n.items-tab[data-v-61146166] {\n  display: flex;\n  height: 100%;\n}\n.items-grid[data-v-61146166] {\n  flex: 1;\n  padding: 20px;\n  overflow-y: auto;\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));\n  gap: 18px;\n  align-content: start;\n  background: var(--color-background);\n}\n.grid-placeholder[data-v-61146166] {\n  grid-column: 1 / -1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 40px;\n  color: var(--color-text-secondary);\n  text-align: center;\n}\n.filter-tip[data-v-61146166] {\n  font-size: 0.8rem;\n  color: var(--color-text-muted);\n  margin-top: 8px;\n  opacity: 0.8;\n}\n.loading-spinner[data-v-61146166] {\n  width: 32px;\n  height: 32px;\n  border: 3px solid var(--color-border);\n  border-top: 3px solid var(--color-primary);\n  border-radius: 50%;\n  animation: spin-61146166 1s linear infinite;\n  margin-bottom: 16px;\n}\n@keyframes spin-61146166 {\nto {\n    transform: rotate(360deg);\n}\n}\n\n/* ç‰©å“å¡ç‰‡ - é‡æ–°è®¾è®¡ç¾è§‚å¸ƒå±€ */\n.item-card[data-v-61146166] {\n  background: var(--color-surface);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  padding: 8px;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  display: flex;\n  flex-direction: column;\n  height: 140px;\n  position: relative;\n  overflow: hidden;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n}\n.item-card[data-v-61146166]:hover {\n  border-color: var(--color-primary);\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n  background: var(--color-surface-light);\n}\n\n/* é¡¶éƒ¨åŒºåŸŸï¼šå›¾æ ‡å’Œå“è´¨ */\n.item-top-section[data-v-61146166] {\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: flex-start;\n  margin-bottom: 8px;\n}\n.item-icon-area[data-v-61146166] {\n  width: 48px;\n  height: 48px;\n  border-radius: 8px;\n  border: 2px solid var(--color-border);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: var(--color-background);\n  position: relative;\n}\n.item-type-icon[data-v-61146166] {\n  font-size: 24px;\n  opacity: 0.9;\n}\n.item-quality-badge[data-v-61146166] {\n  position: absolute;\n  top: -6px;\n  right: -6px;\n  font-size: 10px;\n  font-weight: bold;\n  padding: 3px 6px;\n  border-radius: 6px;\n  background: var(--color-surface);\n  border: 1px solid currentColor;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n  z-index: 2;\n  min-width: 20px;\n  text-align: center;\n}\n\n/* æ•°é‡æ˜¾ç¤º - æ›´å¤§æ›´æ˜¾çœ¼ */\n.item-quantity-display[data-v-61146166] {\n  position: absolute;\n  top: 6px;\n  right: 6px;\n  /* ä»…æ”¹å˜æ–‡å­—é¢œè‰²ï¼Œä¸æ”¹èƒŒæ™¯ */\n  background: transparent;\n  color: var(--color-accent, #7c4dff);\n  font-size: 12px;\n  font-weight: 700;\n  padding: 0;\n  border-radius: 0;\n  box-shadow: none;\n  border: none;\n  z-index: 4;\n  min-width: 0;\n  text-align: right;\n}\n\n/* åç§°åŒºåŸŸ */\n.item-name-section[data-v-61146166] {\n  flex: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  padding: 0 4px;\n}\n.item-name[data-v-61146166] {\n  font-size: 12px;\n  font-weight: 600;\n  line-height: 1.3;\n  overflow: hidden;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  line-clamp: 2;\n  -webkit-box-orient: vertical;\n  word-break: break-word;\n}\n\n/* åº•éƒ¨åŒºåŸŸï¼šç±»å‹å’Œå“çº§ */\n.item-bottom-section[data-v-61146166] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  gap: 4px;\n  margin-top: auto;\n  padding-top: 4px;\n}\n.item-type-label[data-v-61146166] {\n  font-size: 9px;\n  color: var(--color-text-secondary);\n  background: var(--color-background);\n  padding: 2px 6px;\n  border-radius: 4px;\n  border: 1px solid var(--color-border);\n  flex-shrink: 0;\n}\n.item-grade-info[data-v-61146166] {\n  font-size: 8px;\n  font-weight: bold;\n  padding: 2px 4px;\n  border-radius: 4px;\n  border: 1px solid currentColor;\n  background: rgba(255, 255, 255, 0.9);\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n  flex-shrink: 0;\n}\n\n/* å“çº§æ ·å¼ - ç®€åŒ–ç‰ˆæœ¬ */\n.grade-broken[data-v-61146166] {\n  background: #6b7280;\n  color: white;\n}\n.grade-low[data-v-61146166] {\n  background: #10b981; /* ç»¿è‰² - ä¸‹å“ */\n  color: white;\n}\n.grade-mid[data-v-61146166] {\n  background: #3b82f6; /* è“è‰² - ä¸­å“ */\n  color: white;\n}\n.grade-high[data-v-61146166] {\n  background: #8b5cf6; /* ç´«è‰² - ä¸Šå“ */\n  color: white;\n}\n.grade-perfect[data-v-61146166] {\n  background: #f59e0b; /* é‡‘è‰² - æå“ */\n  color: white;\n}\n.grade-unknown[data-v-61146166] {\n  background: #9ca3af;\n  color: white;\n}\n\n/* çµçŸ³å“è´¨æ ·å¼ - é¢œè‰²é€’å¢ */\n.grade-common[data-v-61146166] {\n  background: linear-gradient(135deg, #9ca3af, #6b7280);\n  border-color: #9ca3af;\n  color: white;\n  box-shadow: 0 2px 8px rgba(156, 163, 175, 0.3);\n}\n.grade-rare[data-v-61146166] {\n  background: linear-gradient(135deg, #3b82f6, #2563eb);\n  border-color: #3b82f6;\n  color: white;\n  box-shadow: 0 2px 8px rgba(59, 130, 246, 0.4);\n}\n.grade-epic[data-v-61146166] {\n  background: linear-gradient(135deg, #8b5cf6, #7c3aed);\n  border-color: #8b5cf6;\n  color: white;\n  box-shadow: 0 2px 8px rgba(139, 92, 246, 0.4);\n}\n.grade-legend[data-v-61146166] {\n  background: linear-gradient(135deg, #f59e0b, #d97706);\n  border-color: #f59e0b;\n  color: white;\n  box-shadow: 0 2px 12px rgba(245, 158, 11, 0.5);\n}\n\n/* æ¡Œé¢ç«¯è¯¦æƒ…ä¾§è¾¹æ  */\n.item-details-sidebar[data-v-61146166] {\n  width: 320px;\n  border-left: 1px solid var(--color-border);\n  background: var(--color-surface);\n  display: flex;\n  flex-direction: column;\n}\n.details-content[data-v-61146166] {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n.details-header[data-v-61146166] {\n  padding: 20px;\n  border-bottom: 1px solid var(--color-border);\n  display: flex;\n  align-items: center;\n  gap: 16px;\n}\n.details-icon-large[data-v-61146166] {\n  width: 60px;\n  height: 60px;\n  border-radius: 10px;\n  border: 2px solid var(--color-border);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: var(--color-background);\n  flex-shrink: 0;\n  font-weight: bold;\n  font-size: 12px;\n  color: var(--color-text);\n}\n.details-title-area h3[data-v-61146166] {\n  margin: 0;\n  font-size: 1.1rem;\n  font-weight: 600;\n}\n.details-meta[data-v-61146166] {\n  font-size: 0.85rem;\n  color: var(--color-text-secondary);\n  margin-top: 4px;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  flex-wrap: wrap;\n}\n.details-body[data-v-61146166] {\n  flex: 1;\n  padding: 20px;\n  overflow-y: auto;\n}\n.details-description[data-v-61146166] {\n  color: var(--color-text);\n  line-height: 1.6;\n  margin-bottom: 20px;\n}\n.details-attributes h4[data-v-61146166] {\n  margin: 0 0 12px 0;\n  font-size: 0.9rem;\n  color: var(--color-text-secondary);\n  font-weight: 600;\n}\n.details-placeholder[data-v-61146166] {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  color: var(--color-text-secondary);\n  text-align: center;\n}\n.details-actions[data-v-61146166] {\n  padding: 16px 20px;\n  border-top: 1px solid var(--color-border);\n  display: flex;\n  gap: 8px;\n}\n\n/* çµçŸ³æ ‡ç­¾ */\n.currency-tab[data-v-61146166] {\n  padding: 24px;\n  overflow-y: auto;\n}\n.currency-grid[data-v-61146166] {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n  gap: 16px;\n  width: 100%;\n}\n.currency-card[data-v-61146166] {\n  background: var(--color-surface);\n  border: 2px solid var(--color-border);\n  border-radius: 12px;\n  padding: 20px;\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n  transition: all 0.3s ease;\n  cursor: default;\n  position: relative;\n  overflow: hidden;\n}\n.currency-card[data-v-61146166]::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 4px;\n  opacity: 0.8;\n  transition: opacity 0.3s ease;\n}\n.currency-card.grade-common[data-v-61146166]::before {\n  background: linear-gradient(90deg, #9ca3af, #6b7280);\n}\n.currency-card.grade-rare[data-v-61146166]::before {\n  background: linear-gradient(90deg, #3b82f6, #2563eb);\n}\n.currency-card.grade-epic[data-v-61146166]::before {\n  background: linear-gradient(90deg, #8b5cf6, #7c3aed);\n}\n.currency-card.grade-legend[data-v-61146166]::before {\n  background: linear-gradient(90deg, #f59e0b, #d97706);\n}\n.currency-card[data-v-61146166]:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);\n}\n.currency-card[data-v-61146166]:hover::before {\n  opacity: 1;\n}\n.currency-card-top[data-v-61146166] {\n  display: flex;\n  align-items: center;\n  gap: 16px;\n}\n.currency-icon[data-v-61146166] {\n  flex-shrink: 0;\n  color: var(--color-text-secondary);\n  transition: color 0.3s ease;\n}\n\n/* çµçŸ³å›¾æ ‡é¢œè‰² */\n.icon-grade-common[data-v-61146166] {\n  color: #9ca3af;\n}\n.icon-grade-rare[data-v-61146166] {\n  color: #3b82f6;\n}\n.icon-grade-epic[data-v-61146166] {\n  color: #8b5cf6;\n}\n.icon-grade-legend[data-v-61146166] {\n  color: #f59e0b;\n}\n.currency-info[data-v-61146166] {\n  flex: 1;\n}\n.currency-amount[data-v-61146166] {\n  font-size: 1.5rem;\n  font-weight: 700;\n  color: var(--color-text);\n  margin-bottom: 4px;\n}\n.currency-label[data-v-61146166] {\n  font-size: 0.9rem;\n  color: var(--color-text-secondary);\n}\n\n/* å…‘æ¢åŠŸèƒ½ */\n.currency-exchange[data-v-61146166] {\n  display: flex;\n  gap: 8px;\n  margin-top: 8px;\n}\n.exchange-btn[data-v-61146166] {\n  flex: 1;\n  padding: 6px 12px;\n  border: 1px solid var(--color-primary);\n  border-radius: 6px;\n  background: var(--color-surface);\n  color: var(--color-primary);\n  font-size: 0.8rem;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  position: relative;\n  overflow: hidden;\n}\n.exchange-btn[data-v-61146166]::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: -100%;\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);\n  transition: left 0.5s ease;\n}\n.exchange-btn[data-v-61146166]:hover:not(:disabled) {\n  background: var(--color-primary);\n  color: white;\n  transform: translateY(-1px);\n  box-shadow: 0 4px 12px rgba(var(--color-primary-rgb), 0.3);\n}\n.exchange-btn[data-v-61146166]:hover:not(:disabled)::before {\n  left: 100%;\n}\n.exchange-btn.down[data-v-61146166] {\n  border-color: var(--color-warning);\n  color: var(--color-warning);\n}\n.exchange-btn.down[data-v-61146166]:hover:not(:disabled) {\n  background: var(--color-warning);\n  color: white;\n  box-shadow: 0 4px 12px rgba(var(--color-warning-rgb), 0.3);\n}\n.exchange-btn[data-v-61146166]:disabled {\n  opacity: 0.4;\n  cursor: not-allowed;\n  transform: none;\n  box-shadow: none;\n}\n.exchange-btn[data-v-61146166]:active:not(:disabled) {\n  transform: translateY(0) scale(0.98);\n}\n\n/* æŒ‰é’®æ ·å¼ */\n.action-btn[data-v-61146166] {\n  flex: 1;\n  padding: 12px;\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  background: var(--color-surface-hover);\n  color: var(--color-text);\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n.action-btn[data-v-61146166]:hover {\n  background: var(--color-surface-light);\n  transform: translateY(-1px);\n}\n.use-btn[data-v-61146166] {\n  background: var(--color-primary);\n  border-color: var(--color-primary);\n  color: white;\n}\n.use-btn[data-v-61146166]:hover {\n  background: var(--color-primary-hover);\n}\n.discard-btn[data-v-61146166] {\n  background: var(--color-error);\n  border-color: var(--color-error);\n  color: white;\n}\n.discard-btn[data-v-61146166]:hover {\n  background: var(--color-error-hover);\n}\n\n/* å±æ€§æ–‡æœ¬æ˜¾ç¤º */\n.attribute-text[data-v-61146166] {\n  background: var(--color-background);\n  border-radius: 6px;\n  padding: 12px;\n  font-size: 0.9rem;\n  color: var(--color-text);\n  line-height: 1.4;\n  word-break: break-all;\n}\n\n/* åŠŸæ³•æ•ˆæœæ ·å¼ */\n.skill-effects[data-v-61146166] {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n.effect-item[data-v-61146166] {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 6px 0;\n}\n.effect-label[data-v-61146166] {\n  font-weight: 600;\n  color: var(--color-text-secondary);\n  min-width: 80px;\n}\n.effect-value[data-v-61146166] {\n  color: var(--color-success);\n  font-weight: 500;\n}\n.special-abilities[data-v-61146166] {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 4px;\n}\n.ability-tag[data-v-61146166] {\n  background: var(--color-primary);\n  color: white;\n  padding: 2px 8px;\n  border-radius: 12px;\n  font-size: 0.8rem;\n  font-weight: 500;\n}\n\n/* åŠŸæ³•æŠ€èƒ½æ ·å¼ */\n.technique-skills[data-v-61146166] {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n}\n.skill-item[data-v-61146166] {\n  background: var(--color-background);\n  border-radius: 8px;\n  padding: 12px;\n  border: 1px solid var(--color-border);\n}\n.skill-header[data-v-61146166] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 8px;\n}\n.skill-name[data-v-61146166] {\n  font-weight: 600;\n  color: var(--color-text);\n}\n.skill-type[data-v-61146166] {\n  padding: 2px 8px;\n  border-radius: 12px;\n  font-size: 0.8rem;\n  font-weight: 500;\n}\n.skill-type.type-æ”»å‡»[data-v-61146166] {\n  background: var(--color-error);\n  color: white;\n}\n.skill-type.type-é˜²å¾¡[data-v-61146166] {\n  background: var(--color-info);\n  color: white;\n}\n.skill-type.type-è¾…åŠ©[data-v-61146166] {\n  background: var(--color-success);\n  color: white;\n}\n.skill-type.type-ç§»åŠ¨[data-v-61146166] {\n  background: var(--color-warning);\n  color: white;\n}\n.skill-type.type-å…¶ä»–[data-v-61146166] {\n  background: var(--color-text-secondary);\n  color: white;\n}\n.skill-description[data-v-61146166] {\n  color: var(--color-text);\n  font-size: 0.9rem;\n  line-height: 1.4;\n  margin-bottom: 6px;\n}\n.skill-unlock-requirement[data-v-61146166] {\n  font-size: 0.75rem;\n  color: var(--color-warning);\n  font-weight: 600;\n  padding: 2px 8px;\n  background: rgba(var(--color-warning-rgb), 0.1);\n  border-radius: 4px;\n  margin-left: auto;\n}\n.skill-cost[data-v-61146166] {\n  color: var(--color-info);\n  font-size: 0.8rem;\n  font-weight: 500;\n  margin-top: 4px;\n}\n.skill-unlock[data-v-61146166] {\n  color: var(--color-text-secondary);\n  font-size: 0.8rem;\n}\n.cultivate-btn[data-v-61146166] {\n  background: var(--color-info);\n  border-color: var(--color-info);\n  color: white;\n}\n.cultivate-btn[data-v-61146166]:hover {\n  background: var(--color-info-hover);\n}\n.equip-btn[data-v-61146166] {\n  background: var(--color-success);\n  border-color: var(--color-success);\n  color: white;\n}\n.equip-btn[data-v-61146166]:hover {\n  background: var(--color-success-hover);\n}\n\n/* å“è´¨æ ·å¼ç³»ç»Ÿ - å†…è”æ–‡å­—æ ·å¼ï¼Œä¸å¡«å……æ•´è¡Œ */\n/* ç¥é˜¶ - æ·±çº¢è‰²ï¼ˆæœ€é«˜å“è´¨ï¼‰ */\n.text-quality-ç¥[data-v-61146166],\n.text-quality-ç¥é˜¶[data-v-61146166] {\n  color: white !important;\n  background: linear-gradient(135deg, #dc2626, #b91c1c) !important;\n  border: 1px solid #dc2626 !important;\n  box-shadow: 0 2px 8px rgba(220, 38, 38, 0.3) !important;\n  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5) !important;\n  padding: 2px 6px !important;\n  border-radius: 4px !important;\n  display: inline !important;\n  white-space: nowrap !important;\n}\n\n/* ä»™é˜¶ - ç²‰ç´«è‰² */\n.text-quality-ä»™[data-v-61146166],\n.text-quality-ä»™é˜¶[data-v-61146166] {\n  color: white !important;\n  background: linear-gradient(135deg, #ec4899, #db2777) !important;\n  border: 1px solid #ec4899 !important;\n  box-shadow: 0 2px 8px rgba(236, 72, 153, 0.3) !important;\n  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5) !important;\n  padding: 2px 6px !important;\n  border-radius: 4px !important;\n  display: inline !important;\n  white-space: nowrap !important;\n}\n\n/* å¤©é˜¶ - è“è‰² */\n.text-quality-å¤©[data-v-61146166],\n.text-quality-å¤©é˜¶[data-v-61146166] {\n  color: white !important;\n  background: linear-gradient(135deg, #3b82f6, #2563eb) !important;\n  border: 1px solid #3b82f6 !important;\n  box-shadow: 0 2px 8px rgba(59, 130, 246, 0.3) !important;\n  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5) !important;\n  padding: 2px 6px !important;\n  border-radius: 4px !important;\n  display: inline !important;\n  white-space: nowrap !important;\n}\n\n/* åœ°é˜¶ - æ©™è‰² */\n.text-quality-åœ°[data-v-61146166],\n.text-quality-åœ°é˜¶[data-v-61146166] {\n  color: white !important;\n  background: linear-gradient(135deg, #f59e0b, #d97706) !important;\n  border: 1px solid #f59e0b !important;\n  box-shadow: 0 2px 8px rgba(245, 158, 11, 0.3) !important;\n  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5) !important;\n  padding: 2px 6px !important;\n  border-radius: 4px !important;\n  display: inline !important;\n  white-space: nowrap !important;\n}\n\n/* ç„é˜¶ - ç´«è‰² */\n.text-quality-ç„[data-v-61146166],\n.text-quality-ç„é˜¶[data-v-61146166] {\n  color: white !important;\n  background: linear-gradient(135deg, #8b5cf6, #7c3aed) !important;\n  border: 1px solid #8b5cf6 !important;\n  box-shadow: 0 2px 8px rgba(139, 92, 246, 0.3) !important;\n  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5) !important;\n  padding: 2px 6px !important;\n  border-radius: 4px !important;\n  display: inline !important;\n  white-space: nowrap !important;\n}\n\n/* é»„é˜¶ - é‡‘é»„è‰² */\n.text-quality-é»„[data-v-61146166],\n.text-quality-é»„é˜¶[data-v-61146166] {\n  color: white !important;\n  background: linear-gradient(135deg, #eab308, #ca8a04) !important;\n  border: 1px solid #eab308 !important;\n  box-shadow: 0 2px 8px rgba(234, 179, 8, 0.3) !important;\n  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5) !important;\n  padding: 2px 6px !important;\n  border-radius: 4px !important;\n  display: inline !important;\n  white-space: nowrap !important;\n}\n\n/* å‡¡é˜¶ - ç°è‰²ï¼ˆæœ€ä½å“è´¨ï¼‰ */\n.text-quality-å‡¡[data-v-61146166],\n.text-quality-å‡¡é˜¶[data-v-61146166] {\n  color: white !important;\n  background: linear-gradient(135deg, #6b7280, #4b5563) !important;\n  border: 1px solid #6b7280 !important;\n  box-shadow: 0 2px 8px rgba(107, 114, 128, 0.3) !important;\n  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5) !important;\n  padding: 2px 6px !important;\n  border-radius: 4px !important;\n  display: inline !important;\n  white-space: nowrap !important;\n}\n\n/* è¾¹æ¡†æ ·å¼ä¹Ÿéœ€è¦ä¿®å¤ */\n.border-quality-ç¥[data-v-61146166] {\n  border-color: #dc2626 !important;\n}\n.border-quality-ä»™[data-v-61146166] {\n  border-color: #ec4899 !important;\n}\n.border-quality-å¤©[data-v-61146166] {\n  border-color: #3b82f6 !important;\n}\n.border-quality-åœ°[data-v-61146166] {\n  border-color: #f59e0b !important;\n}\n.border-quality-ç„[data-v-61146166] {\n  border-color: #8b5cf6 !important;\n}\n.border-quality-å‡¡[data-v-61146166] {\n  border-color: #6b7280 !important;\n}\n.border-quality-å‡¡[data-v-61146166] {\n  border-color: #6b7280 !important;\n}\n\n/* è£…å¤‡æ ‡ç­¾é¡µæ ·å¼ */\n.equipment-tab[data-v-61146166] {\n  height: 100%;\n  overflow-y: auto;\n}\n.item-grade[data-v-61146166] {\n  border-radius: 5px;\n  border: 2px solid #9ca3af;\n}\n.equipment-content[data-v-61146166] {\n  padding: 20px;\n}\n.equipment-header[data-v-61146166] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 24px;\n  padding-bottom: 16px;\n  border-bottom: 2px solid var(--color-border);\n}\n.equipment-title[data-v-61146166] {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  margin: 0;\n  font-size: 1.4rem;\n  font-weight: 700;\n  color: var(--color-text);\n}\n.equipment-stats[data-v-61146166] {\n  display: flex;\n  align-items: center;\n  gap: 16px;\n}\n.equipment-stats .stat-item[data-v-61146166] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  text-align: center;\n}\n.equipment-stats .stat-label[data-v-61146166] {\n  font-size: 0.8rem;\n  color: var(--color-text-secondary);\n  margin-bottom: 4px;\n}\n.equipment-stats .stat-value[data-v-61146166] {\n  font-size: 1.1rem;\n  font-weight: 700;\n  color: var(--color-primary);\n}\n\n/* è£…å¤‡ç½‘æ ¼ */\n.equipment-grid[data-v-61146166] {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));\n  gap: 20px;\n}\n.equipment-slot[data-v-61146166] {\n  background: var(--color-surface);\n  border: 2px solid var(--color-border);\n  border-radius: 12px;\n  padding: 16px;\n  transition: all 0.3s ease;\n  min-height: 160px;\n  position: relative;\n}\n.equipment-slot.has-equipment[data-v-61146166] {\n  border-color: var(--color-success);\n  box-shadow: 0 4px 12px rgba(var(--color-success-rgb), 0.1);\n}\n.equipment-slot.has-equipment[data-v-61146166]:hover {\n  transform: translateY(-4px);\n  box-shadow: 0 8px 25px rgba(var(--color-success-rgb), 0.2);\n}\n.equipment-slot.empty-slot[data-v-61146166] {\n  border-style: dashed;\n  border-color: var(--color-border);\n}\n.slot-header[data-v-61146166] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 12px;\n}\n.slot-name[data-v-61146166] {\n  font-size: 0.9rem;\n  font-weight: 600;\n  color: var(--color-text-secondary);\n  padding: 4px 8px;\n  border-radius: 6px;\n  background: var(--color-surface-light);\n  display: inline-block;\n}\n.slot-actions[data-v-61146166] {\n  display: flex;\n  gap: 4px;\n}\n\n/* å¸ä¸‹æŒ‰é’®æ ·å¼ä¼˜åŒ– */\n.unequip-btn[data-v-61146166] {\n  padding: 8px 12px;\n  background: linear-gradient(135deg, #ef4444, #dc2626);\n  border: 1px solid #ef4444;\n  border-radius: 8px;\n  color: white;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 4px;\n  font-size: 12px;\n  font-weight: 600;\n  box-shadow: 0 2px 8px rgba(239, 68, 68, 0.3);\n  position: relative;\n  overflow: hidden;\n}\n.unequip-btn[data-v-61146166]::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: -100%;\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);\n  transition: left 0.5s ease;\n}\n.unequip-btn[data-v-61146166]:hover {\n  background: linear-gradient(135deg, #dc2626, #b91c1c);\n  transform: translateY(-2px);\n  box-shadow: 0 4px 16px rgba(239, 68, 68, 0.4);\n}\n.unequip-btn[data-v-61146166]:hover::before {\n  left: 100%;\n}\n.unequip-btn[data-v-61146166]:active {\n  transform: translateY(0);\n}\n\n/* è¯¦æƒ…åŒºåŸŸçš„å¸ä¸‹æŒ‰é’®ä¿æŒä¸å…¶ä»– action-btn ä¸€è‡´ä¸”ä¸ä¸Šæµ® */\n.action-btn.unequip-btn[data-v-61146166] {\n  background: var(--color-danger);\n  border-color: var(--color-danger);\n  color: white;\n  border-radius: 8px;\n}\n.action-btn.unequip-btn[data-v-61146166]:hover {\n  background: var(--color-danger-hover);\n  transform: none;\n  box-shadow: none;\n}\n\n/* è£…å¤‡ç‰©å“æ˜¾ç¤º - ä¼˜åŒ–æ ·å¼ */\n.equipment-item[data-v-61146166] {\n  display: flex;\n  gap: 16px;\n  align-items: flex-start;\n  background: var(--color-background);\n  border: 2px solid var(--color-border);\n  border-radius: 12px;\n  padding: 16px;\n  transition: all 0.3s ease;\n}\n.equipment-item[data-v-61146166]:hover {\n  border-color: var(--color-primary);\n  box-shadow: 0 4px 12px rgba(var(--color-primary-rgb), 0.1);\n  transform: translateY(-2px);\n}\n.item-icon[data-v-61146166] {\n  width: 60px;\n  height: 60px;\n  border-radius: 10px;\n  border: 3px solid;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: var(--color-surface-light);\n  flex-shrink: 0;\n  font-weight: bold;\n  transition: all 0.3s ease;\n}\n.item-type-text[data-v-61146166] {\n  font-size: 12px;\n  font-weight: bold;\n  text-align: center;\n  color: var(--color-text);\n  line-height: 1.2;\n  word-break: break-word;\n}\n.item-info[data-v-61146166] {\n  flex: 1;\n  min-width: 0;\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n.item-name[data-v-61146166] {\n  font-size: 1.1rem;\n  font-weight: 700;\n  margin-bottom: 0;\n  line-height: 1.3;\n  overflow: hidden;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  line-clamp: 2;\n  -webkit-box-orient: vertical;\n  color: var(--color-text);\n}\n.item-quality[data-v-61146166] {\n  font-size: 0.9rem;\n  color: var(--color-text-secondary);\n  border-radius: 6px;\n  margin-bottom: 0;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 4px 8px;\n  background: var(--color-surface);\n  border: 1px solid var(--color-border);\n  width: fit-content;\n}\n.item-description[data-v-61146166] {\n  font-size: 0.85rem;\n  color: var(--color-text-secondary);\n  line-height: 1.5;\n  margin-bottom: 0;\n  overflow: hidden;\n  display: -webkit-box;\n  -webkit-line-clamp: 3;\n  line-clamp: 3;\n  -webkit-box-orient: vertical;\n  background: var(--color-surface-light);\n  padding: 8px 12px;\n  border-radius: 8px;\n  border-left: 3px solid var(--color-primary);\n}\n.item-effects[data-v-61146166] {\n  background: var(--color-surface-light);\n  padding: 8px;\n  border-radius: 6px;\n  border-left: 3px solid var(--color-info);\n}\n.effects-title[data-v-61146166] {\n  font-size: 0.75rem;\n  font-weight: 600;\n  color: var(--color-info);\n  margin-bottom: 4px;\n}\n.effects-text[data-v-61146166] {\n  font-size: 0.8rem;\n  color: var(--color-text);\n  line-height: 1.3;\n}\n\n/* ç©ºè£…å¤‡æ§½ä½ */\n.empty-equipment-slot[data-v-61146166] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  height: 120px;\n  gap: 8px;\n}\n.empty-icon[data-v-61146166] {\n  color: var(--color-text-muted);\n  opacity: 0.5;\n}\n.empty-text[data-v-61146166] {\n  font-size: 0.9rem;\n  font-weight: 500;\n  color: var(--color-text-secondary);\n}\n.empty-hint[data-v-61146166] {\n  font-size: 0.8rem;\n  color: var(--color-text-muted);\n  font-style: italic;\n}\n\n/* ç§»åŠ¨ç«¯é€‚é… - ä¼˜åŒ–å¡ç‰‡æ˜¾ç¤º */\n@media (max-width: 640px) {\n.tabs-header[data-v-61146166] {\n    padding: 12px;\n}\n.tools-section[data-v-61146166] {\n    flex-direction: column;\n    gap: 8px;\n    align-items: stretch;\n}\n.search-box[data-v-61146166] {\n    min-width: auto;\n}\n.filter-buttons[data-v-61146166] {\n    justify-content: space-between;\n}\n.filter-select[data-v-61146166] {\n    flex: 1;\n}\n.items-grid[data-v-61146166] {\n    grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));\n    padding: 16px;\n    gap: 12px;\n}\n.item-card[data-v-61146166] {\n    height: 130px;\n    padding: 6px;\n}\n.item-icon-area[data-v-61146166] {\n    width: 40px;\n    height: 40px;\n}\n.item-type-icon[data-v-61146166] {\n    font-size: 20px;\n}\n.item-name[data-v-61146166] {\n    font-size: 11px;\n}\n.item-type-label[data-v-61146166] {\n    font-size: 8px;\n    padding: 1px 4px;\n}\n.item-grade-info[data-v-61146166] {\n    font-size: 7px;\n    padding: 1px 3px;\n}\n.currency-grid[data-v-61146166] {\n    grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));\n    gap: 12px;\n}\n.currency-card[data-v-61146166] {\n    padding: 16px;\n}\n.currency-amount[data-v-61146166] {\n    font-size: 1.25rem;\n}\n\n  /* è£…å¤‡é¡µé¢ç§»åŠ¨ç«¯é€‚é… */\n.equipment-content[data-v-61146166] {\n    padding: 12px;\n}\n.equipment-header[data-v-61146166] {\n    flex-direction: column;\n    gap: 12px;\n    align-items: flex-start;\n}\n.equipment-grid[data-v-61146166] {\n    grid-template-columns: 1fr;\n    gap: 16px;\n}\n.equipment-slot[data-v-61146166] {\n    min-height: 140px;\n    padding: 12px;\n}\n}\n@media (max-width: 480px) {\n.tabs-nav[data-v-61146166] {\n    justify-content: center;\n}\n.tab-btn[data-v-61146166] {\n    flex: 1;\n    justify-content: center;\n}\n.items-grid[data-v-61146166] {\n    grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));\n    gap: 10px;\n    padding: 12px;\n}\n.item-card[data-v-61146166] {\n    height: 120px;\n    padding: 5px;\n}\n.item-icon-area[data-v-61146166] {\n    width: 32px;\n    height: 32px;\n}\n.item-type-icon[data-v-61146166] {\n    font-size: 16px;\n}\n.item-name[data-v-61146166] {\n    font-size: 10px;\n}\n.item-type-label[data-v-61146166] {\n    font-size: 7px;\n    padding: 1px 3px;\n}\n.item-grade-info[data-v-61146166] {\n    font-size: 6px;\n    padding: 1px 2px;\n}\n.item-quality-badge[data-v-61146166] {\n    font-size: 6px;\n    padding: 1px 2px;\n}\n.item-quantity-badge[data-v-61146166] {\n    font-size: 8px;\n    padding: 1px 4px;\n}\n.currency-grid[data-v-61146166] {\n    grid-template-columns: 1fr;\n}\n.currency-card[data-v-61146166] {\n    padding: 14px;\n}\n}\n",""]);const i=l},7281:(e,n,t)=&gt;{t.d(n,{A:()=&gt;i});var a=t(1601),o=t.n(a),r=t(6314),l=t.n(r)()(o());l.push([e.id,"\n.panel-header[data-v-1f5353f3] {\n  padding: 1rem;\n  border-bottom: 1px solid var(--color-border);\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  gap: 0.75rem;\n  flex-wrap: wrap;\n}\n.panel-title[data-v-1f5353f3] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  margin: 0;\n  font-size: 1.2rem;\n  color: var(--color-text);\n}\n.header-actions[data-v-1f5353f3] {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n  flex-wrap: wrap;\n}\n.search-bar[data-v-1f5353f3] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  padding: 0.5rem;\n  min-width: 180px;\n  flex: 1 1 220px;\n}\n.search-input[data-v-1f5353f3] {\n  border: none;\n  outline: none;\n  background: transparent;\n  color: var(--color-text);\n  font-size: 0.875rem;\n  flex: 1;\n}\n\n/* æ‰‹æœºç«¯é€‚é… */\n@media (max-width: 640px) {\n.panel-header[data-v-1f5353f3] {\n    flex-direction: column;\n    gap: 0.5rem;\n    align-items: stretch;\n}\n.panel-title[data-v-1f5353f3] {\n    font-size: 1.1rem;\n}\n.header-actions[data-v-1f5353f3] {\n    justify-content: stretch;\n}\n.search-bar[data-v-1f5353f3] {\n    min-width: 100%;\n    flex: 1;\n}\n}\n@media (max-width: 480px) {\n.panel-header[data-v-1f5353f3] {\n    padding: 0.75rem;\n}\n.panel-title[data-v-1f5353f3] {\n    font-size: 1rem;\n}\n.search-bar[data-v-1f5353f3] {\n    padding: 0.4rem;\n}\n.search-input[data-v-1f5353f3] {\n    font-size: 0.8rem;\n}\n}\n.header-buttons[data-v-1f5353f3] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  flex: 0 0 auto;\n  white-space: nowrap;\n  min-width: fit-content;\n}\n.refresh-btn[data-v-1f5353f3],\n.export-btn[data-v-1f5353f3],\n.stats-btn[data-v-1f5353f3] {\n  display: flex;\n  align-items: center;\n  gap: 0.25rem;\n  padding: 0.5rem 1rem;\n  background: var(--color-primary);\n  color: white;\n  border: none;\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 0.875rem;\n  transition: all 0.2s;\n  white-space: nowrap;\n}\n.refresh-btn[data-v-1f5353f3]:hover,\n.export-btn[data-v-1f5353f3]:hover,\n.stats-btn[data-v-1f5353f3]:hover {\n  background: var(--color-primary-hover);\n  transform: translateY(-1px);\n}\n.animate-spin[data-v-1f5353f3] {\n  animation: spin-1f5353f3 1s linear infinite;\n}\n@keyframes spin-1f5353f3 {\nfrom {\n    transform: rotate(0deg);\n}\nto {\n    transform: rotate(360deg);\n}\n}\n@media (max-width: 560px) {\n.header-buttons .refresh-btn span[data-v-1f5353f3],\n  .header-buttons .export-btn span[data-v-1f5353f3],\n  .header-buttons .stats-btn span[data-v-1f5353f3] {\n    display: none;\n}\n}\n",""]);const i=l},7393:(e,n,t)=&gt;{t.d(n,{A:()=&gt;i});var a=t(1601),o=t.n(a),r=t(6314),l=t.n(r)()(o());l.push([e.id,"\n.quantity-modal-overlay[data-v-8f332e7a] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.6);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 2000; /* ç¡®ä¿åœ¨æœ€ä¸Šå±‚ */\n  backdrop-filter: blur(4px);\n}\n.quantity-modal[data-v-8f332e7a] {\n  background: var(--color-surface);\n  border: 1px solid var(--color-primary-border);\n  border-radius: 16px;\n  width: 100%;\n  max-width: 400px;\n  color: var(--color-text);\n  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);\n  animation: modal-appear-8f332e7a 0.3s ease-out;\n  overflow: hidden;\n}\n@keyframes modal-appear-8f332e7a {\nfrom {\n    opacity: 0;\n    transform: scale(0.9) translateY(20px);\n}\nto {\n    opacity: 1;\n    transform: scale(1) translateY(0);\n}\n}\n.modal-header[data-v-8f332e7a] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 20px 24px 16px 24px;\n  border-bottom: 1px solid var(--color-border);\n  background: var(--color-primary-light);\n}\n.modal-header h3[data-v-8f332e7a] {\n  margin: 0;\n  color: var(--color-text);\n  font-size: 1.25rem;\n  font-weight: 600;\n}\n.close-btn[data-v-8f332e7a] {\n  background: none;\n  border: none;\n  color: var(--color-text-secondary);\n  font-size: 24px;\n  cursor: pointer;\n  padding: 4px;\n  border-radius: 6px;\n  transition: all 0.2s ease;\n}\n.close-btn[data-v-8f332e7a]:hover {\n  background: var(--color-surface-hover);\n  color: var(--color-text);\n}\n.modal-body[data-v-8f332e7a] {\n  padding: 24px;\n}\n.item-info[data-v-8f332e7a] {\n  display: flex;\n  align-items: center;\n  gap: 16px;\n  margin-bottom: 24px;\n  padding: 16px;\n  background: var(--color-surface-light);\n  border-radius: 8px;\n}\n.item-icon[data-v-8f332e7a] {\n  font-size: 32px;\n  width: 48px;\n  height: 48px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: var(--color-background);\n  border-radius: 8px;\n  border: 1px solid var(--color-border);\n}\n.item-details[data-v-8f332e7a] {\n  flex: 1;\n}\n.item-name[data-v-8f332e7a] {\n  font-size: 1rem;\n  font-weight: 600;\n  color: var(--color-text);\n  margin-bottom: 4px;\n}\n.item-type[data-v-8f332e7a] {\n  font-size: 0.85rem;\n  color: var(--color-text-secondary);\n  margin-bottom: 4px;\n}\n.available-quantity[data-v-8f332e7a] {\n  font-size: 0.85rem;\n  color: var(--color-primary);\n  font-weight: 500;\n}\n.quantity-selector[data-v-8f332e7a] {\n  margin-bottom: 20px;\n}\n.quantity-selector label[data-v-8f332e7a] {\n  display: block;\n  margin-bottom: 12px;\n  color: var(--color-text-secondary);\n  font-size: 0.9rem;\n}\n.quantity-controls[data-v-8f332e7a] {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n.quantity-btn[data-v-8f332e7a] {\n  background: var(--color-surface-hover);\n  border: 1px solid var(--color-border);\n  color: var(--color-text);\n  width: 40px;\n  height: 40px;\n  border-radius: 8px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 20px;\n  font-weight: 500;\n  transition: all 0.2s ease;\n}\n.quantity-btn[data-v-8f332e7a]:hover:not(:disabled) {\n  background: var(--color-primary);\n  color: white;\n  border-color: var(--color-primary);\n}\n.quantity-btn[data-v-8f332e7a]:disabled {\n  background: var(--color-surface-light);\n  color: var(--color-text-muted);\n  cursor: not-allowed;\n}\n.quantity-input[data-v-8f332e7a] {\n  background: var(--color-background);\n  border: 1px solid var(--color-border);\n  color: var(--color-text);\n  padding: 8px 12px;\n  border-radius: 8px;\n  width: 100px;\n  text-align: center;\n  font-size: 1rem;\n  font-weight: 600;\n  transition: all 0.2s ease;\n}\n.quantity-input[data-v-8f332e7a]:focus {\n  outline: none;\n  border-color: var(--color-primary);\n  box-shadow: 0 0 0 3px rgba(var(--color-primary-rgb), 0.1);\n}\n.quantity-shortcuts[data-v-8f332e7a] {\n  display: flex;\n  gap: 8px;\n  flex-wrap: wrap;\n  margin-top: 16px;\n}\n.preset-btn[data-v-8f332e7a] {\n  background: var(--color-surface-light);\n  border: 1px solid var(--color-border);\n  color: var(--color-text-secondary);\n  padding: 6px 12px;\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 0.8rem;\n  transition: all 0.2s ease;\n}\n.preset-btn[data-v-8f332e7a]:hover:not(:disabled) {\n  background: var(--color-surface-hover);\n  color: var(--color-text);\n  border-color: var(--color-border-hover);\n}\n.preset-btn[data-v-8f332e7a]:disabled {\n  background: var(--color-surface);\n  color: var(--color-text-muted);\n  cursor: not-allowed;\n}\n.modal-footer[data-v-8f332e7a] {\n  display: flex;\n  justify-content: flex-end;\n  gap: 12px;\n  padding: 16px 24px 24px 24px;\n  border-top: 1px solid var(--color-border);\n}\n.cancel-btn[data-v-8f332e7a], .confirm-btn[data-v-8f332e7a] {\n  padding: 10px 20px;\n  border-radius: 8px;\n  border: 1px solid var(--color-border);\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  min-width: 80px;\n}\n.cancel-btn[data-v-8f332e7a] {\n  background: var(--color-surface-hover);\n  color: var(--color-text-secondary);\n}\n.cancel-btn[data-v-8f332e7a]:hover {\n  background: var(--color-surface-light);\n  color: var(--color-text);\n}\n.confirm-btn[data-v-8f332e7a] {\n  background: var(--color-primary);\n  color: white;\n  border-color: var(--color-primary);\n}\n.confirm-btn[data-v-8f332e7a]:hover:not(:disabled) {\n  background: var(--color-primary-hover);\n}\n.confirm-btn[data-v-8f332e7a]:disabled {\n  background: var(--color-surface-light);\n  border-color: var(--color-border);\n  color: var(--color-text-muted);\n  cursor: not-allowed;\n}\n.discard-confirm[data-v-8f332e7a] {\n  background: var(--color-danger) !important;\n  border-color: var(--color-danger) !important;\n}\n.discard-confirm[data-v-8f332e7a]:hover:not(:disabled) {\n  background: var(--color-danger-hover) !important;\n}\n.item-description[data-v-8f332e7a] {\n  font-size: 0.8rem;\n  color: var(--color-text-secondary);\n  margin-top: 4px;\n  font-style: italic;\n}\n",""]);const i=l},7456:(e,n,t)=&gt;{t.d(n,{A:()=&gt;i});var a=t(1601),o=t.n(a),r=t(6314),l=t.n(r)()(o());l.push([e.id,"\n.spirit-root-selection-container[data-v-11916b84] {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n.loading-state[data-v-11916b84],\n.error-state[data-v-11916b84],\n.placeholder[data-v-11916b84] {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  font-size: 1.2rem;\n  color: var(--color-text-secondary);\n}\n.spirit-root-layout[data-v-11916b84] {\n  display: grid;\n  grid-template-columns: 1fr 2fr;\n  gap: 2rem;\n  height: 100%;\n  overflow: hidden;\n}\n.spirit-root-left-panel[data-v-11916b84] {\n  display: flex;\n  flex-direction: column;\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  overflow: hidden;\n  background: var(--color-surface);\n}\n\n/* é¢„è®¾æ¨¡å¼æ ·å¼ */\n.preset-mode[data-v-11916b84] {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  min-height: 0;\n}\n.spirit-root-list-container[data-v-11916b84] {\n  flex: 1;\n  overflow-y: auto;\n  padding: 0.5rem 0.5rem 1rem 0.5rem;\n  min-height: 0;\n}\n.spirit-root-list-container[data-v-11916b84]::-webkit-scrollbar { width: 8px;\n}\n.spirit-root-list-container[data-v-11916b84]::-webkit-scrollbar-track { background: rgba(0, 0, 0, 0.2); border-radius: 4px;\n}\n.spirit-root-list-container[data-v-11916b84]::-webkit-scrollbar-thumb { background: rgba(136, 192, 208, 0.3); border-radius: 4px;\n}\n.spirit-root-list-container[data-v-11916b84]::-webkit-scrollbar-thumb:hover { background: rgba(136, 192, 208, 0.5);\n}\n.spirit-root-item[data-v-11916b84] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0.8rem 1rem;\n  margin-bottom: 0.5rem;\n  border-radius: 6px;\n  cursor: pointer;\n  transition: all 0.2s ease-in-out;\n  border-left: 3px solid transparent;\n}\n.item-content[data-v-11916b84] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex-grow: 1;\n}\n\n/* æŒ‰é’®ç»„å®¹å™¨ */\n.action-buttons[data-v-11916b84] {\n  display: flex;\n  align-items: center;\n  gap: 0.3rem;\n  opacity: 0;\n  transition: opacity 0.2s;\n  margin-left: 0.5rem;\n}\n.spirit-root-item:hover .action-buttons[data-v-11916b84] {\n  opacity: 1;\n}\n\n/* ç¼–è¾‘æŒ‰é’® */\n.edit-btn[data-v-11916b84] {\n  background: none;\n  border: none;\n  color: var(--color-text-secondary);\n  cursor: pointer;\n  padding: 0.3rem;\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: opacity 0.2s, color 0.2s, background-color 0.2s;\n}\n.edit-btn[data-v-11916b84]:hover {\n  color: var(--color-primary);\n  background-color: rgba(59, 130, 246, 0.1);\n}\n.delete-btn[data-v-11916b84] {\n  background: none;\n  border: none;\n  color: var(--color-text-secondary);\n  cursor: pointer;\n  padding: 0.3rem;\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: opacity 0.2s, color 0.2s, background-color 0.2s;\n}\n.delete-btn[data-v-11916b84]:hover {\n  color: var(--color-danger);\n  background-color: rgba(255, 0, 0, 0.1);\n}\n.spirit-root-name-container[data-v-11916b84] {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  flex: 1;\n}\n.spirit-root-tier[data-v-11916b84] {\n  padding: 2px 6px;\n  border-radius: 4px;\n  font-size: 0.7rem;\n  font-weight: 600;\n  text-align: center;\n  min-width: 28px;\n  flex-shrink: 0;\n}\n.spirit-root-tier.tier-ä¸‹å“[data-v-11916b84] {\n  background: linear-gradient(135deg, #8B5CF6, #A78BFA);\n  color: white;\n}\n.spirit-root-tier.tier-ä¸­å“[data-v-11916b84] {\n  background: linear-gradient(135deg, #3B82F6, #60A5FA);\n  color: white;\n}\n.spirit-root-tier.tier-ä¸Šå“[data-v-11916b84] {\n  background: linear-gradient(135deg, #10B981, #34D399);\n  color: white;\n}\n.spirit-root-tier.tier-æå“[data-v-11916b84] {\n  background: linear-gradient(135deg, #F59E0B, #FBBF24);\n  color: white;\n}\n.spirit-root-tier.tier-å¤©å“[data-v-11916b84] {\n  background: linear-gradient(135deg, #EF4444, #F87171);\n  color: white;\n}\n.spirit-root-tier.tier-ç¥å“[data-v-11916b84] {\n  background: linear-gradient(135deg, #DC2626, #F87171);\n  color: white;\n}\n.spirit-root-tier.tier-ç‰¹æ®Š[data-v-11916b84] {\n  background: linear-gradient(135deg, #7C3AED, #A78BFA);\n  color: white;\n  border: 1px solid #A78BFA;\n}\n.spirit-root-tier.tier-å‡¡å“[data-v-11916b84] {\n  background: rgba(156, 163, 175, 0.2);\n  color: #6B7280;\n  border: 1px solid #9CA3AF;\n}\n.spirit-root-item[data-v-11916b84]:hover {\n  background: rgba(136, 192, 208, 0.1);\n}\n.spirit-root-item.selected[data-v-11916b84] {\n  background: rgba(136, 192, 208, 0.2);\n  color: #88c0d0;\n  border-left: 3px solid #88c0d0;\n  font-weight: 600;\n}\n.spirit-root-item.disabled[data-v-11916b84] {\n  opacity: 0.5;\n  cursor: not-allowed;\n  background: transparent;\n  color: var(--color-text-disabled);\n}\n.spirit-root-item.disabled[data-v-11916b84]:hover {\n  background: var(--color-surface-danger);\n}\n.spirit-root-name[data-v-11916b84] {\n  font-weight: 500;\n}\n.spirit-root-cost[data-v-11916b84] {\n  color: var(--color-accent);\n}\n.divider[data-v-11916b84] {\n  height: 1px;\n  background: linear-gradient(to right, transparent, rgba(136, 192, 208, 0.2), transparent);\n  margin: 0.5rem 0;\n}\n.single-actions-container[data-v-11916b84] {\n  border-top: 1px solid var(--color-border);\n  background: rgba(0, 0, 0, 0.3);\n  padding: 0.5rem;\n  display: flex;\n  gap: 0.5rem;\n}\n.action-item[data-v-11916b84] {\n  flex: 1;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 0.8rem 1rem;\n  border-radius: 6px;\n  cursor: pointer;\n  transition: all 0.2s ease-in-out;\n  border: 1px solid var(--color-border);\n  background: var(--color-surface-light);\n  color: var(--color-text);\n  font-size: 1rem;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  min-width: 0;\n}\n.action-item[data-v-11916b84]:hover {\n  background: var(--color-surface-lighter);\n  border-color: var(--color-primary);\n  color: var(--color-primary);\n}\n.action-name[data-v-11916b84] {\n  font-weight: 500;\n}\n.spirit-root-details-container[data-v-11916b84] {\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  padding: 1.5rem;\n  background: var(--color-surface);\n}\n.spirit-root-details[data-v-11916b84] {\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  min-height: 0;\n}\n.spirit-root-details h2[data-v-11916b84] {\n  margin-top: 0;\n  margin-bottom: 1rem;\n  color: #88c0d0;\n  flex-shrink: 0;\n}\n.description-scroll[data-v-11916b84] {\n  flex: 1;\n  overflow-y: auto;\n  line-height: 1.6;\n  padding-right: 0.5rem;\n  min-height: 0;\n}\n.description-scroll p[data-v-11916b84] {\n  margin: 0;\n  white-space: pre-wrap;\n  color: var(--color-text-secondary);\n}\n.description-scroll[data-v-11916b84]::-webkit-scrollbar { width: 8px;\n}\n.description-scroll[data-v-11916b84]::-webkit-scrollbar-track { background: rgba(0, 0, 0, 0.2); border-radius: 4px;\n}\n.description-scroll[data-v-11916b84]::-webkit-scrollbar-thumb { background: rgba(136, 192, 208, 0.3); border-radius: 4px;\n}\n.description-scroll[data-v-11916b84]::-webkit-scrollbar-thumb:hover { background: rgba(136, 192, 208, 0.5);\n}\n.cost-display[data-v-11916b84] {\n  text-align: right;\n  font-weight: bold;\n  color: var(--color-accent);\n  flex-shrink: 0;\n  margin-top: 1rem;\n}\n\n/* å“åº”å¼é€‚é… - æ‰‹æœºç«¯ä¼˜åŒ– */\n@media (max-width: 1200px) {\n.spirit-root-layout[data-v-11916b84] {\n    grid-template-columns: 1fr 1.8fr;\n    gap: 1.5rem;\n}\n}\n@media (max-width: 1024px) {\n.spirit-root-layout[data-v-11916b84] {\n    grid-template-columns: 1fr 1.5fr;\n    gap: 1.2rem;\n}\n.spirit-root-details h2[data-v-11916b84] {\n    font-size: 1.6rem;\n}\n}\n@media (max-width: 640px) {\n.top-actions-container[data-v-11916b84] {\n    flex-wrap: wrap;\n    justify-content: stretch;\n}\n.top-actions-container .action-item[data-v-11916b84] {\n    flex-grow: 1;\n    text-align: center;\n}\n.spirit-root-layout[data-v-11916b84] {\n    /* æ”¹ä¸ºå‚ç›´å †å å¸ƒå±€ */\n    grid-template-columns: 1fr;\n    grid-template-rows: auto 1fr;\n    gap: 1rem;\n    height: auto;\n    overflow: visible;\n    padding: 0.8rem;\n}\n.spirit-root-left-panel[data-v-11916b84] {\n    order: 1;\n    /* ç§»é™¤max-heighté™åˆ¶ï¼Œè®©flexå¸ƒå±€æ­£å¸¸å·¥ä½œ */\n}\n.spirit-root-details-container[data-v-11916b84] {\n    order: 2;\n    min-height: 300px;\n}\n.spirit-root-list-container[data-v-11916b84] {\n    /* ç§»é™¤max-heighté™åˆ¶ï¼Œè®©flexå¸ƒå±€æ­£å¸¸å·¥ä½œ */\n    /* æ·»åŠ è§¦æ‘¸æ»šåŠ¨ä¼˜åŒ– */\n    -webkit-overflow-scrolling: touch;\n    scrollbar-width: thin;\n}\n  \n  /* ä¼˜åŒ–è§¦æ‘¸ä½“éªŒ */\n.spirit-root-item[data-v-11916b84],\n  .action-item[data-v-11916b84] {\n    -webkit-tap-highlight-color: transparent;\n    touch-action: manipulation;\n}\n}\n@media (max-width: 640px) {\n.spirit-root-layout[data-v-11916b84] {\n    gap: 0.8rem;\n    padding: 0.6rem;\n}\n.spirit-root-list-container[data-v-11916b84] {\n    padding: 0.5rem;\n}\n.spirit-root-item[data-v-11916b84] {\n    padding: 0.7rem;\n    font-size: 0.95rem;\n    margin-bottom: 0.4rem;\n}\n.single-actions-container[data-v-11916b84] {\n    padding: 0.5rem;\n    gap: 0.4rem;\n}\n.action-item[data-v-11916b84] {\n    padding: 0.7rem 1rem;\n    font-size: 0.9rem;\n}\n.spirit-root-details-container[data-v-11916b84] {\n    padding: 1.2rem;\n    min-height: 250px;\n}\n.spirit-root-details h2[data-v-11916b84] {\n    font-size: 1.4rem;\n    margin-bottom: 0.8rem;\n}\n}\n@media (max-width: 480px) {\n.top-actions-container[data-v-11916b84] {\n    flex-direction: column;\n    align-items: stretch;\n}\n.spirit-root-selection-container[data-v-11916b84] {\n    padding: 0.4rem;\n    height: auto;\n    overflow-y: auto;\n    -webkit-overflow-scrolling: touch;\n}\n.spirit-root-layout[data-v-11916b84] {\n    gap: 0.6rem;\n    padding: 0;\n    height: auto;\n    min-height: 0;\n}\n.spirit-root-left-panel[data-v-11916b84] {\n    border-radius: 6px;\n}\n.spirit-root-list-container[data-v-11916b84] {\n    padding: 0.4rem;\n}\n.spirit-root-item[data-v-11916b84] {\n    padding: 0.6rem 0.8rem;\n    font-size: 0.9rem;\n    margin-bottom: 0.3rem;\n    border-radius: 4px;\n}\n.spirit-root-name[data-v-11916b84] {\n    font-size: 0.9rem;\n}\n.spirit-root-cost[data-v-11916b84] {\n    font-size: 0.8rem;\n}\n.divider[data-v-11916b84] {\n    margin: 0.3rem 0;\n}\n.single-actions-container[data-v-11916b84] {\n    flex-direction: column;\n    gap: 0.4rem;\n    padding: 0.4rem;\n}\n.action-item[data-v-11916b84] {\n    padding: 0.6rem;\n    font-size: 0.85rem;\n    border-radius: 4px;\n}\n.spirit-root-details-container[data-v-11916b84] {\n    padding: 1rem;\n    min-height: 200px;\n    border-radius: 6px;\n}\n.spirit-root-details h2[data-v-11916b84] {\n    font-size: 1.3rem;\n    margin-bottom: 0.6rem;\n}\n.description-scroll[data-v-11916b84] {\n    font-size: 0.9rem;\n    line-height: 1.5;\n    padding-right: 0.3rem;\n}\n.cost-display[data-v-11916b84] {\n    font-size: 1rem;\n    text-align: center;\n    margin-top: 0.8rem;\n}\n.placeholder[data-v-11916b84] {\n    font-size: 1rem;\n    padding: 1rem;\n    text-align: center;\n    min-height: 150px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n.top-actions-container[data-v-11916b84] {\n    flex-direction: column;\n    align-items: stretch;\n    padding: 0.5rem;\n}\n.top-actions-container .action-item[data-v-11916b84] {\n    text-align: center;\n}\n}\n@media (max-width: 360px) {\n.spirit-root-selection-container[data-v-11916b84] {\n    padding: 0.3rem;\n}\n.spirit-root-layout[data-v-11916b84] {\n    gap: 0.4rem;\n}\n.spirit-root-list-container[data-v-11916b84] {\n    padding: 0.3rem;\n}\n.spirit-root-item[data-v-11916b84] {\n    padding: 0.5rem 0.6rem;\n    font-size: 0.85rem;\n    margin-bottom: 0.2rem;\n}\n.spirit-root-name[data-v-11916b84] {\n    font-size: 0.8rem;\n}\n.spirit-root-cost[data-v-11916b84] {\n    font-size: 0.75rem;\n}\n.spirit-root-details-container[data-v-11916b84] {\n    padding: 0.8rem;\n    min-height: 180px;\n}\n.spirit-root-details h2[data-v-11916b84] {\n    font-size: 1.1rem;\n    margin-bottom: 0.5rem;\n}\n.description-scroll[data-v-11916b84] {\n    font-size: 0.85rem;\n    line-height: 1.4;\n}\n.cost-display[data-v-11916b84] {\n    font-size: 0.9rem;\n    margin-top: 0.6rem;\n}\n.action-item[data-v-11916b84] {\n    padding: 0.5rem;\n    font-size: 0.8rem;\n}\n.placeholder[data-v-11916b84] {\n    font-size: 0.9rem;\n    padding: 0.8rem;\n    min-height: 120px;\n}\n}\n\n/* è‡ªå®šä¹‰æ¨¡å¼æ ·å¼ */\n.stats-display[data-v-11916b84] {\n  margin-top: 1rem;\n  padding-top: 1rem;\n  border-top: 1px solid var(--color-border);\n  flex-shrink: 0;\n}\n.stat-item[data-v-11916b84] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 0.5rem;\n}\n.stat-label[data-v-11916b84] {\n  color: var(--color-text-secondary);\n  font-size: 0.9rem;\n}\n.stat-value[data-v-11916b84] {\n  color: var(--color-accent);\n  font-weight: 600;\n}\n\n/* é¡¶éƒ¨åŠŸèƒ½æŒ‰é’® */\n.top-actions-container[data-v-11916b84] {\n  display: flex;\n  gap: 0.5rem;\n  padding: 0.75rem;\n  border-bottom: 1px solid var(--color-border);\n  background: rgba(0, 0, 0, 0.1);\n  justify-content: flex-end;\n}\n.top-actions-container .action-item[data-v-11916b84] {\n  padding: 0.5rem 1rem;\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  background: var(--color-surface-light);\n  color: var(--color-text);\n  cursor: pointer;\n  transition: all 0.2s ease;\n  font-size: 0.9rem;\n  white-space: nowrap;\n}\n.top-actions-container .action-item[data-v-11916b84]:hover {\n  background: var(--color-surface-lighter);\n  border-color: var(--color-primary);\n  color: var(--color-primary);\n}\n\n/* é€‰æ‹©æ¨¡å¼æ ‡ç­¾é¡µ */\n.selection-mode-tabs[data-v-11916b84] {\n  display: flex;\n  border-bottom: 1px solid var(--color-border);\n  background: var(--color-surface-light);\n}\n.mode-tab[data-v-11916b84] {\n  flex: 1;\n  padding: 0.8rem 1rem;\n  border: none;\n  background: transparent;\n  color: var(--color-text-secondary);\n  cursor: pointer;\n  transition: all 0.2s ease;\n  font-weight: 500;\n}\n.mode-tab.active[data-v-11916b84] {\n  color: var(--color-primary);\n  background: var(--color-surface);\n  border-bottom: 2px solid var(--color-primary);\n}\n.mode-tab[data-v-11916b84]:hover:not(.active) {\n  background: rgba(136, 192, 208, 0.1);\n  color: var(--color-text);\n}\n\n/* è‡ªå®šä¹‰æ¨¡å¼æ ·å¼ */\n.custom-mode[data-v-11916b84] {\n  flex: 1;\n  padding: 1rem;\n  overflow-y: auto;\n}\n.custom-selection-container[data-v-11916b84] {\n  display: flex;\n  flex-direction: column;\n  gap: 1.5rem;\n}\n.selection-group[data-v-11916b84] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.8rem;\n}\n.selection-label[data-v-11916b84] {\n  font-weight: 600;\n  color: var(--color-text);\n  font-size: 0.9rem;\n}\n.spirit-type-grid[data-v-11916b84] {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));\n  gap: 0.5rem;\n}\n.type-button[data-v-11916b84] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 0.3rem;\n  padding: 0.8rem 0.5rem;\n  border: 2px solid var(--color-border);\n  border-radius: 6px;\n  background: var(--color-surface);\n  cursor: pointer;\n  transition: all 0.2s ease;\n  min-height: 70px;\n}\n.type-button[data-v-11916b84]:hover {\n  border-color: var(--element-color, var(--color-primary));\n  background: rgba(136, 192, 208, 0.1);\n}\n.type-button.selected[data-v-11916b84] {\n  border-color: var(--element-color, var(--color-primary));\n  background: var(--element-color, var(--color-primary));\n  color: white;\n}\n.type-icon[data-v-11916b84] {\n  font-size: 1.2rem;\n}\n.type-name[data-v-11916b84] {\n  font-size: 0.8rem;\n  font-weight: 500;\n}\n.tier-selection[data-v-11916b84] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n.tier-button[data-v-11916b84] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0.8rem 1rem;\n  border: 2px solid var(--color-border);\n  border-radius: 6px;\n  background: var(--color-surface);\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n.tier-button[data-v-11916b84]:hover {\n  border-color: var(--color-primary);\n  background: rgba(136, 192, 208, 0.1);\n}\n.tier-button.selected[data-v-11916b84] {\n  border-color: var(--color-primary);\n  background: var(--color-primary);\n  color: white;\n}\n.tier-button.tier-common[data-v-11916b84] {\n  border-color: #9CA3AF;\n}\n.tier-button.tier-low[data-v-11916b84] {\n  border-color: #8B5CF6;\n}\n.tier-button.tier-middle[data-v-11916b84] {\n  border-color: #3B82F6;\n}\n.tier-button.tier-high[data-v-11916b84] {\n  border-color: #10B981;\n}\n.tier-button.tier-supreme[data-v-11916b84] {\n  border-color: #F59E0B;\n}\n.tier-button.tier-heaven[data-v-11916b84] {\n  border-color: #FF6B35;\n}\n.tier-button.tier-divine[data-v-11916b84] {\n  border-color: #DC2626;\n}\n.tier-button.tier-special[data-v-11916b84] {\n  border-color: #7C3AED;\n}\n.tier-name[data-v-11916b84] {\n  font-weight: 600;\n}\n.tier-multiplier[data-v-11916b84] {\n  color: var(--color-accent);\n  font-size: 0.9rem;\n}\n.tier-cost[data-v-11916b84] {\n  color: var(--color-text-secondary);\n  font-size: 0.8rem;\n}\n.custom-preview[data-v-11916b84] {\n  padding: 1rem;\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  background: var(--color-surface-light);\n}\n.preview-title[data-v-11916b84] {\n  font-weight: 600;\n  margin-bottom: 0.8rem;\n  color: var(--color-text);\n}\n.preview-content[data-v-11916b84] {\n  margin-bottom: 1rem;\n}\n.preview-name[data-v-11916b84] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  margin-bottom: 0.8rem;\n  font-weight: 600;\n  color: var(--color-primary);\n}\n.preview-tier[data-v-11916b84] {\n  padding: 2px 6px;\n  border-radius: 4px;\n  font-size: 0.7rem;\n  font-weight: 600;\n  background: var(--color-accent);\n  color: white;\n}\n.preview-stats[data-v-11916b84] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.4rem;\n}\n.preview-stats .stat[data-v-11916b84] {\n  display: flex;\n  justify-content: space-between;\n  font-size: 0.9rem;\n  color: var(--color-text-secondary);\n}\n.confirm-custom-button[data-v-11916b84] {\n  width: 100%;\n  padding: 0.8rem;\n  border: none;\n  border-radius: 6px;\n  background: var(--color-primary);\n  color: white;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n.confirm-custom-button[data-v-11916b84]:hover:not(:disabled) {\n  background: var(--color-primary-dark);\n}\n.confirm-custom-button[data-v-11916b84]:disabled {\n  background: var(--color-border);\n  color: var(--color-text-disabled);\n  cursor: not-allowed;\n}\n.actions-container[data-v-11916b84] {\n  border-top: 1px solid var(--color-border);\n  background: rgba(0, 0, 0, 0.3);\n  padding: 0.5rem;\n  display: flex;\n  gap: 0.5rem;\n}\n\n/* å…¼å®¹æ–°ç­‰çº§åç§°â€œä»™å“â€ */\n.spirit-root-tier.tier-ä»™å“[data-v-11916b84] { background: linear-gradient(135deg, #EF4444, #F87171); color: white;\n}\n",""]);const i=l},7527:(e,n,t)=&gt;{t.d(n,{Gr:()=&gt;l,VQ:()=&gt;o,eQ:()=&gt;a,qS:()=&gt;i,yM:()=&gt;r});const a=[{id:1,name:"æœå¤©å¤§é™†",era:"æœå¤©å†å…ƒå¹´",description:'æ­¤æ–¹ä¸–ç•Œåä¸º"æœå¤©å¤§é™†"ï¼Œä¹ƒæ˜¯ä¸€å¤„å¤©é“å®Œæ•´ã€çµæ°”å……æ²›çš„ä¸Šå–„ä¹‹åœ°ã€‚å…¶æ ¸å¿ƒæ³•åˆ™æ˜¯"ä¸‡çµç«æ¸¡ï¼Œä¸€æ­¥ç™»å¤©"ï¼Œæ— è®ºæ˜¯äººã€å¦–ã€ç²¾ã€æ€ªï¼Œçš†æœ‰ç¼˜æ³•è¸ä¸Šä¿®è¡Œä¹‹è·¯ï¼Œå©é—®é•¿ç”Ÿã€‚\nä»™å‡¡ä¹‹åˆ«åœ¨æ­¤ç•Œæ³¾æ¸­åˆ†æ˜ï¼Œå®›è‹¥å¤©æ¸Šã€‚å‡¡äººå¯¿ä¸è¿‡ç™¾è½½ï¼Œå—ç”Ÿè€ç—…æ­»ä¹‹è‹¦ï¼Œç»ˆå½’ä¸€æŠ”é»„åœŸï¼›è€Œä¿®å£«ä¸€æ—¦è¸å…¥é“é€”ï¼Œä¾¿èƒ½ååå¤©åœ°çµæ°”ï¼Œæ·¬ç‚¼å·±èº«ï¼Œå¯¿å…ƒåŠ¨è¾„åƒè½½ï¼Œæ›´æœ‰å¤§èƒ½è€…ä¸å¤©åœ°åŒå¯¿ã€‚å‡¡ä¿—ç‹æœæ›´è¿­ï¼Œäºä¿®å£«è€Œè¨€ä¸è¿‡æ˜¯å¼¹æŒ‡ä¸€ç¬é—´ã€‚åœ¨å‡¡äººçœ¼ä¸­ï¼Œä¿®å£«æ˜¯é«˜æ‚¬äºä¹å¤©çš„ä»™ç¥ï¼Œä¸€è¨€å¯å®šä¸€å›½å…´è¡°ï¼Œä¸€å¿µå¯å¼•é£é›¨é›·éœ†ã€‚ç„¶è€Œï¼Œè¿™ç§åŠ›é‡å¹¶éæ¯«æ— ä»£ä»·ã€‚\næ­¤ç•Œå¥‰è¡Œ"å¤§é“äº‰é”‹"çš„é“åˆ™ï¼Œå¤©é“äºˆä¸‡ç‰©æœºç¼˜ï¼Œå´ä¹Ÿé™ä¸‹æ— å°½å‡¶é™©ã€‚çµè„‰å®åœ°ã€ç¥åŠŸç§˜æ³•ã€å¤©æåœ°å®ï¼Œçš†æ˜¯æœ‰ç¼˜è€…å±…ä¹‹ï¼Œè€Œ"ç¼˜"å­—èƒŒåï¼Œå¾€å¾€æ˜¯è¡€ä¸ç«çš„æ´—ç¤¼ã€‚ä¿®å£«ä¹‹é—´ï¼Œä¸ºæ±‚é“é€”ç²¾è¿›ï¼Œäº‰æ–—ä¹ƒæ˜¯å¸¸æ€ã€‚åŒé—¨å¯èƒ½åç›®ï¼ŒæŒšå‹äº¦ä¼šèƒŒå›ï¼Œæ€äººå¤ºå®ã€æ–©è‰é™¤æ ¹ä¹‹äº‹å±¡è§ä¸é²œã€‚è¿™æ˜¯ä¸€ä¸ªæåº¦è‡ªç”±çš„ä¸–ç•Œï¼Œä½ å¯ä»¥é€‰æ‹©æˆä¸ºå®ˆæŠ¤ä¸€æ–¹çš„å–„ä»™ï¼Œäº¦å¯æˆä¸ºè‚†è™å…«è’çš„é­”å¤´ï¼Œåªè¦ä½ æœ‰è¶³å¤Ÿçš„å®åŠ›ã€‚ä½†è‡ªç”±çš„èƒŒåï¼Œæ˜¯æ— å¤„ä¸åœ¨çš„å±é™©ï¼Œä¸€æ­¥è¸é”™ï¼Œä¾¿æ˜¯ä¸‡åŠ«ä¸å¤ï¼Œèº«æ­»é“æ¶ˆã€‚\nç„¶å¤©é“äº¦æœ‰åˆ¶è¡¡ï¼Œä¿®å£«è‹¥æ— æ•…ä»¥å¤§æ³•åŠ›å¹²æ¶‰å‡¡ä¿—ç‹æœæ›´è¿­ã€å± æˆ®å‡¡äººï¼Œä¾¿ä¼šä¸æ­¤æ–¹å¤©åœ°ç»“ä¸‹å› æœã€‚è™½æ— ä¸šæŠ¥åŠ èº«ï¼Œå´ä¼šåœ¨æ—¥åå†²å‡»æ›´é«˜å¢ƒç•Œã€æ¸¡åŠ«é£å‡ä¹‹æ—¶ï¼Œå¼•æ¥æ›´å¼ºå¤§çš„å¤©åŠ«ï¼Œå¹³æ·»æ— æ•°å˜æ•°ã€‚æ•…è€Œå¤šæ•°ä¿®å£«é€‰æ‹©åœ¨å±±é—¨æ¸…ä¿®ï¼Œæˆ–äºçº¢å°˜å†ç»ƒï¼Œä»¥æ±‚å‹˜ç ´å¿ƒéšœï¼Œè¯å¾—å¤§é“ã€‚ä¿®ä»™ç™¾è‰ºâ€”â€”ç‚¼ä¸¹ã€ç‚¼å™¨ã€ç¬¦ç®“ã€é˜µæ³•ï¼Œåœ¨æ­¤ç•Œå‘å±•åˆ°äº†æè‡´ï¼Œå…±åŒæ„ç­‘äº†ä¸€ä¸ªæ— æ¯”å…´ç››ã€å´ä¹Ÿæ— æ¯”æ®‹é…·çš„ä¿®ä»™æ–‡æ˜ã€‚'},{id:2,name:"åœ°çƒ",era:"çµæ°”å¤è‹å…ƒå¹´",description:'2077å¹´ï¼Œåœ°çƒç»å†äº†ä¸€åœºå‰æ‰€æœªæœ‰çš„çµæ°”å¤è‹ã€‚æ›¾ç»åªå­˜åœ¨äºç¥è¯ä¼ è¯´ä¸­çš„"çµæ°”"ï¼Œå¦‚æ½®æ°´èˆ¬æ¶Œå…¥ç°ä»£ä¸–ç•Œã€‚ç§‘å­¦æ— æ³•è§£é‡Šçš„å¼‚è±¡é¢‘é¢‘å‘ç”Ÿï¼šåŸå¸‚ä¸Šç©ºå‡ºç°æå…‰èˆ¬çš„èƒ½é‡æ³¢åŠ¨ï¼Œæ·±å±±è€æ—æ¶Œç°å‡ºç¥ç§˜çš„çµè„‰ï¼Œæ™®é€šåŠ¨æ¤ç‰©å¼€å§‹å˜å¼‚è¿›åŒ–ã€‚\nåœ¨è¿™ä¸ªå·¨å˜çš„æ—¶ä»£ï¼Œä½ æ˜¯æå°‘æ•°èƒ½æ„ŸçŸ¥å¹¶å¸æ”¶çµæ°”çš„"è§‰é†’è€…"ã€‚å½“å…¨ä¸–ç•Œè¿˜åœ¨ç”¨ç§‘å­¦ä»ªå™¨ç ”ç©¶è¿™è‚¡ç¥ç§˜èƒ½é‡æ—¶ï¼Œä½ å·²ç»èƒ½å¤Ÿå°†å…¶ç‚¼åŒ–å…¥ä½“ï¼Œèµ°ä¸Šäº†ä¿®çœŸä¹‹è·¯ã€‚ç°ä»£åŒ–çš„éƒ½å¸‚ã€ä¾¿æ·çš„ç½‘ç»œã€å‘è¾¾çš„ç§‘æŠ€ï¼Œä¸å¤è€çš„ä¿®ç‚¼ä½“ç³»ç¢°æ’ï¼Œäº§ç”Ÿäº†å¥‡å¦™çš„åŒ–å­¦ååº”ã€‚\næ”¿åºœæˆç«‹äº†"è¶…è‡ªç„¶äº‹åŠ¡ç®¡ç†å±€"ï¼Œå„å›½äº‰ç›¸ç ”ç©¶çµæ°”åº”ç”¨æŠ€æœ¯ï¼Œè·¨å›½ä¼ä¸šè¯•å›¾å°†çµæ°”å•†ä¸šåŒ–ï¼Œè€Œå¤è€å®—é—¨çš„åè£”ä»¬ä¹Ÿçº·çº·å‡ºä¸–ã€‚åœ¨è¿™ä¸ªçµæ°”ä¸ç§‘æŠ€å¹¶å­˜çš„æ—¶ä»£ï¼Œä½ å°†åœ¨é’¢é“æ£®æ—ä¸­ç‹¬è‡ªä¿®è¡Œï¼Œæ¢ç´¢"ç§‘å­¦ä¿®çœŸ"çš„å¥¥ç§˜ã€‚äººç±»çš„å¯¿å‘½ä¾ç„¶æœ‰é™ï¼Œæ™®é€šäººå¯¹è§‰é†’è€…æ—¢æ•¬ç•åˆææƒ§ï¼Œè€Œä½ ï¼Œå¿…é¡»åœ¨ä¸¤ä¸ªä¸–ç•Œä¹‹é—´æ‰¾åˆ°è‡ªå·±çš„é“è·¯ã€‚'},{id:3,name:"èµ›åšä¿®çœŸ",era:"æ–°çºªå…ƒ2156",description:'2156å¹´ï¼Œäººç±»æ–‡æ˜å·²ç»è¸å…¥æ˜Ÿé™…æ—¶ä»£ã€‚åœ¨èµ›åšæœ‹å…‹çš„éœ“è™¹éƒ½å¸‚ä¸­ï¼Œä¹‰ä½“æ”¹é€ ã€ç¥ç»æ¥é©³ã€æ„è¯†ä¸Šä¼ å·²æˆä¸ºå¸¸æ€ã€‚ç„¶è€Œï¼Œä¸€æ¬¡æ·±ç©ºæ¢ç´¢æ„å¤–å‘ç°äº†"çµèƒ½æ°´æ™¶"â€”â€”ä¸€ç§èƒ½å¤Ÿå¢å¼ºäººç±»ç²¾ç¥åŠ›çš„ç¥ç§˜çŸ¿çŸ³ï¼Œå½»åº•æ”¹å˜äº†ä¸–ç•Œã€‚\nä½ æ˜¯ä¸€åè¾¹ç¼˜è·‘è€…ï¼Œåœ¨æ¥è§¦çµèƒ½æ°´æ™¶åè§‰é†’äº†ä¿®ç‚¼å¤©èµ‹ã€‚ä¸ä¼ ç»Ÿä¿®çœŸä¸åŒï¼Œè¿™ä¸ªæ—¶ä»£çš„ä¿®è¡Œä¾æ‰˜äº"ä¹‰ä½“çµä¿®"ä½“ç³»ï¼šå°†çµèƒ½ä¸èµ›åšä¹‰ä½“ç»“åˆï¼Œæ•°æ®æµå°±æ˜¯çµæ°”ï¼Œç¥ç»ç½‘ç»œå°±æ˜¯ç»è„‰ï¼Œæ„è¯†æ ¸å¿ƒå°±æ˜¯ä¸¹ç”°ã€‚ä½ å¯ä»¥é€šè¿‡é»‘å®¢æ‰‹æ®µ"ç›—å–"ä¼ä¸šçš„ä¿®ç‚¼æ•°æ®ï¼Œå¯ä»¥åœ¨è™šæ‹Ÿç°å®ä¸­è¿›è¡Œ"æ•°æ®é—­å…³"ï¼Œä¹Ÿå¯ä»¥ç”¨çº³ç±³æœºå™¨äººæ„å»º"æœºæ¢°é‡‘ä¸¹"ã€‚\nå·¨å‹ä¼ä¸šå„æ–­äº†çµèƒ½èµ„æºï¼Œèµ›åšä¿®å£«ä»¬ä¸ºäº†çªç ´å¢ƒç•Œä¸å¾—ä¸æ¥å—å±é™©ä»»åŠ¡ã€‚åŸå¸‚ä¸‹å±‚è´«æ°‘çªŸä¸­æœ‰äººåœ¨ç ´æ—§çš„èƒ¶å›Šæ—…é¦†é‡Œä¿®ç‚¼ï¼Œä¸Šå±‚åˆ™æ˜¯ä¼ä¸šä¾›å…»çš„"æ•°æ®ä»™äºº"äº«å—ç€æ— å°½èµ„æºã€‚è¿™æ˜¯ä¸€ä¸ªå­¤ç‹¬ä¿®å£«çš„æ—¶ä»£ï¼Œåœ¨éœ“è™¹é—ªçƒã€ä¹‰ä½“æ¨ªè¡Œçš„ä¸–ç•Œé‡Œï¼Œä½ å°†ç”¨ä»£ç å’Œçµèƒ½ä¹¦å†™å±äºè‡ªå·±çš„é£å‡ä¼ è¯´ã€‚'},{id:4,name:"é­”æ³•çºªå…ƒ",era:"ç¬¬ä¸ƒé­”æ³•æ—¶ä»£",description:'è¿™æ˜¯ä¸€ä¸ªé­”æ³•ä¸çµæ°”èåˆçš„å¥‡å¹»ä¸–ç•Œã€‚åƒå¹´å‰ï¼Œä¸œæ–¹çš„"ä¿®çœŸä½“ç³»"ä¸è¥¿æ–¹çš„"é­”æ³•ä½“ç³»"å‘ç”Ÿäº†å²è¯—çº§çš„ç¢°æ’ï¼Œæœ€ç»ˆä¸¤å¤§æ–‡æ˜è¾¾æˆäº†å¾®å¦™çš„å¹³è¡¡ã€‚åœ¨è¿™ä¸ªä¸–ç•Œï¼Œå¤è€çš„ä¿®çœŸå®—é—¨ä¸é­”æ³•å­¦é™¢å¹¶å­˜ï¼Œé“å®¶çš„ç¬¦ç®“ä¸ç‚¼é‡‘æœ¯çš„é­”æ³•é˜µæœ‰ç€æƒŠäººçš„ç›¸ä¼¼ä¹‹å¤„ã€‚\nä½ ç”Ÿäºè¾¹å¢ƒä¹‹åœ°ï¼Œè¿™é‡Œæ˜¯ä¸¤å¤§æ–‡æ˜çš„äº¤æ±‡ç‚¹ã€‚ä½ å¯ä»¥é€‰æ‹©ä¼ ç»Ÿçš„ä¿®çœŸä¹‹è·¯ï¼Œç‚¼æ°”ç­‘åŸºé‡‘ä¸¹å…ƒå©´ï¼›ä¹Ÿå¯ä»¥å­¦ä¹ è¥¿æ–¹çš„é­”æ³•ä½“ç³»ï¼Œæˆä¸ºå…ƒç´ æ³•å¸ˆæˆ–æ˜¯æ­»çµæœ¯å£«ã€‚æ›´æœ‰é‡å¿ƒè€…ï¼Œè¯•å›¾èåˆä¸¤ç§ä½“ç³»ï¼Œåˆ›é€ å‰æ‰€æœªæœ‰çš„"é­”ä¿®"ä¹‹é“ã€‚\nè¿™ä¸ªä¸–ç•Œå……æ»¡äº†æœºé‡ä¸å±é™©ã€‚å¤è€çš„é¾™æ—ç›˜è¸åœ¨çµè„‰ä¹‹ä¸Šï¼Œç²¾çµç‹å›½å®ˆæŠ¤ç€ä¸–ç•Œæ ‘çš„ç§˜å¯†ï¼ŒçŸ®äººåœ¨åœ°åº•æŒ–æ˜ç€é­”æ™¶çŸ¿è„‰ï¼Œè€Œäººç±»å¸å›½åˆ™åœ¨ä¸¤å¤§ä½“ç³»çš„ç¢°æ’ä¸­å¯»æ‰¾å¹³è¡¡ã€‚é­”æ³•å­¦é™¢çš„å­¦ç”Ÿå¯èƒ½ä¼šä¸ä¿®çœŸå®—é—¨çš„å¼Ÿå­å‘ç”Ÿå†²çªï¼Œå¤è€çš„ä¿®å£«å¯èƒ½éœ€è¦é¢å¯¹æŒæ¡ç¦å’’çš„å¤§é­”æ³•å¸ˆã€‚åœ¨è¿™ä¸ªèåˆä¸å†²çªå¹¶å­˜çš„æ—¶ä»£ï¼Œä½ å°†ç‹¬è‡ªæ¢ç´¢ä¸¤ç§åŠ›é‡çš„å¥¥ç§˜ï¼Œå¯»æ‰¾è¶…è¶Šæé™çš„å¯èƒ½ã€‚'}],o=[{id:1,name:"åºŸæŸ´",description:"èµ„è´¨å¹³å¹³ï¼Œæ¯«æ— å‡ºå¥‡ä¹‹å¤„ã€‚",total_points:10,rarity:1,color:"#808080"},{id:2,name:"å‡¡äºº",description:"èŠ¸èŠ¸ä¼—ç”Ÿä¸­çš„ä¸€å‘˜ï¼Œä¸å¥½ä¸åã€‚",total_points:20,rarity:2,color:"#FFFFFF"},{id:3,name:"ä¿Šæ°",description:"ç™¾é‡ŒæŒ‘ä¸€çš„äººæ‰ï¼Œç•¥æœ‰ä¸å‡¡ã€‚",total_points:30,rarity:3,color:"#4169E1"},{id:4,name:"å¤©éª„",description:"åƒå¹´éš¾é‡çš„å¥‡æ‰ï¼Œæ³¨å®šè€€çœ¼ã€‚",total_points:40,rarity:4,color:"#9932CC"},{id:5,name:"å¦–å­½",description:"ä¸‡å¤æ— ä¸€çš„æ€ªç‰©ï¼Œé€†å¤©è€Œè¡Œã€‚",total_points:50,rarity:5,color:"#FFD700"}],r=[{id:1,name:"å±±é‡é—å­¤",description:"è‡ªå¹¼åœ¨å±±é‡ä¸­é•¿å¤§ï¼Œä¸çŒ›å…½ä¸ºä¼´ï¼Œç£¨ç»ƒå‡ºåšéŸ§çš„æ„å¿—å’Œè¿‡äººçš„ä½“é­„ã€‚",talent_cost:0,attribute_modifiers:{root_bone:1},rarity:3},{id:2,name:"ä¹¦é¦™é—¨ç¬¬",description:"å‡ºèº«äºå®˜å®¦ä¸–å®¶ï¼Œé¥±è¯»è¯—ä¹¦ï¼Œå¯¹å¤©åœ°è‡³ç†æœ‰è¶…ä¹å¸¸äººçš„ç†è§£åŠ›ã€‚",talent_cost:2,attribute_modifiers:{comprehension:2},rarity:3},{id:3,name:"å•†è´¾ä¹‹å­",description:"ç”Ÿäºå¯Œè´µä¹‹å®¶ï¼Œç²¾é€šäººæƒ…ä¸–æ•…ï¼Œå¤„äº‹åœ†æ»‘ï¼Œé­…åŠ›éå‡¡ã€‚",talent_cost:2,attribute_modifiers:{charm:2},rarity:3},{id:4,name:"å°†é—¨ä¹‹å",description:"åå°†çš„åä»£ï¼Œè¡€è„‰ä¸­æµæ·Œç€å‹‡æ­¦ä¸ç…æ°”ï¼Œå¿ƒæ€§åšå®šã€‚",talent_cost:3,attribute_modifiers:{temperament:2,root_bone:1},rarity:3},{id:5,name:"æ•£ä¿®ä¼ äºº",description:"ä½ çš„å¸ˆçˆ¶æ˜¯ä¸€ä½æ¸¸æˆé£å°˜çš„å¼ºå¤§æ•£ä¿®ï¼Œä½ ç»§æ‰¿äº†ä»–çš„éƒ¨åˆ†è¡£é’µå’Œè§è¯†ã€‚",talent_cost:4,attribute_modifiers:{comprehension:1,temperament:1},rarity:4},{id:6,name:"é­”é“å§åº•",description:"ä½ å‡ºèº«åé—¨æ­£æ´¾ï¼Œå´è¢«æ´¾å¾€é­”é“æ‰§è¡Œå§åº•ä»»åŠ¡ï¼Œå¿ƒæ€§è¿œè¶…å¸¸äººã€‚",talent_cost:1,attribute_modifiers:{temperament:3},rarity:4},{id:7,name:"é‡ç”Ÿè€…",description:"ä½ ä¿ç•™ç€å‰ä¸–çš„è®°å¿†ï¼Œè™½ç„¶ä¿®ä¸ºå°½å¤±ï¼Œä½†å¯¹åŠŸæ³•å’Œæœªæ¥çš„å¤§äº‹äº†å¦‚æŒ‡æŒã€‚",talent_cost:5,attribute_modifiers:{comprehension:2,luck:1},rarity:5},{id:8,name:"ä»™äººåè£”",description:"ä½ çš„è¡€è„‰ä¸­æµæ·Œç€ç¨€è–„çš„ä»™äººä¹‹è¡€ï¼Œå¤©ç”Ÿçµæ€§åè¶³ï¼Œä¿®ç‚¼é€Ÿåº¦ç•¥å¿«äºå¸¸äººã€‚",talent_cost:6,attribute_modifiers:{spirit:2,root_bone:1},rarity:5},{id:9,name:"å¤ºèˆè€æ€ª",description:"ä½ æ˜¯ä¸€åå¤ºèˆé‡ç”Ÿçš„è€æ€ªç‰©ï¼Œè™½ç„¶å æ®äº†å¹´è½»çš„è‚‰ä½“ï¼Œä½†çµé­‚ä¸­è•´å«ç€åºå¤§çš„ç¥è¯†åŠ›é‡ã€‚",talent_cost:7,attribute_modifiers:{comprehension:3,temperament:-1},rarity:5},{id:10,name:"å±±ç¥åº™ç¥",description:"ä½ ä»å°åœ¨å±±ç¥åº™é•¿å¤§ï¼Œæ—¥å¤œä¸é¦™ç«ä¸ºä¼´ï¼Œç¥é­‚å—åˆ°æ»‹å…»ï¼Œå¯¹é¬¼ç¥ä¹‹äº‹æœ‰ç‰¹æ®Šæ„Ÿåº”ã€‚",talent_cost:2,attribute_modifiers:{spirit:2},rarity:3},{id:11,name:"æ¸”å®¶å°‘å¹´",description:"å¸¸å¹´åœ¨æ±Ÿæ²³æ¹–æµ·ä¸­è®¨ç”Ÿæ´»ï¼Œæ°´æ€§æä½³ï¼Œä½“é­„å¼ºå¥ã€‚",talent_cost:1,attribute_modifiers:{root_bone:2},rarity:2},{id:12,name:"ç‹æœçš‡å­",description:"ç”Ÿäºå‡¡äººç‹æœçš„æƒåŠ›ä¹‹å·…ï¼Œè‡ªå¹¼äº«å—é”¦è¡£ç‰é£Ÿå’Œæœ€å¥½çš„æ•™è‚²ï¼Œä½†ä¸ä¿®ä»™ç•Œçš„æ¥è§¦è¾ƒå°‘ã€‚",talent_cost:3,attribute_modifiers:{charm:2,temperament:1},rarity:4}],l=[{id:1,name:"é‡‘çµæ ¹",tier:"ä¸Šå“",description:"é‡‘æ›°ä»é©ï¼Œæ“æ§é‡‘é“ï¼Œé”‹é”æ— åŒ¹ã€‚ä¿®è¡Œé‡‘ç³»åŠŸæ³•äº‹åŠåŠŸå€ï¼Œæ˜¯å¤©ç”Ÿçš„å‰‘ä¿®æˆ–åˆ€å®¢èƒšå­ï¼Œæ”»å‡»æ€§æå¼ºã€‚",cultivation_speed:"1.6x",special_effects:["é‡‘ç³»æ³•æœ¯å¨åŠ›+50%","å™¨ç‰©äº²å’Œ+30%","é‡‘å±æ„ŸçŸ¥"],base_multiplier:1.6,talent_cost:10,rarity:3},{id:2,name:"æœ¨çµæ ¹",tier:"ä¸Šå“",description:"æœ¨æ›°æ›²ç›´ï¼Œäº²å’Œè‰æœ¨ï¼Œç”Ÿæœºç›ç„¶ã€‚ä¿®è¡Œæœ¨ç³»åŠŸæ³•æå¿«ï¼Œæ“…é•¿æ²»ç–—ã€æ§åˆ¶ï¼Œä¸”å¯¹çµæ¤æœ‰å¤©ç”Ÿçš„äº²å’ŒåŠ›ã€‚",cultivation_speed:"1.6x",special_effects:["æœ¨ç³»æ³•æœ¯å¨åŠ›+50%","ç”Ÿå‘½åŠ›æ¢å¤+40%","æ¤ç‰©æ²Ÿé€š"],base_multiplier:1.6,talent_cost:10,rarity:3},{id:3,name:"æ°´çµæ ¹",tier:"ä¸Šå“",description:"æ°´æ›°æ¶¦ä¸‹ï¼Œå¾¡æ°´ä¹‹è„‰ï¼Œç»µå»¶ä¸ç»ã€‚ä¿®è¡Œæ°´ç³»åŠŸæ³•ï¼Œæ³•åŠ›æ‚ é•¿ï¼Œå˜åŒ–å¤šç«¯ï¼Œé€‚åº”æ€§æå¼ºã€‚",cultivation_speed:"1.6x",special_effects:["æ°´ç³»æ³•æœ¯å¨åŠ›+50%","çµæ°”æ¢å¤+40%","æ°´ä½“æ„ŸçŸ¥"],base_multiplier:1.6,talent_cost:10,rarity:3},{id:4,name:"ç«çµæ ¹",tier:"ä¸Šå“",description:"ç«æ›°ç‚ä¸Šï¼Œå¤©ç”Ÿç«è„‰ï¼Œç„šå°½å…«è’ã€‚ä¿®è¡Œç«ç³»åŠŸæ³•ï¼Œå¨åŠ›ç»ä¼¦ï¼Œçˆ†å‘åŠ›å¼ºï¼Œæ˜¯ç‚¼ä¸¹å¸ˆçš„ç»ä½³å¤©èµ‹ã€‚",cultivation_speed:"1.6x",special_effects:["ç«ç³»æ³•æœ¯å¨åŠ›+50%","çˆ†å‘ä¼¤å®³+60%","ç«ç„°å…ç–«"],base_multiplier:1.6,talent_cost:10,rarity:3},{id:5,name:"åœŸçµæ ¹",tier:"ä¸Šå“",description:"åœŸçˆ°ç¨¼ç©‘ï¼Œå¤§åœ°ä¹‹å­ï¼Œåšå¾·è½½ç‰©ã€‚ä¿®è¡ŒåœŸç³»åŠŸæ³•ï¼Œé˜²å¾¡æƒŠäººï¼Œç¨³å¦‚æ³°å±±ï¼Œæ˜¯å¤©ç”Ÿçš„é˜µæ³•å¸ˆææ–™ã€‚",cultivation_speed:"1.6x",special_effects:["åœŸç³»æ³•æœ¯å¨åŠ›+50%","é˜²å¾¡åŠ›+40%","å¤§åœ°æ„ŸçŸ¥"],base_multiplier:1.6,talent_cost:10,rarity:3},{id:9,name:"é‡‘çµæ ¹",tier:"ä¸­å“",description:"é‡‘è¡Œèµ„è´¨å°šå¯ï¼Œä¿®è¡Œé‡‘ç³»åŠŸæ³•æœ‰ä¸€å®šå¤©èµ‹ï¼Œè™½ä¸åŠä¸Šå“ï¼Œä½†ä¹Ÿè¿œè¶…å¸¸äººã€‚",cultivation_speed:"1.3x",special_effects:["é‡‘ç³»æ³•æœ¯å¨åŠ›+25%","å™¨ç‰©äº²å’Œ+15%"],base_multiplier:1.3,talent_cost:6,rarity:2},{id:10,name:"ç«çµæ ¹",tier:"ä¸­å“",description:"ç«è¡Œèµ„è´¨è‰¯å¥½ï¼Œå¯¹ç«ç³»åŠŸæ³•æœ‰ä¸é”™çš„äº²å’ŒåŠ›ï¼Œèƒ½å¤Ÿé¡ºåˆ©åœ°è¸ä¸Šä¿®è¡Œä¹‹è·¯ã€‚",cultivation_speed:"1.3x",special_effects:["ç«ç³»æ³•æœ¯å¨åŠ›+25%","çˆ†å‘ä¼¤å®³+30%"],base_multiplier:1.3,talent_cost:6,rarity:2},{id:11,name:"é›·çµæ ¹",tier:"æå“",description:"ä¸‡ä¸­æ— ä¸€çš„å˜å¼‚çµæ ¹ï¼Œå¤©ç”Ÿé›·ä½“ï¼Œé›·éœ†ä¸‡é’§ã€‚ä¿®è¡Œé›·ç³»åŠŸæ³•é€Ÿåº¦æå¿«ï¼Œå¨åŠ›ç»ä¼¦ï¼Œæ˜¯å¤©åŠ«çš„å® å„¿ã€‚",cultivation_speed:"2.0x",special_effects:["é›·ç³»æ³•æœ¯å¨åŠ›+80%","é›·éœ†å…ç–«","é€Ÿåº¦+50%","ç©¿é€æ”»å‡»"],base_multiplier:2,talent_cost:15,rarity:4},{id:12,name:"å†°çµæ ¹",tier:"æå“",description:"æä¸ºç½•è§çš„å˜å¼‚çµæ ¹ï¼Œå†°éœœä¹‹èº¯ï¼Œä¸‡ç‰©å‡‹é›¶ã€‚ä¿®è¡Œå†°ç³»åŠŸæ³•ï¼Œæ§åˆ¶åŠ›è¶…å‡¡ï¼Œèƒ½å†°å°åƒé‡Œã€‚",cultivation_speed:"2.0x",special_effects:["å†°ç³»æ³•æœ¯å¨åŠ›+80%","å‡é€Ÿæ•ˆæœ+100%","å†°éœœå…ç–«","ç©ºé—´å†»ç»“"],base_multiplier:2,talent_cost:15,rarity:4},{id:6,name:"æ··æ²Œçµæ ¹",tier:"ç¥å“",description:"ä¼ è¯´ä¸­çš„è‡³é«˜çµæ ¹ï¼Œä¸‡æ³•å½’ä¸€ï¼ŒåŒ…å®¹ä¸‡è±¡ã€‚å¯ä¿®è¡Œæ‰€æœ‰å±æ€§åŠŸæ³•ï¼Œæ— ç“¶é¢ˆï¼Œä½†åˆæœŸè¿›å±•ç¼“æ…¢ï¼ŒåæœŸä¸€æ—¥åƒé‡Œã€‚",cultivation_speed:"0.8x(å‰æœŸ) â†’ 2.8x(åæœŸ)",special_effects:["å…¨ç³»æ³•æœ¯äº²å’Œ","æ— å±æ€§é™åˆ¶","è¶Šé˜¶æˆ˜æ–—+50%","çªç ´æ¦‚ç‡+30%"],base_multiplier:2.8,talent_cost:25,rarity:5},{id:7,name:"å¤©å¦’ä¹‹ä½“",tier:"ç‰¹æ®Š",description:"å¤©é“æ‰€å¦’ï¼Œçµæ°”ä¸äº²ã€‚ä¿®è¡Œé€Ÿåº¦æä¸ºç¼“æ…¢ï¼Œå¸¸äººéš¾ä»¥å¿å—ã€‚ä½†ä¸€æ—¦çªç ´ï¼Œæ ¹åŸºæ— æ¯”æ‰å®ï¼Œæˆ˜åŠ›è¿œè¶…åŒé˜¶ã€‚",cultivation_speed:"0.5x",special_effects:["æ ¹åŸºæå…¶ç¨³å›º","çªç ´åå®åŠ›æš´å¢+100%","å¤©åŠ«æŠ—æ€§+80%","é€†å¤©æ”¹å‘½"],base_multiplier:.5,talent_cost:-5,rarity:4},{id:8,name:"äº”è¡Œæ‚çµæ ¹",tier:"å‡¡å“",description:"å‡¡äººä¸­æœ€å¸¸è§çš„çµæ ¹ï¼Œäº”è¡Œçš†æœ‰ï¼Œå´é©³æ‚ä¸å ªï¼Œä¿®ç‚¼é€Ÿåº¦æ…¢å¦‚é¾Ÿçˆ¬ï¼Œä»™è·¯æ¸ºèŒ«ã€‚",cultivation_speed:"1.0x",special_effects:["å¹³å‡¡ä¹‹é“","å¤§å™¨æ™šæˆ"],base_multiplier:1,talent_cost:0,rarity:1},{id:13,name:"é£çµæ ¹",tier:"ä¸‹å“",description:"è¾ƒä¸ºå¸¸è§çš„å¼‚ç§çµæ ¹ï¼Œå¾®é£è½»æŠšï¼Œè™½ç„¶èµ„è´¨ä¸€èˆ¬ï¼Œä½†èƒœåœ¨çµæ´»å¤šå˜ï¼Œèº«æ³•è¿…æ·ã€‚",cultivation_speed:"1.1x",special_effects:["é£ç³»æ³•æœ¯å¨åŠ›+15%","ç§»åŠ¨é€Ÿåº¦+20%"],base_multiplier:1.1,talent_cost:3,rarity:1}],i=[{id:1,name:"å¤©å‘½ä¸»è§’",description:"æ°”è¿æƒŠäººï¼Œæ€»æ˜¯èƒ½åœ¨ç»å¢ƒä¸­é€¢ç”Ÿï¼Œè·å¾—æ„æƒ³ä¸åˆ°çš„æœºç¼˜ã€‚",talent_cost:15,rarity:5,effects:[{ç±»å‹:"åå¤©å…­å¸",ç›®æ ‡:"æ°”è¿",æ•°å€¼:8},{ç±»å‹:"ç‰¹æ®Šèƒ½åŠ›",åç§°:"é€¢å‡¶åŒ–å‰",æ•°å€¼:.1}]},{id:2,name:"å‰‘é“ç‹¬å°Š",description:"å¤©ç”Ÿå‰‘å¿ƒé€šæ˜ï¼Œä»»ä½•å‰‘æ³•ä¸€çœ‹ä¾¿ä¼šï¼Œä¸”å¨åŠ›å€å¢ã€‚",talent_cost:12,rarity:5,effects:[{ç±»å‹:"æŠ€èƒ½åŠ æˆ",æŠ€èƒ½:"å‰‘æ³•",æ•°å€¼:.2},{ç±»å‹:"åå¤©å…­å¸",ç›®æ ‡:"æ ¹éª¨",æ•°å€¼:3}]},{id:3,name:"ä¸¹é“åœ£æ‰‹",description:"å¯¹è¯ç†æœ‰è¶…å‡¡çš„é¢†æ‚ŸåŠ›ï¼Œç‚¼ä¸¹æˆåŠŸç‡ä¸å“è´¨å¤§å¹…æå‡ã€‚",talent_cost:12,rarity:5,effects:[{ç±»å‹:"æŠ€èƒ½åŠ æˆ",æŠ€èƒ½:"ç‚¼ä¸¹",æ•°å€¼:.15},{ç±»å‹:"åå¤©å…­å¸",ç›®æ ‡:"æ‚Ÿæ€§",æ•°å€¼:2}]},{id:4,name:"é˜µæ³•å¤§å¸ˆ",description:"å¯¹é˜µæ³•æœ‰æé«˜çš„å¤©èµ‹ï¼Œå­¦ä¹ å’Œå¸ƒç½®é˜µæ³•çš„æ•ˆç‡å¤§å¤§æé«˜ã€‚",talent_cost:8,rarity:4,effects:[{ç±»å‹:"æŠ€èƒ½åŠ æˆ",æŠ€èƒ½:"é˜µæ³•",æ•°å€¼:.12},{ç±»å‹:"åå¤©å…­å¸",ç›®æ ‡:"æ‚Ÿæ€§",æ•°å€¼:2}]},{id:5,name:"ç‚¼å™¨é¬¼æ‰",description:"å¤©ç”Ÿå¯¹å„ç§ææ–™æœ‰æ•é”çš„æ„ŸçŸ¥ï¼Œç‚¼å™¨æ—¶æ›´å®¹æ˜“å‡ºç°æå“ã€‚",talent_cost:8,rarity:4,effects:[{ç±»å‹:"æŠ€èƒ½åŠ æˆ",æŠ€èƒ½:"ç‚¼å™¨",æ•°å€¼:.1},{ç±»å‹:"ç‰¹æ®Šèƒ½åŠ›",åç§°:"ææ–™æ„ŸçŸ¥",æ•°å€¼:1}]},{id:6,name:"å¤šå®ç«¥å­",description:"å‡ºé—¨å†ç»ƒæ—¶ï¼Œæ›´å®¹æ˜“å‘ç°å¤©æåœ°å®ã€‚",talent_cost:7,rarity:4,effects:[{ç±»å‹:"åå¤©å…­å¸",ç›®æ ‡:"æ°”è¿",æ•°å€¼:3},{ç±»å‹:"ç‰¹æ®Šèƒ½åŠ›",åç§°:"å¯»å®å¤©èµ‹",æ•°å€¼:.15}]},{id:7,name:"ä½“ä¿®å¥‡æ‰",description:"è‚‰èº«å¤©ç”Ÿå¼ºæ¨ªï¼Œæ°”è¡€æ—ºç››ï¼Œé€‚åˆä¿®ç‚¼ä½“ä¿®åŠŸæ³•ã€‚",talent_cost:5,rarity:3,effects:[{ç±»å‹:"åå¤©å…­å¸",ç›®æ ‡:"æ ¹éª¨",æ•°å€¼:3},{ç±»å‹:"ç‰¹æ®Šèƒ½åŠ›",åç§°:"ä½“ä¿®å¤©èµ‹",æ•°å€¼:.1}]},{id:8,name:"ç¥è¯†è¿‡äºº",description:"å¤©ç”Ÿç¥è¯†å¼ºå¤§ï¼Œä¸æ˜“è¢«å¿ƒé­”å…¥ä¾µï¼Œæ–½å±•ç¥è¯†ç§˜æœ¯æ•ˆæœæ›´ä½³ã€‚",talent_cost:5,rarity:3,effects:[{ç±»å‹:"åå¤©å…­å¸",ç›®æ ‡:"æ‚Ÿæ€§",æ•°å€¼:3},{ç±»å‹:"ç‰¹æ®Šèƒ½åŠ›",åç§°:"å¿ƒé­”æŠ—æ€§",æ•°å€¼:.1}]},{id:9,name:"èº«æ³•é¬¼é­…",description:"èº«æ³•é£˜é€¸ï¼Œæˆ˜æ–—ä¸­é—ªé¿èƒ½åŠ›æ›´å¼ºã€‚",talent_cost:4,rarity:3,effects:[{ç±»å‹:"åå¤©å…­å¸",ç›®æ ‡:"çµæ€§",æ•°å€¼:2},{ç±»å‹:"ç‰¹æ®Šèƒ½åŠ›",åç§°:"é—ªé¿å¤©èµ‹",æ•°å€¼:.08}]},{id:10,name:"å†œå¤«ä¹‹å­",description:"å‡ºèº«å‡¡äººï¼Œå¿ƒæ€§åšéŸ§ï¼Œå¯¹çµæ¤æœ‰é¢å¤–çš„äº²å’ŒåŠ›ã€‚",talent_cost:2,rarity:2,effects:[{ç±»å‹:"åå¤©å…­å¸",ç›®æ ‡:"å¿ƒæ€§",æ•°å€¼:1},{ç±»å‹:"ç‰¹æ®Šèƒ½åŠ›",åç§°:"çµæ¤äº²å’Œ",æ•°å€¼:.1}]},{id:11,name:"è¿‡ç›®ä¸å¿˜",description:"è®°å¿†åŠ›è¶…ç¾¤ï¼Œå­¦ä¹ åŠŸæ³•ç§˜ç±é€Ÿåº¦åŠ å¿«ã€‚",talent_cost:2,rarity:2,effects:[{ç±»å‹:"åå¤©å…­å¸",ç›®æ ‡:"æ‚Ÿæ€§",æ•°å€¼:2}]},{id:12,name:"è€å®äºº",description:"ä¸äººäº¤æ˜“æ—¶ï¼Œä¸å®¹æ˜“è¢«æ¬ºéª—ã€‚",talent_cost:1,rarity:1,effects:[{ç±»å‹:"ç‰¹æ®Šèƒ½åŠ›",åç§°:"é˜²æ¬ºè¯ˆ",æ•°å€¼:1}]},{id:13,name:"ä¸€è¯ºåƒé‡‘",description:"ä½ çš„æ‰¿è¯ºæå…·åˆ†é‡ï¼Œæ›´å®¹æ˜“è·å¾—ä»–äººçš„ä¿¡ä»»ä¸å¥½æ„Ÿã€‚",talent_cost:3,rarity:2,effects:[{ç±»å‹:"åå¤©å…­å¸",ç›®æ ‡:"é­…åŠ›",æ•°å€¼:2}]},{id:14,name:"å¤©ç”Ÿæ¯’ä½“",description:"ç™¾æ¯’ä¸ä¾µï¼Œä¸”èƒ½æ›´å¥½åœ°é©¾é©­æ¯’åŠŸï¼Œä½†å¸¸äººä¸æ•¢è½»æ˜“æ¥è¿‘ã€‚",talent_cost:6,rarity:4,effects:[{ç±»å‹:"ç‰¹æ®Šèƒ½åŠ›",åç§°:"æ¯’ç´ å…ç–«",æ•°å€¼:1},{ç±»å‹:"æŠ€èƒ½åŠ æˆ",æŠ€èƒ½:"æ¯’æœ¯",æ•°å€¼:.15},{ç±»å‹:"åå¤©å…­å¸",ç›®æ ‡:"é­…åŠ›",æ•°å€¼:-2}]},{id:15,name:"ç”»é¾™ç‚¹ç›",description:"åœ¨åˆ¶ä½œç¬¦ç®“æ—¶ï¼Œæœ‰ä¸€å®šå‡ ç‡äº§ç”Ÿæ„æƒ³ä¸åˆ°çš„å¼ºå¤§æ•ˆæœã€‚",talent_cost:4,rarity:3,effects:[{ç±»å‹:"æŠ€èƒ½åŠ æˆ",æŠ€èƒ½:"ç¬¦ç®“",æ•°å€¼:.1},{ç±»å‹:"ç‰¹æ®Šèƒ½åŠ›",åç§°:"ç¬¦ç®“å˜å¼‚",æ•°å€¼:.05}]},{id:16,name:"é¡¶çº§é­…åŠ›",description:"å¤©ç”Ÿä¸½è´¨ï¼Œæ°”è´¨éå‡¡ï¼Œé­…åŠ›è¶…ç¾¤ã€‚æ— è®ºèµ°åˆ°å“ªé‡Œéƒ½æ˜¯ä¼—äººç©ç›®çš„ç„¦ç‚¹ï¼Œæå®¹æ˜“è·å¾—ä»–äººçš„å¥½æ„Ÿä¸ä¿¡ä»»ã€‚åœ¨ç¤¾äº¤åœºåˆå¦‚é±¼å¾—æ°´ï¼Œèƒ½å¤Ÿä»¥è¨€è¯­å’Œé­…åŠ›åŒ–è§£å¤§éƒ¨åˆ†å†²çªã€‚",talent_cost:8,rarity:4,effects:[{ç±»å‹:"åå¤©å…­å¸",ç›®æ ‡:"é­…åŠ›",æ•°å€¼:5},{ç±»å‹:"ç‰¹æ®Šèƒ½åŠ›",åç§°:"é­…åŠ›å…‰ç¯",æ•°å€¼:.2},{ç±»å‹:"ç‰¹æ®Šèƒ½åŠ›",åç§°:"ç¤¾äº¤å¤©èµ‹",æ•°å€¼:.15}]}]},7659:e=&gt;{var n={};e.exports=function(e,t){var a=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&amp;&amp;t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}},7816:(e,n,t)=&gt;{t.d(n,{A:()=&gt;i});var a=t(1601),o=t.n(a),r=t(6314),l=t.n(r)()(o());l.push([e.id,"\n.world-info-section[data-v-23f9de7c] {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  padding: 1rem;\n}\n.section-header[data-v-23f9de7c] {\n  margin-bottom: 1rem;\n  flex-shrink: 0;\n}\n.section-title[data-v-23f9de7c] {\n  margin: 0;\n  font-size: 1.1rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.world-info-content[data-v-23f9de7c] {\n  flex: 1;\n  overflow: hidden;\n}\n.data-display[data-v-23f9de7c] {\n  height: 100%;\n  overflow: hidden;\n}\n.code-pre[data-v-23f9de7c] {\n  margin: 0;\n  padding: 0.75rem;\n  background: var(--color-code-bg);\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  height: 100%;\n  overflow: auto;\n  font-family: 'Consolas', 'Monaco', monospace;\n  font-size: 0.8rem;\n  line-height: 1.4;\n  white-space: pre-wrap;\n  word-break: break-word;\n}\n.empty-state[data-v-23f9de7c] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  color: var(--color-text-secondary);\n  text-align: center;\n}\n\n/* æ‰‹æœºç«¯é€‚é… */\n@media (max-width: 640px) {\n.world-info-section[data-v-23f9de7c] {\n    padding: 0.75rem;\n}\n.section-title[data-v-23f9de7c] {\n    font-size: 1rem;\n    text-align: center;\n}\n.code-pre[data-v-23f9de7c] {\n    font-size: 0.75rem;\n    padding: 0.5rem;\n}\n.empty-state[data-v-23f9de7c] {\n    padding: 2rem 0.5rem;\n}\n}\n@media (max-width: 480px) {\n.world-info-section[data-v-23f9de7c] {\n    padding: 0.5rem;\n}\n.section-title[data-v-23f9de7c] {\n    font-size: 0.9rem;\n}\n.code-pre[data-v-23f9de7c] {\n    font-size: 0.7rem;\n    padding: 0.4rem;\n}\n}\n",""]);const i=l},7825:e=&gt;{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var a="";t.supports&amp;&amp;(a+="@supports (".concat(t.supports,") {")),t.media&amp;&amp;(a+="@media ".concat(t.media," {"));var o=void 0!==t.layer;o&amp;&amp;(a+="@layer".concat(t.layer.length&gt;0?" ".concat(t.layer):""," {")),a+=t.css,o&amp;&amp;(a+="}"),t.media&amp;&amp;(a+="}"),t.supports&amp;&amp;(a+="}");var r=t.sourceMap;r&amp;&amp;"undefined"!=typeof btoa&amp;&amp;(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),n.styleTagTransform(a,e,n.options)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},8205:(e,n,t)=&gt;{t.d(n,{A:()=&gt;i});var a=t(1601),o=t.n(a),r=t(6314),l=t.n(r)()(o());l.push([e.id,"\n.progress[data-v-d9bb4e4a] {\n  position: relative;\n  width: 100%;\n  height: 8px;\n  background: var(--color-surface);\n  border: 2px solid var(--color-border);\n  border-radius: 8px;\n  box-shadow: inset 0 1px 2px rgba(0,0,0,0.05);\n  overflow: hidden;\n}\n.progress.sm[data-v-d9bb4e4a] { height: 6px;\n}\n.progress.md[data-v-d9bb4e4a] { height: 8px;\n}\n.progress.lg[data-v-d9bb4e4a] { height: 16px;\n}\n.progress-bar[data-v-d9bb4e4a] {\n  height: 100%;\n  background: linear-gradient(90deg, var(--color-success), var(--color-primary));\n  border-radius: 999px;\n  transition: width 0.25s ease;\n  min-width: 2px; /* ç¡®ä¿å³ä½¿0%ä¹Ÿèƒ½çœ‹åˆ°ä¸€ç‚¹è¿›åº¦æ¡ */\n}\n.progress-label[data-v-d9bb4e4a] {\n  position: absolute;\n  top: 50%;\n  right: 8px;\n  transform: translateY(-50%);\n  font-size: 12px;\n  color: rgba(0, 0, 0, 0.75);\n  pointer-events: none;\n}\n",""]);const i=l},8264:(e,n,t)=&gt;{t.d(n,{A:()=&gt;i});var a=t(1601),o=t.n(a),r=t(6314),l=t.n(r)()(o());l.push([e.id,"\n.save-data-section[data-v-0e1d4ac2] {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  padding: 1rem;\n}\n.section-header[data-v-0e1d4ac2] {\n  margin-bottom: 1rem;\n  flex-shrink: 0;\n}\n.section-title[data-v-0e1d4ac2] {\n  margin: 0;\n  font-size: 1.1rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.save-data-content[data-v-0e1d4ac2] {\n  flex: 1;\n  overflow: auto;\n  background: var(--color-code-bg);\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  padding: 0.75rem;\n}\n.data-tree[data-v-0e1d4ac2] {\n  font-family: 'Consolas', 'Monaco', monospace;\n  font-size: 0.85rem;\n}\n.empty-state[data-v-0e1d4ac2] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  color: var(--color-text-secondary);\n  text-align: center;\n}\n",""]);const i=l},8431:(e,n,t)=&gt;{t.d(n,{A:()=&gt;i});var a=t(1601),o=t.n(a),r=t(6314),l=t.n(r)()(o());l.push([e.id,'\n.formatted-text[data-v-176b782c] {\n  white-space: pre-wrap;\n  word-wrap: break-word;\n  text-align: justify;\n  text-indent: 2em;\n  margin: 0;\n  line-height: 1.8;\n  padding-bottom: 1.5rem;\n}\n\n/* ç¯å¢ƒæå†™ - é’è‰² */\n.text-environment[data-v-176b782c] {\n  color: #0891b2;\n  font-weight: 500;\n}\n\n/* å¿ƒç†æå†™ - ç´«è‰² */\n.text-psychology[data-v-176b782c] {\n  color: #7c3aed;\n  font-style: italic;\n  font-weight: 500;\n}\n\n/* å¯¹è¯ - æ©™è‰² */\n.text-dialogue[data-v-176b782c] {\n  color: #d97706;\n  font-weight: 500;\n}\n\n/* å¼•ç”¨/ç‹¬ç™½ - æ©™è‰²æ–œä½“ */\n.text-quote[data-v-176b782c] {\n  color: rgb(254 125 0);\n  font-style: italic;\n}\n\n/* æ™®é€šæ–‡æœ¬ */\n.text-normal[data-v-176b782c] {\n  color: var(--color-text, #1a1a1a);\n}\n\n/* åˆ¤å®šå¡ç‰‡æ ·å¼ - é‡æ–°è®¾è®¡ */\n.judgement-card[data-v-176b782c] {\n  display: flex;\n  gap: 1rem;\n  margin: 1.25rem 0;\n  padding: 1.25rem;\n  background: linear-gradient(135deg, #fefefe 0%, #f8f9fa 100%);\n  border-radius: 16px;\n  border: 2px solid #e2e8f0;\n  box-shadow:\n    0 2px 8px rgba(0, 0, 0, 0.04),\n    0 4px 16px rgba(0, 0, 0, 0.02);\n  text-indent: 0;\n  position: relative;\n  overflow: hidden;\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n}\n.judgement-card[data-v-176b782c]::before {\n  content: \'\';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 3px;\n  background: linear-gradient(90deg,\n    transparent 0%,\n    var(--card-color, #6366f1) 50%,\n    transparent 100%);\n}\n.judgement-card[data-v-176b782c]:hover {\n  transform: translateY(-2px);\n  box-shadow:\n    0 4px 12px rgba(0, 0, 0, 0.06),\n    0 8px 24px rgba(0, 0, 0, 0.04);\n}\n\n/* æˆåŠŸçŠ¶æ€ */\n.judgement-card.is-success[data-v-176b782c] {\n  border-color: #86efac;\n  background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);\n  --card-color: #10b981;\n}\n.judgement-card.is-great-success[data-v-176b782c] {\n  border-color: #fbbf24;\n  background: linear-gradient(135deg, #fffbeb 0%, #fef3c7 100%);\n  --card-color: #f59e0b;\n  animation: pulse-success-176b782c 2s ease-in-out infinite;\n}\n\n/* å¤±è´¥çŠ¶æ€ */\n.judgement-card.is-failure[data-v-176b782c] {\n  border-color: #fca5a5;\n  background: linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%);\n  --card-color: #ef4444;\n}\n.judgement-card.is-great-failure[data-v-176b782c] {\n  border-color: #c084fc;\n  background: linear-gradient(135deg, #faf5ff 0%, #f3e8ff 100%);\n  --card-color: #a855f7;\n  animation: pulse-failure-176b782c 2s ease-in-out infinite;\n}\n@keyframes pulse-success-176b782c {\n0%, 100% { box-shadow: 0 0 0 0 rgba(251, 191, 36, 0.4);\n}\n50% { box-shadow: 0 0 0 8px rgba(251, 191, 36, 0);\n}\n}\n@keyframes pulse-failure-176b782c {\n0%, 100% { box-shadow: 0 0 0 0 rgba(168, 85, 247, 0.4);\n}\n50% { box-shadow: 0 0 0 8px rgba(168, 85, 247, 0);\n}\n}\n\n/* å›¾æ ‡åŒºåŸŸ */\n.card-icon[data-v-176b782c] {\n  flex-shrink: 0;\n  width: 48px;\n  height: 48px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: white;\n  border-radius: 12px;\n  border: 2px solid var(--card-color, #6366f1);\n  color: var(--card-color, #6366f1);\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);\n}\n\n/* å†…å®¹åŒºåŸŸ */\n.card-content[data-v-176b782c] {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n}\n\n/* æ ‡é¢˜è¡Œ */\n.card-header[data-v-176b782c] {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: 0.75rem;\n}\n.judgement-title[data-v-176b782c] {\n  font-size: 1.125rem;\n  font-weight: 700;\n  color: #0f172a;\n  letter-spacing: -0.01em;\n  text-shadow: 0 1px 2px rgba(255, 255, 255, 0.8);\n  opacity: 1;\n}\n.judgement-badge[data-v-176b782c] {\n  display: inline-flex;\n  align-items: center;\n  padding: 0.375rem 0.875rem;\n  background: var(--card-color, #6366f1);\n  color: white;\n  border-radius: 20px;\n  font-size: 0.875rem;\n  font-weight: 600;\n  letter-spacing: 0.02em;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n  opacity: 1;\n}\n\n/* ç»Ÿè®¡ä¿¡æ¯è¡Œ */\n.card-body[data-v-176b782c] {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 0.75rem;\n}\n.stat-item[data-v-176b782c] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.5rem 0.875rem;\n  background: white;\n  border-radius: 10px;\n  border: 1px solid #e2e8f0;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.04);\n  min-width: fit-content;\n}\n.details-list[data-v-176b782c] {\n  width: 100%;\n  margin-top: 0.5rem;\n  padding-top: 0.5rem;\n  border-top: 1px solid #e2e8f0;\n}\n.detail-item[data-v-176b782c] {\n  font-size: 0.875rem;\n  color: #64748b;\n  padding: 0.25rem 0;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n.detail-item[data-v-176b782c]::before {\n  content: \'â€¢\';\n  color: #94a3b8;\n}\n.stat-icon[data-v-176b782c] {\n  font-size: 1.375rem;\n  line-height: 1;\n}\n.stat-info[data-v-176b782c] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.125rem;\n}\n.stat-label[data-v-176b782c] {\n  font-size: 0.75rem;\n  font-weight: 500;\n  color: #64748b;\n  text-transform: uppercase;\n  letter-spacing: 0.05em;\n}\n.stat-value[data-v-176b782c] {\n  font-size: 1.125rem;\n  font-weight: 700;\n  color: #1e293b;\n}\n.dice-roll[data-v-176b782c], .attribute-check[data-v-176b782c] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 0.75rem;\n  background: var(--color-surface-light, #ebe9e6);\n  border-radius: 8px;\n  border: 1px solid var(--color-border, rgba(0, 0, 0, 0.1));\n  transition: all 0.2s ease;\n  text-align: center;\n}\n.dice-roll[data-v-176b782c]:hover, .attribute-check[data-v-176b782c]:hover {\n  background: var(--color-surface, #f2f1ee);\n  transform: translateY(-1px);\n}\n.dice-roll .label[data-v-176b782c], .attribute-check .label[data-v-176b782c] {\n  font-size: 0.8em;\n  color: var(--color-text-secondary, #666666);\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n  margin-bottom: 0.25rem;\n  font-weight: 500;\n}\n.dice-roll .value[data-v-176b782c], .attribute-check .value[data-v-176b782c] {\n  font-size: 1.4em;\n  font-weight: 700;\n  color: var(--color-text, #1a1a1a);\n  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n}\n.dice-roll .value[data-v-176b782c] {\n  color: #6366f1;\n  background: linear-gradient(135deg, #6366f1, #8b5cf6);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-clip: text;\n}\n\n/* æ·±è‰²ä¸»é¢˜é€‚é… */\n[data-theme="dark"] .text-normal[data-v-176b782c] {\n  color: var(--color-text, #f7f7f5);\n}\n[data-theme="dark"] .text-environment[data-v-176b782c] {\n  color: #22d3ee;\n}\n[data-theme="dark"] .text-psychology[data-v-176b782c] {\n  color: #a78bfa;\n}\n[data-theme="dark"] .text-dialogue[data-v-176b782c] {\n  color: #fb923c;\n}\n[data-theme="dark"] .text-quote[data-v-176b782c] {\n  color: rgb(254 125 0);\n}\n[data-theme="dark"] .judgement-card[data-v-176b782c] {\n  background: linear-gradient(135deg, rgba(255, 255, 255, 0.02) 0%, var(--color-background, rgb(30, 41, 59)) 100%);\n  border-color: var(--color-border, rgba(173, 216, 230, 0.5));\n}\n[data-theme="dark"] .card-header[data-v-176b782c] {\n  color: var(--color-text, #f7f7f5);\n}\n[data-theme="dark"] .result-text[data-v-176b782c],\n[data-theme="dark"] .dice-roll[data-v-176b782c],\n[data-theme="dark"] .attribute-check[data-v-176b782c] {\n  background: var(--color-surface-light, #414868);\n  border-color: var(--color-border, rgba(173, 216, 230, 0.5));\n}\n[data-theme="dark"] .dice-roll .label[data-v-176b782c],\n[data-theme="dark"] .attribute-check .label[data-v-176b782c] {\n  color: var(--color-text-secondary, #d0d0d0);\n}\n[data-theme="dark"] .dice-roll .value[data-v-176b782c],\n[data-theme="dark"] .attribute-check .value[data-v-176b782c] {\n  color: var(--color-text, #f7f7f5);\n}\n.header-right[data-v-176b782c] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n.help-btn[data-v-176b782c] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 28px;\n  height: 28px;\n  padding: 0;\n  background: rgba(255, 255, 255, 0.8);\n  border: 1px solid #e2e8f0;\n  border-radius: 50%;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  color: #64748b;\n}\n.help-btn[data-v-176b782c]:hover {\n  background: white;\n  border-color: var(--card-color, #6366f1);\n  color: var(--card-color, #6366f1);\n  transform: scale(1.1);\n}\n.help-btn[data-v-176b782c]:active {\n  transform: scale(0.95);\n}\n\n/* å¸®åŠ©å¼¹çª— */\n.help-modal-overlay[data-v-176b782c] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  backdrop-filter: blur(4px);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 10000;\n  animation: fadeIn-176b782c 0.2s ease;\n}\n@keyframes fadeIn-176b782c {\nfrom { opacity: 0;\n}\nto { opacity: 1;\n}\n}\n.help-modal[data-v-176b782c] {\n  background: var(--color-surface);\n  color: var(--color-text);\n  border-radius: 16px;\n  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);\n  max-width: 600px;\n  width: 90%;\n  max-height: 80vh;\n  overflow: hidden;\n  animation: slideUp-176b782c 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n}\n@keyframes slideUp-176b782c {\nfrom {\n    opacity: 0;\n    transform: translateY(20px);\n}\nto {\n    opacity: 1;\n    transform: translateY(0);\n}\n}\n.help-modal-header[data-v-176b782c] {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 1.5rem;\n  border-bottom: 1px solid #e2e8f0;\n  background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);\n}\n.help-modal-header h3[data-v-176b782c] {\n  margin: 0;\n  font-size: 1.25rem;\n  font-weight: 700;\n  color: var(--color-text);\n}\n.close-btn[data-v-176b782c] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 32px;\n  height: 32px;\n  padding: 0;\n  background: white;\n  border: 1px solid #e2e8f0;\n  border-radius: 8px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  color: #64748b;\n}\n.close-btn[data-v-176b782c]:hover {\n  background: #fee2e2;\n  border-color: #ef4444;\n  color: #ef4444;\n}\n.help-modal-content[data-v-176b782c] {\n  padding: 1.5rem;\n  overflow-y: auto;\n  max-height: calc(80vh - 80px);\n}\n.help-section[data-v-176b782c] {\n  margin-bottom: 1.5rem;\n}\n.help-section[data-v-176b782c]:last-child {\n  margin-bottom: 0;\n}\n.help-section h4[data-v-176b782c] {\n  margin: 0 0 0.75rem 0;\n  font-size: 1rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.help-section ol[data-v-176b782c] {\n  margin: 0;\n  padding-left: 1.5rem;\n  color: var(--color-text-secondary);\n  line-height: 1.8;\n}\n.help-section ol li[data-v-176b782c] {\n  margin-bottom: 0.5rem;\n}\n.help-section ol li strong[data-v-176b782c] {\n  color: var(--color-text);\n  font-weight: 600;\n}\n.formula-box[data-v-176b782c] {\n  padding: 1rem;\n  background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);\n  border-left: 4px solid #f59e0b;\n  border-radius: 8px;\n  margin-bottom: 0.75rem;\n  font-size: 0.875rem;\n  line-height: 1.6;\n  color: #78350f;\n}\n.formula-box strong[data-v-176b782c] {\n  color: #92400e;\n  font-weight: 700;\n}\n.result-list[data-v-176b782c] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n}\n.result-item[data-v-176b782c] {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0.75rem 1rem;\n  border-radius: 10px;\n  border: 1px solid;\n  gap: 1rem;\n}\n.result-item.perfect[data-v-176b782c] {\n  background: linear-gradient(135deg, #fffbeb 0%, #fef3c7 100%);\n  border-color: #fbbf24;\n}\n.result-item.great-success[data-v-176b782c] {\n  background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);\n  border-color: #86efac;\n}\n.result-item.success[data-v-176b782c] {\n  background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%);\n  border-color: #93c5fd;\n}\n.result-item.failure[data-v-176b782c] {\n  background: linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%);\n  border-color: #fca5a5;\n}\n.result-item.critical-failure[data-v-176b782c] {\n  background: linear-gradient(135deg, #faf5ff 0%, #f3e8ff 100%);\n  border-color: #c084fc;\n}\n.result-label[data-v-176b782c] {\n  font-weight: 700;\n  font-size: 0.875rem;\n  min-width: 60px;\n  opacity: 1;\n}\n.result-desc[data-v-176b782c] {\n  font-size: 0.875rem;\n  flex: 1;\n  opacity: 1;\n}\n\n/* -- ä¸ºä¸åŒç»“æœç±»å‹è®¾ç½®æ–‡å­—é¢œè‰² -- */\n\n/* å®Œç¾ */\n.result-item.perfect .result-label[data-v-176b782c],\n.result-item.perfect .result-desc[data-v-176b782c] {\n  color: #92400e;\n}\n\n/* å¤§æˆåŠŸ */\n.result-item.great-success .result-label[data-v-176b782c],\n.result-item.great-success .result-desc[data-v-176b782c] {\n  color: #14532d;\n}\n\n/* æˆåŠŸ */\n.result-item.success .result-label[data-v-176b782c],\n.result-item.success .result-desc[data-v-176b782c] {\n  color: #1e40af;\n}\n\n/* å¤±è´¥ */\n.result-item.failure .result-label[data-v-176b782c],\n.result-item.failure .result-desc[data-v-176b782c] {\n  color: #991b1b;\n}\n\n/* å¤§å¤±è´¥ */\n.result-item.critical-failure .result-label[data-v-176b782c],\n.result-item.critical-failure .result-desc[data-v-176b782c] {\n  color: #581c87;\n}\n.formula-note[data-v-176b782c] {\n  padding: 0.75rem 1rem;\n  background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%);\n  border-left: 4px solid #3b82f6;\n  border-radius: 8px;\n  margin-bottom: 0.75rem;\n  font-size: 0.875rem;\n  line-height: 1.6;\n  color: #1e40af;\n}\n.formula-note strong[data-v-176b782c] {\n  color: #1e3a8a;\n  font-weight: 700;\n}\n.tips-list[data-v-176b782c] {\n  margin: 0;\n  padding-left: 1.25rem;\n  color: #475569;\n  line-height: 1.8;\n}\n.tips-list li[data-v-176b782c] {\n  margin-bottom: 0.5rem;\n}\n.judgement-types[data-v-176b782c] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n.type-item[data-v-176b782c] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n  padding: 0.75rem;\n  background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);\n  border-radius: 8px;\n  border: 1px solid #e2e8f0;\n}\n.type-name[data-v-176b782c] {\n  font-weight: 600;\n  font-size: 0.875rem;\n  color: #1e293b;\n}\n.type-attrs[data-v-176b782c] {\n  font-size: 0.8125rem;\n  color: var(--color-text-secondary);\n  line-height: 1.5;\n}\n.attributes-desc[data-v-176b782c] {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n  gap: 0.75rem;\n}\n.attr-card[data-v-176b782c] {\n  padding: 0.75rem;\n  background: linear-gradient(135deg, #fefefe 0%, #f8fafc 100%);\n  border-radius: 10px;\n  border: 1px solid #e2e8f0;\n}\n.attr-header[data-v-176b782c] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  margin-bottom: 0.5rem;\n}\n.attr-icon[data-v-176b782c] {\n  font-size: 1.25rem;\n}\n.attr-name[data-v-176b782c] {\n  font-weight: 600;\n  font-size: 0.875rem;\n  color: #1e293b;\n}\n.attr-card p[data-v-176b782c] {\n  margin: 0;\n  font-size: 0.8125rem;\n  color: var(--color-text-secondary);\n  line-height: 1.6;\n}\n\n/* æ·±è‰²ä¸»é¢˜é€‚é… */\n[data-theme="dark"] .help-modal[data-v-176b782c] {\n  background: var(--color-surface, #1e293b);\n  color: var(--color-text, #f7f7f5);\n}\n[data-theme="dark"] .help-modal-header[data-v-176b782c] {\n  background: rgba(255, 255, 255, 0.05);\n  border-bottom-color: var(--color-border, rgba(255, 255, 255, 0.1));\n}\n[data-theme="dark"] .help-modal-header h3[data-v-176b782c],\n[data-theme="dark"] .help-section h4[data-v-176b782c] {\n  color: var(--color-text, #f7f7f5);\n}\n[data-theme="dark"] .help-section ol[data-v-176b782c],\n[data-theme="dark"] .tips-list[data-v-176b782c] {\n  color: var(--color-text-secondary, #94a3b8);\n}\n\n/* -- æ·±è‰²ä¸»é¢˜ä¸‹çš„ç»“æœæ–‡å­—é¢œè‰² -- */\n[data-theme="dark"] .result-item.perfect .result-label[data-v-176b782c],\n[data-theme="dark"] .result-item.perfect .result-desc[data-v-176b782c] {\n  color: #fcd34d;\n}\n[data-theme="dark"] .result-item.great-success .result-label[data-v-176b782c],\n[data-theme="dark"] .result-item.great-success .result-desc[data-v-176b782c] {\n  color: #86efac;\n}\n[data-theme="dark"] .result-item.success .result-label[data-v-176b782c],\n[data-theme="dark"] .result-item.success .result-desc[data-v-176b782c] {\n  color: #93c5fd;\n}\n[data-theme="dark"] .result-item.failure .result-label[data-v-176b782c],\n[data-theme="dark"] .result-item.failure .result-desc[data-v-176b782c] {\n  color: #fca5a5;\n}\n[data-theme="dark"] .result-item.critical-failure .result-label[data-v-176b782c],\n[data-theme="dark"] .result-item.critical-failure .result-desc[data-v-176b782c] {\n  color: #d8b4fe;\n}\n[data-theme="dark"] .close-btn[data-v-176b782c] {\n  background: rgba(255, 255, 255, 0.05);\n  border-color: var(--color-border, rgba(255, 255, 255, 0.1));\n  color: var(--color-text-secondary, #94a3b8);\n}\n[data-theme="dark"] .close-btn[data-v-176b782c]:hover {\n  background: rgba(239, 68, 68, 0.2);\n  border-color: #ef4444;\n}\n[data-theme="dark"] .help-btn[data-v-176b782c] {\n  background: rgba(255, 255, 255, 0.05);\n  border-color: var(--color-border, rgba(255, 255, 255, 0.1));\n  color: var(--color-text-secondary, #94a3b8);\n}\n[data-theme="dark"] .help-btn[data-v-176b782c]:hover {\n  background: rgba(255, 255, 255, 0.1);\n  border-color: var(--card-color, #6366f1);\n  color: var(--card-color, #6366f1);\n}\n[data-theme="dark"] .type-item[data-v-176b782c] {\n  background: rgba(255, 255, 255, 0.03);\n  border-color: var(--color-border, rgba(255, 255, 255, 0.1));\n}\n[data-theme="dark"] .type-name[data-v-176b782c] {\n  color: var(--color-text, #f7f7f5);\n}\n[data-theme="dark"] .type-attrs[data-v-176b782c] {\n  color: var(--color-text-secondary, #94a3b8);\n}\n[data-theme="dark"] .attr-card[data-v-176b782c] {\n  background: rgba(255, 255, 255, 0.03);\n  border-color: var(--color-border, rgba(255, 255, 255, 0.1));\n}\n[data-theme="dark"] .attr-name[data-v-176b782c] {\n  color: var(--color-text, #f7f7f5);\n}\n[data-theme="dark"] .attr-card p[data-v-176b782c] {\n  color: var(--color-text-secondary, #94a3b8);\n}\n[data-theme="dark"] .formula-box[data-v-176b782c] {\n  background: linear-gradient(135deg, rgba(251, 191, 36, 0.15) 0%, rgba(245, 158, 11, 0.1) 100%);\n  border-left-color: #f59e0b;\n  color: #fbbf24;\n}\n[data-theme="dark"] .formula-box strong[data-v-176b782c] {\n  color: #fcd34d;\n}\n',""]);const i=l},8587:(e,n,t)=&gt;{t.d(n,{hy:()=&gt;v,Dj:()=&gt;c});var a=t(8651),o=t(2224),r=t(9808),l=t(8708),i=t(3098);async function c(e,n,r=!1){console.log("[processGmResponse] å¼€å§‹å¤„ç†GMå“åº”ï¼ŒisInitialization=",r);const l={changes:[]};if(!e){console.warn("[processGmResponse] å“åº”ä¸ºç©ºï¼Œè¿”å›åŸå§‹æ•°æ®");const{repairSaveData:e}=await Promise.resolve().then(t.bind(t,6588));return{saveData:e(n),stateChanges:l}}const{repairSaveData:i}=await Promise.resolve().then(t.bind(t,6588)),c=i(n);let v=(0,o.cloneDeep)(c),u=l;if(Array.isArray(e.tavern_commands)&amp;&amp;e.tavern_commands.length&gt;0){console.log(`[processGmResponse] ğŸ¯ æ”¶åˆ° ${e.tavern_commands.length} ä¸ªé…’é¦†å‘½ä»¤ï¼Œå¼€å§‹æ‰§è¡Œ...`),console.log("[processGmResponse] å‘½ä»¤è¯¦æƒ…:",e.tavern_commands);const n=e.tavern_commands.find(e=&gt;"è§’è‰²åŸºç¡€ä¿¡æ¯.çµæ ¹"===e.key),r=e.tavern_commands.find(e=&gt;"è§’è‰²åŸºç¡€ä¿¡æ¯.å‡ºç”Ÿ"===e.key);n&amp;&amp;console.log("[processGmResponse] ğŸ”¥ æ£€æµ‹åˆ°çµæ ¹æ›¿æ¢å‘½ä»¤:",JSON.stringify(n.value)),r&amp;&amp;console.log("[processGmResponse] ğŸ”¥ æ£€æµ‹åˆ°å‡ºç”Ÿæ›¿æ¢å‘½ä»¤:",JSON.stringify(r.value));const l=await async function(e,n){let t=(0,o.cloneDeep)(n);const a=[];for(const n of e){if(!n||!n.action||!n.key)continue;const{action:e,key:r}=n,l=s(r),i=(0,o.cloneDeep)((0,o.get)(t,l));t=await d(n,t);const c=(0,o.cloneDeep)((0,o.get)(t,l));JSON.stringify(i)!==JSON.stringify(c)&amp;&amp;a.push({key:l,action:e,oldValue:i,newValue:c})}return console.log("[executeCommands] å‘½ä»¤æ‰§è¡Œå®Œæˆï¼Œå…±",a.length,"ä¸ªå˜æ›´ï¼ˆæœªåŒæ­¥ï¼‰"),{saveData:t,stateChanges:{changes:a}}}(e.tavern_commands,v);if(v=l.saveData,u=l.stateChanges,n&amp;&amp;console.log("[processGmResponse] âœ… çµæ ¹æ›¿æ¢åçš„å€¼:",JSON.stringify(v.è§’è‰²åŸºç¡€ä¿¡æ¯?.çµæ ¹)),r&amp;&amp;console.log("[processGmResponse] âœ… å‡ºç”Ÿæ›¿æ¢åçš„å€¼:",JSON.stringify(v.è§’è‰²åŸºç¡€ä¿¡æ¯?.å‡ºç”Ÿ)),e.tavern_commands.some(e=&gt;e.key?.includes("æ¸¸æˆæ—¶é—´")||e.key?.includes("game_time"))){console.log("[processGmResponse] ğŸ• æ£€æµ‹åˆ°æ—¶é—´æ›´æ–°ï¼Œè‡ªåŠ¨æ›´æ–°ç©å®¶å’ŒNPCå¹´é¾„");const{updateLifespanFromGameTime:e,updateNpcLifespanFromGameTime:n}=await Promise.resolve().then(t.bind(t,6939)),a=e(v);console.log("[processGmResponse] ç©å®¶å½“å‰å¹´é¾„:",a);const o=v.äººç‰©å…³ç³»||{},r=v.æ¸¸æˆæ—¶é—´;if(r)for(const[e,t]of Object.entries(o))if(t&amp;&amp;"object"==typeof t){const a=n(t,r);console.log(`[processGmResponse] NPC [${e}] å½“å‰å¹´é¾„:`,a)}}try{u?.changes?.length?(console.log("[processGmResponse] ğŸ¯ å‡†å¤‡åŒæ­¥",u.changes.length,"ä¸ªå˜æ›´åˆ°é…’é¦†"),console.log("[processGmResponse] å˜æ›´è¯¦æƒ…:",u.changes.map(e=&gt;({key:e.key,action:e.action}))),await async function(e,n="chat"){try{console.log("[syncChangesToTavern] ========== å¼€å§‹åŒæ­¥åˆ°é…’é¦† =========="),console.log("[syncChangesToTavern] éœ€è¦åŒæ­¥çš„å˜æ›´æ•°é‡:",e.length);const r=(0,a.getTavernHelper)();if(!r)return void console.warn("[syncChangesToTavern] é…’é¦†åŠ©æ‰‹ä¸å¯ç”¨");if(0===e.length)return void console.log("[syncChangesToTavern] æ— å˜æ›´éœ€è¦åŒæ­¥");const l={};for(const n of e){const e=m(n.key);console.log(`[syncChangesToTavern] è·¯å¾„ "${n.key}" -&gt; åˆ†ç‰‡ "${e}"`),e?(l[e]||(l[e]=[]),l[e].push(n)):console.warn("[syncChangesToTavern] âš ï¸ æ— æ³•ç¡®å®šåˆ†ç‰‡:",n.key)}console.log(`[syncChangesToTavern] åˆ†ç‰‡åˆ†ç»„å®Œæˆï¼Œå…± ${Object.keys(l).length} ä¸ªåˆ†ç‰‡å—å½±å“:`,Object.keys(l));for(const[e,a]of Object.entries(l)){console.log(`[syncChangesToTavern] å¤„ç†åˆ†ç‰‡ "${e}"ï¼ŒåŒ…å« ${a.length} ä¸ªå˜æ›´`);let l=await r.getVariable(e,{type:n});l||(l=e.startsWith("è®°å¿†_")?[]:{},console.log("[syncChangesToTavern] åˆ†ç‰‡ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°çš„:",e.startsWith("è®°å¿†_")?"æ•°ç»„":"å¯¹è±¡"));for(const n of a){const t=p(n.key,e);console.log(`[syncChangesToTavern]   åº”ç”¨å˜æ›´: è·¯å¾„="${t}", å€¼=`,n.newValue),e.startsWith("è®°å¿†_")&amp;&amp;!t?(l=n.newValue,console.log("[syncChangesToTavern]   âœ… æ›¿æ¢æ•´ä¸ªè®°å¿†æ•°ç»„")):((0,o.set)(l,t,n.newValue),console.log(`[syncChangesToTavern]   âœ… å·²è®¾ç½® ${t}`))}const{deepCleanForClone:i}=await Promise.resolve().then(t.bind(t,3098));await r.setVariable(e,i(l),{type:n}),console.log(`[syncChangesToTavern] âœ… åˆ†ç‰‡ "${e}" å·²æ›´æ–°åˆ°é…’é¦†`)}console.log(`[syncChangesToTavern] åŒæ­¥å®Œæˆï¼Œæ›´æ–°äº† ${e.length} ä¸ªå­—æ®µåˆ° ${Object.keys(l).length} ä¸ªåˆ†ç‰‡`)}catch(e){console.error("[syncChangesToTavern] åŒæ­¥å¤±è´¥:",e)}}(u.changes,"chat"),console.log("[processGmResponse] âœ… å·²åŒæ­¥å˜æ›´åˆ° Tavern åˆ†ç‰‡å˜é‡")):console.warn("[processGmResponse] âš ï¸ æ²¡æœ‰å˜æ›´éœ€è¦åŒæ­¥ï¼ˆstateChanges.changesä¸ºç©ºï¼‰")}catch(e){throw console.error("[processGmResponse] âŒ åŒæ­¥å˜æ›´åˆ°é…’é¦†å¤±è´¥:",e),e}console.log("[processGmResponse] âœ… æ‰€æœ‰å‘½ä»¤æ‰§è¡Œå®Œæˆ")}else console.log("[processGmResponse] âš ï¸ æ²¡æœ‰ tavern_commands éœ€è¦æ‰§è¡Œ");if(r&amp;&amp;e.text){v.è®°å¿†||(v.è®°å¿†={çŸ­æœŸè®°å¿†:[],ä¸­æœŸè®°å¿†:[],é•¿æœŸè®°å¿†:[],éšå¼ä¸­æœŸè®°å¿†:[]}),Array.isArray(v.è®°å¿†.çŸ­æœŸè®°å¿†)||(v.è®°å¿†.çŸ­æœŸè®°å¿†=[]),Array.isArray(v.è®°å¿†.éšå¼ä¸­æœŸè®°å¿†)||(v.è®°å¿†.éšå¼ä¸­æœŸè®°å¿†=[]);const n=`${function(e){if(!e)return"ã€ä»™å†å…ƒå¹´ã€‘";const n=function(e){return e.åˆ†é’Ÿ??0}(e);return`ã€ä»™é“${e.å¹´}å¹´${e.æœˆ}æœˆ${e.æ—¥}æ—¥ ${String(e.å°æ—¶).padStart(2,"0")}:${String(n).padStart(2,"0")}ã€‘`}(v.æ¸¸æˆæ—¶é—´)}${e.text}`;v.è®°å¿†.çŸ­æœŸè®°å¿†.push(n),console.log("[processGmResponse] âœ… å·²æ·»åŠ åˆå§‹åŒ–çŸ­æœŸè®°å¿†"),console.log("[processGmResponse] è®°å¿†å†…å®¹ï¼ˆå‰100å­—ç¬¦ï¼‰:",n.substring(0,100)),console.log("[processGmResponse] å½“å‰çŸ­æœŸè®°å¿†æ•°é‡:",v.è®°å¿†.çŸ­æœŸè®°å¿†.length)}else r||console.log("[processGmResponse] âš ï¸ éåˆå§‹åŒ–é˜¶æ®µï¼Œè·³è¿‡çŸ­æœŸè®°å¿†æ·»åŠ ï¼ˆç”±MainGamePanelå¤„ç†ï¼‰");return console.log("[processGmResponse] æ‰§è¡Œæœ€ç»ˆæ•°æ®ä¿®å¤å’ŒéªŒè¯"),v=i(v),console.log("[processGmResponse] âœ… GMå“åº”å¤„ç†å®Œæˆï¼Œæ•°æ®å·²ä¿®å¤å’ŒéªŒè¯"),{saveData:v,stateChanges:u}}function s(e){return e.startsWith("åŸºç¡€ä¿¡æ¯.")?"è§’è‰²åŸºç¡€ä¿¡æ¯."+e.substring(5):"åŸºç¡€ä¿¡æ¯"===e?"è§’è‰²åŸºç¡€ä¿¡æ¯":e.startsWith("å¢ƒç•Œ.")?"ç©å®¶è§’è‰²çŠ¶æ€.å¢ƒç•Œ."+e.substring(3):"å¢ƒç•Œ"===e?"ç©å®¶è§’è‰²çŠ¶æ€.å¢ƒç•Œ":e.startsWith("å±æ€§.")?"ç©å®¶è§’è‰²çŠ¶æ€."+e.substring(3):"å±æ€§"===e?"ç©å®¶è§’è‰²çŠ¶æ€":e.startsWith("ä½ç½®.")?"ç©å®¶è§’è‰²çŠ¶æ€.ä½ç½®."+e.substring(3):"ä½ç½®"===e?"ç©å®¶è§’è‰²çŠ¶æ€.ä½ç½®":e.startsWith("ä¿®ç‚¼åŠŸæ³•.")||"ä¿®ç‚¼åŠŸæ³•"===e||e.startsWith("è£…å¤‡æ .")||"è£…å¤‡æ "===e?e:e.startsWith("èƒŒåŒ…_çµçŸ³.")?"èƒŒåŒ….çµçŸ³."+e.substring(6):"èƒŒåŒ…_çµçŸ³"===e?"èƒŒåŒ….çµçŸ³":e.startsWith("èƒŒåŒ…_ç‰©å“.")?"èƒŒåŒ….ç‰©å“."+e.substring(6):"èƒŒåŒ…_ç‰©å“"===e?"èƒŒåŒ….ç‰©å“":e.startsWith("äººç‰©å…³ç³».")||"äººç‰©å…³ç³»"===e||e.startsWith("ä¸‰åƒå¤§é“.")||"ä¸‰åƒå¤§é“"===e||e.startsWith("ä¸–ç•Œä¿¡æ¯.")||"ä¸–ç•Œä¿¡æ¯"===e?e:e.startsWith("è®°å¿†_çŸ­æœŸ.")?"è®°å¿†.çŸ­æœŸè®°å¿†."+e.substring(6):"è®°å¿†_çŸ­æœŸ"===e?"è®°å¿†.çŸ­æœŸè®°å¿†":e.startsWith("è®°å¿†_ä¸­æœŸ.")?"è®°å¿†.ä¸­æœŸè®°å¿†."+e.substring(6):"è®°å¿†_ä¸­æœŸ"===e?"è®°å¿†.ä¸­æœŸè®°å¿†":e.startsWith("è®°å¿†_é•¿æœŸ.")?"è®°å¿†.é•¿æœŸè®°å¿†."+e.substring(6):"è®°å¿†_é•¿æœŸ"===e?"è®°å¿†.é•¿æœŸè®°å¿†":e.startsWith("è®°å¿†_éšå¼ä¸­æœŸ.")?"è®°å¿†.éšå¼ä¸­æœŸè®°å¿†."+e.substring(8):"è®°å¿†_éšå¼ä¸­æœŸ"===e?"è®°å¿†.éšå¼ä¸­æœŸè®°å¿†":e.startsWith("æ¸¸æˆæ—¶é—´.")||"æ¸¸æˆæ—¶é—´"===e?e:e.startsWith("çŠ¶æ€æ•ˆæœ.")?"ç©å®¶è§’è‰²çŠ¶æ€.çŠ¶æ€æ•ˆæœ."+e.substring(5):"çŠ¶æ€æ•ˆæœ"===e?"ç©å®¶è§’è‰²çŠ¶æ€.çŠ¶æ€æ•ˆæœ":(console.warn("[è·¯å¾„æ˜ å°„] æœªè¯†åˆ«çš„åˆ†ç‰‡è·¯å¾„ï¼Œä¿æŒåŸæ ·:",e),e)}async function d(e,n){if(!e||!e.action||!e.key)return console.warn("[executeCommand] æ— æ•ˆå‘½ä»¤:",e),n;const{action:r,key:c,value:d}=e,m=(e,n=0,t=10)=&gt;{const a="number"==typeof e?e:parseFloat(String(e));return Number.isNaN(a)?n:Math.max(n,Math.min(t,a))},p=(e,n)=&gt;{const t=n?.["è§’è‰²åŸºç¡€ä¿¡æ¯"]?.["ä¸–ç•Œ"]||"æœå¤©å¤§é™†",a=e=&gt;{let n=String(e||"").trim();if(!n)return`${t}Â·æœªçŸ¥ä¹‹åœ°`;n=n.replace(/[ï¼Œ,ã€/\\|&gt;]+/g,"Â·").replace(/\s*[-â€”â€“]\s*/g,"Â·").replace(/\s*Â·\s*/g,"Â·").replace(/ã€‚/g,"").replace(/\.\s*/g,"Â·"),n.includes("Â·")||(n=n.replace(/\s+/g,"Â·"));let a=n.split("Â·").map(e=&gt;e.trim()).filter(Boolean).map(e=&gt;{let n=e.trim();return n=n.replace(/çš„/g,""),n=n.replace(/[ä¹‹çš„]?([ä¸Šä¸­ä¸‹é‡Œå†…å¤–å¤„é—´æ—ç•”è¾¹]{1})$/g,""),n});return a=a.filter(Boolean),0===a.length&amp;&amp;(a=["æœªçŸ¥ä¹‹åœ°"]),a[0]!==t&amp;&amp;a.unshift(t),a.length&gt;3&amp;&amp;(a=a.slice(0,3)),a.join("Â·")};if("string"==typeof e)return{æè¿°:a(e)};if(e&amp;&amp;"object"==typeof e&amp;&amp;"æè¿°"in e){const o=e;let r=a(o["æè¿°"]);if("number"==typeof o.x&amp;&amp;"number"==typeof o.y){const e=o.x,a=o.y,l=((e,a)=&gt;{const o=n?.["ä¸–ç•Œä¿¡æ¯"],r=o?.["åœ°ç‚¹ä¿¡æ¯"]||[];let l=null,i=1/0;for(const n of r){const t=n.x??n.coordinates?.longitude,o=n.y??n.coordinates?.latitude;if(void 0!==t&amp;&amp;void 0!==o){const r=Math.sqrt(Math.pow(t-e,2)+Math.pow(o-a,2));r<i&&(i=r,l=n)}}if(l&&i<200){const e="l[&quot;åç§°&quot;]||l[&quot;åœ°ç‚¹åç§°&quot;]||&quot;&quot;;if(e.includes(&quot;Â·&quot;))return" e.split("Â·").slice(0,-1).join("Â·")}const="" c="o?.[&quot;å¤§é™†ä¿¡æ¯&quot;]||[];if(c.length">0){const e=c[0],n=e["åç§°"]||e.name||t;return n&amp;&amp;/^[a-z_]+$/.test(n)?(console.error(`[ä½ç½®è§„èŒƒåŒ–] âŒ æ£€æµ‹åˆ°è‹±æ–‡å¤§é™†ID: ${n}ï¼Œè¿™æ˜¯é”™è¯¯çš„ï¼åº”è¯¥ä½¿ç”¨ä¸­æ–‡åç§°`),console.error("[ä½ç½®è§„èŒƒåŒ–] å¤§é™†æ•°æ®:",e),c[0]&amp;&amp;c[0]["åç§°"]?c[0]["åç§°"]:t):(console.log(`[ä½ç½®è§„èŒƒåŒ–] ä½¿ç”¨å¤§é™†: ${n}`),n)}return console.error("[ä½ç½®è§„èŒƒåŒ–] ä¸–ç•Œä¿¡æ¯ä¸­æ²¡æœ‰å¤§é™†æ•°æ®ï¼Œå›é€€åˆ°ä¸–ç•Œå"),t})(e,a);return(!r.includes("Â·")||r.split("Â·").length&lt;2)&amp;&amp;(r=`${l}Â·${r.replace(t+"Â·","")}`),{...o,æè¿°:r,x:e,y:a}}return{...o,æè¿°:r}}return e},v=s(c);console.log("[executeCommand] ========== å¼€å§‹æ‰§è¡Œå‘½ä»¤ =========="),console.log(`[executeCommand] åŸå§‹è·¯å¾„: ${c}`),console.log(`[executeCommand] æ˜ å°„è·¯å¾„: ${v}`),console.log(`[executeCommand] åŠ¨ä½œ: ${r}`),console.log("[executeCommand] å€¼:",d),console.log("[executeCommand] å€¼ç±»å‹:",typeof d);try{let e=null;switch("set"===r&amp;&amp;v.startsWith("è£…å¤‡æ .è£…å¤‡")&amp;&amp;(e=(0,o.get)(n,v),console.log(`[è£…å¤‡å¢å¹…] å‡†å¤‡å˜æ›´ ${v}ï¼Œæ—§è£…å¤‡ID: ${e||"æ— "}`)),r){case"set":if(String(v).includes("å¢ƒç•Œ")&amp;&amp;console.log(`[executeCommand] ğŸŒŸ å¢ƒç•Œæ›´æ–° - è·¯å¾„: ${v}, æ–°å€¼:`,d),String(v).includes("èƒŒåŒ….ç‰©å“")||String(v).includes("ä¿®ç‚¼åŠŸæ³•.åŠŸæ³•"))(0,o.set)(n,v,(e=&gt;{try{if(!e||"object"!=typeof e)return e;const n=e,t=(n.ç±»å‹||"").trim();if(!["è£…å¤‡","åŠŸæ³•","å…¶ä»–"].includes(t))return e;const a={å‡¡å“:"å‡¡",å‡¡é˜¶:"å‡¡",å‡¡:"å‡¡",é»„å“:"é»„",é»„é˜¶:"é»„",é»„:"é»„",ç„å“:"ç„",ç„é˜¶:"ç„",ç„:"ç„",åœ°å“:"åœ°",åœ°é˜¶:"åœ°",åœ°:"åœ°",å¤©å“:"å¤©",å¤©é˜¶:"å¤©",å¤©:"å¤©",ä»™å“:"ä»™",ä»™é˜¶:"ä»™",ä»™:"ä»™",ç¥å“:"ç¥",ç¥é˜¶:"ç¥",ç¥:"ç¥"},o={æ®‹ç¼º:0,ä¸‹å“:2,ä¸­å“:5,ä¸Šå“:8,æå“:10},r=n.å“è´¨||{},l=a[String(r.quality??r.å“è´¨??"").trim()]||"å‡¡",i=r.grade??r.å“çº§??r.ç­‰çº§;let c=0;return"number"!=typeof i||Number.isNaN(i)?"string"==typeof i&amp;&amp;i.trim()&amp;&amp;(c=o[i.trim()]??0):c=Math.min(10,Math.max(0,Math.round(i))),n.å“è´¨={quality:l,grade:c},"è£…å¤‡"!==t&amp;&amp;"åŠŸæ³•"!==t||(void 0===n.å·²è£…å¤‡&amp;&amp;(n.å·²è£…å¤‡=!1),void 0!==n.æ˜¯å¦è£…å¤‡&amp;&amp;(console.warn('[ç‰©å“è§„èŒƒåŒ–] å‘ç°é‡å¤çš„è£…å¤‡çŠ¶æ€å­—æ®µ"æ˜¯å¦è£…å¤‡"ï¼Œå·²æ¸…ç†'),delete n.æ˜¯å¦è£…å¤‡)),n.ç‰©å“ID||(n.ç‰©å“ID=`item_${Date.now()}_${Math.random().toString(36).substr(2,9)}`),n}catch{return e}})(d)),console.log("[executeCommand] âœ… å·²è®¾ç½®(è§„èŒƒåŒ–ç‰©å“/åŠŸæ³•):",(0,o.get)(n,v));else if(v.startsWith("äººç‰©å…³ç³».")){const[e,t]=(0,i.jx)(d);e&amp;&amp;t?((0,o.set)(n,v,t),console.log(`[executeCommand] âœ… å·²è®¾ç½®(æ ¡éªŒé€šè¿‡çš„NPC): ${t.åå­—}`)):console.error(`[executeCommand] âŒ æ ¡éªŒå¤±è´¥ï¼šæ— æ•ˆçš„NPCæ•°æ®ï¼Œå·²é˜»æ­¢å†™å…¥ã€‚è·¯å¾„: ${v}`,d)}else if(String(v).endsWith("ç©å®¶è§’è‰²çŠ¶æ€.ä½ç½®.æè¿°")||String(v).endsWith("ä½ç½®.æè¿°")){const e=p(d,n),t="object"==typeof e&amp;&amp;null!==e&amp;&amp;"æè¿°"in e?e.æè¿°:e;(0,o.set)(n,v,t),console.log("[executeCommand] âœ… å·²è®¾ç½®(è§„èŒƒåŒ–ä½ç½®):",(0,o.get)(n,v))}else if(String(v).endsWith("ç©å®¶è§’è‰²çŠ¶æ€.ä½ç½®"))(0,o.set)(n,v,p(d,n)),console.log("[executeCommand] âœ… å·²è®¾ç½®(è§„èŒƒåŒ–ä½ç½®å¯¹è±¡):",(0,o.get)(n,v));else{const e=((e,n)=&gt;{if(!String(e).includes("å…ˆå¤©å…­å¸"))return n;try{if("object"==typeof n&amp;&amp;null!==n&amp;&amp;(String(e).endsWith("å…ˆå¤©å…­å¸")||String(e).endsWith("å…ˆå¤©å…­å¸."))){const e={...n};return"æ ¹éª¨"in e&amp;&amp;(e["æ ¹éª¨"]=m(e["æ ¹éª¨"])),"çµæ€§"in e&amp;&amp;(e["çµæ€§"]=m(e["çµæ€§"])),"æ‚Ÿæ€§"in e&amp;&amp;(e["æ‚Ÿæ€§"]=m(e["æ‚Ÿæ€§"])),"æ°”è¿"in e&amp;&amp;(e["æ°”è¿"]=m(e["æ°”è¿"])),"é­…åŠ›"in e&amp;&amp;(e["é­…åŠ›"]=m(e["é­…åŠ›"])),"å¿ƒæ€§"in e&amp;&amp;(e["å¿ƒæ€§"]=m(e["å¿ƒæ€§"])),e}return"number"==typeof n?m(n):n}catch{return n}})(v,d);(0,o.set)(n,v,e),console.log("[executeCommand] âœ… å·²è®¾ç½®:",(0,o.get)(n,v))}if(String(v).includes("å¢ƒç•Œ")){const e=(0,o.get)(n,"ç©å®¶è§’è‰²çŠ¶æ€.å¢ƒç•Œ");console.log("[executeCommand] ğŸŒŸ å¢ƒç•Œæ›´æ–°åéªŒè¯ - å®Œæ•´å¢ƒç•Œå¯¹è±¡:",e)}if(v.startsWith("ä¸‰åƒå¤§é“.å¤§é“è¿›åº¦."))try{const e=v.substring(10),t=(0,o.get)(n,"ä¸‰åƒå¤§é“.å·²è§£é”å¤§é“",[]);Array.isArray(t)&amp;&amp;!t.includes(e)&amp;&amp;(t.push(e),(0,o.set)(n,"ä¸‰åƒå¤§é“.å·²è§£é”å¤§é“",t),console.log(`[executeCommand] ç‰¹ä¾‹ï¼šå·²è‡ªåŠ¨è§£é”å¤§é“ "${e}"`))}catch(e){console.error("[executeCommand] è‡ªåŠ¨è§£é”å¤§é“å¤±è´¥:",e)}if(String(v).includes("èƒŒåŒ….ç‰©å“.")&amp;&amp;String(v).endsWith(".ä¿®ç‚¼è¿›åº¦"))try{const e=String(v).split(".")[2];n.ä¿®ç‚¼åŠŸæ³•?.ç‰©å“ID===e&amp;&amp;(n.ä¿®ç‚¼åŠŸæ³•.ä¿®ç‚¼è¿›åº¦="number"==typeof d?d:Number(d)||0,console.log(`[ä¿®ç‚¼è¿›åº¦åŒæ­¥] âœ… å·²åŒæ­¥ä¿®ç‚¼è¿›åº¦åˆ°ä¿®ç‚¼åŠŸæ³•å­—æ®µ: ${d}`))}catch(e){console.error("[ä¿®ç‚¼è¿›åº¦åŒæ­¥] åŒæ­¥ä¿®ç‚¼è¿›åº¦å¤±è´¥:",e)}if(String(v).includes("èƒŒåŒ….ç‰©å“.")&amp;&amp;String(v).endsWith(".ä¿®ç‚¼è¿›åº¦"))try{console.log("[æŒæ¡æŠ€èƒ½] æ£€æµ‹åˆ°åŠŸæ³•ä¿®ç‚¼è¿›åº¦è®¾ç½®ï¼Œè‡ªåŠ¨é‡æ–°è®¡ç®—æŒæ¡æŠ€èƒ½");const e=(0,l.F)(n);console.log(`[æŒæ¡æŠ€èƒ½] âœ… å·²æ›´æ–°æŒæ¡æŠ€èƒ½åˆ—è¡¨ï¼Œå…± ${e.length} ä¸ªæŠ€èƒ½`)}catch(e){console.error("[æŒæ¡æŠ€èƒ½] è‡ªåŠ¨è®¡ç®—æŒæ¡æŠ€èƒ½å¤±è´¥:",e)}if(v.startsWith("è£…å¤‡æ .è£…å¤‡"))try{const r=String(d||"");console.log(`[è£…å¤‡å¢å¹…] æ£€æµ‹åˆ°è£…å¤‡æ å˜æ›´: ${v}`),console.log(`[è£…å¤‡å¢å¹…] æ—§è£…å¤‡ID: ${e||"æ— "}`),console.log(`[è£…å¤‡å¢å¹…] æ–°è£…å¤‡ID: ${r||"æ— "}`);let l=!1;if(e&amp;&amp;"null"!==e&amp;&amp;e!==r){console.log(`[è£…å¤‡å¢å¹…] ç§»é™¤æ—§è£…å¤‡ ${e} çš„å±æ€§åŠ æˆ`);const t=function(e,n){try{const t=e.èƒŒåŒ…?.ç‰©å“?.[n];if(!t||"è£…å¤‡"!==t.ç±»å‹)return console.warn(`[è£…å¤‡å¢å¹…] ç‰©å“ ${n} ä¸æ˜¯è£…å¤‡ç±»å‹`),!1;const a=t.è£…å¤‡å¢å¹…;if(!a)return console.log(`[è£…å¤‡å¢å¹…] è£…å¤‡ ${t.åç§°} æ²¡æœ‰å±æ€§åŠ æˆ`),!0;if(console.log(`[è£…å¤‡å¢å¹…] å¼€å§‹ç§»é™¤è£…å¤‡ ${t.åç§°} çš„å±æ€§åŠ æˆ:`,a),a.æ°”è¡€ä¸Šé™&amp;&amp;"number"==typeof a.æ°”è¡€ä¸Šé™){const n=(0,o.get)(e,"ç©å®¶è§’è‰²çŠ¶æ€.æ°”è¡€",{å½“å‰:100,ä¸Šé™:100}),t=Math.max(1,n.ä¸Šé™-a.æ°”è¡€ä¸Šé™);(0,o.set)(e,"ç©å®¶è§’è‰²çŠ¶æ€.æ°”è¡€.ä¸Šé™",t),n.å½“å‰&gt;t&amp;&amp;((0,o.set)(e,"ç©å®¶è§’è‰²çŠ¶æ€.æ°”è¡€.å½“å‰",t),console.log(`[è£…å¤‡å¢å¹…] æ°”è¡€å½“å‰å€¼è¶…è¿‡æ–°ä¸Šé™ï¼Œå·²è°ƒæ•´: ${n.å½“å‰} -&gt; ${t}`)),console.log(`[è£…å¤‡å¢å¹…] æ°”è¡€ä¸Šé™: ${n.ä¸Šé™} -&gt; ${t} (-${a.æ°”è¡€ä¸Šé™})`)}if(a.çµæ°”ä¸Šé™&amp;&amp;"number"==typeof a.çµæ°”ä¸Šé™){const n=(0,o.get)(e,"ç©å®¶è§’è‰²çŠ¶æ€.çµæ°”",{å½“å‰:100,ä¸Šé™:100}),t=Math.max(1,n.ä¸Šé™-a.çµæ°”ä¸Šé™);(0,o.set)(e,"ç©å®¶è§’è‰²çŠ¶æ€.çµæ°”.ä¸Šé™",t),n.å½“å‰&gt;t&amp;&amp;((0,o.set)(e,"ç©å®¶è§’è‰²çŠ¶æ€.çµæ°”.å½“å‰",t),console.log(`[è£…å¤‡å¢å¹…] çµæ°”å½“å‰å€¼è¶…è¿‡æ–°ä¸Šé™ï¼Œå·²è°ƒæ•´: ${n.å½“å‰} -&gt; ${t}`)),console.log(`[è£…å¤‡å¢å¹…] çµæ°”ä¸Šé™: ${n.ä¸Šé™} -&gt; ${t} (-${a.çµæ°”ä¸Šé™})`)}if(a.ç¥è¯†ä¸Šé™&amp;&amp;"number"==typeof a.ç¥è¯†ä¸Šé™){const n=(0,o.get)(e,"ç©å®¶è§’è‰²çŠ¶æ€.ç¥è¯†",{å½“å‰:100,ä¸Šé™:100}),t=Math.max(1,n.ä¸Šé™-a.ç¥è¯†ä¸Šé™);(0,o.set)(e,"ç©å®¶è§’è‰²çŠ¶æ€.ç¥è¯†.ä¸Šé™",t),n.å½“å‰&gt;t&amp;&amp;((0,o.set)(e,"ç©å®¶è§’è‰²çŠ¶æ€.ç¥è¯†.å½“å‰",t),console.log(`[è£…å¤‡å¢å¹…] ç¥è¯†å½“å‰å€¼è¶…è¿‡æ–°ä¸Šé™ï¼Œå·²è°ƒæ•´: ${n.å½“å‰} -&gt; ${t}`)),console.log(`[è£…å¤‡å¢å¹…] ç¥è¯†ä¸Šé™: ${n.ä¸Šé™} -&gt; ${t} (-${a.ç¥è¯†ä¸Šé™})`)}return console.log(`[è£…å¤‡å¢å¹…] âœ… æˆåŠŸç§»é™¤è£…å¤‡ ${t.åç§°} çš„å±æ€§åŠ æˆ`),!0}catch(e){return console.error("[è£…å¤‡å¢å¹…] ç§»é™¤è£…å¤‡åŠ æˆå¤±è´¥:",e),!1}}(n,e);t&amp;&amp;(l=!0)}if(r&amp;&amp;"null"!==r&amp;&amp;r!==e){console.log(`[è£…å¤‡å¢å¹…] åº”ç”¨æ–°è£…å¤‡ ${r} çš„å±æ€§åŠ æˆ`);const e=function(e,n){try{const t=e.èƒŒåŒ…?.ç‰©å“?.[n];if(!t||"è£…å¤‡"!==t.ç±»å‹)return console.warn(`[è£…å¤‡å¢å¹…] ç‰©å“ ${n} ä¸æ˜¯è£…å¤‡ç±»å‹`),!1;const a=t.è£…å¤‡å¢å¹…;if(!a)return console.log(`[è£…å¤‡å¢å¹…] è£…å¤‡ ${t.åç§°} æ²¡æœ‰å±æ€§åŠ æˆ`),!0;if(console.log(`[è£…å¤‡å¢å¹…] å¼€å§‹åº”ç”¨è£…å¤‡ ${t.åç§°} çš„å±æ€§åŠ æˆ:`,a),a.æ°”è¡€ä¸Šé™&amp;&amp;"number"==typeof a.æ°”è¡€ä¸Šé™){const n=(0,o.get)(e,"ç©å®¶è§’è‰²çŠ¶æ€.æ°”è¡€",{å½“å‰:100,ä¸Šé™:100}),t=n.ä¸Šé™+a.æ°”è¡€ä¸Šé™;(0,o.set)(e,"ç©å®¶è§’è‰²çŠ¶æ€.æ°”è¡€.ä¸Šé™",t),console.log(`[è£…å¤‡å¢å¹…] æ°”è¡€ä¸Šé™: ${n.ä¸Šé™} -&gt; ${t} (+${a.æ°”è¡€ä¸Šé™})`)}if(a.çµæ°”ä¸Šé™&amp;&amp;"number"==typeof a.çµæ°”ä¸Šé™){const n=(0,o.get)(e,"ç©å®¶è§’è‰²çŠ¶æ€.çµæ°”",{å½“å‰:100,ä¸Šé™:100}),t=n.ä¸Šé™+a.çµæ°”ä¸Šé™;(0,o.set)(e,"ç©å®¶è§’è‰²çŠ¶æ€.çµæ°”.ä¸Šé™",t),console.log(`[è£…å¤‡å¢å¹…] çµæ°”ä¸Šé™: ${n.ä¸Šé™} -&gt; ${t} (+${a.çµæ°”ä¸Šé™})`)}if(a.ç¥è¯†ä¸Šé™&amp;&amp;"number"==typeof a.ç¥è¯†ä¸Šé™){const n=(0,o.get)(e,"ç©å®¶è§’è‰²çŠ¶æ€.ç¥è¯†",{å½“å‰:100,ä¸Šé™:100}),t=n.ä¸Šé™+a.ç¥è¯†ä¸Šé™;(0,o.set)(e,"ç©å®¶è§’è‰²çŠ¶æ€.ç¥è¯†.ä¸Šé™",t),console.log(`[è£…å¤‡å¢å¹…] ç¥è¯†ä¸Šé™: ${n.ä¸Šé™} -&gt; ${t} (+${a.ç¥è¯†ä¸Šé™})`)}return console.log(`[è£…å¤‡å¢å¹…] âœ… æˆåŠŸåº”ç”¨è£…å¤‡ ${t.åç§°} çš„å±æ€§åŠ æˆ`),!0}catch(e){return console.error("[è£…å¤‡å¢å¹…] åº”ç”¨è£…å¤‡åŠ æˆå¤±è´¥:",e),!1}}(n,r);e&amp;&amp;(l=!0)}if(l){const e=(0,a.getTavernHelper)();if(e){const a={æ°”è¡€:n.ç©å®¶è§’è‰²çŠ¶æ€?.æ°”è¡€,çµæ°”:n.ç©å®¶è§’è‰²çŠ¶æ€?.çµæ°”,ç¥è¯†:n.ç©å®¶è§’è‰²çŠ¶æ€?.ç¥è¯†,å¯¿å‘½:n.ç©å®¶è§’è‰²çŠ¶æ€?.å¯¿å‘½},{deepCleanForClone:o}=await Promise.resolve().then(t.bind(t,3098)),r=o({å±æ€§:a});await e.insertOrAssignVariables(r,{type:"chat"}),console.log("[è£…å¤‡å¢å¹…] âœ… å·²åŒæ­¥å±æ€§åˆ†ç‰‡åˆ°é…’é¦†:",a)}}}catch(e){console.error("[è£…å¤‡å¢å¹…] å¤„ç†è£…å¤‡å¢å¹…å¤±è´¥:",e)}break;case"add":const c=(0,o.get)(n,v,0);let s=Number(c)+Number(d||0);if(String(v).includes("å…ˆå¤©å…­å¸")&amp;&amp;(s=m(s)),"æ¸¸æˆæ—¶é—´.åˆ†é’Ÿ"===v||v.endsWith("æ¸¸æˆæ—¶é—´.åˆ†é’Ÿ")){console.log(`[executeCommand] ğŸ• æ—¶é—´æ¨è¿› ${d} åˆ†é’Ÿï¼Œå¼€å§‹è‡ªåŠ¨è¿›ä½è®¡ç®—`);const e=(0,o.get)(n,"æ¸¸æˆæ—¶é—´",{å¹´:1,æœˆ:1,æ—¥:1,å°æ—¶:0,åˆ†é’Ÿ:0}),t=e.åˆ†é’Ÿ||0,a=e.å°æ—¶||0,r=(e.æ—¥||1)-1,l=(e.æœˆ||1)-1,i=(e.å¹´||1)-1,c=60,s=24,m=30,p=12,v=i*p*m*s*c+l*m*s*c+r*s*c+a*c+t+Number(d||0),u=c*s,g=u*m,f=g*p;let b=v;const h=Math.floor(b/f)+1;b%=f;const y=Math.floor(b/g)%p+1;b%=g;const x=Math.floor(b/u)%m+1;b%=u;const k=Math.floor(b/c)%s,w=b%c;(0,o.set)(n,"æ¸¸æˆæ—¶é—´",{å¹´:h,æœˆ:y,æ—¥:x,å°æ—¶:k,åˆ†é’Ÿ:w}),console.log(`[executeCommand] âœ… æ¸¸æˆæ—¶é—´å·²æ›´æ–°: ${h}å¹´${y}æœˆ${x}æ—¥ ${k}:${w}`),console.log(`[executeCommand]   åŸæ—¶é—´: ${e.å¹´}å¹´${e.æœˆ}æœˆ${e.æ—¥}æ—¥ ${e.å°æ—¶}:${t}`),console.log(`[executeCommand]   æ¨è¿›: ${d}åˆ†é’Ÿ`)}else{if((0,o.set)(n,v,s),console.log(`[executeCommand] âœ… å·²å¢åŠ : ${c} + ${d} = ${s}`),String(v).includes("èƒŒåŒ….ç‰©å“.")&amp;&amp;String(v).endsWith(".ä¿®ç‚¼è¿›åº¦"))try{const e=String(v).split(".")[2];n.ä¿®ç‚¼åŠŸæ³•?.ç‰©å“ID===e&amp;&amp;(n.ä¿®ç‚¼åŠŸæ³•.ä¿®ç‚¼è¿›åº¦=s,console.log(`[ä¿®ç‚¼è¿›åº¦åŒæ­¥] âœ… å·²åŒæ­¥ä¿®ç‚¼è¿›åº¦åˆ°ä¿®ç‚¼åŠŸæ³•å­—æ®µ: ${s}`))}catch(e){console.error("[ä¿®ç‚¼è¿›åº¦åŒæ­¥] åŒæ­¥ä¿®ç‚¼è¿›åº¦å¤±è´¥:",e)}if(String(v).includes("èƒŒåŒ….ç‰©å“.")&amp;&amp;String(v).endsWith(".ä¿®ç‚¼è¿›åº¦"))try{console.log("[æŒæ¡æŠ€èƒ½] æ£€æµ‹åˆ°åŠŸæ³•ä¿®ç‚¼è¿›åº¦æ›´æ–°ï¼Œè‡ªåŠ¨é‡æ–°è®¡ç®—æŒæ¡æŠ€èƒ½");const e=(0,l.F)(n);console.log(`[æŒæ¡æŠ€èƒ½] âœ… å·²æ›´æ–°æŒæ¡æŠ€èƒ½åˆ—è¡¨ï¼Œå…± ${e.length} ä¸ªæŠ€èƒ½`)}catch(e){console.error("[æŒæ¡æŠ€èƒ½] è‡ªåŠ¨è®¡ç®—æŒæ¡æŠ€èƒ½å¤±è´¥:",e)}}break;case"push":const u=(0,o.get)(n,v,[]);if(Array.isArray(u))if("äººç‰©å…³ç³»"===v){const[e,n]=(0,i.jx)(d);e&amp;&amp;n?(u.push(n),console.log(`[executeCommand] âœ… å·²æ¨å…¥(æ ¡éªŒé€šè¿‡çš„NPC): ${n.åå­—}`)):console.error(`[executeCommand] âŒ æ ¡éªŒå¤±è´¥ï¼šæ— æ•ˆçš„NPCæ•°æ®ï¼Œå·²é˜»æ­¢æ¨å…¥ã€‚è·¯å¾„: ${v}`,d)}else u.push(d??null),console.log("[executeCommand] âœ… å·²æ·»åŠ åˆ°æ•°ç»„ï¼Œå½“å‰é•¿åº¦:",u.length);else if("äººç‰©å…³ç³»"===v){const[e,t]=(0,i.jx)(d);e&amp;&amp;t?((0,o.set)(n,v,[t]),console.log(`[executeCommand] âœ… å·²åˆ›å»ºæ–°æ•°ç»„å¹¶æ·»åŠ (æ ¡éªŒé€šè¿‡çš„NPC): ${t.åå­—}`)):console.error(`[executeCommand] âŒ æ ¡éªŒå¤±è´¥ï¼šæ— æ•ˆçš„NPCæ•°æ®ï¼Œå·²é˜»æ­¢åˆ›å»ºæ•°ç»„ã€‚è·¯å¾„: ${v}`,d)}else(0,o.set)(n,v,[d??null]),console.log("[executeCommand] âœ… å·²åˆ›å»ºæ–°æ•°ç»„å¹¶æ·»åŠ å…ƒç´ ");break;case"pull":{const e=(0,o.get)(n,v,[]);if(Array.isArray(e)){const n=(e,n)=&gt;{try{return JSON.stringify(e)===JSON.stringify(n)}catch{return e===n}};let t=!1,a=e.indexOf(d);if(a&gt;-1&amp;&amp;(e.splice(a,1),t=!0),t||"object"!=typeof d||null===d||(a=e.findIndex(e=&gt;n(e,d)),a&gt;-1&amp;&amp;(e.splice(a,1),t=!0)),!t&amp;&amp;("string"==typeof d||"number"==typeof d)){const n=String(d),o=["ç‰©å“ID","åç§°","çŠ¶æ€åç§°","id","name"];a=e.findIndex(e=&gt;e&amp;&amp;"object"==typeof e?o.some(t=&gt;String(e[t]??"")===n):String(e)===n),a&gt;-1&amp;&amp;(e.splice(a,1),t=!0)}}}break;case"delete":{const e=String(v).match(/^(.*)\[(\d+)\]$/);if(e){const t=e[1],a=parseInt(e[2],10),r=(0,o.get)(n,t,void 0);Array.isArray(r)&amp;&amp;a&gt;=0&amp;&amp;a<r.length?r.splice(a,1):(0,o.unset)(n,v)}else(0,o.unset)(n,v)}break;default:console.warn("[executecommand] æœªçŸ¥å‘½ä»¤ç±»å‹:",r)}}catch(e){console.error("[executecommand]="" å‘½ä»¤æ‰§è¡Œå¤±è´¥:",e)}return="" n}function="" m(e){const="" n="e;return" n.startswith("è§’è‰²åŸºç¡€ä¿¡æ¯")?"åŸºç¡€ä¿¡æ¯":n.startswith("ç©å®¶è§’è‰²çŠ¶æ€.å¢ƒç•Œ")?"å¢ƒç•Œ":n.startswith("ç©å®¶è§’è‰²çŠ¶æ€.æ°”è¡€")||n.startswith("ç©å®¶è§’è‰²çŠ¶æ€.çµæ°”")||n.startswith("ç©å®¶è§’è‰²çŠ¶æ€.ç¥è¯†")||n.startswith("ç©å®¶è§’è‰²çŠ¶æ€.å¯¿å‘½")?"å±æ€§":n.startswith("ç©å®¶è§’è‰²çŠ¶æ€.ä½ç½®")?"ä½ç½®":n.startswith("ä¿®ç‚¼åŠŸæ³•")?"ä¿®ç‚¼åŠŸæ³•":n.startswith("æŒæ¡æŠ€èƒ½")?"æŒæ¡æŠ€èƒ½":n.startswith("è£…å¤‡æ ")?"è£…å¤‡æ ":n.startswith("èƒŒåŒ….çµçŸ³")?"èƒŒåŒ…_çµçŸ³":n.startswith("èƒŒåŒ….ç‰©å“")?"èƒŒåŒ…_ç‰©å“":n.startswith("äººç‰©å…³ç³»")?"äººç‰©å…³ç³»":n.startswith("ä¸‰åƒå¤§é“")?"ä¸‰åƒå¤§é“":n.startswith("ä¸–ç•Œä¿¡æ¯")?"ä¸–ç•Œä¿¡æ¯":n.startswith("è®°å¿†.çŸ­æœŸè®°å¿†")?"è®°å¿†_çŸ­æœŸ":n.startswith("è®°å¿†.ä¸­æœŸè®°å¿†")?"è®°å¿†_ä¸­æœŸ":n.startswith("è®°å¿†.é•¿æœŸè®°å¿†")?"è®°å¿†_é•¿æœŸ":n.startswith("è®°å¿†.éšå¼ä¸­æœŸè®°å¿†")?"è®°å¿†_éšå¼ä¸­æœŸ":n.startswith("æ¸¸æˆæ—¶é—´")?"æ¸¸æˆæ—¶é—´":n.startswith("ç©å®¶è§’è‰²çŠ¶æ€.çŠ¶æ€æ•ˆæœ")?"çŠ¶æ€æ•ˆæœ":n.startswith("ç³»ç»Ÿ")?"ç³»ç»Ÿ":null}function="" p(e,n){const="" t="e,a={åŸºç¡€ä¿¡æ¯:&quot;è§’è‰²åŸºç¡€ä¿¡æ¯.&quot;,å¢ƒç•Œ:&quot;ç©å®¶è§’è‰²çŠ¶æ€.å¢ƒç•Œ.&quot;,å±æ€§:&quot;ç©å®¶è§’è‰²çŠ¶æ€.&quot;,ä½ç½®:&quot;ç©å®¶è§’è‰²çŠ¶æ€.ä½ç½®.&quot;,ä¿®ç‚¼åŠŸæ³•:&quot;ä¿®ç‚¼åŠŸæ³•.&quot;,æŒæ¡æŠ€èƒ½:&quot;æŒæ¡æŠ€èƒ½.&quot;,è£…å¤‡æ :&quot;è£…å¤‡æ .&quot;,èƒŒåŒ…_çµçŸ³:&quot;èƒŒåŒ….çµçŸ³.&quot;,èƒŒåŒ…_ç‰©å“:&quot;èƒŒåŒ….ç‰©å“.&quot;,äººç‰©å…³ç³»:&quot;äººç‰©å…³ç³».&quot;,ä¸‰åƒå¤§é“:&quot;ä¸‰åƒå¤§é“.&quot;,ä¸–ç•Œä¿¡æ¯:&quot;ä¸–ç•Œä¿¡æ¯.&quot;,è®°å¿†_çŸ­æœŸ:&quot;è®°å¿†.çŸ­æœŸè®°å¿†&quot;,è®°å¿†_ä¸­æœŸ:&quot;è®°å¿†.ä¸­æœŸè®°å¿†&quot;,è®°å¿†_é•¿æœŸ:&quot;è®°å¿†.é•¿æœŸè®°å¿†&quot;,è®°å¿†_éšå¼ä¸­æœŸ:&quot;è®°å¿†.éšå¼ä¸­æœŸè®°å¿†&quot;,æ¸¸æˆæ—¶é—´:&quot;æ¸¸æˆæ—¶é—´.&quot;,çŠ¶æ€æ•ˆæœ:&quot;ç©å®¶è§’è‰²çŠ¶æ€.çŠ¶æ€æ•ˆæœ&quot;,ç³»ç»Ÿ:&quot;ç³»ç»Ÿ.&quot;}[n];return" a&&t.startswith(a)?"å±æ€§"="==n?t.substring(7):t.substring(a.length):t}async" function="" v(e="chat" ){try{const="" console.warn("[getfromtavern]="" é…’é¦†åŠ©æ‰‹ä¸å¯ç”¨"),null;const="" n.getvariables({type:e}),o="{åŸºç¡€ä¿¡æ¯:t[&quot;åŸºç¡€ä¿¡æ¯&quot;],å¢ƒç•Œ:t[&quot;å¢ƒç•Œ&quot;],å±æ€§:t[&quot;å±æ€§&quot;],ä½ç½®:t[&quot;ä½ç½®&quot;],ä¿®ç‚¼åŠŸæ³•:t[&quot;ä¿®ç‚¼åŠŸæ³•&quot;],è£…å¤‡æ :t[&quot;è£…å¤‡æ &quot;],èƒŒåŒ…_çµçŸ³:t[&quot;èƒŒåŒ…_çµçŸ³&quot;],èƒŒåŒ…_ç‰©å“:t[&quot;èƒŒåŒ…_ç‰©å“&quot;],äººç‰©å…³ç³»:t[&quot;äººç‰©å…³ç³»&quot;],ä¸‰åƒå¤§é“:t[&quot;ä¸‰åƒå¤§é“&quot;],ä¸–ç•Œä¿¡æ¯:t[&quot;ä¸–ç•Œä¿¡æ¯&quot;],è®°å¿†_çŸ­æœŸ:t[&quot;è®°å¿†_çŸ­æœŸ&quot;],è®°å¿†_ä¸­æœŸ:t[&quot;è®°å¿†_ä¸­æœŸ&quot;],è®°å¿†_é•¿æœŸ:t[&quot;è®°å¿†_é•¿æœŸ&quot;],è®°å¿†_éšå¼ä¸­æœŸ:t[&quot;è®°å¿†_éšå¼ä¸­æœŸ&quot;],æ¸¸æˆæ—¶é—´:t[&quot;æ¸¸æˆæ—¶é—´&quot;],çŠ¶æ€æ•ˆæœ:t[&quot;çŠ¶æ€æ•ˆæœ&quot;],ç³»ç»Ÿ:t[&quot;ç³»ç»Ÿ&quot;]};return" console.log("[getfromtavern]="" ä»17ä¸ªåˆ†ç‰‡é‡ç»„savedata"),(0,r.assemblesavedata)(o)}catch(e){return="" console.error("[getfromtavern]="" è·å–æ•°æ®å¤±è´¥:",e),null}}},8651:(e,n,t)="">{t.d(n,{c$:()=&gt;i,getTavernHelper:()=&gt;r,wz:()=&gt;l});var a=t(4270),o=t(9173);function r(){const e=window.parent?.TavernHelper;if(!e)return console.error("TavernHelper API not found in window.parent."),null;const n=e;return"function"!=typeof n.getVariable&amp;&amp;(n.getVariable=async(e,t)=&gt;{if("function"==typeof n.getVariables){const a=await n.getVariables(t);return a?a[e]:void 0}throw new Error("getVariable is not available and getVariables fallback missing")}),"function"!=typeof n.setVariable&amp;&amp;(n.setVariable=async(e,a,o)=&gt;{if("function"==typeof n.insertOrAssignVariables){const{deepCleanForClone:r}=await Promise.resolve().then(t.bind(t,3098)),l=r({[e]:a});return void await n.insertOrAssignVariables(l,o)}throw new Error("setVariable is not available and insertOrAssignVariables fallback missing")}),n}async function l(){const e=r();if(!e)return console.warn("TavernHelper APIä¸å¯ç”¨ï¼Œæ— æ³•è·å–ç”¨æˆ·åç§°ã€‚"),null;try{const n=await e.substitudeMacros("{{user}}");return n&amp;&amp;"{{user}}"!==n&amp;&amp;""!==n.trim()?(console.log("æˆåŠŸè·å–ç”¨æˆ·åå­—:",n),n.trim()):(console.warn("æ— æ³•è·å–å½“å‰ç”¨æˆ·åç§°ï¼Œ{{user}}å®æœªæ­£ç¡®è§£æã€‚"),null)}catch(e){return console.error("è·å–ç”¨æˆ·åç§°æ—¶å‡ºé”™:",e),null}}async function i(){const e=r(),n=(0,o.useUIStore)();if(!e)return void console.warn("TavernHelperä¸å¯ç”¨ï¼Œè·³è¿‡æ¸…ç†æµç¨‹ã€‚");n.updateLoadingText("æ­£åœ¨å‡€åŒ–å¤©åœ°ï¼Œé‡ç½®å¤©æœº...");try{if(console.log("[æ¸…ç†] ä½¿ç”¨clearChatå½»åº•æ¸…ç©ºèŠå¤©å’Œå˜é‡..."),e.clearChat)return await e.clearChat(),console.log("[æ¸…ç†] âœ… clearChatæ‰§è¡ŒæˆåŠŸ"),void n.updateLoadingText("å¤©æœºå·²å½»åº•é‡ç½®ï¼Œå‡†å¤‡å¼€å¯æ–°é“é€”ã€‚")}catch(e){console.warn("[æ¸…ç†] clearChatæ‰§è¡Œå¤±è´¥ï¼Œå°è¯•é€ä¸ªåˆ é™¤:",e)}let t=0,l=0;try{let n={},a=[];try{n=await e.getVariables({type:"chat"}),a=Object.keys(n)}catch(e){console.warn("[æ¸…ç†] getVariables å¤±è´¥ï¼ˆå¯èƒ½æœ‰åæ•°æ®ï¼‰ï¼Œä½¿ç”¨å·²çŸ¥å˜é‡ååˆ—è¡¨:",e?.message),a=["åŸºç¡€ä¿¡æ¯","å¢ƒç•Œ","å±æ€§","ä½ç½®","ä¿®ç‚¼åŠŸæ³•","æŒæ¡æŠ€èƒ½","è£…å¤‡æ ","èƒŒåŒ…_çµçŸ³","èƒŒåŒ…_ç‰©å“","äººç‰©å…³ç³»","ä¸‰åƒå¤§é“","ä¸–ç•Œä¿¡æ¯","è®°å¿†_çŸ­æœŸ","è®°å¿†_ä¸­æœŸ","è®°å¿†_é•¿æœŸ","è®°å¿†_éšå¼ä¸­æœŸ","æ¸¸æˆæ—¶é—´","çŠ¶æ€æ•ˆæœ","ç³»ç»Ÿ","èƒŒåŒ…","è£…å¤‡æ ","ä¿®ç‚¼åŠŸæ³•","äººç‰©å…³ç³»","å®—é—¨ç³»ç»Ÿ","ç©å®¶è§’è‰²çŠ¶æ€","èƒŒåŒ…æ•°æ®","è£…å¤‡æ æ•°æ®","ä¿®ç‚¼åŠŸæ³•æ•°æ®","character.memorySettings"]}if(a.length&gt;0){console.log(`[æ¸…ç†] å‘ç° ${a.length} ä¸ªèŠå¤©å˜é‡ï¼Œå…¨éƒ¨æ¸…ç†:`,a);let n=0;for(const t of a)try{await e.deleteVariable(t,{type:"chat"}),n++}catch(e){console.warn(`[æ¸…ç†] åˆ é™¤èŠå¤©å˜é‡ ${t} å¤±è´¥:`,e)}console.log(`[æ¸…ç†] èŠå¤©å˜é‡æ¸…ç†å®Œæˆï¼ŒæˆåŠŸåˆ é™¤ ${n}/${a.length} ä¸ªã€‚`)}else console.log("[æ¸…ç†] æœªå‘ç°éœ€è¦æ¸…ç†çš„èŠå¤©å˜é‡ã€‚");t++}catch(e){console.warn("[æ¸…ç†] æ¸…ç†èŠå¤©å˜é‡æ—¶å‡ºç°éè‡´å‘½é”™è¯¯:",e),l++}try{const n=await e.getVariables({type:"global"}),a=Object.keys(n),o=["DAD_creationData"],r=a.filter(e=&gt;!o.includes(e));if(r.length&gt;0){console.log(`[æ¸…ç†] å‘ç° ${r.length} ä¸ªå…¨å±€å˜é‡éœ€è¦æ¸…ç†:`,r),a.length&gt;r.length&amp;&amp;console.log(`[æ¸…ç†] ä¿ç•™ ${a.length-r.length} ä¸ªå…¨å±€å˜é‡:`,o.filter(e=&gt;a.includes(e)));let n=0;for(const t of r)try{await e.deleteVariable(t,{type:"global"}),n++}catch(e){console.warn(`[æ¸…ç†] åˆ é™¤å…¨å±€å˜é‡ ${t} å¤±è´¥:`,e)}console.log(`[æ¸…ç†] å…¨å±€å˜é‡æ¸…ç†å®Œæˆï¼ŒæˆåŠŸåˆ é™¤ ${n}/${r.length} ä¸ªã€‚`)}else console.log("[æ¸…ç†] æœªå‘ç°éœ€è¦æ¸…ç†çš„å…¨å±€å˜é‡ã€‚");t++}catch(e){console.warn("[æ¸…ç†] æ¸…ç†å…¨å±€å˜é‡æ—¶å‡ºç°éè‡´å‘½é”™è¯¯:",e),l++}try{try{const n=await e.getVariables({type:"local"}),a=Object.keys(n);if(a.length&gt;0){console.log(`[æ¸…ç†] å‘ç° ${a.length} ä¸ªæœ¬åœ°å˜é‡ï¼Œå…¨éƒ¨æ¸…ç†:`,a);let n=0;for(const t of a)try{await e.deleteVariable(t,{type:"local"}),n++}catch(e){console.warn(`[æ¸…ç†] åˆ é™¤æœ¬åœ°å˜é‡ ${t} å¤±è´¥:`,e)}console.log(`[æ¸…ç†] æœ¬åœ°å˜é‡æ¸…ç†å®Œæˆï¼ŒæˆåŠŸåˆ é™¤ ${n}/${a.length} ä¸ªã€‚`)}else console.log("[æ¸…ç†] æœªå‘ç°éœ€è¦æ¸…ç†çš„æœ¬åœ°å˜é‡ã€‚");t++}catch(e){console.log("[æ¸…ç†] è·³è¿‡æœ¬åœ°å˜é‡æ¸…ç†ï¼ˆå¯èƒ½ä¸æ”¯æŒï¼‰:",e)}}catch(e){console.warn("[æ¸…ç†] æ¸…ç†æœ¬åœ°å˜é‡æ—¶å‡ºç°éè‡´å‘½é”™è¯¯:",e),l++}try{console.log("[æ¸…ç†] å¼€å§‹æ¸…ç©ºèŠå¤©å†å²è®°å½•..."),e.clearChat?(await e.clearChat(),console.log("[æ¸…ç†] èŠå¤©å†å²è®°å½•å·²æ¸…ç©º"),t++):console.warn("[æ¸…ç†] clearChat æ–¹æ³•ä¸å¯ç”¨ï¼Œè·³è¿‡æ¸…ç©ºèŠå¤©è®°å½•")}catch(e){console.warn("[æ¸…ç†] æ¸…ç©ºèŠå¤©è®°å½•æ—¶å‡ºç°éè‡´å‘½é”™è¯¯:",e),l++}l&gt;0&amp;&amp;0===t?(a.o.warning("å¤©æœºé‡ç½®é‡åˆ°å›°éš¾ï¼Œä½†å°†ç»§ç»­å°è¯•åˆ›å»ºè§’è‰²ã€‚å¦‚é‡é—®é¢˜è¯·åˆ·æ–°é¡µé¢ã€‚"),n.updateLoadingText("å¤©æœºé‡ç½®é‡åˆ°å›°éš¾ï¼Œç»§ç»­å°è¯•å¼€å¯æ–°é“é€”...")):l&gt;0?(a.o.info("å¤©æœºå·²éƒ¨åˆ†é‡ç½®ï¼Œå°‘æ•°æ•°æ®æ¸…ç†å¤±è´¥ï¼Œä½†ä¸å½±å“ä½¿ç”¨ã€‚"),n.updateLoadingText("å¤©æœºå·²é‡ç½®ï¼Œå‡†å¤‡å¼€å¯æ–°é“é€”ã€‚")):(console.log("[æ¸…ç†] âœ… å¤©æœºå·²å½»åº•é‡ç½®ï¼Œæ‰€æœ‰å˜é‡å·²æ¸…ç©º"),n.updateLoadingText("å¤©æœºå·²å½»åº•é‡ç½®ï¼Œå‡†å¤‡å¼€å¯æ–°é“é€”ã€‚"))}},8708:(e,n,t)=&gt;{t.d(n,{F:()=&gt;o});var a=t(3302);function o(e){const n=function(e){a.Yz.log("æŒæ¡æŠ€èƒ½è®¡ç®—","å¼€å§‹è®¡ç®—å·²æŒæ¡æŠ€èƒ½...");const n=[];if(!e?.èƒŒåŒ…?.ç‰©å“)return a.Yz.warn("æŒæ¡æŠ€èƒ½è®¡ç®—","èƒŒåŒ…ç‰©å“ä¸å­˜åœ¨ï¼Œè¿”å›ç©ºæ•°ç»„"),n;for(const[t,o]of Object.entries(e.èƒŒåŒ….ç‰©å“)){if("åŠŸæ³•"!==o.ç±»å‹)continue;const e=o;if(!e.åŠŸæ³•æŠ€èƒ½||"object"!=typeof e.åŠŸæ³•æŠ€èƒ½){a.Yz.log("æŒæ¡æŠ€èƒ½è®¡ç®—",`åŠŸæ³• ${e.åç§°} æ²¡æœ‰æŠ€èƒ½å®šä¹‰`);continue}const t=e.ä¿®ç‚¼è¿›åº¦||0;a.Yz.log("æŒæ¡æŠ€èƒ½è®¡ç®—",`æ£€æŸ¥åŠŸæ³• ${e.åç§°}ï¼Œä¿®ç‚¼è¿›åº¦: ${t}`);for(const[o,r]of Object.entries(e.åŠŸæ³•æŠ€èƒ½)){const l=r.è§£é”éœ€è¦ç†Ÿç»ƒåº¦||0;a.Yz.log("æŒæ¡æŠ€èƒ½è®¡ç®—",`  æŠ€èƒ½ ${o}ï¼Œè§£é”é˜ˆå€¼: ${l}`),t&gt;=l?n.find(n=&gt;n.æŠ€èƒ½åç§°===o&amp;&amp;n.æ¥æº===e.åç§°)||(n.push({æŠ€èƒ½åç§°:o,æŠ€èƒ½æè¿°:r.æŠ€èƒ½æè¿°||r.æè¿°||"",æ¥æº:e.åç§°,æ¶ˆè€—:r.æ¶ˆè€—||"",ç†Ÿç»ƒåº¦:0,ä½¿ç”¨æ¬¡æ•°:0}),a.Yz.log("æŒæ¡æŠ€èƒ½è®¡ç®—",`  âœ… è§£é”æŠ€èƒ½: ${o} (æ¥è‡ª ${e.åç§°})`)):a.Yz.log("æŒæ¡æŠ€èƒ½è®¡ç®—",`  âŒ æŠ€èƒ½ ${o} æœªè§£é” (${t}/${l})`)}}return a.Yz.log("æŒæ¡æŠ€èƒ½è®¡ç®—",`è®¡ç®—å®Œæˆï¼Œå…±æŒæ¡ ${n.length} ä¸ªæŠ€èƒ½`),n}(e),t=e.æŒæ¡æŠ€èƒ½||[];for(const e of n){const n=t.find(n=&gt;n.æŠ€èƒ½åç§°===e.æŠ€èƒ½åç§°&amp;&amp;n.æ¥æº===e.æ¥æº);n&amp;&amp;(e.ç†Ÿç»ƒåº¦=n.ç†Ÿç»ƒåº¦,e.ä½¿ç”¨æ¬¡æ•°=n.ä½¿ç”¨æ¬¡æ•°)}return e.æŒæ¡æŠ€èƒ½=n,a.Yz.log("æŒæ¡æŠ€èƒ½è®¡ç®—","å·²æ›´æ–°å­˜æ¡£æ•°æ®ä¸­çš„æŒæ¡æŠ€èƒ½æ•°ç»„"),n}},8932:(e,n,t)=&gt;{t.d(n,{A:()=&gt;i});var a=t(1601),o=t.n(a),r=t(6314),l=t.n(r)()(o());l.push([e.id,"\n.dialog-overlay[data-v-7a662fc0] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.75);\n  backdrop-filter: blur(8px);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 9999;\n  padding: 1rem;\n  animation: fadeIn-7a662fc0 0.3s ease-out;\n}\n@keyframes fadeIn-7a662fc0 {\nfrom { opacity: 0;\n}\nto { opacity: 1;\n}\n}\n.dialog-container[data-v-7a662fc0] {\n  background-color: var(--color-surface);\n  border-radius: 16px;\n  padding: 2rem;\n  width: 100%;\n  max-width: 550px;\n  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);\n  border: 1px solid var(--color-border);\n  animation: slideInUp-7a662fc0 0.4s cubic-bezier(0.25, 1, 0.5, 1);\n}\n@keyframes slideInUp-7a662fc0 {\nfrom {\n    opacity: 0;\n    transform: translateY(30px) scale(0.98);\n}\nto {\n    opacity: 1;\n    transform: translateY(0) scale(1);\n}\n}\n.dialog-header[data-v-7a662fc0] {\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n  margin-bottom: 1.5rem;\n  color: var(--color-danger);\n}\n.header-icon[data-v-7a662fc0] {\n  flex-shrink: 0;\n}\n.header-title[data-v-7a662fc0] {\n  margin: 0;\n  font-size: 1.5rem;\n  font-weight: 700;\n}\n.dialog-content[data-v-7a662fc0] {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  margin-bottom: 2rem;\n}\n.content-lead[data-v-7a662fc0] {\n  font-size: 1rem;\n  line-height: 1.6;\n  color: var(--color-text);\n}\n.error-list-container[data-v-7a662fc0] {\n  background-color: rgba(var(--color-danger-rgb), 0.05);\n  border: 1px solid rgba(var(--color-danger-rgb), 0.2);\n  border-radius: 8px;\n  padding: 1rem;\n}\n.error-list-title[data-v-7a662fc0] {\n  display: block;\n  margin-bottom: 0.75rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.error-list[data-v-7a662fc0] {\n  list-style-type: none;\n  padding-left: 0;\n  margin: 0;\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n.error-item[data-v-7a662fc0] {\n  font-family: 'Courier New', Courier, monospace;\n  font-size: 0.875rem;\n  color: var(--color-danger);\n  padding: 0.5rem;\n  background-color: rgba(var(--color-danger-rgb), 0.05);\n  border-radius: 4px;\n}\n.content-suggestion[data-v-7a662fc0] {\n  font-size: 0.875rem;\n  line-height: 1.5;\n  color: var(--color-text-secondary);\n}\n.content-suggestion strong[data-v-7a662fc0] {\n  color: var(--color-warning);\n  font-weight: 600;\n}\n.dialog-actions[data-v-7a662fc0] {\n  display: flex;\n  justify-content: flex-end;\n}\n.action-button[data-v-7a662fc0] {\n  display: inline-flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.75rem 1.5rem;\n  border: none;\n  border-radius: 8px;\n  font-size: 1rem;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n.confirm-button[data-v-7a662fc0] {\n  background-color: var(--color-primary);\n  color: white;\n}\n.confirm-button[data-v-7a662fc0]:hover {\n  background-color: var(--color-primary-hover);\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(var(--color-primary-rgb), 0.3);\n}\n",""]);const i=l},8974:(e,n,t)=&gt;{t.d(n,{A:()=&gt;i});var a=t(1601),o=t.n(a),r=t(6314),l=t.n(r)()(o());l.push([e.id,"\n.login-container[data-v-950f3f12] {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.login-panel[data-v-950f3f12] {\n  width: 100%;\n  max-width: 400px;\n  padding: 2.5rem;\n  background: var(--color-surface);\n  border: 1px solid var(--color-border);\n  border-radius: 15px;\n  backdrop-filter: blur(10px);\n  -webkit-backdrop-filter: blur(10px);\n  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);\n}\n.title[data-v-950f3f12] {\n  text-align: center;\n  font-family: var(--font-family-serif);\n  font-size: 2rem;\n  color: var(--color-accent);\n  margin-top: 0;\n  margin-bottom: 0.5rem;\n}\n.subtitle[data-v-950f3f12] {\n  text-align: center;\n  color: var(--color-text-secondary);\n  margin-bottom: 2rem;\n}\n.form-group[data-v-950f3f12] {\n  margin-bottom: 1.5rem;\n}\n.form-group label[data-v-950f3f12] {\n  display: block;\n  margin-bottom: 0.5rem;\n  font-weight: 500;\n}\n.form-group input[data-v-950f3f12] {\n  width: 100%;\n  padding: 0.8rem 1rem;\n  background: rgba(0,0,0,0.2);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  color: var(--color-text);\n  font-size: 1rem;\n  box-sizing: border-box;\n  transition: var(--transition-fast);\n}\n.form-group input[data-v-950f3f12]:focus {\n  outline: none;\n  border-color: var(--color-primary);\n  box-shadow: 0 0 10px rgba(var(--color-primary-rgb), 0.3);\n}\n.turnstile-container[data-v-950f3f12] {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-bottom: 1.5rem;\n}\n.error-message[data-v-950f3f12] {\n    color: var(--color-danger);\n    text-align: center;\n    margin-bottom: 1rem;\n    animation: fadeIn-950f3f12 0.3s ease;\n}\n.success-message[data-v-950f3f12] {\n    color: #7fb069;\n    text-align: center;\n    margin-bottom: 1rem;\n    animation: fadeIn-950f3f12 0.3s ease;\n}\n.form-actions[data-v-950f3f12] {\n    display: flex;\n    justify-content: space-between;\n    gap: 1rem;\n    margin-top: 2rem;\n}\n.form-footer[data-v-950f3f12] {\n    text-align: center;\n    margin-top: 1.5rem;\n    padding-top: 1.5rem;\n    border-top: 1px solid var(--color-border);\n}\n.link[data-v-950f3f12] {\n    color: var(--color-primary);\n    text-decoration: none;\n    transition: var(--transition-fast);\n}\n.link[data-v-950f3f12]:hover {\n    color: var(--color-primary-hover);\n    text-decoration: underline;\n}\n@keyframes fadeIn-950f3f12 {\nfrom { opacity: 0; transform: translateY(-10px);\n}\nto { opacity: 1; transform: translateY(0);\n}\n}\n",""]);const i=l},9074:(e,n,t)=&gt;{t.d(n,{A:()=&gt;i});var a=t(1601),o=t.n(a),r=t(6314),l=t.n(r)()(o());l.push([e.id,"\n.sect-panel[data-v-f9a2cde8] {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  background: var(--color-background);\n}\n.panel-content[data-v-f9a2cde8] {\n  flex: 1;\n  overflow: hidden;\n}\n.sect-container[data-v-f9a2cde8] {\n  height: 100%;\n  display: flex;\n  background: var(--color-surface);\n  overflow: hidden;\n}\n.sect-list[data-v-f9a2cde8] {\n  width: 280px; /* çª„ä¸€ç‚¹ */\n  border-right: 1px solid var(--color-border);\n  display: flex;\n  flex-direction: column;\n}\n.list-header[data-v-f9a2cde8] {\n  padding: 1rem;\n  border-bottom: 1px solid var(--color-border);\n}\n.panel-title[data-v-f9a2cde8] {\n  margin: 0 0 1rem 0;\n  font-size: 1.25rem;\n  font-weight: 700;\n  color: var(--color-primary);\n  text-align: center;\n}\n.search-bar[data-v-f9a2cde8] {\n  position: relative;\n  display: flex;\n  align-items: center;\n  background: var(--color-background);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  padding: 0.5rem;\n}\n.search-bar svg[data-v-f9a2cde8] {\n  color: var(--color-text-secondary);\n  margin-right: 0.5rem;\n}\n.search-input[data-v-f9a2cde8] {\n  flex: 1;\n  border: none;\n  outline: none;\n  background: transparent;\n  color: var(--color-text);\n  font-size: 0.875rem;\n}\n.list-content[data-v-f9a2cde8] {\n  flex: 1;\n  overflow-y: auto;\n  padding: 0.5rem;\n}\n.loading-state[data-v-f9a2cde8], .empty-state[data-v-f9a2cde8] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 200px;\n  text-align: center;\n  color: var(--color-text-secondary);\n}\n.empty-icon[data-v-f9a2cde8] {\n  opacity: 0.5;\n  margin-bottom: 1rem;\n}\n.empty-text[data-v-f9a2cde8] {\n  font-weight: 600;\n  margin-bottom: 0.5rem;\n}\n.empty-hint[data-v-f9a2cde8] {\n  font-size: 0.8rem;\n  opacity: 0.8;\n}\n.sect-list-content[data-v-f9a2cde8] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n.sect-card[data-v-f9a2cde8] {\n  display: flex;\n  align-items: center;\n  padding: 1rem;\n  background: var(--color-background);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n.sect-card[data-v-f9a2cde8]:hover {\n  border-color: #9333ea;\n  box-shadow: 0 2px 8px rgba(147, 51, 234, 0.1);\n  transform: translateY(-1px);\n}\n.sect-card.selected[data-v-f9a2cde8] {\n  background: linear-gradient(135deg, rgba(147, 51, 234, 0.1), rgba(168, 85, 247, 0.1));\n  border-color: #9333ea;\n  box-shadow: 0 4px 12px rgba(147, 51, 234, 0.15);\n}\n.sect-card.can-join[data-v-f9a2cde8] {\n  border-left: 3px solid #22c55e;\n}\n.sect-icon[data-v-f9a2cde8] {\n  position: relative;\n  margin-right: 0.75rem;\n  flex-shrink: 0;\n}\n.sect-emoji[data-v-f9a2cde8] {\n  font-size: 2rem;\n  display: block;\n}\n.sect-level[data-v-f9a2cde8] {\n  position: absolute;\n  bottom: -2px;\n  right: -2px;\n  padding: 1px 4px;\n  border-radius: 8px;\n  font-size: 0.6rem;\n  font-weight: 700;\n  color: white;\n}\n.level-ä¸€æµ[data-v-f9a2cde8] { background: #ef4444;\n}\n.level-äºŒæµ[data-v-f9a2cde8] { background: #f59e0b;\n}\n.level-ä¸‰æµ[data-v-f9a2cde8] { background: #3b82f6;\n}\n.level-æœ«æµ[data-v-f9a2cde8] { background: #6b7280;\n}\n.sect-info[data-v-f9a2cde8] {\n  flex: 1;\n  min-width: 0;\n}\n.sect-name[data-v-f9a2cde8] {\n  font-weight: 600;\n  color: var(--color-text);\n  margin-bottom: 0.25rem;\n  font-size: 1rem;\n}\n.sect-meta[data-v-f9a2cde8] {\n  margin-bottom: 0.5rem;\n}\n.sect-type[data-v-f9a2cde8] {\n  background: rgba(147, 51, 234, 0.1);\n  color: #9333ea;\n  padding: 2px 8px;\n  border-radius: 12px;\n  font-size: 0.75rem;\n  font-weight: 500;\n}\n.sect-stats[data-v-f9a2cde8] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n}\n.member-count[data-v-f9a2cde8] {\n  background: rgba(59, 130, 246, 0.1);\n  color: #3b82f6;\n  padding: 2px 6px;\n  border-radius: 3px;\n  font-weight: 500;\n}\n\\n/* .power-rating removed */\\n.arrow-icon[data-v-f9a2cde8] {\n  color: var(--color-border-hover);\n  transition: transform 0.2s;\n}\n.sect-card.selected .arrow-icon[data-v-f9a2cde8] {\n  transform: rotate(90deg);\n  color: #9333ea;\n}\n.sect-detail[data-v-f9a2cde8] {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n.detail-content[data-v-f9a2cde8] {\n  height: 100%;\n  padding: 1rem;\n  overflow-y: auto;\n}\n.detail-header[data-v-f9a2cde8] {\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n  margin-bottom: 2rem;\n  padding-bottom: 1rem;\n  border-bottom: 1px solid var(--color-border);\n}\n.detail-icon[data-v-f9a2cde8] {\n  width: 64px;\n  height: 64px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: linear-gradient(135deg, #9333ea, #7c3aed);\n  flex-shrink: 0;\n  box-shadow: 0 4px 16px rgba(147, 51, 234, 0.3);\n}\n.sect-emoji-large[data-v-f9a2cde8] {\n  font-size: 2rem;\n}\n.detail-info[data-v-f9a2cde8] {\n  flex: 1;\n}\n.detail-name[data-v-f9a2cde8] {\n  margin: 0 0 0.5rem 0;\n  font-size: 1.25rem;\n  font-weight: 700;\n  color: var(--color-text);\n}\n.detail-badges[data-v-f9a2cde8] {\n  display: flex;\n  gap: 0.5rem;\n  flex-wrap: wrap;\n}\n.type-badge[data-v-f9a2cde8], .level-badge[data-v-f9a2cde8] {\n  padding: 0.25rem 0.5rem;\n  border-radius: 12px;\n  font-size: 0.75rem;\n  font-weight: 500;\n}\n.type-badge.type-righteous[data-v-f9a2cde8] { background: rgba(59, 130, 246, 0.1); color: #3b82f6;\n}\n.type-badge.type-demonic[data-v-f9a2cde8] { background: rgba(239, 68, 68, 0.1); color: #ef4444;\n}\n.type-badge.type-neutral[data-v-f9a2cde8] { background: rgba(107, 114, 128, 0.1); color: #6b7280;\n}\n.type-badge.type-merchant[data-v-f9a2cde8] { background: rgba(245, 158, 11, 0.1); color: #f59e0b;\n}\n.type-badge.type-family[data-v-f9a2cde8] { background: rgba(34, 197, 94, 0.1); color: #22c55e;\n}\n.type-badge.type-alliance[data-v-f9a2cde8] { background: rgba(168, 85, 247, 0.1); color: #a855f7;\n}\n.level-badge[data-v-f9a2cde8] { background: rgba(168, 85, 247, 0.1); color: #a855f7;\n}\n.detail-body[data-v-f9a2cde8] {\n  display: flex;\n  flex-direction: column;\n  gap: 1.5rem;\n}\n.detail-section[data-v-f9a2cde8] {\n  background: var(--color-background);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  padding: 1rem;\n}\n.section-title[data-v-f9a2cde8] {\n  margin: 0 0 1rem 0;\n  font-size: 0.9rem;\n  font-weight: 600;\n  color: var(--color-text);\n  padding-bottom: 0.5rem;\n  border-bottom: 1px solid var(--color-border);\n  display: flex;            /* å›¾æ ‡ä¸æ ‡é¢˜åŒä¸€è¡Œ */\n  align-items: center;      /* å‚ç›´å±…ä¸­å¯¹é½ */\n  gap: 8px;                 /* å›¾æ ‡ä¸æ–‡å­—é—´è· */\n}\n.section-title svg[data-v-f9a2cde8] {\n  flex-shrink: 0;           /* é˜²æ­¢å›¾æ ‡è¢«å‹ç¼©æ¢è¡Œ */\n}\n.info-grid[data-v-f9a2cde8] {\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  gap: 1rem;\n  margin-bottom: 1rem;\n}\n.info-item[data-v-f9a2cde8] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n}\n.info-label[data-v-f9a2cde8] {\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n  font-weight: 500;\n}\n.info-value[data-v-f9a2cde8] {\n  font-size: 0.875rem;\n  color: var(--color-text);\n  font-weight: 600;\n}\n.sect-description[data-v-f9a2cde8] {\n  margin-top: 1rem;\n}\n.desc-title[data-v-f9a2cde8] {\n  margin: 0 0 0.5rem 0;\n  font-size: 0.85rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.desc-text[data-v-f9a2cde8] {\n  margin: 0;\n  font-size: 0.875rem;\n  line-height: 1.5;\n  color: var(--color-text-secondary);\n}\n.sect-specialties[data-v-f9a2cde8] {\n  margin-top: 1rem;\n}\n.specialties-title[data-v-f9a2cde8] {\n  margin: 0 0 0.5rem 0;\n  font-size: 0.85rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.specialties-tags[data-v-f9a2cde8] {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 0.5rem;\n}\n.specialty-tag[data-v-f9a2cde8] {\n  background: linear-gradient(135deg, rgba(168, 85, 247, 0.1), rgba(147, 51, 234, 0.1));\n  color: #9333ea;\n  padding: 0.25rem 0.75rem;\n  border-radius: 12px;\n  font-size: 0.75rem;\n  font-weight: 500;\n  border: 1px solid rgba(147, 51, 234, 0.2);\n}\n.member-overview[data-v-f9a2cde8] {\n  text-align: center;\n  margin-bottom: 1.5rem;\n}\n.total-members[data-v-f9a2cde8] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 0.25rem;\n}\n.total-number[data-v-f9a2cde8] {\n  font-size: 2rem;\n  font-weight: 700;\n  color: #9333ea;\n}\n.total-label[data-v-f9a2cde8] {\n  font-size: 0.875rem;\n  color: var(--color-text-secondary);\n}\n.member-breakdown[data-v-f9a2cde8] {\n  margin-bottom: 1.5rem;\n}\n.breakdown-title[data-v-f9a2cde8] {\n  margin: 0 0 0.75rem 0;\n  font-size: 0.85rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.realm-stats[data-v-f9a2cde8], .position-stats[data-v-f9a2cde8] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n.realm-stat[data-v-f9a2cde8], .position-stat[data-v-f9a2cde8] {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n}\n.realm-name[data-v-f9a2cde8], .position-name[data-v-f9a2cde8] {\n  font-size: 0.8rem;\n  color: var(--color-text-secondary);\n  min-width: 60px;\n}\n.realm-bar[data-v-f9a2cde8], .position-bar[data-v-f9a2cde8] {\n  flex: 1;\n  height: 6px;\n  background: var(--color-border);\n  border-radius: 3px;\n  overflow: hidden;\n}\n.realm-fill[data-v-f9a2cde8] {\n  height: 100%;\n  background: linear-gradient(90deg, #9333ea, #7c3aed);\n  transition: width 0.3s ease;\n}\n.position-fill[data-v-f9a2cde8] {\n  height: 100%;\n  background: linear-gradient(90deg, #3b82f6, #1d4ed8);\n  transition: width 0.3s ease;\n}\n.realm-count[data-v-f9a2cde8], .position-count[data-v-f9a2cde8] {\n  font-size: 0.8rem;\n  font-weight: 600;\n  color: var(--color-text);\n  min-width: 30px;\n  text-align: right;\n}\n.relationship-info[data-v-f9a2cde8] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n}\n.relationship-item[data-v-f9a2cde8] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n.relationship-label[data-v-f9a2cde8] {\n  font-size: 0.875rem;\n  color: var(--color-text-secondary);\n}\n.relationship-value[data-v-f9a2cde8] {\n  font-size: 0.875rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.reputation-value[data-v-f9a2cde8] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n.reputation-level[data-v-f9a2cde8] {\n  font-size: 0.75rem;\n  padding: 0.2rem 0.4rem;\n  border-radius: 4px;\n  font-weight: 500;\n}\n.reputation-legendary[data-v-f9a2cde8] {\n  color: #f59e0b;\n}\n.reputation-legendary .reputation-level[data-v-f9a2cde8] {\n  background: rgba(245, 158, 11, 0.1);\n  color: #f59e0b;\n  border: 1px solid rgba(245, 158, 11, 0.2);\n}\n.reputation-excellent[data-v-f9a2cde8] {\n  color: #8b5cf6;\n}\n.reputation-excellent .reputation-level[data-v-f9a2cde8] {\n  background: rgba(139, 92, 246, 0.1);\n  color: #8b5cf6;\n  border: 1px solid rgba(139, 92, 246, 0.2);\n}\n.reputation-good[data-v-f9a2cde8] {\n  color: #3b82f6;\n}\n.reputation-good .reputation-level[data-v-f9a2cde8] {\n  background: rgba(59, 130, 246, 0.1);\n  color: #3b82f6;\n  border: 1px solid rgba(59, 130, 246, 0.2);\n}\n.reputation-fair[data-v-f9a2cde8] {\n  color: #22c55e;\n}\n.reputation-fair .reputation-level[data-v-f9a2cde8] {\n  background: rgba(34, 197, 94, 0.1);\n  color: #22c55e;\n  border: 1px solid rgba(34, 197, 94, 0.2);\n}\n.reputation-low[data-v-f9a2cde8] {\n  color: #6b7280;\n}\n.reputation-low .reputation-level[data-v-f9a2cde8] {\n  background: rgba(107, 114, 128, 0.1);\n  color: #6b7280;\n  border: 1px solid rgba(107, 114, 128, 0.2);\n}\n.reputation-none[data-v-f9a2cde8] {\n  color: var(--color-text-secondary);\n}\n.reputation-none .reputation-level[data-v-f9a2cde8] {\n  background: rgba(var(--color-text-secondary-rgb), 0.1);\n  color: var(--color-text-secondary);\n  border: 1px solid rgba(var(--color-text-secondary-rgb), 0.2);\n}\n.join-requirements[data-v-f9a2cde8] {\n  margin-bottom: 1rem;\n}\n.requirements-list[data-v-f9a2cde8] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n.requirement-item[data-v-f9a2cde8] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n.requirement-icon[data-v-f9a2cde8] {\n  color: #22c55e;\n}\n.requirement-text[data-v-f9a2cde8] {\n  font-size: 0.875rem;\n  color: var(--color-text-secondary);\n}\n.no-requirements[data-v-f9a2cde8] {\n  text-align: center;\n  padding: 1rem;\n  color: var(--color-text-secondary);\n}\n.join-benefits[data-v-f9a2cde8] {\n  margin-bottom: 1rem;\n}\n.benefits-title[data-v-f9a2cde8] {\n  margin: 0 0 0.5rem 0;\n  font-size: 0.85rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.benefits-list[data-v-f9a2cde8] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n.benefit-item[data-v-f9a2cde8] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n.benefit-icon[data-v-f9a2cde8] {\n  color: #3b82f6;\n}\n.benefit-text[data-v-f9a2cde8] {\n  font-size: 0.875rem;\n  color: var(--color-text-secondary);\n}\n.join-actions[data-v-f9a2cde8] {\n  text-align: center;\n}\n.join-btn[data-v-f9a2cde8] {\n  display: inline-flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.75rem 1.5rem;\n  background: linear-gradient(135deg, #22c55e, #16a34a);\n  border: none;\n  border-radius: 8px;\n  color: white;\n  font-size: 0.875rem;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n.join-btn[data-v-f9a2cde8]:hover {\n  transform: translateY(-1px);\n  box-shadow: 0 4px 12px rgba(34, 197, 94, 0.3);\n}\n.current-member-info[data-v-f9a2cde8] {\n  margin-bottom: 1.5rem;\n}\n.member-status[data-v-f9a2cde8] {\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  gap: 1rem;\n}\n.status-item[data-v-f9a2cde8] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n}\n.status-label[data-v-f9a2cde8] {\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n  font-weight: 500;\n}\n.status-value[data-v-f9a2cde8] {\n  font-size: 0.875rem;\n  color: var(--color-text);\n  font-weight: 600;\n}\n.status-value.position[data-v-f9a2cde8] {\n  color: #9333ea;\n}\n.status-value.contribution[data-v-f9a2cde8] {\n  color: #f59e0b;\n}\n.status-value.reputation[data-v-f9a2cde8] {\n  color: #3b82f6;\n}\n.sect-actions[data-v-f9a2cde8] {\n  margin-top: 1rem;\n}\n.actions-title[data-v-f9a2cde8] {\n  margin: 0 0 0.75rem 0;\n  font-size: 0.85rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.action-buttons[data-v-f9a2cde8] {\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  gap: 0.5rem;\n}\n.sect-action-btn[data-v-f9a2cde8] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 0.5rem;\n  padding: 0.75rem 0.5rem;\n  background: var(--color-surface);\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  color: var(--color-text);\n  font-size: 0.75rem;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  text-align: center;\n  min-width: 0;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.sect-action-btn[data-v-f9a2cde8]:hover {\n  border-color: #9333ea;\n  background: rgba(147, 51, 234, 0.05);\n}\n.no-selection[data-v-f9a2cde8] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  text-align: center;\n  color: var(--color-text-secondary);\n}\n.placeholder-icon[data-v-f9a2cde8] {\n  opacity: 0.5;\n  margin-bottom: 1rem;\n}\n.placeholder-text[data-v-f9a2cde8] {\n  font-size: 1rem;\n  font-weight: 600;\n  margin-bottom: 0.5rem;\n}\n.placeholder-hint[data-v-f9a2cde8] {\n  font-size: 0.85rem;\n  opacity: 0.8;\n}\n\n/* åŠ¿åŠ›èŒƒå›´ç›¸å…³æ ·å¼ */\n.territory-info[data-v-f9a2cde8] {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n}\n\n/* æˆå‘˜ç»Ÿè®¡æ ·å¼ */\n.member-stats[data-v-f9a2cde8] {\n  display: flex;\n  flex-direction: column;\n  gap: 1.5rem;\n}\n.total-members[data-v-f9a2cde8] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1rem;\n  background: rgba(var(--color-primary-rgb), 0.05);\n  border-radius: 8px;\n  border: 1px solid rgba(var(--color-primary-rgb), 0.1);\n}\n.total-label[data-v-f9a2cde8] {\n  font-size: 0.9rem;\n  font-weight: 500;\n  color: var(--color-text-secondary);\n}\n.total-value[data-v-f9a2cde8] {\n  font-size: 1.1rem;\n  font-weight: 600;\n  color: var(--color-primary);\n}\n.distribution-title[data-v-f9a2cde8] {\n  margin: 0 0 0.75rem 0;\n  font-size: 0.85rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.realm-stats[data-v-f9a2cde8], .position-stats[data-v-f9a2cde8] {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));\n  gap: 0.5rem;\n}\n.realm-item[data-v-f9a2cde8], .position-item[data-v-f9a2cde8] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0.5rem 0.75rem;\n  background: var(--color-background);\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  transition: all 0.2s ease;\n}\n.realm-item[data-v-f9a2cde8]:hover, .position-item[data-v-f9a2cde8]:hover {\n  background: var(--color-surface);\n  border-color: rgba(var(--color-primary-rgb), 0.2);\n}\n.realm-name[data-v-f9a2cde8], .position-name[data-v-f9a2cde8] {\n  font-size: 0.8rem;\n  color: var(--color-text-secondary);\n}\n.realm-count[data-v-f9a2cde8], .position-count[data-v-f9a2cde8] {\n  font-size: 0.8rem;\n  font-weight: 500;\n  color: var(--color-text);\n}\n\n/* å®—é—¨é¢†å¯¼å±‚æ ·å¼ */\n.leadership-info[data-v-f9a2cde8] {\n  margin-top: 1.5rem;\n  padding: 1rem;\n  background: rgba(var(--color-primary-rgb), 0.05);\n  border-radius: 8px;\n  border: 1px solid rgba(var(--color-primary-rgb), 0.1);\n}\n.leadership-title[data-v-f9a2cde8] {\n  margin: 0 0 1rem 0;\n  font-size: 0.85rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.leader-grid[data-v-f9a2cde8] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n  margin-bottom: 1rem;\n}\n.leader-item[data-v-f9a2cde8] {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n  padding: 0.75rem;\n  background: var(--color-surface);\n  border-radius: 6px;\n  border: 1px solid var(--color-border);\n}\n.leader-item.primary-leader[data-v-f9a2cde8] {\n  background: linear-gradient(135deg, rgba(var(--color-primary-rgb), 0.1), rgba(var(--color-accent-rgb), 0.05));\n  border-color: rgba(var(--color-primary-rgb), 0.3);\n}\n.leader-role[data-v-f9a2cde8] {\n  font-size: 0.75rem;\n  font-weight: 600;\n  color: var(--color-primary);\n  background: rgba(var(--color-primary-rgb), 0.1);\n  padding: 0.25rem 0.5rem;\n  border-radius: 4px;\n  min-width: 3rem;\n  text-align: center;\n}\n.leader-name[data-v-f9a2cde8] {\n  font-size: 0.875rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.leader-realm[data-v-f9a2cde8] {\n  font-size: 0.75rem;\n  color: var(--color-accent);\n  background: rgba(var(--color-accent-rgb), 0.1);\n  padding: 0.2rem 0.4rem;\n  border-radius: 4px;\n  font-weight: 500;\n  margin-left: auto;\n}\n.sect-strength[data-v-f9a2cde8] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0.75rem;\n  background: rgba(var(--color-success-rgb), 0.05);\n  border-radius: 6px;\n  border: 1px solid rgba(var(--color-success-rgb), 0.1);\n}\n.strength-item[data-v-f9a2cde8] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 0.25rem;\n}\n.strength-label[data-v-f9a2cde8] {\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n  font-weight: 500;\n}\n.strength-value[data-v-f9a2cde8] {\n  font-size: 0.875rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.strength-value.peak-power[data-v-f9a2cde8] {\n  color: var(--color-accent);\n  text-shadow: 0 0 4px rgba(var(--color-accent-rgb), 0.3);\n}\n.strength-value.power-rating[data-v-f9a2cde8] {\n  color: var(--color-primary);\n  font-weight: 700;\n  background: linear-gradient(135deg, rgba(var(--color-primary-rgb), 0.1), rgba(var(--color-accent-rgb), 0.05));\n  padding: 0.25rem 0.5rem;\n  border-radius: 4px;\n  border: 1px solid rgba(var(--color-primary-rgb), 0.2);\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  flex-wrap: wrap;\n}\n.power-level[data-v-f9a2cde8] {\n  font-size: 0.75rem;\n  padding: 0.2rem 0.4rem;\n  border-radius: 4px;\n  font-weight: 500;\n}\n.power-legendary[data-v-f9a2cde8] {\n  color: #dc2626 !important;\n  border-color: rgba(220, 38, 38, 0.3) !important;\n  background: linear-gradient(135deg, rgba(220, 38, 38, 0.1), rgba(239, 68, 68, 0.05)) !important;\n}\n.power-legendary .power-level[data-v-f9a2cde8] {\n  background: rgba(220, 38, 38, 0.1);\n  color: #dc2626;\n  border: 1px solid rgba(220, 38, 38, 0.2);\n}\n.power-supreme[data-v-f9a2cde8] {\n  color: #7c3aed !important;\n  border-color: rgba(124, 58, 237, 0.3) !important;\n  background: linear-gradient(135deg, rgba(124, 58, 237, 0.1), rgba(139, 92, 246, 0.05)) !important;\n}\n.power-supreme .power-level[data-v-f9a2cde8] {\n  background: rgba(124, 58, 237, 0.1);\n  color: #7c3aed;\n  border: 1px solid rgba(124, 58, 237, 0.2);\n}\n.power-strong[data-v-f9a2cde8] {\n  color: #2563eb !important;\n  border-color: rgba(37, 99, 235, 0.3) !important;\n  background: linear-gradient(135deg, rgba(37, 99, 235, 0.1), rgba(59, 130, 246, 0.05)) !important;\n}\n.power-strong .power-level[data-v-f9a2cde8] {\n  background: rgba(37, 99, 235, 0.1);\n  color: #2563eb;\n  border: 1px solid rgba(37, 99, 235, 0.2);\n}\n.power-good[data-v-f9a2cde8] {\n  color: #059669 !important;\n  border-color: rgba(5, 150, 105, 0.3) !important;\n  background: linear-gradient(135deg, rgba(5, 150, 105, 0.1), rgba(16, 185, 129, 0.05)) !important;\n}\n.power-good .power-level[data-v-f9a2cde8] {\n  background: rgba(5, 150, 105, 0.1);\n  color: #059669;\n  border: 1px solid rgba(5, 150, 105, 0.2);\n}\n.power-average[data-v-f9a2cde8] {\n  color: #d97706 !important;\n  border-color: rgba(217, 119, 6, 0.3) !important;\n  background: linear-gradient(135deg, rgba(217, 119, 6, 0.1), rgba(245, 158, 11, 0.05)) !important;\n}\n.power-average .power-level[data-v-f9a2cde8] {\n  background: rgba(217, 119, 6, 0.1);\n  color: #d97706;\n  border: 1px solid rgba(217, 119, 6, 0.2);\n}\n.power-weak[data-v-f9a2cde8] {\n  color: #6b7280 !important;\n  border-color: rgba(107, 114, 128, 0.3) !important;\n  background: linear-gradient(135deg, rgba(107, 114, 128, 0.1), rgba(156, 163, 175, 0.05)) !important;\n}\n.power-weak .power-level[data-v-f9a2cde8] {\n  background: rgba(107, 114, 128, 0.1);\n  color: #6b7280;\n  border: 1px solid rgba(107, 114, 128, 0.2);\n}\n.power-poor[data-v-f9a2cde8] {\n  color: var(--color-text-secondary) !important;\n  border-color: rgba(var(--color-text-secondary-rgb), 0.3) !important;\n  background: linear-gradient(135deg, rgba(var(--color-text-secondary-rgb), 0.1), rgba(var(--color-text-secondary-rgb), 0.05)) !important;\n}\n.power-poor .power-level[data-v-f9a2cde8] {\n  background: rgba(var(--color-text-secondary-rgb), 0.1);\n  color: var(--color-text-secondary);\n  border: 1px solid rgba(var(--color-text-secondary-rgb), 0.2);\n}\n.influence-description[data-v-f9a2cde8] {\n  font-size: 0.875rem;\n  color: var(--color-text);\n  line-height: 1.5;\n}\n.controlled-areas[data-v-f9a2cde8] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n.areas-list[data-v-f9a2cde8] {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 0.5rem;\n}\n.area-tag[data-v-f9a2cde8] {\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(37, 99, 235, 0.1));\n  color: #3b82f6;\n  padding: 0.25rem 0.5rem;\n  border-radius: 6px;\n  font-size: 0.75rem;\n  font-weight: 500;\n  border: 1px solid rgba(59, 130, 246, 0.2);\n}\n.strategic-value[data-v-f9a2cde8] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n.value-display[data-v-f9a2cde8] {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n}\n.value-bar[data-v-f9a2cde8] {\n  flex: 1;\n  height: 8px;\n  background: var(--color-border);\n  border-radius: 4px;\n  overflow: hidden;\n}\n.value-fill[data-v-f9a2cde8] {\n  height: 100%;\n  background: linear-gradient(90deg, #22c55e, #16a34a);\n  transition: width 0.3s ease;\n}\n.value-text[data-v-f9a2cde8] {\n  font-size: 0.875rem;\n  font-weight: 600;\n  color: var(--color-text);\n  min-width: 40px;\n}\n\n/* å›é€€æ˜¾ç¤ºæ ·å¼ */\n.fallback-leadership[data-v-f9a2cde8] {\n  padding: 1rem;\n  background: rgba(var(--color-warning-rgb), 0.05);\n  border-radius: 8px;\n  border: 1px solid rgba(var(--color-warning-rgb), 0.1);\n}\n.leadership-description[data-v-f9a2cde8] {\n  margin: 0 0 1rem 0;\n  font-size: 0.875rem;\n  line-height: 1.5;\n  color: var(--color-text-secondary);\n}\n\n/* æ•°æ®ç¼ºå¤±æç¤ºæ ·å¼ */\n.missing-data-notice[data-v-f9a2cde8] {\n  background: rgba(var(--color-warning-rgb), 0.05);\n  border: 1px solid rgba(var(--color-warning-rgb), 0.2);\n  border-radius: 8px;\n  padding: 1rem;\n  margin-top: 1rem;\n}\n.notice-title[data-v-f9a2cde8] {\n  margin: 0 0 0.5rem 0;\n  font-size: 0.85rem;\n  font-weight: 600;\n  color: var(--color-warning);\n}\n.notice-content[data-v-f9a2cde8] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n.notice-text[data-v-f9a2cde8] {\n  margin: 0;\n  font-size: 0.875rem;\n  color: var(--color-text-secondary);\n  font-weight: 500;\n}\n.notice-hint[data-v-f9a2cde8] {\n  margin: 0;\n  font-size: 0.8rem;\n  color: var(--color-text-tertiary);\n  opacity: 0.8;\n}\n.animate-spin[data-v-f9a2cde8] {\n  animation: spin-f9a2cde8 1s linear infinite;\n}\n@keyframes spin-f9a2cde8 {\nfrom { transform: rotate(0deg);\n}\nto { transform: rotate(360deg);\n}\n}\n@media (max-width: 640px) {\n.sect-panel[data-v-f9a2cde8] {\n    padding: 0;\n}\n.panel-content[data-v-f9a2cde8] {\n    padding: 0;\n}\n.sect-container[data-v-f9a2cde8] {\n    flex-direction: column;\n    border-radius: 0;\n    border: none;\n}\n.sect-list[data-v-f9a2cde8] {\n    width: 100%;\n    height: 30vh;\n    min-height: 250px;\n    max-height: 350px;\n    border-right: none;\n    border-bottom: 1px solid var(--color-border);\n}\n.list-header[data-v-f9a2cde8] {\n    padding: 1rem;\n    position: sticky;\n    top: 0;\n    z-index: 100;\n    background: var(--color-surface);\n}\n.panel-title[data-v-f9a2cde8] {\n    font-size: 1.1rem;\n    margin-bottom: 0.75rem;\n}\n.search-bar[data-v-f9a2cde8] {\n    padding: 0.5rem;\n}\n.search-input[data-v-f9a2cde8] {\n    font-size: 0.9rem;\n}\n.list-content[data-v-f9a2cde8] {\n    padding: 0.5rem;\n}\n.sect-card[data-v-f9a2cde8] {\n    padding: 0.75rem;\n    margin-bottom: 0.5rem;\n}\n.sect-name[data-v-f9a2cde8] {\n    font-size: 0.95rem;\n}\n.sect-type[data-v-f9a2cde8] {\n    font-size: 0.7rem;\n    padding: 1px 6px;\n}\n\n  /* .power-rating removed */\n.sect-detail[data-v-f9a2cde8] {\n    flex: 1;\n    min-height: 0;\n    overflow-y: auto;\n}\n.detail-content[data-v-f9a2cde8] {\n    padding: 0.75rem;\n    height: auto;\n}\n.detail-header[data-v-f9a2cde8] {\n    margin-bottom: 1rem;\n    padding-bottom: 0.5rem;\n}\n.detail-icon[data-v-f9a2cde8] {\n    width: 40px;\n    height: 40px;\n}\n.sect-emoji-large[data-v-f9a2cde8] {\n    font-size: 1.25rem;\n}\n.detail-name[data-v-f9a2cde8] {\n    font-size: 1rem;\n}\n.info-grid[data-v-f9a2cde8] {\n    grid-template-columns: 1fr;\n    gap: 0.5rem;\n}\n.member-status[data-v-f9a2cde8] {\n    grid-template-columns: 1fr;\n    gap: 0.5rem;\n}\n.action-buttons[data-v-f9a2cde8] {\n    grid-template-columns: repeat(2, 1fr);\n    gap: 0.4rem;\n}\n.sect-action-btn[data-v-f9a2cde8] {\n    padding: 0.6rem 0.4rem;\n    font-size: 0.75rem;\n    justify-content: center;\n    white-space: normal; /* å…è®¸æ–‡æœ¬æ¢è¡Œ */\n    height: 100%; /* ç¡®ä¿æŒ‰é’®åœ¨æ¢è¡Œåé«˜åº¦ä¸€è‡´ */\n}\n.detail-section[data-v-f9a2cde8] {\n    padding: 0.6rem;\n    margin-bottom: 0.75rem;\n}\n.section-title[data-v-f9a2cde8] {\n    font-size: 0.8rem;\n    margin-bottom: 0.5rem;\n    padding-bottom: 0.4rem;\n}\n.realm-stats[data-v-f9a2cde8], .position-stats[data-v-f9a2cde8] {\n    grid-template-columns: 1fr;\n    gap: 0.5rem;\n}\n.leader-grid[data-v-f9a2cde8] {\n    gap: 0.5rem;\n}\n.leader-item[data-v-f9a2cde8] {\n    padding: 0.5rem;\n}\n.leader-role[data-v-f9a2cde8] {\n    font-size: 0.7rem;\n    padding: 0.2rem 0.4rem;\n    min-width: 2.5rem;\n}\n.leader-name[data-v-f9a2cde8] {\n    font-size: 0.8rem;\n}\n.leader-realm[data-v-f9a2cde8] {\n    font-size: 0.7rem;\n}\n}\n",""]);const i=l},9142:(e,n,t)=&gt;{t.d(n,{F:()=&gt;i,p:()=&gt;l,useUnifiedCharacterData:()=&gt;r});var a=t(4061),o=t(948);function r(){const e=(0,o.useCharacterStore)(),n=(0,a.computed)(()=&gt;e.activeSaveSlot?.å­˜æ¡£æ•°æ®),t=(0,a.computed)(()=&gt;!!n.value);return{characterData:(0,a.computed)(()=&gt;{if(!n.value)return null;const e=n.value,t=e.ç©å®¶è§’è‰²çŠ¶æ€;return{åŸºç¡€ä¿¡æ¯:e.è§’è‰²åŸºç¡€ä¿¡æ¯,å¢ƒç•Œ:t?.å¢ƒç•Œ,å±æ€§:{æ°”è¡€:t?.æ°”è¡€,çµæ°”:t?.çµæ°”,ç¥è¯†:t?.ç¥è¯†,å¯¿å‘½:t?.å¯¿å‘½},ä½ç½®:t?.ä½ç½®,ä¿®ç‚¼åŠŸæ³•:e.ä¿®ç‚¼åŠŸæ³•,æŒæ¡æŠ€èƒ½:e.æŒæ¡æŠ€èƒ½,è£…å¤‡æ :e.è£…å¤‡æ ,èƒŒåŒ…_çµçŸ³:e.èƒŒåŒ…?.çµçŸ³,èƒŒåŒ…_ç‰©å“:e.èƒŒåŒ…?.ç‰©å“,äººç‰©å…³ç³»:e.äººç‰©å…³ç³»,ä¸‰åƒå¤§é“:e.ä¸‰åƒå¤§é“,ä¸–ç•Œä¿¡æ¯:e.ä¸–ç•Œä¿¡æ¯,æ¸¸æˆæ—¶é—´:e.æ¸¸æˆæ—¶é—´,çŠ¶æ€æ•ˆæœ:t?.çŠ¶æ€æ•ˆæœ||[],è®°å¿†:e.è®°å¿†,ç©å®¶è§’è‰²çŠ¶æ€:t}}),saveData:n,isDataLoaded:t}}function l(){const{characterData:e}=r();return{basicInfo:(0,a.computed)(()=&gt;e.value?.åŸºç¡€ä¿¡æ¯),status:(0,a.computed)(()=&gt;e.value?.ç©å®¶è§’è‰²çŠ¶æ€)}}function i(){const{characterData:e,saveData:n}=r();return{saveData:n,realm:(0,a.computed)(()=&gt;e.value?.å¢ƒç•Œ),techniques:(0,a.computed)(()=&gt;e.value?.ä¿®ç‚¼åŠŸæ³•||[]),daoSystem:(0,a.computed)(()=&gt;e.value?.ä¸‰åƒå¤§é“)}}},9173:(e,n,t)=&gt;{t.d(n,{useUIStore:()=&gt;r});var a=t(1774),o=t(4061);const r=(0,a.nY)("ui",()=&gt;{const e=(0,o.ref)(!1),n=(0,o.ref)(""),t=(0,o.ref)(!1),a=(0,o.ref)(!1),r=(0,o.ref)(null),l=(0,o.ref)(!1),i=(0,o.ref)(!1),c=(0,o.ref)(!1),s=(0,o.ref)(""),d=(0,o.ref)(""),m=(0,o.ref)(!1),p=(0,o.ref)([]),v=(0,o.ref)(null),u=(0,o.ref)("creation"),g=(0,o.ref)(!1),f=(0,o.ref)(null),b=(0,o.ref)(null),h=(0,o.ref)(""),y=(0,o.ref)(!0),x=(0,o.ref)(3);function k(){a.value=!1,r.value=null,l.value&amp;&amp;(e.value=!0,l.value=!1)}function w(){m.value=!1,p.value=[],v.value=null}return{isLoading:e,loadingText:n,isAIProcessing:t,showRetryDialogState:a,retryDialogConfig:r,startLoading:function(t="æ­£åœ¨åŠ è½½..."){e.value=!0,n.value=t},stopLoading:function(){e.value=!1,n.value=""},setAIProcessing:function(e){t.value=e},updateLoadingText:function(t){e.value&amp;&amp;(n.value=t)},showRetryDialog:function(n){l.value=e.value,e.value&amp;&amp;(e.value=!1),r.value=n,a.value=!0},hideRetryDialog:k,confirmRetry:function(){r.value&amp;&amp;(r.value.onConfirm(),k())},cancelRetry:function(){r.value&amp;&amp;(r.value.onCancel(),k())},neutralAction:function(){r.value&amp;&amp;r.value.onNeutral&amp;&amp;(r.value.onNeutral(),k())},showCharacterManagement:i,openCharacterManagement:function(){i.value=!0},closeCharacterManagement:function(){i.value=!1},showDataValidationError:m,dataValidationErrorMessages:p,dataValidationContext:u,showDataValidationErrorDialog:function(e,n,t="creation"){p.value=e,v.value=n,u.value=t,m.value=!0},hideDataValidationErrorDialog:w,confirmDataValidationError:function(){v.value&amp;&amp;v.value(),w()},showStateChangeViewer:g,stateChangeLogToShow:f,currentMessageStateChanges:b,openStateChangeViewer:function(e){f.value=e,g.value=!0},closeStateChangeViewer:function(){g.value=!1,f.value=null},setCurrentMessageStateChanges:function(e){b.value=e?{...e,_ts:Date.now()}:null},clearCurrentMessageStateChanges:function(){b.value=null},autoGenerateNpc:y,minNpcCount:x,userInputText:h,showDetailModalState:c,detailModalTitle:s,detailModalContent:d,showDetailModal:function(e){s.value=e.title,d.value=e.content,c.value=!0},hideDetailModal:function(){c.value=!1,setTimeout(()=&gt;{s.value="",d.value=""},300)}}})},9262:(e,n,t)=&gt;{t.d(n,{A:()=&gt;u});var a=t(1601),o=t.n(a),r=t(6314),l=t.n(r),i=t(4417),c=t.n(i),s=new URL(t(660),t.b),d=new URL(t(1530),t.b),m=l()(o()),p=c()(s),v=c()(d);m.push([e.id,`\n.settings-panel[data-v-1063ac62] {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);\n  overflow: hidden;\n  padding: 1rem;\n  gap: 1rem;\n  position: relative;\n}\n\n/* å¤´éƒ¨ */\n.panel-header[data-v-1063ac62] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1rem;\n  background: var(--color-surface);\n  border-radius: 0.75rem;\n  border: 1px solid var(--color-border);\n  flex-shrink: 0;\n}\n.header-left[data-v-1063ac62] {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n}\n.header-icon[data-v-1063ac62] {\n  font-size: 1.5rem;\n}\n.header-info[data-v-1063ac62] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n}\n.panel-title[data-v-1063ac62] {\n  margin: 0;\n  font-size: 1.125rem;\n  font-weight: 600;\n  color: #1e293b;\n}\n.settings-subtitle[data-v-1063ac62] {\n  font-size: 0.875rem;\n  color: #64748b;\n}\n.header-actions[data-v-1063ac62] {\n  display: flex;\n  gap: 0.5rem;\n}\n.action-btn[data-v-1063ac62] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.5rem 1rem;\n  border: 1px solid var(--color-border);\n  border-radius: 0.5rem;\n  background: var(--color-surface);\n  color: var(--color-text);\n  cursor: pointer;\n  transition: all 0.2s ease;\n  font-size: 0.875rem;\n}\n.action-btn[data-v-1063ac62]:hover {\n  background: #f1f5f9;\n  border-color: #94a3b8;\n}\n.action-btn.primary[data-v-1063ac62] {\n  background: #3b82f6;\n  border-color: #3b82f6;\n  color: white;\n}\n.action-btn.primary[data-v-1063ac62]:hover {\n  background: #2563eb;\n  border-color: #2563eb;\n}\n\n/* è®¾ç½®å®¹å™¨ */\n.settings-container[data-v-1063ac62] {\n  flex: 1;\n  overflow-y: auto;\n  min-height: 0;\n  padding: 0 0.5rem 3rem 0.5rem;\n  \n  /* æ»šåŠ¨æ¡æ ·å¼ */\n  scrollbar-width: thin;\n  scrollbar-color: rgba(100, 116, 139, 0.3) rgba(243, 244, 246, 0.5);\n}\n.settings-container[data-v-1063ac62]::-webkit-scrollbar {\n  width: 8px;\n}\n.settings-container[data-v-1063ac62]::-webkit-scrollbar-track {\n  background: rgba(243, 244, 246, 0.5);\n  border-radius: 4px;\n}\n.settings-container[data-v-1063ac62]::-webkit-scrollbar-thumb {\n  background: rgba(100, 116, 139, 0.3);\n  border-radius: 4px;\n  transition: background 0.2s ease;\n}\n.settings-container[data-v-1063ac62]::-webkit-scrollbar-thumb:hover {\n  background: rgba(100, 116, 139, 0.5);\n}\n\n/* è®¾ç½®åŒºå— */\n.settings-section[data-v-1063ac62] {\n  margin-bottom: 1.5rem;\n  background: white;\n  border-radius: 0.75rem;\n  border: 1px solid #e2e8f0;\n  overflow: hidden;\n}\n.section-header[data-v-1063ac62] {\n  padding: 1rem 1.25rem;\n  background: #f8fafc;\n  border-bottom: 1px solid #e2e8f0;\n}\n.section-title[data-v-1063ac62] {\n  margin: 0;\n  font-size: 1rem;\n  font-weight: 600;\n  color: #1e293b;\n}\n.settings-list[data-v-1063ac62] {\n  padding: 0.5rem;\n}\n\n/* è®¾ç½®é¡¹ */\n.setting-item[data-v-1063ac62] {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 1rem 1.25rem;\n  border-radius: 0.5rem;\n  transition: background 0.2s ease;\n}\n.setting-item[data-v-1063ac62]:hover {\n  background: #f8fafc;\n}\n.setting-info[data-v-1063ac62] {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n}\n.setting-name[data-v-1063ac62] {\n  font-weight: 500;\n  color: #1e293b;\n  cursor: pointer;\n}\n.setting-desc[data-v-1063ac62] {\n  font-size: 0.875rem;\n  color: #64748b;\n}\n.setting-control[data-v-1063ac62] {\n  display: flex;\n  align-items: center;\n}\n\n/* æ§ä»¶æ ·å¼ */\n.setting-select[data-v-1063ac62] {\n  padding: 0.5rem 0.75rem;\n  border: 1px solid #d1d5db;\n  border-radius: 0.375rem;\n  background: white;\n  color: #374151;\n  font-size: 0.875rem;\n  min-width: 80px;\n}\n.setting-select[data-v-1063ac62]:focus {\n  outline: none;\n  border-color: #3b82f6;\n  box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.1);\n}\n.range-container[data-v-1063ac62] {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n}\n.setting-range[data-v-1063ac62] {\n  width: 100px;\n}\n.range-value[data-v-1063ac62] {\n  font-size: 0.875rem;\n  font-weight: 500;\n  color: #374151;\n  min-width: 40px;\n}\n\n/* ä¸‹æ‹‰é€‰æ‹©æ¡†æ ·å¼ */\n.setting-select[data-v-1063ac62] {\n  padding: 0.5rem 2rem 0.5rem 0.75rem;\n  border: 1px solid #d1d5db;\n  border-radius: 8px;\n  background-color: white;\n  background-image: url(${p});\n  background-repeat: no-repeat;\n  background-position: right 0.75rem center;\n  background-size: 12px;\n  color: #374151;\n  font-size: 0.875rem;\n  cursor: pointer;\n  transition: border-color 0.2s ease;\n  appearance: none;\n  min-width: 120px;\n}\n.setting-select[data-v-1063ac62]:hover {\n  border-color: #94a3b8;\n}\n.setting-select[data-v-1063ac62]:focus {\n  outline: none;\n  border-color: #3b82f6;\n  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n}\n[data-theme="dark"] .setting-select[data-v-1063ac62] {\n  background-color: #374151;\n  border-color: #4b5563;\n  color: #e5e7eb;\n  background-image: url(${v});\n}\n[data-theme="dark"] .setting-select[data-v-1063ac62]:hover {\n  border-color: #6b7280;\n}\n\n/* å¼€å…³æ ·å¼ */\n.setting-switch[data-v-1063ac62] {\n  position: relative;\n  display: inline-block;\n  width: 44px;\n  height: 24px;\n}\n.setting-switch input[data-v-1063ac62] {\n  opacity: 0;\n  width: 0;\n  height: 0;\n}\n.switch-slider[data-v-1063ac62] {\n  position: absolute;\n  cursor: pointer;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: #cbd5e1;\n  transition: 0.2s;\n  border-radius: 24px;\n}\n.switch-slider[data-v-1063ac62]:before {\n  position: absolute;\n  content: "";\n  height: 18px;\n  width: 18px;\n  left: 3px;\n  bottom: 3px;\n  background-color: white;\n  transition: 0.2s;\n  border-radius: 50%;\n}\ninput:checked + .switch-slider[data-v-1063ac62] {\n  background-color: #3b82f6;\n}\ninput:checked + .switch-slider[data-v-1063ac62]:before {\n  transform: translateX(20px);\n}\n\n/* å·¥å…·æŒ‰é’® */\n.utility-btn[data-v-1063ac62] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.5rem 0.75rem;\n  border: 1px solid #d1d5db;\n  border-radius: 0.375rem;\n  background: white;\n  color: #374151;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  font-size: 0.875rem;\n}\n.utility-btn[data-v-1063ac62]:hover {\n  background: #f9fafb;\n  border-color: #9ca3af;\n}\n\n/* å“åº”å¼è®¾è®¡ */\n@media (max-width: 640px) {\n.setting-item[data-v-1063ac62] {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 0.75rem;\n}\n.setting-control[data-v-1063ac62] {\n    width: 100%;\n    justify-content: flex-end;\n}\n.range-container[data-v-1063ac62] {\n    width: 100%;\n    justify-content: space-between;\n}\n.header-actions .btn-text[data-v-1063ac62] {\n    display: none;\n}\n}\n\n/* æ·±è‰²ä¸»é¢˜ */\n[data-theme="dark"] .settings-panel[data-v-1063ac62] {\n  background: linear-gradient(135deg, #1e293b 0%, #334155 100%);\n}\n[data-theme="dark"] .panel-header[data-v-1063ac62],\n[data-theme="dark"] .settings-section[data-v-1063ac62] {\n  background: #1e293b;\n  border-color: #475569;\n}\n[data-theme="dark"] .section-header[data-v-1063ac62] {\n  background: #334155;\n  border-bottom-color: #475569;\n}\n[data-theme="dark"] .panel-title[data-v-1063ac62],\n[data-theme="dark"] .section-title[data-v-1063ac62],\n[data-theme="dark"] .setting-name[data-v-1063ac62] {\n  color: #f1f5f9;\n}\n[data-theme="dark"] .settings-subtitle[data-v-1063ac62],\n[data-theme="dark"] .setting-desc[data-v-1063ac62] {\n  color: #94a3b8;\n}\n[data-theme="dark"] .setting-item[data-v-1063ac62]:hover {\n  background: #334155;\n}\n[data-theme="dark"] .action-btn[data-v-1063ac62],\n[data-theme="dark"] .setting-select[data-v-1063ac62],\n[data-theme="dark"] .utility-btn[data-v-1063ac62] {\n  background: #374151;\n  border-color: #4b5563;\n  color: #e5e7eb;\n}\n[data-theme="dark"] .action-btn[data-v-1063ac62]:hover,\n[data-theme="dark"] .utility-btn[data-v-1063ac62]:hover {\n  background: #4b5563;\n  border-color: #6b7280;\n}\n[data-theme="dark"] .switch-slider[data-v-1063ac62] {\n  background-color: #4b5563;\n}\n\n/* æ—‹è½¬åŠ¨ç”» */\n.spinning[data-v-1063ac62] {\n  animation: spin-1063ac62 1s linear infinite;\n}\n@keyframes spin-1063ac62 {\nfrom { transform: rotate(0deg);\n}\nto { transform: rotate(360deg);\n}\n}\n`,""]);const u=m},9333:(e,n,t)=&gt;{t.d(n,{Em:()=&gt;r,OW:()=&gt;m,Qc:()=&gt;d,Sj:()=&gt;p,Uy:()=&gt;c,w2:()=&gt;l,xJ:()=&gt;s,yZ:()=&gt;i});var a=t(4270);const o="http://127.0.0.1:12345";async function r(e,n={}){const t=localStorage.getItem("access_token"),r=new Headers(n.headers||{});t&amp;&amp;r.append("Authorization",`Bearer ${t}`),!n.body||n.body instanceof FormData||r.has("Content-Type")||r.append("Content-Type","application/json");const l={...n,headers:r};try{const n=`${o}${e}`;console.log(`[Request] å‘èµ·è¯·æ±‚: ${l.method||"GET"} ${n}`);const t=await fetch(n,l);if(204===t.status)return console.log(`[Request] æ”¶åˆ° 204 No Content å“åº” from ${n}`),null;const r=await t.text();if(!t.ok){console.error(`[Request] è¯·æ±‚å¤±è´¥! Status: ${t.status} ${t.statusText} from ${n}`),console.error("[Request] åŸå§‹å“åº”ä½“:",r);let e=`æœåŠ¡å™¨é”™è¯¯ ${t.status}`;try{const n=JSON.parse(r);e=n.detail||JSON.stringify(n)}catch(n){e=r.substring(0,100)||"æ— æ³•è§£ææœåŠ¡å™¨å“åº”ã€‚"}throw a.o.error(e),new Error(e)}try{return JSON.parse(r)}catch(e){throw console.error(`[Request] JSON è§£æå¤±è´¥ from ${n}. åŸå§‹å“åº”ä½“:`,r),new Error("è§£ææœåŠ¡å™¨å“åº”å¤±è´¥ï¼Œè¿”å›çš„ä¸æ˜¯æœ‰æ•ˆçš„JSONæ ¼å¼ã€‚")}}catch(n){console.error(`[Request] ç½‘ç»œå±‚æˆ–æœªçŸ¥é”™è¯¯ for url: ${e}`,n);const t=n instanceof Error?n.message:"ç½‘ç»œè¿æ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥å¤©ç½‘çµè„‰ã€‚";throw t.includes("æœåŠ¡å™¨é”™è¯¯")||a.o.error(t),n}}async function l(){try{const e=await r.get("/api/v1/worlds/");return console.log("[API] æˆåŠŸè·å–ä¸–ç•Œåˆ—è¡¨:",e),e||[]}catch(e){return console.error("[API] è·å–ä¸–ç•Œåˆ—è¡¨å¤±è´¥:",e),a.o.error("è·å–ä¸–ç•Œåˆ—è¡¨å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œæˆ–è”ç³»ç®¡ç†å‘˜ã€‚"),[]}}async function i(){try{const e=await r.get("/api/v1/talent_tiers/");return console.log("[API] æˆåŠŸè·å–å¤©èµ„ç­‰çº§åˆ—è¡¨:",e),e||[]}catch(e){return console.error("[API] è·å–å¤©èµ„ç­‰çº§å¤±è´¥:",e),a.o.error("è·å–å¤©èµ„ç­‰çº§å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œæˆ–è”ç³»ç®¡ç†å‘˜ã€‚"),[]}}async function c(){try{const e=await r.get("/api/v1/origins/");return console.log("[API] æˆåŠŸè·å–å‡ºèº«åˆ—è¡¨:",e),e||[]}catch(e){return console.error("[API] è·å–å‡ºèº«åˆ—è¡¨å¤±è´¥:",e),a.o.error("è·å–å‡ºèº«åˆ—è¡¨å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œæˆ–è”ç³»ç®¡ç†å‘˜ã€‚"),[]}}async function s(){try{const e=await r.get("/api/v1/spirit_roots/");return console.log("[API] æˆåŠŸè·å–çµæ ¹åˆ—è¡¨:",e),e||[]}catch(e){return console.error("[API] è·å–çµæ ¹åˆ—è¡¨å¤±è´¥:",e),a.o.error("è·å–çµæ ¹åˆ—è¡¨å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œæˆ–è”ç³»ç®¡ç†å‘˜ã€‚"),[]}}async function d(){try{const e=await r.get("/api/v1/talents/");console.log("[API] æˆåŠŸè·å–å¤©èµ‹åˆ—è¡¨:",e);const n=(e||[]).map(e=&gt;({...e,tier_id:e.tier?.id||null}));return console.log("[API] å¤©èµ‹æ•°æ®è½¬æ¢å®Œæˆï¼Œç¤ºä¾‹:",n.slice(0,2)),n}catch(e){return console.error("[API] è·å–å¤©èµ‹åˆ—è¡¨å¤±è´¥:",e),a.o.error("è·å–å¤©èµ‹åˆ—è¡¨å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œæˆ–è”ç³»ç®¡ç†å‘˜ã€‚"),[]}}async function m(e){try{console.log("[API] æ­£åœ¨å‘åç«¯æäº¤è§’è‰²åˆ›å»ºä¿¡æ¯:",e);const n=await r.post("/api/v1/characters/create",e);return console.log("[API] è§’è‰²åˆ›å»ºæˆåŠŸï¼Œåç«¯è¿”å›:",n),n}catch(e){throw console.error("[API] è§’è‰²åˆ›å»ºå¤±è´¥:",e),a.o.error("è§’è‰²åˆ›å»ºå¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œæˆ–è”ç³»ç®¡ç†å‘˜ã€‚"),e}}async function p(e,n){try{console.log("[API] æ­£åœ¨å‘äº‘ç«¯åŒæ­¥å­˜æ¡£æ•°æ®:",{charId:e,saveData:n});const t=await r.put(`/api/v1/characters/${e}/save`,n);return console.log("[API] å­˜æ¡£åŒæ­¥æˆåŠŸï¼Œåç«¯è¿”å›:",t),t}catch(e){throw console.error("[API] å­˜æ¡£åŒæ­¥å¤±è´¥:",e),a.o.error("å­˜æ¡£åŒæ­¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œæˆ–è”ç³»ç®¡ç†å‘˜ã€‚"),e}}r.get=(e,n={})=&gt;r(e,{...n,method:"GET"}),r.post=(e,n,t={})=&gt;r(e,{...t,method:"POST",body:n?JSON.stringify(n):void 0}),r.put=(e,n,t={})=&gt;r(e,{...t,method:"PUT",body:n?JSON.stringify(n):void 0}),r.delete=(e,n={})=&gt;r(e,{...n,method:"DELETE"})},9336:(e,n,t)=&gt;{t.d(n,{A:()=&gt;i});var a=t(1601),o=t.n(a),r=t(6314),l=t.n(r)()(o());l.push([e.id,"\n.state-change-overlay[data-v-43a3a720] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n  backdrop-filter: blur(4px);\n}\n.state-change-viewer[data-v-43a3a720] {\n  width: 90%;\n  max-width: 500px;\n  max-height: 80vh;\n  background-color: var(--color-surface);\n  border-radius: 16px;\n  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);\n  display: flex;\n  flex-direction: column;\n  border: 1px solid var(--color-border);\n  animation: modal-fade-in-43a3a720 0.3s ease-out;\n}\n@keyframes modal-fade-in-43a3a720 {\nfrom {\n    opacity: 0;\n    transform: scale(0.95);\n}\nto {\n    opacity: 1;\n    transform: scale(1);\n}\n}\n.viewer-header[data-v-43a3a720] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0.75rem 1.25rem;\n  border-bottom: 1px solid var(--color-border);\n  flex-shrink: 0;\n}\n.viewer-header h3[data-v-43a3a720] {\n  margin: 0;\n  font-size: 1rem;\n  font-weight: 600;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n.close-btn[data-v-43a3a720] {\n  background: none;\n  border: none;\n  cursor: pointer;\n  color: var(--color-text-secondary);\n  padding: 0.25rem;\n  border-radius: 50%;\n  transition: all 0.2s ease;\n}\n.close-btn[data-v-43a3a720]:hover {\n  background-color: var(--color-surface-hover);\n  color: var(--color-text);\n}\n.viewer-summary[data-v-43a3a720] {\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  padding: 0.75rem 1rem;\n  background: var(--color-surface-light);\n  border-bottom: 1px solid var(--color-border);\n  flex-shrink: 0;\n}\n.summary-item[data-v-43a3a720] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  font-size: 0.9rem;\n  font-weight: 500;\n}\n.summary-item.added[data-v-43a3a720] { color: var(--color-success);\n}\n.summary-item.removed[data-v-43a3a720] { color: var(--color-error);\n}\n.summary-item.updated[data-v-43a3a720] { color: var(--color-info);\n}\n.viewer-content[data-v-43a3a720] {\n  overflow-y: auto;\n  padding: 1rem 1.25rem;\n  scrollbar-width: thin;\n  scrollbar-color: var(--color-border) transparent;\n}\n.viewer-content[data-v-43a3a720]::-webkit-scrollbar { width: 6px;\n}\n.viewer-content[data-v-43a3a720]::-webkit-scrollbar-thumb {\n  background: var(--color-border);\n  border-radius: 3px;\n}\n.no-changes[data-v-43a3a720] {\n  text-align: center;\n  padding: 2rem;\n  color: var(--color-text-secondary);\n}\n.changes-list[data-v-43a3a720] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n}\n.change-item[data-v-43a3a720] {\n  display: flex;\n  align-items: flex-start;\n  gap: 1rem;\n  padding: 1rem;\n  border-radius: 10px;\n  border-left: 4px solid;\n  background: var(--color-surface-light);\n  transition: all 0.2s ease;\n}\n.change-item[data-v-43a3a720]:hover {\n  transform: translateY(-1px);\n  box-shadow: 0 2px 8px rgba(0,0,0,0.05);\n}\n.item-green[data-v-43a3a720] { border-color: var(--color-success);\n}\n.item-red[data-v-43a3a720] { border-color: var(--color-error);\n}\n.item-blue[data-v-43a3a720] { border-color: var(--color-info);\n}\n.item-gray[data-v-43a3a720] { border-color: var(--color-text-secondary);\n}\n.item-icon[data-v-43a3a720] {\n  flex-shrink: 0;\n  width: 2rem;\n  height: 2rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 50%;\n  color: white;\n}\n.item-green .item-icon[data-v-43a3a720] { background: var(--color-success);\n}\n.item-red .item-icon[data-v-43a3a720] { background: var(--color-error);\n}\n.item-blue .item-icon[data-v-43a3a720] { background: var(--color-info);\n}\n.item-gray .item-icon[data-v-43a3a720] { background: var(--color-text-secondary);\n}\n.item-content[data-v-43a3a720] { flex: 1;\n}\n.item-title[data-v-43a3a720] {\n  margin: 0 0 0.25rem 0;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.item-description[data-v-43a3a720] {\n  margin: 0;\n  font-size: 0.9rem;\n  color: var(--color-text-secondary);\n  white-space: pre-wrap;\n  word-break: break-all;\n}\n",""]);const i=l},9376:(e,n,t)=&gt;{t.d(n,{A:()=&gt;i});var a=t(1601),o=t.n(a),r=t(6314),l=t.n(r)()(o());l.push([e.id,"\n.error-boundary[data-v-31d28cfa] {\n  width: 100%;\n  height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: var(--color-background);\n  padding: 2rem;\n}\n.error-container[data-v-31d28cfa] {\n  max-width: 600px;\n  width: 100%;\n  background: var(--color-surface);\n  border: 2px solid var(--color-error);\n  border-radius: 12px;\n  padding: 2rem;\n  text-align: center;\n}\n.error-icon[data-v-31d28cfa] {\n  font-size: 4rem;\n  margin-bottom: 1rem;\n}\n.error-container h2[data-v-31d28cfa] {\n  color: var(--color-error);\n  margin: 0 0 1rem 0;\n  font-size: 1.8rem;\n}\n.error-message[data-v-31d28cfa] {\n  color: var(--color-text);\n  margin: 0 0 1.5rem 0;\n  font-size: 1rem;\n  line-height: 1.6;\n}\n.error-details[data-v-31d28cfa] {\n  background: var(--color-background);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  padding: 1rem;\n  margin-bottom: 1.5rem;\n  text-align: left;\n  max-height: 300px;\n  overflow-y: auto;\n}\n.error-details pre[data-v-31d28cfa] {\n  margin: 0;\n  font-size: 0.85rem;\n  color: var(--color-text-secondary);\n  white-space: pre-wrap;\n  word-wrap: break-word;\n}\n.error-actions[data-v-31d28cfa] {\n  display: flex;\n  gap: 1rem;\n  justify-content: center;\n  flex-wrap: wrap;\n}\n.btn-retry[data-v-31d28cfa],\n.btn-back[data-v-31d28cfa],\n.btn-details[data-v-31d28cfa] {\n  padding: 0.75rem 1.5rem;\n  border-radius: 8px;\n  font-size: 1rem;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s;\n  border: none;\n}\n.btn-retry[data-v-31d28cfa] {\n  background: var(--color-primary);\n  color: white;\n}\n.btn-retry[data-v-31d28cfa]:hover {\n  background: var(--color-primary-dark);\n  transform: translateY(-2px);\n}\n.btn-back[data-v-31d28cfa] {\n  background: var(--color-surface);\n  color: var(--color-text);\n  border: 1px solid var(--color-border);\n}\n.btn-back[data-v-31d28cfa]:hover {\n  background: var(--color-background);\n}\n.btn-details[data-v-31d28cfa] {\n  background: var(--color-info);\n  color: white;\n}\n.btn-details[data-v-31d28cfa]:hover {\n  background: var(--color-info-dark);\n}\n@media (max-width: 640px) {\n.error-boundary[data-v-31d28cfa] {\n    padding: 1rem;\n}\n.error-container[data-v-31d28cfa] {\n    padding: 1.5rem;\n}\n.error-container h2[data-v-31d28cfa] {\n    font-size: 1.5rem;\n}\n.error-actions[data-v-31d28cfa] {\n    flex-direction: column;\n}\n.btn-retry[data-v-31d28cfa],\n  .btn-back[data-v-31d28cfa],\n  .btn-details[data-v-31d28cfa] {\n    width: 100%;\n}\n}\n",""]);const i=l},9477:(e,n,t)=&gt;{t.d(n,{A:()=&gt;i});var a=t(1601),o=t.n(a),r=t(6314),l=t.n(r)()(o());l.push([e.id,"\n.raw-data-container[data-v-1a2c11e6] {\n  background-color: var(--color-background);\n  border: 1px solid var(--color-border);\n  border-radius: 4px;\n  padding: 1rem;\n  max-height: 600px;\n  overflow-y: auto;\n  font-size: 0.8rem;\n}\n.raw-data-container pre[data-v-1a2c11e6] {\n  white-space: pre-wrap;\n  word-break: break-all;\n  margin: 0;\n}\n.spirit-stones-grid[data-v-1a2c11e6] {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));\n  gap: 0.75rem;\n}\n.spirit-stone-item[data-v-1a2c11e6] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0.5rem;\n  background: var(--color-surface);\n  border-radius: 4px;\n  border: 1px solid var(--color-border);\n  font-size: 0.85rem;\n}\n.spirit-stone-item span[data-v-1a2c11e6]:first-child {\n  color: var(--color-text-secondary);\n}\n.spirit-stone-item span[data-v-1a2c11e6]:last-child {\n  font-weight: 600;\n  color: var(--color-primary);\n}\n.relationship-network-panel[data-v-1a2c11e6] {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  background: var(--color-background);\n}\n.panel-content[data-v-1a2c11e6] {\n  flex: 1;\n  overflow: hidden;\n}\n.relationships-container[data-v-1a2c11e6] {\n  height: 100%;\n  display: flex;\n  background: var(--color-surface);\n  overflow: hidden;\n}\n.relationship-list[data-v-1a2c11e6] {\n  width: 280px; /* çª„ä¸€ç‚¹ */\n  border-right: 1px solid var(--color-border);\n  display: flex;\n  flex-direction: column;\n}\n.list-header[data-v-1a2c11e6] {\n  padding: 1rem;\n  border-bottom: 1px solid var(--color-border);\n}\n.panel-title[data-v-1a2c11e6] {\n  margin: 0 0 1rem 0;\n  font-size: 1.25rem;\n  font-weight: 700;\n  color: var(--color-primary);\n  text-align: center;\n}\n.search-bar[data-v-1a2c11e6] {\n  position: relative;\n  display: flex;\n  align-items: center;\n  background: var(--color-background);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  padding: 0.5rem;\n}\n.search-bar svg[data-v-1a2c11e6] {\n  color: var(--color-text-secondary);\n  margin-right: 0.5rem;\n}\n.search-input[data-v-1a2c11e6] {\n  flex: 1;\n  border: none;\n  outline: none;\n  background: transparent;\n  color: var(--color-text);\n  font-size: 0.875rem;\n}\n.list-content[data-v-1a2c11e6] {\n  flex: 1;\n  overflow-y: auto;\n  padding: 0.5rem;\n}\n.loading-state[data-v-1a2c11e6], .empty-state[data-v-1a2c11e6] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 200px;\n  text-align: center;\n  color: var(--color-text-secondary);\n}\n.empty-icon[data-v-1a2c11e6] {\n  opacity: 0.5;\n  margin-bottom: 1rem;\n}\n.empty-text[data-v-1a2c11e6] {\n  font-weight: 600;\n  margin-bottom: 0.5rem;\n}\n.empty-hint[data-v-1a2c11e6] {\n  font-size: 0.8rem;\n  opacity: 0.8;\n}\n.person-list[data-v-1a2c11e6] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n.person-card[data-v-1a2c11e6] {\n  display: flex;\n  align-items: center;\n  padding: 0.75rem; /* æ›´ç´§å‡‘ */\n  background: var(--color-background);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n.person-card[data-v-1a2c11e6]:hover {\n  border-color: var(--color-primary);\n  box-shadow: 0 2px 8px rgba(59, 130, 246, 0.1);\n  transform: translateY(-1px);\n}\n.person-card.selected[data-v-1a2c11e6] {\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(147, 51, 234, 0.1));\n  border-color: var(--color-primary);\n  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.15);\n}\n.person-avatar[data-v-1a2c11e6] {\n  width: 48px;\n  height: 48px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-weight: 600;\n  color: white;\n  margin-right: 0.75rem;\n  flex-shrink: 0;\n  background: linear-gradient(135deg, #3b82f6, #8b5cf6);\n  box-shadow: 0 2px 8px rgba(59, 130, 246, 0.3);\n}\n.avatar-text[data-v-1a2c11e6] {\n  font-size: 1.2rem;\n}\n.person-info[data-v-1a2c11e6] {\n  flex: 1;\n  min-width: 0;\n}\n.person-name[data-v-1a2c11e6] {\n  font-weight: 600;\n  color: var(--color-text);\n  margin-bottom: 0.5rem;\n  font-size: 1rem;\n}\n.person-meta[data-v-1a2c11e6] {\n  margin-bottom: 0.5rem;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: 0.5rem;\n}\n.relationship-type[data-v-1a2c11e6] {\n  background: rgba(59, 130, 246, 0.1);\n  color: var(--color-primary);\n  padding: 2px 8px;\n  border-radius: 12px;\n  font-size: 0.75rem;\n  font-weight: 500;\n}\n.attention-toggle[data-v-1a2c11e6] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 24px;\n  height: 24px;\n  border-radius: 50%;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  background: rgba(156, 163, 175, 0.1);\n  border: 1px solid rgba(156, 163, 175, 0.2);\n  padding: 0;\n  outline: none;\n}\n.attention-toggle[data-v-1a2c11e6]:hover {\n  background: rgba(59, 130, 246, 0.1);\n  border-color: rgba(59, 130, 246, 0.3);\n  transform: scale(1.1);\n}\n.attention-icon[data-v-1a2c11e6] {\n  transition: all 0.2s ease;\n}\n.attention-icon.active[data-v-1a2c11e6] {\n  color: #22c55e;\n}\n.attention-icon.inactive[data-v-1a2c11e6] {\n  color: #9ca3af;\n}\n.attention-toggle:hover .attention-icon.inactive[data-v-1a2c11e6] {\n  color: #3b82f6;\n}\n.attention-toggle:hover .attention-icon.active[data-v-1a2c11e6] {\n  color: #16a34a;\n}\n.person-realm[data-v-1a2c11e6] {\n  margin-bottom: 0.5rem;\n  font-size: 0.8rem;\n  color: var(--color-text-secondary);\n}\n.person-realm .realm-label[data-v-1a2c11e6] {\n  margin-right: 0.25rem;\n}\n.person-realm .realm-value[data-v-1a2c11e6] {\n  color: var(--color-primary);\n  font-weight: 600;\n}\n.intimacy-info[data-v-1a2c11e6] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n.intimacy-bar[data-v-1a2c11e6] {\n  flex: 1;\n  height: 4px;\n  background: rgba(59, 130, 246, 0.1);\n  border-radius: 2px;\n  overflow: hidden;\n}\n.intimacy-fill[data-v-1a2c11e6] {\n  height: 100%;\n  border-radius: 2px;\n  transition: width 0.3s ease;\n}\n.intimacy-high[data-v-1a2c11e6] { background: linear-gradient(90deg, #22c55e, #16a34a);\n}\n.intimacy-good[data-v-1a2c11e6] { background: linear-gradient(90deg, #3b82f6, #1d4ed8);\n}\n.intimacy-medium[data-v-1a2c11e6] { background: linear-gradient(90deg, #8b5cf6, #7c3aed);\n}\n.intimacy-low[data-v-1a2c11e6] { background: linear-gradient(90deg, #f59e0b, #d97706);\n}\n.intimacy-neutral[data-v-1a2c11e6] { background: linear-gradient(90deg, #6b7280, #4b5563);\n}\n.intimacy-dislike[data-v-1a2c11e6] { background: linear-gradient(90deg, #f97316, #ea580c);\n}\n.intimacy-hostile[data-v-1a2c11e6] { background: linear-gradient(90deg, #dc2626, #b91c1c);\n}\n.intimacy-enemy[data-v-1a2c11e6] { background: linear-gradient(90deg, #ef4444, #dc2626);\n}\n.intimacy-value[data-v-1a2c11e6] {\n  font-size: 0.75rem;\n  font-weight: 600;\n  color: var(--color-text-secondary);\n  min-width: 30px;\n  text-align: right;\n}\n.arrow-icon[data-v-1a2c11e6] {\n  color: var(--color-border-hover);\n  transition: transform 0.2s;\n}\n.person-card.selected .arrow-icon[data-v-1a2c11e6] {\n  transform: rotate(90deg);\n  color: var(--color-primary);\n}\n.relationship-detail[data-v-1a2c11e6] {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  min-width: 0; /* å…³é”®ä¿®å¤ï¼šå…è®¸flexé¡¹æ”¶ç¼©ï¼Œé˜²æ­¢å†…å®¹æº¢å‡º */\n  overflow: hidden; /* éšè—æ‰€æœ‰æº¢å‡ºï¼Œæ»šåŠ¨ç”±å­å…ƒç´ å¤„ç† */\n}\n.detail-header[data-v-1a2c11e6] {\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n  padding: 1rem;\n  border-bottom: 1px solid var(--color-border);\n  flex-shrink: 0;\n}\n.detail-avatar[data-v-1a2c11e6] {\n  width: 64px;\n  height: 64px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-weight: 600;\n  color: white;\n  font-size: 1.5rem;\n  background: linear-gradient(135deg, #3b82f6, #8b5cf6);\n  flex-shrink: 0;\n  box-shadow: 0 4px 16px rgba(59, 130, 246, 0.3);\n}\n.detail-info[data-v-1a2c11e6] {\n  flex: 1;\n  min-width: 0; /* å…è®¸flexé¡¹æ”¶ç¼©ï¼Œé˜²æ­¢é•¿åç§°æ’‘å¼€å®¹å™¨ */\n}\n.detail-name[data-v-1a2c11e6] {\n  margin: 0 0 0.5rem 0;\n  font-size: 1.25rem;\n  font-weight: 700;\n  color: var(--color-text);\n  word-break: break-all; /* å¼ºåˆ¶é•¿åç§°æ¢è¡Œ */\n}\n.detail-badges[data-v-1a2c11e6] {\n  display: flex;\n  gap: 0.5rem;\n  flex-wrap: wrap;\n}\n.relationship-badge[data-v-1a2c11e6], .intimacy-badge[data-v-1a2c11e6], .race-badge[data-v-1a2c11e6], .faction-badge[data-v-1a2c11e6] {\n  padding: 0.25rem 0.5rem;\n  border-radius: 12px;\n  font-size: 0.75rem;\n  font-weight: 500;\n}\n.relationship-badge[data-v-1a2c11e6] {\n  background: rgba(59, 130, 246, 0.1);\n  color: var(--color-primary);\n}\n.race-badge[data-v-1a2c11e6] {\n  background: rgba(34, 197, 94, 0.1);\n  color: #22c55e;\n  border: 1px solid rgba(34, 197, 94, 0.3);\n}\n.faction-badge[data-v-1a2c11e6] {\n  background: rgba(168, 85, 247, 0.1);\n  color: #a855f7;\n  border: 1px solid rgba(168, 85, 247, 0.3);\n}\n.detail-body[data-v-1a2c11e6] {\n  display: flex;\n  flex-direction: column;\n  gap: 1.5rem;\n  flex: 1; /* å æ®å‰©ä½™ç©ºé—´ */\n  min-height: 0; /* å…è®¸æ”¶ç¼© */\n  overflow-y: auto; /* å†…å®¹æº¢å‡ºæ—¶æ»šåŠ¨ */\n  padding: 1rem;\n}\n.tab-content[data-v-1a2c11e6] {\n  animation: fadeIn-1a2c11e6 0.3s ease;\n}\n@keyframes fadeIn-1a2c11e6 {\nfrom { opacity: 0; transform: translateY(10px);\n}\nto { opacity: 1; transform: translateY(0);\n}\n}\n.empty-state-small[data-v-1a2c11e6] {\n  padding: 2rem;\n  text-align: center;\n  color: var(--color-text-secondary);\n  font-style: italic;\n}\n.detail-section[data-v-1a2c11e6] {\n  background: var(--color-background);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  padding: 1rem;\n}\n.section-title[data-v-1a2c11e6] {\n  margin: 0 0 1rem 0;\n  font-size: 0.9rem;\n  font-weight: 600;\n  color: var(--color-text);\n  padding-bottom: 0.5rem;\n  border-bottom: 1px solid var(--color-border);\n}\n.info-grid[data-v-1a2c11e6] {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));\n  gap: 1rem;\n}\n.info-grid-2col[data-v-1a2c11e6] {\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  gap: 1rem;\n}\n.info-item[data-v-1a2c11e6] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n}\n.info-label[data-v-1a2c11e6] {\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n  font-weight: 500;\n}\n.info-value[data-v-1a2c11e6] {\n  font-size: 0.875rem;\n  color: var(--color-text);\n  font-weight: 600;\n}\n.memory-list[data-v-1a2c11e6] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n  margin-top: 1rem;\n}\n.memory-header[data-v-1a2c11e6] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  gap: 1rem;\n}\n.memory-actions-header[data-v-1a2c11e6] {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n}\n.memory-count[data-v-1a2c11e6] {\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n  background: rgba(59, 130, 246, 0.1);\n  padding: 0.25rem 0.5rem;\n  border-radius: 12px;\n  font-weight: 500;\n}\n.summarize-controls[data-v-1a2c11e6] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n.summarize-input[data-v-1a2c11e6] {\n  width: 60px;\n  padding: 0.375rem 0.5rem;\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  background: var(--color-background);\n  color: var(--color-text);\n  font-size: 0.75rem;\n  text-align: center;\n  transition: all 0.2s ease;\n}\n.summarize-input[data-v-1a2c11e6]:focus {\n  outline: none;\n  border-color: #8b5cf6;\n  box-shadow: 0 0 0 2px rgba(139, 92, 246, 0.1);\n}\n.summarize-btn[data-v-1a2c11e6] {\n  display: flex;\n  align-items: center;\n  gap: 0.25rem;\n  background: linear-gradient(135deg, #8b5cf6, #7c3aed);\n  color: white;\n  border: none;\n  padding: 0.375rem 0.75rem;\n  border-radius: 6px;\n  font-size: 0.75rem;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  white-space: nowrap;\n}\n.summarize-btn[data-v-1a2c11e6]:hover:not(:disabled) {\n  background: linear-gradient(135deg, #7c3aed, #6d28d9);\n  transform: translateY(-1px);\n  box-shadow: 0 2px 8px rgba(139, 92, 246, 0.3);\n}\n.summarize-btn[data-v-1a2c11e6]:disabled {\n  opacity: 0.6;\n  cursor: not-allowed;\n  transform: none;\n}\n.memory-summary-list[data-v-1a2c11e6] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n  margin-bottom: 1rem;\n}\n.memory-summary-item[data-v-1a2c11e6] {\n  display: flex;\n  gap: 0.75rem;\n  padding: 0.75rem;\n  background: linear-gradient(135deg, rgba(139, 92, 246, 0.05), rgba(124, 58, 237, 0.05));\n  border-radius: 8px;\n  border-left: 3px solid #8b5cf6;\n}\n.summary-icon[data-v-1a2c11e6] {\n  font-size: 1.25rem;\n  flex-shrink: 0;\n}\n.summary-text[data-v-1a2c11e6] {\n  flex: 1;\n  font-size: 0.85rem;\n  line-height: 1.6;\n  color: var(--color-text);\n}\n.memory-pagination[data-v-1a2c11e6] {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 1rem;\n  padding-top: 0.75rem;\n  border-top: 1px solid var(--color-border);\n  margin-top: 1rem;\n}\n.pagination-btn[data-v-1a2c11e6] {\n  background: var(--color-background);\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  padding: 0.5rem 1rem;\n  color: var(--color-text);\n  cursor: pointer;\n  font-size: 0.8rem;\n  font-weight: 500;\n  transition: all 0.2s ease;\n}\n.pagination-btn[data-v-1a2c11e6]:hover:not(:disabled) {\n  background: var(--color-surface);\n  border-color: var(--color-primary);\n  color: var(--color-primary);\n}\n.pagination-btn[data-v-1a2c11e6]:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n.pagination-info[data-v-1a2c11e6] {\n  font-size: 0.8rem;\n  color: var(--color-text-secondary);\n  font-weight: 500;\n  min-width: 60px;\n  text-align: center;\n}\n.memory-item[data-v-1a2c11e6] {\n  display: flex;\n  align-items: flex-start;\n  gap: 8px;\n  padding: 0.75rem;\n  background: var(--color-surface);\n  border-radius: 6px;\n  border-left: 3px solid var(--color-primary);\n  font-size: 0.85rem;\n  line-height: 1.4;\n  color: var(--color-text-secondary);\n}\n.memory-content[data-v-1a2c11e6] {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n}\n.memory-time[data-v-1a2c11e6] {\n  font-size: 0.75rem;\n  color: var(--color-primary);\n  font-weight: 600;\n  opacity: 0.8;\n}\n.memory-event[data-v-1a2c11e6] {\n  color: var(--color-text-secondary);\n  font-size: 0.85rem;\n  line-height: 1.5;\n}\n.memory-actions[data-v-1a2c11e6] { display: flex; gap: 6px;\n}\n.memory-btn[data-v-1a2c11e6] {\n  padding: 4px 8px;\n  border: 1px solid var(--color-border);\n  border-radius: 4px;\n  font-size: 12px;\n  cursor: pointer;\n  background: var(--color-background);\n}\n.memory-btn.edit[data-v-1a2c11e6] { color: #2563eb; border-color: #bfdbfe;\n}\n.memory-btn.delete[data-v-1a2c11e6] { color: #dc2626; border-color: #fecaca;\n}\n\n/* ç®€åŒ–ï¼šå¤–è²Œæè¿°æ ·å¼ */\n.appearance-description[data-v-1a2c11e6] {\n  padding: 1rem;\n  background: rgba(147, 51, 234, 0.05);\n  border-radius: 8px;\n  border-left: 3px solid #9333ea;\n}\n.description-text[data-v-1a2c11e6] {\n  font-size: 0.875rem;\n  line-height: 1.6;\n  color: var(--color-text);\n  margin: 0;\n  font-style: italic;\n}\n.subsection-title[data-v-1a2c11e6] {\n  margin: 0 0 0.75rem 0;\n  font-size: 0.85rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.talents-grid[data-v-1a2c11e6] {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 0.5rem;\n}\n.talent-tag[data-v-1a2c11e6] {\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(37, 99, 235, 0.1));\n  color: #3b82f6;\n  padding: 0.25rem 0.5rem;\n  border-radius: 6px;\n  font-size: 0.75rem;\n  font-weight: 500;\n  border: 1px solid rgba(59, 130, 246, 0.2);\n}\n.attributes-grid[data-v-1a2c11e6] {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));\n  gap: 0.75rem;\n}\n.attribute-item[data-v-1a2c11e6] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 0.5rem;\n  background: var(--color-surface);\n  border-radius: 6px;\n  border: 1px solid var(--color-border);\n}\n.attr-label[data-v-1a2c11e6] {\n  font-size: 0.7rem;\n  color: var(--color-text-secondary);\n  margin-bottom: 0.25rem;\n  font-weight: 500;\n}\n.attr-value[data-v-1a2c11e6] {\n  font-size: 1rem;\n  font-weight: 700;\n  color: var(--color-primary);\n}\n\n/* NPCç‰©å“æ ·å¼ */\n.npc-inventory[data-v-1a2c11e6] {\n  margin-top: 0.75rem;\n}\n.npc-items-grid[data-v-1a2c11e6] {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\n  gap: 0.75rem;\n}\n.npc-item-card[data-v-1a2c11e6] {\n  background: var(--color-background);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  padding: 0.75rem;\n  transition: all 0.2s ease;\n}\n.npc-item-card[data-v-1a2c11e6]:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n}\n.npc-item-card.quality-å‡¡[data-v-1a2c11e6] {\n  border-left: 3px solid #6b7280;\n}\n.npc-item-card.quality-é»„[data-v-1a2c11e6] {\n  border-left: 3px solid #f59e0b;\n}\n.npc-item-card.quality-ç„[data-v-1a2c11e6] {\n  border-left: 3px solid #8b5cf6;\n}\n.npc-item-card.quality-åœ°[data-v-1a2c11e6] {\n  border-left: 3px solid #06b6d4;\n}\n.npc-item-card.quality-å¤©[data-v-1a2c11e6] {\n  border-left: 3px solid #ec4899;\n}\n.npc-item-card.quality-ä»™[data-v-1a2c11e6] {\n  border-left: 3px solid #f59e0b;\n  box-shadow: 0 0 10px rgba(245, 158, 11, 0.3);\n}\n.npc-item-card.quality-ç¥[data-v-1a2c11e6] {\n  border-left: 3px solid #9333ea;\n  box-shadow: 0 0 15px rgba(147, 51, 234, 0.4);\n}\n.item-header[data-v-1a2c11e6] {\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  margin-bottom: 0.5rem;\n}\n.item-name[data-v-1a2c11e6] {\n  font-weight: 600;\n  color: var(--color-text);\n  font-size: 0.9rem;\n}\n.item-type[data-v-1a2c11e6] {\n  background: var(--color-surface);\n  color: var(--color-text-secondary);\n  padding: 0.125rem 0.375rem;\n  border-radius: 4px;\n  font-size: 0.7rem;\n  font-weight: 500;\n}\n.item-quality[data-v-1a2c11e6] {\n  margin-bottom: 0.5rem;\n}\n.quality-text[data-v-1a2c11e6] {\n  font-size: 0.75rem;\n  font-weight: 500;\n  color: var(--color-text-secondary);\n}\n.item-quantity[data-v-1a2c11e6] {\n  text-align: right;\n  margin-bottom: 0.5rem;\n  font-size: 0.8rem;\n  /* ä½¿ç”¨ä¸»é¢˜ä¸»è‰²ï¼Œå¢å¼ºä¸å¡ç‰‡èƒŒæ™¯çš„å¯¹æ¯”åº¦ */\n  color: var(--color-primary);\n  font-weight: 700;\n}\n.item-description[data-v-1a2c11e6] {\n  margin-bottom: 0.75rem;\n}\n.item-description p[data-v-1a2c11e6] {\n  margin: 0;\n  font-size: 0.8rem;\n  color: var(--color-text-secondary);\n  line-height: 1.4;\n}\n.item-actions[data-v-1a2c11e6] {\n  display: flex;\n  justify-content: flex-end;\n  gap: 0.5rem;\n  flex-wrap: wrap;\n}\n.trade-btn[data-v-1a2c11e6] {\n  display: flex;\n  align-items: center;\n  gap: 0.25rem;\n  background: linear-gradient(135deg, #059669, #047857);\n  color: white;\n  border: none;\n  padding: 0.375rem 0.75rem;\n  border-radius: 6px;\n  font-size: 0.75rem;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n.trade-btn[data-v-1a2c11e6]:hover {\n  background: linear-gradient(135deg, #047857, #065f46);\n  transform: translateY(-1px);\n  box-shadow: 0 2px 8px rgba(5, 150, 105, 0.3);\n}\n.trade-btn[data-v-1a2c11e6]:active {\n  transform: translateY(0);\n}\n.request-btn[data-v-1a2c11e6] {\n  display: flex;\n  align-items: center;\n  gap: 0.25rem;\n  background: linear-gradient(135deg, #3b82f6, #2563eb);\n  color: white;\n  border: none;\n  padding: 0.375rem 0.75rem;\n  border-radius: 6px;\n  font-size: 0.75rem;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n.request-btn[data-v-1a2c11e6]:hover {\n  background: linear-gradient(135deg, #2563eb, #1d4ed8);\n  transform: translateY(-1px);\n  box-shadow: 0 2px 8px rgba(59, 130, 246, 0.3);\n}\n.request-btn[data-v-1a2c11e6]:active {\n  transform: translateY(0);\n}\n.steal-btn[data-v-1a2c11e6] {\n  display: flex;\n  align-items: center;\n  gap: 0.25rem;\n  background: linear-gradient(135deg, #dc2626, #b91c1c);\n  color: white;\n  border: none;\n  padding: 0.375rem 0.75rem;\n  border-radius: 6px;\n  font-size: 0.75rem;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n.steal-btn[data-v-1a2c11e6]:hover {\n  background: linear-gradient(135deg, #b91c1c, #991b1b);\n  transform: translateY(-1px);\n  box-shadow: 0 2px 8px rgba(220, 38, 38, 0.3);\n}\n.steal-btn[data-v-1a2c11e6]:active {\n  transform: translateY(0);\n}\n.empty-inventory[data-v-1a2c11e6] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 2rem;\n  text-align: center;\n  color: var(--color-text-secondary);\n}\n.empty-inventory .empty-icon[data-v-1a2c11e6] {\n  margin-bottom: 0.75rem;\n  opacity: 0.5;\n}\n.no-selection[data-v-1a2c11e6] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  text-align: center;\n  color: var(--color-text-secondary);\n}\n.placeholder-icon[data-v-1a2c11e6] {\n  opacity: 0.5;\n  margin-bottom: 1rem;\n}\n.placeholder-text[data-v-1a2c11e6] {\n  font-size: 1rem;\n  font-weight: 600;\n  margin-bottom: 0.5rem;\n}\n.placeholder-hint[data-v-1a2c11e6] {\n  font-size: 0.85rem;\n  opacity: 0.8;\n}\n.animate-spin[data-v-1a2c11e6] {\n  animation: spin-1a2c11e6 1s linear infinite;\n}\n@keyframes spin-1a2c11e6 {\nfrom { transform: rotate(0deg);\n}\nto { transform: rotate(360deg);\n}\n}\n\n/* === NSFW ç§å¯†ä¿¡æ¯æ ·å¼ === */\n.nsfw-section[data-v-1a2c11e6] {\n  background: linear-gradient(135deg, rgba(236, 72, 153, 0.05), rgba(219, 39, 119, 0.05));\n  border: 2px solid rgba(236, 72, 153, 0.3);\n}\n.nsfw-subsection[data-v-1a2c11e6] {\n  margin-bottom: 1rem;\n}\n.nsfw-subsection[data-v-1a2c11e6]:last-child {\n  margin-bottom: 0;\n}\n.development-bars[data-v-1a2c11e6] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n}\n.dev-bar-item[data-v-1a2c11e6] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n}\n.dev-bar-header[data-v-1a2c11e6] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  font-size: 0.8rem;\n}\n.dev-label[data-v-1a2c11e6] {\n  color: var(--color-text);\n  font-weight: 500;\n}\n.dev-value[data-v-1a2c11e6] {\n  color: #ec4899;\n  font-weight: 700;\n  font-size: 0.75rem;\n}\n.dev-bar-track[data-v-1a2c11e6] {\n  height: 8px;\n  background: rgba(236, 72, 153, 0.1);\n  border-radius: 4px;\n  overflow: hidden;\n}\n.dev-bar-fill[data-v-1a2c11e6] {\n  height: 100%;\n  background: linear-gradient(90deg, #ec4899, #db2777);\n  border-radius: 4px;\n  transition: width 0.3s ease;\n}\n.status-badge[data-v-1a2c11e6] {\n  display: inline-block;\n  padding: 0.25rem 0.5rem;\n  border-radius: 12px;\n  font-size: 0.75rem;\n  font-weight: 600;\n}\n.status-æ­£å¸¸[data-v-1a2c11e6] {\n  background: rgba(107, 114, 128, 0.2);\n  color: #6b7280;\n}\n.status-å¾®æ¹¿[data-v-1a2c11e6] {\n  background: rgba(59, 130, 246, 0.2);\n  color: #3b82f6;\n}\n.status-å‘æƒ…[data-v-1a2c11e6] {\n  background: rgba(236, 72, 153, 0.2);\n  color: #ec4899;\n}\n.status-é«˜æ½®[data-v-1a2c11e6] {\n  background: rgba(220, 38, 38, 0.2);\n  color: #dc2626;\n}\n.status-è´¤è€…æ—¶é—´[data-v-1a2c11e6] {\n  background: rgba(139, 92, 246, 0.2);\n  color: #8b5cf6;\n}\n.fetish-tag[data-v-1a2c11e6] {\n  background: linear-gradient(135deg, rgba(236, 72, 153, 0.15), rgba(219, 39, 119, 0.15));\n  color: #ec4899;\n  padding: 0.25rem 0.5rem;\n  border-radius: 6px;\n  font-size: 0.75rem;\n  font-weight: 500;\n  border: 1px solid rgba(236, 72, 153, 0.3);\n}\n.partner-tag[data-v-1a2c11e6] {\n  background: linear-gradient(135deg, rgba(236, 72, 153, 0.12), rgba(219, 39, 119, 0.12));\n  color: #db2777;\n  padding: 0.3rem 0.6rem;\n  border-radius: 6px;\n  font-size: 0.8rem;\n  font-weight: 500;\n  border: 1px solid rgba(236, 72, 153, 0.25);\n}\n.partner-list[data-v-1a2c11e6] {\n  margin-top: 0.75rem;\n}\n.pregnancy-info[data-v-1a2c11e6] {\n  padding: 0.75rem;\n  background: var(--color-surface);\n  border-radius: 6px;\n  border: 1px solid var(--color-border);\n}\n.pregnancy-active[data-v-1a2c11e6] {\n  display: flex;\n  align-items: flex-start;\n  gap: 0.75rem;\n}\n.pregnancy-icon[data-v-1a2c11e6] {\n  font-size: 1.5rem;\n  flex-shrink: 0;\n}\n.pregnancy-details[data-v-1a2c11e6] {\n  flex: 1;\n  font-size: 0.85rem;\n  color: var(--color-text);\n  line-height: 1.6;\n}\n.pregnancy-inactive[data-v-1a2c11e6] {\n  text-align: center;\n  color: var(--color-text-secondary);\n  font-size: 0.85rem;\n}\n.first-time-info[data-v-1a2c11e6] {\n  padding: 0.75rem;\n  background: rgba(236, 72, 153, 0.05);\n  border-radius: 6px;\n  border-left: 3px solid #ec4899;\n  font-size: 0.85rem;\n  color: var(--color-text);\n}\n\n/* å®æ—¶çŠ¶æ€é«˜äº®åŒºåŸŸï¼ˆé€šç”¨ï¼‰*/\n.highlight-section[data-v-1a2c11e6] {\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.05), rgba(147, 51, 234, 0.05));\n  border-radius: 8px;\n  padding: 1rem;\n  border: 1px solid rgba(59, 130, 246, 0.15);\n}\n.realtime-status[data-v-1a2c11e6] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n}\n.status-item[data-v-1a2c11e6] {\n  display: flex;\n  align-items: flex-start;\n  gap: 0.75rem;\n  padding: 0.75rem;\n  background: var(--color-background);\n  border-radius: 6px;\n  border: 1px solid var(--color-border);\n}\n.status-icon[data-v-1a2c11e6] {\n  font-size: 1.5rem;\n  flex-shrink: 0;\n  line-height: 1;\n}\n.status-content[data-v-1a2c11e6] {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n}\n.status-label[data-v-1a2c11e6] {\n  font-size: 0.7rem;\n  color: var(--color-text-secondary);\n  font-weight: 600;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n}\n.status-text[data-v-1a2c11e6] {\n  font-size: 0.85rem;\n  color: var(--color-text);\n  line-height: 1.5;\n  font-style: italic;\n}\n.desire-fill[data-v-1a2c11e6] {\n  background: linear-gradient(90deg, #f59e0b, #dc2626);\n}\n.mini-label[data-v-1a2c11e6] {\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n  font-weight: 600;\n  margin-bottom: 0.5rem;\n}\n\n/* æ€§ç»éªŒç»Ÿè®¡ */\n.experience-grid[data-v-1a2c11e6] {\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 0.75rem;\n  margin-bottom: 0.75rem;\n}\n.exp-item[data-v-1a2c11e6] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.75rem;\n  background: var(--color-surface);\n  border-radius: 6px;\n  border: 1px solid var(--color-border);\n}\n.exp-icon[data-v-1a2c11e6] {\n  font-size: 1.5rem;\n  flex-shrink: 0;\n}\n.exp-content[data-v-1a2c11e6] {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n}\n.exp-label[data-v-1a2c11e6] {\n  font-size: 0.7rem;\n  color: var(--color-text-secondary);\n  font-weight: 500;\n}\n.exp-value[data-v-1a2c11e6] {\n  font-size: 0.95rem;\n  color: #ec4899;\n  font-weight: 700;\n}\n.last-time-info[data-v-1a2c11e6] {\n  padding: 0.5rem 0.75rem;\n  background: rgba(236, 72, 153, 0.05);\n  border-radius: 4px;\n  font-size: 0.8rem;\n  text-align: center;\n}\n.last-time-label[data-v-1a2c11e6] {\n  color: var(--color-text-secondary);\n  margin-right: 0.5rem;\n}\n.last-time-value[data-v-1a2c11e6] {\n  color: var(--color-text);\n  font-weight: 600;\n}\n\n/* èº«ä½“éƒ¨ä½åˆ—è¡¨ */\n.body-parts-list[data-v-1a2c11e6] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n}\n.body-part-item[data-v-1a2c11e6] {\n  padding: 0.75rem;\n  background: var(--color-surface);\n  border-radius: 6px;\n  border: 1px solid var(--color-border);\n}\n.part-header[data-v-1a2c11e6] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 0.5rem;\n}\n.part-name[data-v-1a2c11e6] {\n  font-size: 0.85rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.part-mark[data-v-1a2c11e6] {\n  font-size: 0.7rem;\n  padding: 0.125rem 0.375rem;\n  background: linear-gradient(135deg, rgba(236, 72, 153, 0.2), rgba(219, 39, 119, 0.2));\n  color: #ec4899;\n  border-radius: 4px;\n  font-weight: 500;\n}\n.part-description[data-v-1a2c11e6] {\n  font-size: 0.8rem;\n  color: var(--color-text-secondary);\n  font-style: italic;\n  margin-bottom: 0.5rem;\n  padding: 0.5rem;\n  background: rgba(236, 72, 153, 0.05);\n  border-radius: 4px;\n  line-height: 1.4;\n}\n.part-stats[data-v-1a2c11e6] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n.part-stat[data-v-1a2c11e6] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n.stat-label[data-v-1a2c11e6] {\n  font-size: 0.7rem;\n  color: var(--color-text-secondary);\n  min-width: 50px;\n}\n.stat-bar-mini[data-v-1a2c11e6] {\n  flex: 1;\n  height: 6px;\n  background: rgba(236, 72, 153, 0.1);\n  border-radius: 3px;\n  overflow: hidden;\n}\n.stat-bar-fill[data-v-1a2c11e6] {\n  height: 100%;\n  border-radius: 3px;\n  transition: width 0.3s ease;\n}\n.stat-bar-fill.sensitivity[data-v-1a2c11e6] {\n  background: linear-gradient(90deg, #f59e0b, #ec4899);\n}\n.stat-bar-fill.development[data-v-1a2c11e6] {\n  background: linear-gradient(90deg, #8b5cf6, #ec4899);\n}\n.stat-value[data-v-1a2c11e6] {\n  font-size: 0.7rem;\n  color: #ec4899;\n  font-weight: 700;\n  min-width: 35px;\n  text-align: right;\n}\n\n/* ä½“æ¶²çŠ¶æ€ */\n.fluid-status[data-v-1a2c11e6] {\n  padding: 0.75rem;\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.08), rgba(236, 72, 153, 0.08));\n  border-radius: 6px;\n  border-left: 3px solid #3b82f6;\n  font-size: 0.85rem;\n  color: var(--color-text);\n  font-style: italic;\n}\n\n/* ç‰¹æ®Šä½“è´¨æ ‡ç­¾ */\n.special-trait-tag[data-v-1a2c11e6] {\n  background: linear-gradient(135deg, rgba(168, 85, 247, 0.15), rgba(236, 72, 153, 0.15));\n  color: #a855f7;\n  padding: 0.25rem 0.5rem;\n  border-radius: 6px;\n  font-size: 0.75rem;\n  font-weight: 500;\n  border: 1px solid rgba(168, 85, 247, 0.3);\n}\n\n/* ========== äººæ ¼åº•çº¿æ ·å¼ ========== */\n.personality-section[data-v-1a2c11e6] {\n  background: linear-gradient(135deg, rgba(239, 68, 68, 0.08), rgba(249, 115, 22, 0.08));\n  border-left: 4px solid #ef4444;\n}\n.personality-bottomlines[data-v-1a2c11e6] {\n  margin-bottom: 0.75rem;\n}\n.bottomline-tags[data-v-1a2c11e6] {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 0.5rem;\n}\n.bottomline-tag[data-v-1a2c11e6] {\n  background: linear-gradient(135deg, rgba(239, 68, 68, 0.15), rgba(249, 115, 22, 0.15));\n  color: #ef4444;\n  padding: 0.4rem 0.75rem;\n  border-radius: 8px;\n  font-size: 0.85rem;\n  font-weight: 600;\n  border: 1.5px solid rgba(239, 68, 68, 0.4);\n  display: inline-flex;\n  align-items: center;\n  box-shadow: 0 2px 4px rgba(239, 68, 68, 0.1);\n  transition: all 0.2s ease;\n}\n.bottomline-tag[data-v-1a2c11e6]:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 4px 8px rgba(239, 68, 68, 0.2);\n  border-color: rgba(239, 68, 68, 0.6);\n}\n.bottomline-empty[data-v-1a2c11e6] {\n  color: var(--text-secondary);\n  font-style: italic;\n  font-size: 0.875rem;\n  padding: 0.5rem 0;\n}\n.bottomline-warning[data-v-1a2c11e6] {\n  display: flex;\n  align-items: flex-start;\n  gap: 0.5rem;\n  background: rgba(239, 68, 68, 0.1);\n  padding: 0.75rem;\n  border-radius: 8px;\n  border: 1px solid rgba(239, 68, 68, 0.3);\n}\n.warning-icon[data-v-1a2c11e6] {\n  font-size: 1.1rem;\n  color: #f59e0b;\n  flex-shrink: 0;\n  animation: pulse-1a2c11e6 2s infinite;\n}\n@keyframes pulse-1a2c11e6 {\n0%, 100% {\n    opacity: 1;\n    transform: scale(1);\n}\n50% {\n    opacity: 0.6;\n    transform: scale(1.1);\n}\n}\n.warning-text[data-v-1a2c11e6] {\n  color: #dc2626;\n  font-size: 0.8rem;\n  line-height: 1.4;\n  font-weight: 500;\n}\n\n/* ========== Tabå¯¼èˆªæ ·å¼ ========== */\n.detail-tabs[data-v-1a2c11e6] {\n  display: flex;\n  gap: 0.5rem;\n  padding: 0 0 1rem 0;\n  border-bottom: 2px solid var(--color-border);\n  margin-bottom: 1rem;\n  flex-wrap: wrap;\n}\n.tab-btn[data-v-1a2c11e6] {\n  background: var(--color-background);\n  border: 1px solid var(--color-border);\n  border-radius: 8px 8px 0 0;\n  padding: 0.5rem 1rem;\n  color: var(--color-text-secondary);\n  font-size: 0.85rem;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  gap: 0.25rem;\n  position: relative;\n  outline: none;\n}\n.tab-btn[data-v-1a2c11e6]:hover {\n  background: var(--color-surface);\n  border-color: var(--color-primary);\n  color: var(--color-text);\n  transform: translateY(-2px);\n}\n.tab-btn.active[data-v-1a2c11e6] {\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(147, 51, 234, 0.1));\n  border-color: var(--color-primary);\n  color: var(--color-primary);\n  font-weight: 600;\n  box-shadow: 0 2px 8px rgba(59, 130, 246, 0.2);\n}\n.tab-btn.active[data-v-1a2c11e6]::after {\n  content: '';\n  position: absolute;\n  bottom: -2px;\n  left: 0;\n  right: 0;\n  height: 2px;\n  background: var(--color-primary);\n}\n.tab-panel[data-v-1a2c11e6] {\n  animation: fadeIn-1a2c11e6 0.3s ease;\n}\n\n/* ========== å“åº”å¼2åˆ—å¸ƒå±€æ ·å¼ ========== */\n.info-grid-responsive[data-v-1a2c11e6] {\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  gap: 8px;\n}\n\n/* å°å±å¹•æ—¶åˆ‡æ¢ä¸ºå•åˆ— */\n@media (max-width: 500px) {\n.info-grid-responsive[data-v-1a2c11e6] {\n    grid-template-columns: 1fr;\n}\n}\n.info-item-row[data-v-1a2c11e6] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 6px 10px;\n  background: transparent;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.05);\n  transition: background 0.2s ease;\n}\n.info-item-row[data-v-1a2c11e6]:hover {\n  background: rgba(59, 130, 246, 0.03);\n}\n.info-item-row .info-label[data-v-1a2c11e6] {\n  font-size: 0.8rem;\n  color: var(--color-text-secondary);\n  font-weight: 500;\n  min-width: 50px;\n}\n.info-item-row .info-value[data-v-1a2c11e6] {\n  font-size: 0.875rem;\n  font-weight: 500;\n  color: var(--color-text);\n  text-align: right;\n  flex: 1;\n  word-break: break-word;\n}\n\n/* ========== NPCè®°å¿†åˆ—è¡¨æ ·å¼ ========== */\n.npc-memories-list[data-v-1a2c11e6] {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n.npc-memory-item[data-v-1a2c11e6] {\n  background: linear-gradient(135deg, rgba(234, 179, 8, 0.05), rgba(249, 115, 22, 0.05));\n  border-left: 3px solid #eab308;\n  border-radius: 4px;\n  padding: 10px 12px;\n  transition: all 0.2s ease;\n}\n.npc-memory-item[data-v-1a2c11e6]:hover {\n  background: linear-gradient(135deg, rgba(234, 179, 8, 0.1), rgba(249, 115, 22, 0.1));\n  transform: translateX(4px);\n  box-shadow: 0 2px 6px rgba(234, 179, 8, 0.15);\n}\n.npc-memory-content[data-v-1a2c11e6] {\n  font-size: 0.85rem;\n  color: var(--color-text);\n  line-height: 1.5;\n}\n\n/* ========== NPCå…­å¸å±æ€§æ ·å¼ ========== */\n.npc-attributes-container[data-v-1a2c11e6] {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n}\n.npc-attr-group[data-v-1a2c11e6] {\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.05), rgba(147, 51, 234, 0.05));\n  border: 1px solid rgba(59, 130, 246, 0.15);\n  border-radius: 8px;\n  padding: 10px;\n}\n.npc-attr-group-title[data-v-1a2c11e6] {\n  font-size: 0.8rem;\n  font-weight: 600;\n  color: var(--color-primary);\n  margin-bottom: 8px;\n  padding-left: 4px;\n}\n.npc-attr-grid[data-v-1a2c11e6] {\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 6px;\n}\n.npc-attr-item[data-v-1a2c11e6] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 6px 4px;\n  background: rgba(255, 255, 255, 0.05);\n  border-radius: 6px;\n  border: 1px solid transparent;\n  transition: all 0.2s ease;\n}\n.npc-attr-item[data-v-1a2c11e6]:hover {\n  background: rgba(255, 255, 255, 0.1);\n  border-color: rgba(59, 130, 246, 0.3);\n  transform: translateY(-2px);\n}\n.npc-attr-item.final[data-v-1a2c11e6] {\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.12), rgba(147, 51, 234, 0.12));\n}\n.npc-attr-item.final[data-v-1a2c11e6]:hover {\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.2), rgba(147, 51, 234, 0.2));\n}\n.npc-attr-label[data-v-1a2c11e6] {\n  font-size: 0.7rem;\n  color: var(--text-secondary);\n  margin-bottom: 2px;\n  font-weight: 500;\n}\n.npc-attr-value[data-v-1a2c11e6] {\n  font-size: 0.95rem;\n  font-weight: 700;\n  color: var(--color-primary);\n}\n.name-and-actions[data-v-1a2c11e6] {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: 0.5rem;\n}\n.delete-npc-btn[data-v-1a2c11e6] {\n  background: transparent;\n  border: 1px solid var(--color-border);\n  color: var(--color-text-secondary);\n  border-radius: 50%;\n  width: 28px;\n  height: 28px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  flex-shrink: 0;\n}\n.delete-npc-btn[data-v-1a2c11e6]:hover {\n  background: rgba(239, 68, 68, 0.1);\n  border-color: #ef4444;\n  color: #ef4444;\n  transform: scale(1.1);\n}\n.card-actions[data-v-1a2c11e6] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n.delete-btn-card[data-v-1a2c11e6] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 24px;\n  height: 24px;\n  border-radius: 50%;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  background: rgba(156, 163, 175, 0.1);\n  border: 1px solid rgba(156, 163, 175, 0.2);\n  color: #9ca3af;\n  padding: 0;\n  outline: none;\n}\n.delete-btn-card[data-v-1a2c11e6]:hover {\n  background: rgba(239, 68, 68, 0.1);\n  border-color: #ef4444;\n  color: #ef4444;\n  transform: scale(1.1);\n}\n.back-to-list-btn[data-v-1a2c11e6] {\n  display: none; /* é»˜è®¤éšè— */\n  background: transparent;\n  border: 1px solid var(--color-border);\n  color: var(--color-text-secondary);\n  border-radius: 50%;\n  width: 32px;\n  height: 32px;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  flex-shrink: 0;\n  margin-right: 0.5rem;\n}\n.back-to-list-btn[data-v-1a2c11e6]:hover {\n  background: var(--color-surface);\n  border-color: var(--color-primary);\n  color: var(--color-primary);\n}\n@media (max-width: 768px) {\n.relationships-container[data-v-1a2c11e6] {\n    position: relative;\n    overflow: hidden;\n}\n.relationship-list[data-v-1a2c11e6],\n  .relationship-detail[data-v-1a2c11e6] {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    transition: transform 0.3s ease-in-out;\n    backface-visibility: hidden;\n}\n.relationship-list[data-v-1a2c11e6] {\n    transform: translateX(0);\n    z-index: 10;\n}\n.relationship-detail[data-v-1a2c11e6] {\n    transform: translateX(100%);\n    z-index: 20;\n    border-left: none; /* ç§»é™¤å·¦è¾¹æ¡† */\n}\n.relationships-container.details-active .relationship-list[data-v-1a2c11e6] {\n    transform: translateX(-100%);\n}\n.relationships-container.details-active .relationship-detail[data-v-1a2c11e6] {\n    transform: translateX(0);\n}\n.back-to-list-btn[data-v-1a2c11e6] {\n    display: flex; /* åœ¨ç§»åŠ¨ç«¯æ˜¾ç¤º */\n}\n.detail-header[data-v-1a2c11e6] {\n    padding: 0.75rem 1rem;\n}\n}\n",""]);const i=l},9596:(e,n,t)=&gt;{t.d(n,{A:()=&gt;d});var a=t(4061);const o=e=&gt;e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),r=e=&gt;{const n=(e=&gt;e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,t)=&gt;t?t.toUpperCase():n.toLowerCase()))(e);return n.charAt(0).toUpperCase()+n.slice(1)},l=(...e)=&gt;e.filter((e,n,t)=&gt;Boolean(e)&amp;&amp;""!==e.trim()&amp;&amp;t.indexOf(e)===n).join(" ").trim(),i=e=&gt;""===e;var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};const s=({name:e,iconNode:n,absoluteStrokeWidth:t,"absolute-stroke-width":s,strokeWidth:d,"stroke-width":m,size:p=c.width,color:v=c.stroke,...u},{slots:g})=&gt;(0,a.h)("svg",{...c,...u,width:p,height:p,stroke:v,"stroke-width":i(t)||i(s)||!0===t||!0===s?24*Number(d||m||c["stroke-width"])/Number(p):d||m||c["stroke-width"],class:l("lucide",u.class,...e?[`lucide-${o(r(e))}-icon`,`lucide-${o(e)}`]:["lucide-icon"])},[...n.map(e=&gt;(0,a.h)(...e)),...g.default?[g.default()]:[]]),d=(e,n)=&gt;(t,{slots:o,attrs:r})=&gt;(0,a.h)(s,{...r,...t,iconNode:n,name:e},o)},9808:(e,n,t)=&gt;{t.d(n,{C4:()=&gt;l,Oq:()=&gt;m,assembleSaveData:()=&gt;r,clearAllShards:()=&gt;d,saveAllShards:()=&gt;i,shardSaveData:()=&gt;o,xG:()=&gt;s,xc:()=&gt;c});var a=t(3302);function o(e){let n=!0,t="all";try{const e=localStorage.getItem("dad_game_settings");if(e){const a=JSON.parse(e);n=void 0===a.enableNsfwMode||!!a.enableNsfwMode,t=a.nsfwGenderFilter||"all"}}catch(e){a.Yz.warn("åˆ†ç‰‡å­˜å‚¨","è¯»å–NSFWè®¾ç½®å¤±è´¥",e)}const o=e.è§’è‰²åŸºç¡€ä¿¡æ¯||{åå­—:"æœªçŸ¥ä¿®å£«",æ€§åˆ«:"å…¶ä»–",ä¸–ç•Œ:"æœªçŸ¥ä¸–ç•Œ",å¤©èµ„:"æ™®é€š",å‡ºç”Ÿ:"æ•£ä¿®",çµæ ¹:"æ— ",å¤©èµ‹:[],å…ˆå¤©å…­å¸:{æ ¹éª¨:0,çµæ€§:0,æ‚Ÿæ€§:0,æ°”è¿:0,é­…åŠ›:0,å¿ƒæ€§:0}},r=e.ä¸–ç•Œä¿¡æ¯||{ä¸–ç•Œåç§°:"ä¿®ä»™ç•Œ",ä¸–ç•ŒèƒŒæ™¯:"ä¸€ä¸ªå¹¿é˜”çš„ä¿®ä»™ä¸–ç•Œ",å¤§é™†ä¿¡æ¯:[],åŠ¿åŠ›ä¿¡æ¯:[],åœ°ç‚¹ä¿¡æ¯:[],ç”Ÿæˆæ—¶é—´:(new Date).toISOString(),ä¸–ç•Œçºªå…ƒ:"å¼€å…ƒ",ç‰¹æ®Šè®¾å®š:[],ç‰ˆæœ¬:"1.0"};return console.log("[åˆ†ç‰‡å­˜å‚¨-ä¿å­˜] æ¥æ”¶åˆ°çš„ saveData.è§’è‰²åŸºç¡€ä¿¡æ¯.å…ˆå¤©å…­å¸:",e.è§’è‰²åŸºç¡€ä¿¡æ¯?.å…ˆå¤©å…­å¸),console.log("[åˆ†ç‰‡å­˜å‚¨-ä¿å­˜] æœ€ç»ˆä½¿ç”¨çš„ baseInfo.å…ˆå¤©å…­å¸:",o.å…ˆå¤©å…­å¸),{åŸºç¡€ä¿¡æ¯:{åå­—:o.åå­—,æ€§åˆ«:o.æ€§åˆ«||"å…¶ä»–",å‡ºç”Ÿæ—¥æœŸ:o.å‡ºç”Ÿæ—¥æœŸ,ä¸–ç•Œ:o.ä¸–ç•Œ,å¤©èµ„:o.å¤©èµ„,å‡ºç”Ÿ:o.å‡ºç”Ÿ,çµæ ¹:o.çµæ ¹,å¤©èµ‹:o.å¤©èµ‹,å…ˆå¤©å…­å¸:o.å…ˆå¤©å…­å¸},å¢ƒç•Œ:e.ç©å®¶è§’è‰²çŠ¶æ€.å¢ƒç•Œ,å±æ€§:{æ°”è¡€:e.ç©å®¶è§’è‰²çŠ¶æ€.æ°”è¡€,çµæ°”:e.ç©å®¶è§’è‰²çŠ¶æ€.çµæ°”,ç¥è¯†:e.ç©å®¶è§’è‰²çŠ¶æ€.ç¥è¯†,å¯¿å‘½:e.ç©å®¶è§’è‰²çŠ¶æ€.å¯¿å‘½,å£°æœ›:e.ç©å®¶è§’è‰²çŠ¶æ€.å£°æœ›},ä½ç½®:e.ç©å®¶è§’è‰²çŠ¶æ€.ä½ç½®,ä¿®ç‚¼åŠŸæ³•:e.ä¿®ç‚¼åŠŸæ³•,æŒæ¡æŠ€èƒ½:e.æŒæ¡æŠ€èƒ½||[],è£…å¤‡æ :e.è£…å¤‡æ ,èƒŒåŒ…_çµçŸ³:e.èƒŒåŒ….çµçŸ³,èƒŒåŒ…_ç‰©å“:e.èƒŒåŒ….ç‰©å“,äººç‰©å…³ç³»:e.äººç‰©å…³ç³»,ä¸‰åƒå¤§é“:e.ä¸‰åƒå¤§é“||{å·²è§£é”å¤§é“:[],å¤§é“è¿›åº¦:{},å¤§é“è·¯å¾„å®šä¹‰:{}},ä¸–ç•Œä¿¡æ¯:r,è®°å¿†_çŸ­æœŸ:e.è®°å¿†.çŸ­æœŸè®°å¿†,è®°å¿†_ä¸­æœŸ:e.è®°å¿†.ä¸­æœŸè®°å¿†,è®°å¿†_é•¿æœŸ:e.è®°å¿†.é•¿æœŸè®°å¿†,è®°å¿†_éšå¼ä¸­æœŸ:e.è®°å¿†.éšå¼ä¸­æœŸè®°å¿†||[],æ¸¸æˆæ—¶é—´:e.æ¸¸æˆæ—¶é—´,çŠ¶æ€æ•ˆæœ:e.ç©å®¶è§’è‰²çŠ¶æ€.çŠ¶æ€æ•ˆæœ||[],ç³»ç»Ÿ:{nsfwMode:n,nsfwGenderFilter:t}}}function r(e){if(!e["åŸºç¡€ä¿¡æ¯"])throw new Error("[åˆ†ç‰‡å­˜å‚¨] ç¼ºå°‘å¿…éœ€çš„åŸºç¡€ä¿¡æ¯åˆ†ç‰‡");const n=e["åŸºç¡€ä¿¡æ¯"];console.log("[åˆ†ç‰‡å­˜å‚¨-è¯»å–] ä»é…’é¦†è¯»å–çš„ åŸºç¡€ä¿¡æ¯.å…ˆå¤©å…­å¸:",n.å…ˆå¤©å…­å¸);const t=e["å¢ƒç•Œ"]||{åç§°:"å‡¡äºº",é˜¶æ®µ:"",å½“å‰è¿›åº¦:0,ä¸‹ä¸€çº§æ‰€éœ€:100,çªç ´æè¿°:"å¼•æ°”å…¥ä½“ï¼Œæ„Ÿæ‚Ÿå¤©åœ°çµæ°”ï¼Œè¸ä¸Šä¿®ä»™ç¬¬ä¸€æ­¥"},a=e["å±æ€§"]||{æ°”è¡€:{å½“å‰:100,ä¸Šé™:100},çµæ°”:{å½“å‰:100,ä¸Šé™:100},ç¥è¯†:{å½“å‰:50,ä¸Šé™:50},å¯¿å‘½:{å½“å‰:0,ä¸Šé™:80},å£°æœ›:0};return{è§’è‰²åŸºç¡€ä¿¡æ¯:{åå­—:n.åå­—,æ€§åˆ«:n.æ€§åˆ«||"å…¶ä»–",å‡ºç”Ÿæ—¥æœŸ:n.å‡ºç”Ÿæ—¥æœŸ,ä¸–ç•Œ:n.ä¸–ç•Œ,å¤©èµ„:n.å¤©èµ„,å‡ºç”Ÿ:n.å‡ºç”Ÿ,çµæ ¹:n.çµæ ¹,å¤©èµ‹:n.å¤©èµ‹,å…ˆå¤©å…­å¸:n.å…ˆå¤©å…­å¸,åå¤©å…­å¸:n.åå¤©å…­å¸||{æ ¹éª¨:0,æ‚Ÿæ€§:0,å®šåŠ›:0,æ°”è¿:0,é­…åŠ›:0,å¿ƒæ€§:0}},ç©å®¶è§’è‰²çŠ¶æ€:{å¢ƒç•Œ:t,å£°æœ›:a.å£°æœ›,æ°”è¡€:a.æ°”è¡€,çµæ°”:a.çµæ°”,ç¥è¯†:a.ç¥è¯†,å¯¿å‘½:a.å¯¿å‘½,ä½ç½®:e["ä½ç½®"]||{æè¿°:"æœªçŸ¥",x:0,y:0},çŠ¶æ€æ•ˆæœ:e["çŠ¶æ€æ•ˆæœ"]||[]},ä¿®ç‚¼åŠŸæ³•:e["ä¿®ç‚¼åŠŸæ³•"]||null,æŒæ¡æŠ€èƒ½:e["æŒæ¡æŠ€èƒ½"]||[],è£…å¤‡æ :e["è£…å¤‡æ "]||{è£…å¤‡1:null,è£…å¤‡2:null,è£…å¤‡3:null,è£…å¤‡4:null,è£…å¤‡5:null,è£…å¤‡6:null},èƒŒåŒ…:{çµçŸ³:e["èƒŒåŒ…_çµçŸ³"]||{ä¸‹å“:0,ä¸­å“:0,ä¸Šå“:0,æå“:0},ç‰©å“:e["èƒŒåŒ…_ç‰©å“"]||{}},äººç‰©å…³ç³»:e["äººç‰©å…³ç³»"]||{},å®—é—¨ç³»ç»Ÿ:{availableSects:[],sectRelationships:{},sectHistory:[]},ä¸‰åƒå¤§é“:e["ä¸‰åƒå¤§é“"]||{å¤§é“åˆ—è¡¨:{}},ä¸–ç•Œä¿¡æ¯:e["ä¸–ç•Œä¿¡æ¯"]||{ä¸–ç•Œåç§°:"ä¿®ä»™ç•Œ",ä¸–ç•ŒèƒŒæ™¯:"ä¸€ä¸ªå¹¿é˜”çš„ä¿®ä»™ä¸–ç•Œ",å¤§é™†ä¿¡æ¯:[],åŠ¿åŠ›ä¿¡æ¯:[],åœ°ç‚¹ä¿¡æ¯:[],ç”Ÿæˆæ—¶é—´:(new Date).toISOString(),ä¸–ç•Œçºªå…ƒ:"å¼€å…ƒ",ç‰¹æ®Šè®¾å®š:[],ç‰ˆæœ¬:"1.0"},è®°å¿†:{çŸ­æœŸè®°å¿†:e["è®°å¿†_çŸ­æœŸ"]||[],ä¸­æœŸè®°å¿†:e["è®°å¿†_ä¸­æœŸ"]||[],é•¿æœŸè®°å¿†:e["è®°å¿†_é•¿æœŸ"]||[],éšå¼ä¸­æœŸè®°å¿†:e["è®°å¿†_éšå¼ä¸­æœŸ"]||[]},æ¸¸æˆæ—¶é—´:e["æ¸¸æˆæ—¶é—´"]||{å¹´:1,æœˆ:1,æ—¥:1,å°æ—¶:0,åˆ†é’Ÿ:0}}}function l(e,n){switch(n){case"åŸºç¡€ä¿¡æ¯":return e.è§’è‰²åŸºç¡€ä¿¡æ¯?{...e.è§’è‰²åŸºç¡€ä¿¡æ¯}:null;case"å¢ƒç•Œ":return e.ç©å®¶è§’è‰²çŠ¶æ€.å¢ƒç•Œ;case"å±æ€§":return{æ°”è¡€:e.ç©å®¶è§’è‰²çŠ¶æ€.æ°”è¡€,çµæ°”:e.ç©å®¶è§’è‰²çŠ¶æ€.çµæ°”,ç¥è¯†:e.ç©å®¶è§’è‰²çŠ¶æ€.ç¥è¯†,å¯¿å‘½:e.ç©å®¶è§’è‰²çŠ¶æ€.å¯¿å‘½,å£°æœ›:e.ç©å®¶è§’è‰²çŠ¶æ€.å£°æœ›};case"ä½ç½®":return e.ç©å®¶è§’è‰²çŠ¶æ€.ä½ç½®;case"ä¿®ç‚¼åŠŸæ³•":return e.ä¿®ç‚¼åŠŸæ³•;case"æŒæ¡æŠ€èƒ½":return e.æŒæ¡æŠ€èƒ½;case"è£…å¤‡æ ":return e.è£…å¤‡æ ;case"èƒŒåŒ…_çµçŸ³":return e.èƒŒåŒ….çµçŸ³;case"èƒŒåŒ…_ç‰©å“":return e.èƒŒåŒ….ç‰©å“;case"äººç‰©å…³ç³»":return e.äººç‰©å…³ç³»;case"ä¸‰åƒå¤§é“":return e.ä¸‰åƒå¤§é“;case"ä¸–ç•Œä¿¡æ¯":return e.ä¸–ç•Œä¿¡æ¯??null;case"è®°å¿†_çŸ­æœŸ":return e.è®°å¿†.çŸ­æœŸè®°å¿†;case"è®°å¿†_ä¸­æœŸ":return e.è®°å¿†.ä¸­æœŸè®°å¿†;case"è®°å¿†_é•¿æœŸ":return e.è®°å¿†.é•¿æœŸè®°å¿†;case"è®°å¿†_éšå¼ä¸­æœŸ":return e.è®°å¿†.éšå¼ä¸­æœŸè®°å¿†||[];case"æ¸¸æˆæ—¶é—´":return e.æ¸¸æˆæ—¶é—´;case"çŠ¶æ€æ•ˆæœ":return e.ç©å®¶è§’è‰²çŠ¶æ€.çŠ¶æ€æ•ˆæœ;default:return null}}async function i(e,n){const o={};for(const[n,t]of Object.entries(e))o[n]=t;console.log(`[åˆ†ç‰‡å­˜å‚¨] å‡†å¤‡ä¿å­˜ ${Object.keys(e).length} ä¸ªåˆ†ç‰‡åˆ°é…’é¦†...`);const{deepCleanForClone:r}=await Promise.resolve().then(t.bind(t,3098)),l=r(o);console.log("[åˆ†ç‰‡å­˜å‚¨] å·²æ¸…ç†æ•°æ®ï¼Œå‡†å¤‡å†™å…¥é…’é¦†");const i=new Promise((e,n)=&gt;{setTimeout(()=&gt;{n(new Error("ä¿å­˜åˆ†ç‰‡æ•°æ®è¶…æ—¶(30ç§’)"))},3e4)}),c=n.insertOrAssignVariables(l,{type:"chat"});await Promise.race([c,i]),console.log(`[åˆ†ç‰‡å­˜å‚¨] âœ… å·²ä¿å­˜æ‰€æœ‰ ${Object.keys(e).length} ä¸ªåˆ†ç‰‡`),a.Yz.log("åˆ†ç‰‡å­˜å‚¨",`å·²ä¿å­˜æ‰€æœ‰ ${Object.keys(e).length} ä¸ªåˆ†ç‰‡`)}async function c(e){const n=await e.getVariables({type:"chat"}),t={},o=["åŸºç¡€ä¿¡æ¯","å¢ƒç•Œ","å±æ€§","ä½ç½®","ä¿®ç‚¼åŠŸæ³•","æŒæ¡æŠ€èƒ½","è£…å¤‡æ ","èƒŒåŒ…_çµçŸ³","èƒŒåŒ…_ç‰©å“","äººç‰©å…³ç³»","ä¸‰åƒå¤§é“","ä¸–ç•Œä¿¡æ¯","è®°å¿†_çŸ­æœŸ","è®°å¿†_ä¸­æœŸ","è®°å¿†_é•¿æœŸ","è®°å¿†_éšå¼ä¸­æœŸ","æ¸¸æˆæ—¶é—´","çŠ¶æ€æ•ˆæœ","ç³»ç»Ÿ"];for(const e of o)e in n&amp;&amp;(t[e]=n[e]);return a.Yz.log("åˆ†ç‰‡å­˜å‚¨",`å·²åŠ è½½ ${Object.keys(t).length} ä¸ªåˆ†ç‰‡`),t}async function s(e,n){const o={};for(const[n,t]of Object.entries(e))o[n]=t;const{deepCleanForClone:r}=await Promise.resolve().then(t.bind(t,3098)),l=r(o);await n.insertOrAssignVariables(l,{type:"chat"}),a.Yz.log("åˆ†ç‰‡å­˜å‚¨",`å·²æ‰¹é‡æ›´æ–° ${Object.keys(e).length} ä¸ªåˆ†ç‰‡`)}async function d(e){const n=["åŸºç¡€ä¿¡æ¯","å¢ƒç•Œ","å±æ€§","ä½ç½®","ä¿®ç‚¼åŠŸæ³•","æŒæ¡æŠ€èƒ½","è£…å¤‡æ ","èƒŒåŒ…_çµçŸ³","èƒŒåŒ…_ç‰©å“","äººç‰©å…³ç³»","ä¸‰åƒå¤§é“","ä¸–ç•Œä¿¡æ¯","è®°å¿†_çŸ­æœŸ","è®°å¿†_ä¸­æœŸ","è®°å¿†_é•¿æœŸ","è®°å¿†_éšå¼ä¸­æœŸ","æ¸¸æˆæ—¶é—´","çŠ¶æ€æ•ˆæœ","ç³»ç»Ÿ"];for(const t of n)try{await e.deleteVariable(t,{type:"chat"})}catch(e){a.Yz.warn("åˆ†ç‰‡å­˜å‚¨",`æ¸…é™¤åˆ†ç‰‡å¤±è´¥: ${t}`,e)}a.Yz.log("åˆ†ç‰‡å­˜å‚¨","å·²æ¸…é™¤æ‰€æœ‰åˆ†ç‰‡")}function m(e){const n=e;if(n.startsWith("è§’è‰²åŸºç¡€ä¿¡æ¯."))return{shardKey:"åŸºç¡€ä¿¡æ¯",subPath:n.substring(7)};if(n.startsWith("ç©å®¶è§’è‰²çŠ¶æ€.å¢ƒç•Œ")||n.startsWith("å¢ƒç•Œ")){const e=n.startsWith("ç©å®¶è§’è‰²çŠ¶æ€.å¢ƒç•Œ")?"ç©å®¶è§’è‰²çŠ¶æ€.å¢ƒç•Œ":"å¢ƒç•Œ",t=n.substring(e.length);return{shardKey:"å¢ƒç•Œ",subPath:t.startsWith(".")?t.substring(1):t}}if(n.startsWith("ç©å®¶è§’è‰²çŠ¶æ€.æ°”è¡€")||n.startsWith("ç©å®¶è§’è‰²çŠ¶æ€.çµæ°”")||n.startsWith("ç©å®¶è§’è‰²çŠ¶æ€.ç¥è¯†")||n.startsWith("ç©å®¶è§’è‰²çŠ¶æ€.å¯¿å‘½")||n.startsWith("ç©å®¶è§’è‰²çŠ¶æ€.å£°æœ›")||n.startsWith("å±æ€§.")||"å£°æœ›"===n){const e=n.startsWith("ç©å®¶è§’è‰²çŠ¶æ€.")?"ç©å®¶è§’è‰²çŠ¶æ€.":n.startsWith("å±æ€§.")?"å±æ€§.":"";return{shardKey:"å±æ€§",subPath:n.substring(e.length)}}if(n.startsWith("ç©å®¶è§’è‰²çŠ¶æ€.ä½ç½®")||n.startsWith("ä½ç½®")){const e=n.startsWith("ç©å®¶è§’è‰²çŠ¶æ€.ä½ç½®")?"ç©å®¶è§’è‰²çŠ¶æ€.ä½ç½®":"ä½ç½®",t=n.substring(e.length);return{shardKey:"ä½ç½®",subPath:t.startsWith(".")?t.substring(1):t}}if(n.startsWith("ç©å®¶è§’è‰²çŠ¶æ€.çŠ¶æ€æ•ˆæœ")||n.startsWith("çŠ¶æ€æ•ˆæœ")){const e=n.startsWith("ç©å®¶è§’è‰²çŠ¶æ€.çŠ¶æ€æ•ˆæœ")?"ç©å®¶è§’è‰²çŠ¶æ€.çŠ¶æ€æ•ˆæœ":"çŠ¶æ€æ•ˆæœ",t=n.substring(e.length);return{shardKey:"çŠ¶æ€æ•ˆæœ",subPath:t.startsWith(".")?t.substring(1):t}}return n.startsWith("ä¿®ç‚¼åŠŸæ³•")?{shardKey:"ä¿®ç‚¼åŠŸæ³•",subPath:n.substring(4).replace(/^\./,"")}:n.startsWith("è£…å¤‡æ ")?{shardKey:"è£…å¤‡æ ",subPath:n.substring(3).replace(/^\./,"")}:n.startsWith("èƒŒåŒ….çµçŸ³")?{shardKey:"èƒŒåŒ…_çµçŸ³",subPath:n.substring(5).replace(/^\./,"")}:n.startsWith("èƒŒåŒ….ç‰©å“")?{shardKey:"èƒŒåŒ…_ç‰©å“",subPath:n.substring(5).replace(/^\./,"")}:n.startsWith("äººç‰©å…³ç³»")?{shardKey:"äººç‰©å…³ç³»",subPath:n.substring(4).replace(/^\./,"")}:n.startsWith("ä¸‰åƒå¤§é“")?{shardKey:"ä¸‰åƒå¤§é“",subPath:n.substring(4).replace(/^\./,"")}:n.startsWith("ä¸–ç•Œä¿¡æ¯")?{shardKey:"ä¸–ç•Œä¿¡æ¯",subPath:n.substring(4).replace(/^\./,"")}:n.startsWith("è®°å¿†.çŸ­æœŸè®°å¿†")?{shardKey:"è®°å¿†_çŸ­æœŸ",subPath:""}:n.startsWith("è®°å¿†.ä¸­æœŸè®°å¿†")?{shardKey:"è®°å¿†_ä¸­æœŸ",subPath:""}:n.startsWith("è®°å¿†.é•¿æœŸè®°å¿†")?{shardKey:"è®°å¿†_é•¿æœŸ",subPath:""}:n.startsWith("è®°å¿†.éšå¼ä¸­æœŸè®°å¿†")?{shardKey:"è®°å¿†_éšå¼ä¸­æœŸ",subPath:""}:n.startsWith("æ¸¸æˆæ—¶é—´")?{shardKey:"æ¸¸æˆæ—¶é—´",subPath:n.substring(4).replace(/^\./,"")}:null}},9904:(e,n,t)=&gt;{t.d(n,{A:()=&gt;i});var a=t(1601),o=t.n(a),r=t(6314),l=t.n(r)()(o());l.push([e.id,"\n.tree-node[data-v-70308211] {\n  padding-left: 20px;\n  position: relative;\n}\n.node-line[data-v-70308211] {\n  display: flex;\n  align-items: center;\n  padding: 4px 0;\n  cursor: default;\n  position: relative;\n}\n.node-line.is-object[data-v-70308211] {\n  cursor: pointer;\n}\n.arrow[data-v-70308211] {\n  width: 20px;\n  text-align: center;\n  margin-left: -20px;\n  color: #888;\n  font-size: 0.7rem;\n}\n.key[data-v-70308211] {\n  color: #9cdcfe; /* è“è‰²ï¼Œé€‚åˆé”® */\n  margin-right: 8px;\n  font-weight: bold;\n}\n.value[data-v-70308211] {\n  color: #ce9178; /* æ©™è‰²ï¼Œé€‚åˆå­—ç¬¦ä¸²å€¼ */\n}\n.node-children[data-v-70308211] {\n  border-left: 1px solid #444;\n}\n.delete-btn[data-v-70308211] {\n  background: none;\n  border: none;\n  color: #ff5555;\n  cursor: pointer;\n  padding: 2px 4px;\n  border-radius: 4px;\n  margin-left: auto;\n  display: none; /* é»˜è®¤éšè— */\n  transition: all 0.2s ease;\n}\n.node-line:hover .delete-btn[data-v-70308211] {\n  display: inline-block; /* æ‚¬åœæ—¶æ˜¾ç¤º */\n}\n.delete-btn[data-v-70308211]:hover {\n  background: rgba(255, 85, 85, 0.2);\n  color: #ff8080;\n}\n",""]);const i=l}},n={};function t(a){var o=n[a];if(void 0!==o)return o.exports;var r=n[a]={id:a,exports:{}};return e[a](r,r.exports,t),r.exports}t.m=e,t.n=e=&gt;{var n=e&amp;&amp;e.__esModule?()=&gt;e.default:()=&gt;e;return t.d(n,{a:n}),n},t.d=(e,n)=&gt;{for(var a in n)t.o(n,a)&amp;&amp;!t.o(e,a)&amp;&amp;Object.defineProperty(e,a,{enumerable:!0,get:n[a]})},t.o=(e,n)=&gt;Object.prototype.hasOwnProperty.call(e,n),t.r=e=&gt;{"undefined"!=typeof Symbol&amp;&amp;Symbol.toStringTag&amp;&amp;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.b=document.baseURI||self.location.href,t.nc=void 0;var a=t(4061),o=t(1774);const r=VueRouter,l=$;var i=t.n(l),c=t(9596);const s=(0,c.A)("circle-question-mark",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var d=t(4270);const m={class:"toast-container"},p={class:"toast-icon"},v={key:0},u={key:1},g={key:2},f={key:3},b={key:4,class:"spinner"},h=["innerHTML"],y=(0,a.defineComponent)({__name:"ToastContainer",setup:e=&gt;(e,n)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",m,[(0,a.createVNode)(a.TransitionGroup,{name:"toast-fade",tag:"div"},{default:(0,a.withCtx)(()=&gt;[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)((0,a.unref)(d.b),e=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:e.id,class:(0,a.normalizeClass)(["toast",`toast-${e.type}`])},[(0,a.createElementVNode)("div",p,[(0,a.createCommentVNode)(" You can use SVGs or an icon library here "),"success"===e.type?((0,a.openBlock)(),(0,a.createElementBlock)("span",v,"âœ…")):"error"===e.type?((0,a.openBlock)(),(0,a.createElementBlock)("span",u,"âŒ")):"warning"===e.type?((0,a.openBlock)(),(0,a.createElementBlock)("span",g,"âš ï¸")):"info"===e.type?((0,a.openBlock)(),(0,a.createElementBlock)("span",f,"â„¹ï¸")):"loading"===e.type?((0,a.openBlock)(),(0,a.createElementBlock)("div",b)):(0,a.createCommentVNode)("v-if",!0)]),(0,a.createElementVNode)("div",{class:"toast-message",innerHTML:e.message},null,8,h)],2))),128))]),_:1})]))});var x=t(5072),k=t.n(x),w=t(7825),N=t.n(w),E=t(7659),V=t.n(E),C=t(5056),z=t.n(C),S=t(540),B=t.n(S),D=t(1113),A=t.n(D),I=t(859),T={};T.styleTagTransform=A(),T.setAttributes=z(),T.insert=V().bind(null,"head"),T.domAPI=N(),T.insertStyleElement=B(),k()(I.A,T),I.A&amp;&amp;I.A.locals&amp;&amp;I.A.locals;var j=t(6262);const M=(0,j.A)(y,[["__scopeId","data-v-4e34161e"]]);var q=t(9173);const O={key:0,class:"loading-overlay"},P={class:"loading-content"},F=["innerHTML"],L=(0,a.defineComponent)({__name:"GlobalLoadingOverlay",setup(e){const n=(0,q.useUIStore)();return(e,t)=&gt;((0,a.openBlock)(),(0,a.createBlock)(a.Transition,{name:"fade"},{default:(0,a.withCtx)(()=&gt;[(0,a.unref)(n).isLoading?((0,a.openBlock)(),(0,a.createElementBlock)("div",O,[(0,a.createElementVNode)("div",P,[t[0]||(t[0]=(0,a.createElementVNode)("div",{class:"spinner"},null,-1)),(0,a.createElementVNode)("p",{class:"loading-text",innerHTML:(0,a.unref)(n).loadingText},null,8,F)])])):(0,a.createCommentVNode)("v-if",!0)]),_:1}))}});var Y=t(6533),R={};R.styleTagTransform=A(),R.setAttributes=z(),R.insert=V().bind(null,"head"),R.domAPI=N(),R.insertStyleElement=B(),k()(Y.A,R),Y.A&amp;&amp;Y.A.locals&amp;&amp;Y.A.locals;const U=(0,j.A)(L,[["__scopeId","data-v-c8648b8a"]]),G=(0,c.A)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),W={class:"dialog-header"},J={class:"dialog-content"},H={class:"error-icon"},Q={class:"message"},K={class:"dialog-actions"},X=(0,a.defineComponent)({__name:"RetryConfirmDialog",setup(e){const n=(0,q.useUIStore)(),t=(0,a.computed)(()=&gt;n.showRetryDialogState),o=(0,a.computed)(()=&gt;n.retryDialogConfig),r=()=&gt;{n.confirmRetry()},l=()=&gt;{n.cancelRetry()};return(e,n)=&gt;t.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:0,class:"retry-dialog-overlay",onClick:l},[(0,a.createElementVNode)("div",{class:"retry-dialog",onClick:n[0]||(n[0]=(0,a.withModifiers)(()=&gt;{},["stop"]))},[(0,a.createElementVNode)("div",W,[(0,a.createElementVNode)("h3",null,(0,a.toDisplayString)(o.value?.title||"AIç”Ÿæˆå¤±è´¥"),1)]),(0,a.createElementVNode)("div",J,[(0,a.createElementVNode)("div",H,[(0,a.createVNode)((0,a.unref)(G),{size:48})]),(0,a.createElementVNode)("p",Q,(0,a.toDisplayString)(o.value?.message||"ç”Ÿæˆè¿‡ç¨‹é‡åˆ°é—®é¢˜"),1)]),(0,a.createElementVNode)("div",K,[(0,a.createElementVNode)("button",{class:"btn-secondary",onClick:l},(0,a.toDisplayString)(o.value?.cancelText||"å–æ¶ˆåˆ›å»º"),1),(0,a.createElementVNode)("button",{class:"btn-primary",onClick:r},(0,a.toDisplayString)(o.value?.confirmText||"ç»§ç»­é‡è¯•"),1)])])])):(0,a.createCommentVNode)("v-if",!0)}});var Z=t(5258),ee={};ee.styleTagTransform=A(),ee.setAttributes=z(),ee.insert=V().bind(null,"head"),ee.domAPI=N(),ee.insertStyleElement=B(),k()(Z.A,ee),Z.A&amp;&amp;Z.A.locals&amp;&amp;Z.A.locals;const ne=(0,j.A)(X,[["__scopeId","data-v-9136f00c"]]),te=(0,c.A)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),ae={key:0,class:"dialog-overlay"},oe={class:"dialog-container"},re={class:"dialog-header"},le={class:"dialog-content"},ie={class:"error-list-container"},ce={class:"error-list"},se={class:"content-suggestion"},de={class:"dialog-actions"},me=(0,a.defineComponent)({__name:"DataValidationErrorDialog",setup(e){const n=(0,q.useUIStore)(),t=()=&gt;{n.confirmDataValidationError()},o=(0,a.computed)(()=&gt;"loading"===n.dataValidationContext?{suggestion:"æˆ‘ä»¬å»ºè®®æ‚¨ç«‹å³ä¿®å¤æ­¤é—®é¢˜ã€‚ä¿®å¤è¿‡ç¨‹å°†å°è¯•åœ¨ä¿ç•™æ‚¨æ ¸å¿ƒè¿›åº¦çš„å‰æä¸‹ï¼Œä¿®æ­£å­˜æ¡£çš„æ•°æ®ç»“æ„ã€‚",warning:"æ³¨æ„ï¼šä¿®å¤ä¸»è¦é’ˆå¯¹ç»“æ„æ€§é—®é¢˜ï¼Œæ— æ³•æ¢å¤å·²æŸåæˆ–ä¸¢å¤±çš„æ•°æ®ã€‚å»ºè®®æ‚¨åœ¨ä¿®å¤å‰å¤‡ä»½å­˜æ¡£ã€‚",buttonText:"ä¿®å¤å­˜æ¡£å¹¶ç»§ç»­"}:{suggestion:"æˆ‘ä»¬å»ºè®®æ‚¨ç«‹å³ä¿®å¤æ­¤é—®é¢˜ã€‚ä¿®å¤è¿‡ç¨‹å°†æ ¹æ®æ‚¨ç°æœ‰çš„è§’è‰²åŸºç¡€ä¿¡æ¯ï¼Œé‡æ–°ç”Ÿæˆä¸€ä»½å¥åº·çš„åˆå§‹å­˜æ¡£æ•°æ®ã€‚",warning:"æ³¨æ„ï¼šè¿™å°†ä¼šé‡ç½®æ‚¨çš„æ¸¸æˆè¿›åº¦ï¼ˆå¦‚ä¿®ä¸ºã€èƒŒåŒ…ç‰©å“ç­‰ï¼‰ï¼Œä½†è§’è‰²æ ¸å¿ƒè®¾å®šï¼ˆå¦‚å§“åã€å¤©èµ‹ã€çµæ ¹ï¼‰å°†ä¿ç•™ã€‚",buttonText:"é‡æ–°åˆå§‹åŒ–å¹¶ä¿®å¤"});return(e,r)=&gt;(0,a.unref)(n).showDataValidationError?((0,a.openBlock)(),(0,a.createElementBlock)("div",ae,[(0,a.createElementVNode)("div",oe,[(0,a.createElementVNode)("div",re,[(0,a.createVNode)((0,a.unref)(G),{size:28,class:"header-icon"}),r[0]||(r[0]=(0,a.createElementVNode)("h2",{class:"header-title"},"å­˜æ¡£æ•°æ®å¼‚å¸¸",-1))]),(0,a.createElementVNode)("div",le,[r[2]||(r[2]=(0,a.createElementVNode)("p",{class:"content-lead"},"ç³»ç»Ÿæ£€æµ‹åˆ°æ‚¨çš„å­˜æ¡£æ–‡ä»¶å­˜åœ¨ä¸¥é‡ç»“æ„é—®é¢˜ï¼Œå¯èƒ½å¯¼è‡´æ¸¸æˆæ— æ³•æ­£å¸¸è¿è¡Œã€‚è¿™é€šå¸¸æ˜¯ç”±äºç‰ˆæœ¬æ›´æ–°æˆ–æ•°æ®æŸåå¯¼è‡´çš„ã€‚",-1)),(0,a.createElementVNode)("div",ie,[r[1]||(r[1]=(0,a.createElementVNode)("strong",{class:"error-list-title"},"å…·ä½“é—®é¢˜å¦‚ä¸‹ï¼š",-1)),(0,a.createElementVNode)("ul",ce,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)((0,a.unref)(n).dataValidationErrorMessages,(e,n)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("li",{key:n,class:"error-item"},(0,a.toDisplayString)(e),1))),128))])]),(0,a.createElementVNode)("p",se,[(0,a.createTextVNode)((0,a.toDisplayString)(o.value.suggestion)+" ",1),(0,a.createElementVNode)("strong",null,(0,a.toDisplayString)(o.value.warning),1)])]),(0,a.createElementVNode)("div",de,[(0,a.createElementVNode)("button",{class:"action-button confirm-button",onClick:t},[(0,a.createVNode)((0,a.unref)(te),{size:16}),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(o.value.buttonText),1)])])])])):(0,a.createCommentVNode)("v-if",!0)}});var pe=t(8932),ve={};ve.styleTagTransform=A(),ve.setAttributes=z(),ve.insert=V().bind(null,"head"),ve.domAPI=N(),ve.insertStyleElement=B(),k()(pe.A,ve),pe.A&amp;&amp;pe.A.locals&amp;&amp;pe.A.locals;const ue=(0,j.A)(me,[["__scopeId","data-v-7a662fc0"]]);var ge=t(2224);function fe(e){return(0,ge.isObject)(e)?e.åç§°||e.name||"æ— åç‰©å“":"æœªçŸ¥ç‰©å“"}function be(e){return(0,ge.isObject)(e)&amp;&amp;e.æ•°é‡||1}function he(e){const{key:n,action:t,oldValue:a,newValue:o}=e;if(n.includes("èƒŒåŒ….ç‰©å“")||n.includes("èƒŒåŒ…_ç‰©å“")){if("set"===t&amp;&amp;o&amp;&amp;!a){const e=o;return{icon:"add",color:"green",title:"è·å¾—ç‰©å“",description:`ã€${fe(e)}ã€‘x ${be(e)}`}}if("push"===t){const e=o;return{icon:"add",color:"green",title:"è·å¾—ç‰©å“",description:`ã€${fe(e)}ã€‘x ${be(e)}`}}if("delete"===t||"pull"===t||"set"===t&amp;&amp;!o&amp;&amp;a){const e=a;return{icon:"remove",color:"red",title:"å¤±å»ç‰©å“",description:`ã€${fe(e)}ã€‘x ${be(e)}`}}if("set"===t&amp;&amp;a&amp;&amp;o){const e=be(a),n=be(o);if(e!==n){const t=n-e;return{icon:t&gt;0?"add":"remove",color:t&gt;0?"green":"red",title:t&gt;0?"è·å¾—ç‰©å“":"æ¶ˆè€—ç‰©å“",description:`ã€${fe(o)}ã€‘${t&gt;0?"+":""}${t}`}}}}if(n.startsWith("èƒŒåŒ….çµçŸ³")||n.startsWith("èƒŒåŒ…_çµçŸ³")||n.includes(".çµçŸ³.")){const e=n.split(".").pop()||"çµçŸ³",t=("number"==typeof o?o:0)-("number"==typeof a?a:0);if(t&gt;0)return{icon:"add",color:"green",title:`è·å¾—${e}`,description:`+ ${t}`};if(t&lt;0)return{icon:"remove",color:"red",title:`æ¶ˆè€—${e}`,description:`${t}`}}return null}function ye(e){const{key:n,action:t,oldValue:a,newValue:o}=e;if(!(n.startsWith("ç©å®¶è§’è‰²çŠ¶æ€")||n.startsWith("å¢ƒç•Œ.")||n.startsWith("å±æ€§.")||n.startsWith("ä½ç½®.")||n.includes(".å¢ƒç•Œ.")||n.includes(".ä½ç½®.")||n.includes(".æ°”è¡€")||n.includes(".çµæ°”")||n.includes(".ç¥è¯†")||n.includes(".å¯¿å‘½")))return null;const r=n.split(".").pop()||"å±æ€§";if("å¢ƒç•Œ.åç§°"===n||n.endsWith(".å¢ƒç•Œ.åç§°")||"ç©å®¶è§’è‰²çŠ¶æ€.å¢ƒç•Œ.åç§°"===n)return{icon:"add",color:"green",title:"å¢ƒç•Œçªç ´",description:`${a||"å‡¡äºº"} â†’ ${o}`};if("å¢ƒç•Œ.é˜¶æ®µ"===n||n.endsWith(".å¢ƒç•Œ.é˜¶æ®µ")||"ç©å®¶è§’è‰²çŠ¶æ€.å¢ƒç•Œ.é˜¶æ®µ"===n)return{icon:"update",color:"blue",title:"å¢ƒç•Œé˜¶æ®µæå‡",description:`${a||"æ— "} â†’ ${o}`};if("ä½ç½®.æè¿°"===n||n.endsWith(".ä½ç½®.æè¿°")||"ç©å®¶è§’è‰²çŠ¶æ€.ä½ç½®.æè¿°"===n){const e=e=&gt;{if(!e)return"æœªçŸ¥";if("string"==typeof e)return e;if("object"==typeof e&amp;&amp;null!==e){const n=e;if("string"==typeof n.æè¿°)return n.æè¿°;if("string"==typeof n.description)return n.description}return String(e)};return{icon:"update",color:"blue",title:"ä½ç½®å˜æ›´",description:`${e(a)} â†’ ${e(o)}`}}const l=n.split("."),i=l[l.length-1],c=l[l.length-2]||r;if(("ä¸Šé™"===i||"æœ€å¤§"===i)&amp;&amp;"number"==typeof o){const e="number"==typeof a?o-a:o;let n="";return"number"==typeof a?(n=`${a} -&gt; ${o}`,e&gt;0&amp;&amp;(n+=` (+${e})`)):n=`è®¾ä¸º ${o}`,{icon:"update",color:"blue",title:`${c}ä¸Šé™å˜åŒ–`,description:n}}if("å½“å‰"===i&amp;&amp;"number"==typeof o){const e="number"==typeof a?o-a:o;let n="";return"number"==typeof a?(n=`${a} -&gt; ${o}`,e&gt;0&amp;&amp;(n+=` (+${e})`),e&lt;0&amp;&amp;(n+=` (${e})`)):n=`è®¾ä¸º ${o}`,{icon:"update",color:"blue",title:`${c}å½“å‰å€¼å˜åŒ–`,description:n}}if((0,ge.isObject)(o)&amp;&amp;"å½“å‰"in o&amp;&amp;(0,ge.isObject)(a)&amp;&amp;"å½“å‰"in a){const e=o.å½“å‰-a.å½“å‰,n=o.æœ€å¤§!==a.æœ€å¤§;let t=`${a.å½“å‰} -&gt; ${o.å½“å‰}`;return e&gt;0&amp;&amp;(t+=` (+${e})`),e&lt;0&amp;&amp;(t+=` (${e})`),n&amp;&amp;(t+=` (ä¸Šé™å˜ä¸º ${o.æœ€å¤§})`),{icon:"update",color:"blue",title:`${r}å˜åŒ–`,description:t}}if("number"==typeof o&amp;&amp;"number"==typeof a){const e=o-a;let n=`${a} -&gt; ${o}`;return e&gt;0&amp;&amp;(n+=` (+${e})`),e&lt;0&amp;&amp;(n+=` (${e})`),{icon:"update",color:"blue",title:`${r}å˜åŒ–`,description:n}}return null}function xe(e){const{key:n,action:t,oldValue:a,newValue:o}=e;if(n.startsWith("äººç‰©å…³ç³».")||n.includes(".äººç‰©å…³ç³».")){const e=n.split("."),r=e[1]||"æŸäºº",l=e[e.length-1];if("å¥½æ„Ÿåº¦"===l&amp;&amp;"number"==typeof a&amp;&amp;"number"==typeof o){const e=o-a;return{icon:e&gt;0?"add":"remove",color:e&gt;0?"green":"red",title:`ã€${r}ã€‘å¥½æ„Ÿåº¦å˜åŒ–`,description:`${a} â†’ ${o} (${e&gt;0?"+":""}${e})`}}if("äººç‰©è®°å¿†"===l&amp;&amp;"push"===t)return{icon:"add",color:"blue",title:`ã€${r}ã€‘è®°å¿†æ›´æ–°`,description:"æ–°å¢äº†å…³äºä½ çš„è®°å¿†"};if("å…³ç³»çŠ¶æ€"===l)return{icon:"update",color:"blue",title:`ã€${r}ã€‘å…³ç³»å˜åŒ–`,description:`${a||"åˆè¯†"} â†’ ${o}`};const i=e.slice(2);if(i.length&gt;0){const e=i.join(".").replace(/\.([0-9]+)(?=\.|$)/g,"[$1]");let n=`'${e}' å·²æ›´æ–°`;return"object"==typeof o&amp;&amp;null!==o||"object"==typeof a&amp;&amp;null!==a||(n=`'${e}' ä» ${JSON.stringify(a)} å˜ä¸º ${JSON.stringify(o)}`),{icon:"update",color:"blue",title:`ã€${r}ã€‘ä¿¡æ¯æ›´æ–°`,description:n,details:"object"==typeof o&amp;&amp;null!==o||"object"==typeof a&amp;&amp;null!==a?[`æ—§å€¼: ${JSON.stringify(a)}`,`æ–°å€¼: ${JSON.stringify(o)}`]:void 0}}}return null}function ke(e){const{key:n,action:t,oldValue:a,newValue:o}=e;let r="";return r="set"===t||"update"===t?`å€¼ä» ${JSON.stringify(a)} å˜ä¸º ${JSON.stringify(o)}`:"add"===t?`æ•°å€¼å¢åŠ äº† ${o}`:"delete"===t?"ç§»é™¤äº†è¯¥å­—æ®µ":`æ‰§è¡Œäº† ${t} æ“ä½œ`,{icon:"info",color:"gray",title:`æ•°æ®å˜æ›´: ${n}`,description:r}}const we=(0,c.A)("scroll-text",[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]]),Ne=(0,c.A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ee=(0,c.A)("circle-plus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),Ve=(0,c.A)("circle-minus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]]),Ce=(0,c.A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),ze=(0,c.A)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),Se=(0,c.A)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Be={class:"state-change-viewer"},De={class:"viewer-header"},Ae={class:"viewer-summary"},_e={class:"summary-item added"},$e={class:"summary-item removed"},Ie={class:"summary-item updated"},Te={class:"viewer-content"},je={key:0,class:"no-changes"},Me={key:1,class:"changes-list"},qe={class:"item-icon"},Oe={class:"item-content"},Pe={class:"item-title"},Fe={class:"item-description"},Le=(0,a.defineComponent)({__name:"StateChangeViewer",props:{log:{}},emits:["close"],setup(e){const n=e,t=(0,a.computed)(()=&gt;function(e){const n={summary:{added:0,removed:0,updated:0},changes:[]};if(!e||!(0,ge.isArray)(e.changes))return n;for(const t of e.changes){let e=null;e=he(t),e||(e=ye(t)),e||(e=xe(t)),e||(e=ke(t)),n.changes.push(e),"add"===e.icon?n.summary.added++:"remove"===e.icon?n.summary.removed++:"update"===e.icon&amp;&amp;n.summary.updated++}return n}(n.log));return(e,n)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",{class:"state-change-overlay",onClick:n[1]||(n[1]=(0,a.withModifiers)(n=&gt;e.$emit("close"),["self"]))},[(0,a.createElementVNode)("div",Be,[(0,a.createElementVNode)("div",De,[(0,a.createElementVNode)("h3",null,[(0,a.createVNode)((0,a.unref)(we),{size:18}),n[2]||(n[2]=(0,a.createTextVNode)(" å˜æ›´æ—¥å¿—",-1))]),(0,a.createElementVNode)("button",{onClick:n[0]||(n[0]=n=&gt;e.$emit("close")),class:"close-btn"},[(0,a.createVNode)((0,a.unref)(Ne),{size:20})])]),(0,a.createElementVNode)("div",Ae,[(0,a.createElementVNode)("div",_e,[(0,a.createVNode)((0,a.unref)(Ee),{size:16}),(0,a.createElementVNode)("span",null,"æ–°å¢ "+(0,a.toDisplayString)(t.value.summary.added),1)]),(0,a.createElementVNode)("div",$e,[(0,a.createVNode)((0,a.unref)(Ve),{size:16}),(0,a.createElementVNode)("span",null,"ç§»é™¤ "+(0,a.toDisplayString)(t.value.summary.removed),1)]),(0,a.createElementVNode)("div",Ie,[(0,a.createVNode)((0,a.unref)(te),{size:16}),(0,a.createElementVNode)("span",null,"æ›´æ–° "+(0,a.toDisplayString)(t.value.summary.updated),1)])]),(0,a.createElementVNode)("div",Te,[0===t.value.changes.length?((0,a.openBlock)(),(0,a.createElementBlock)("div",je,n[3]||(n[3]=[(0,a.createElementVNode)("p",null,"æœ¬æ¬¡æ“ä½œæ²¡æœ‰äº§ç”Ÿå¯è§çš„çŠ¶æ€å˜æ›´ã€‚",-1)]))):((0,a.openBlock)(),(0,a.createElementBlock)("div",Me,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(t.value.changes,(e,n)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:n,class:(0,a.normalizeClass)(["change-item",`item-${e.color}`])},[(0,a.createElementVNode)("div",qe,["add"===e.icon?((0,a.openBlock)(),(0,a.createBlock)((0,a.unref)(Ce),{key:0,size:18})):"remove"===e.icon?((0,a.openBlock)(),(0,a.createBlock)((0,a.unref)(ze),{key:1,size:18})):"update"===e.icon?((0,a.openBlock)(),(0,a.createBlock)((0,a.unref)(te),{key:2,size:18})):((0,a.openBlock)(),(0,a.createBlock)((0,a.unref)(Se),{key:3,size:18}))]),(0,a.createElementVNode)("div",Oe,[(0,a.createElementVNode)("p",Pe,(0,a.toDisplayString)(e.title),1),(0,a.createElementVNode)("p",Fe,(0,a.toDisplayString)(e.description),1)])],2))),128))]))])])]))}});var Ye=t(9336),Re={};Re.styleTagTransform=A(),Re.setAttributes=z(),Re.insert=V().bind(null,"head"),Re.domAPI=N(),Re.insertStyleElement=B(),k()(Ye.A,Re),Ye.A&amp;&amp;Ye.A.locals&amp;&amp;Ye.A.locals;const Ue=(0,j.A)(Le,[["__scopeId","data-v-43a3a720"]]),Ge={class:"modal-header"},We={class:"modal-title"},Je={class:"modal-content"},He=(0,a.defineComponent)({__name:"DetailModal",setup(e){const n=(0,q.useUIStore)(),t=()=&gt;{n.hideDetailModal()};return(e,o)=&gt;((0,a.openBlock)(),(0,a.createBlock)(a.Transition,{name:"modal-fade"},{default:(0,a.withCtx)(()=&gt;[(0,a.unref)(n).showDetailModalState?((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:0,class:"modal-overlay",onClick:t},[(0,a.createElementVNode)("div",{class:"modal-container",onClick:o[0]||(o[0]=(0,a.withModifiers)(()=&gt;{},["stop"]))},[(0,a.createElementVNode)("div",Ge,[(0,a.createElementVNode)("h3",We,(0,a.toDisplayString)((0,a.unref)(n).detailModalTitle),1),(0,a.createElementVNode)("button",{class:"modal-close-button",onClick:t},[(0,a.createVNode)((0,a.unref)(Ne),{size:24})])]),(0,a.createElementVNode)("div",Je,[(0,a.createElementVNode)("p",null,(0,a.toDisplayString)((0,a.unref)(n).detailModalContent),1)])])])):(0,a.createCommentVNode)("v-if",!0)]),_:1}))}});var Qe=t(3332),Ke={};Ke.styleTagTransform=A(),Ke.setAttributes=z(),Ke.insert=V().bind(null,"head"),Ke.domAPI=N(),Ke.insertStyleElement=B(),k()(Qe.A,Ke),Qe.A&amp;&amp;Qe.A.locals&amp;&amp;Qe.A.locals;const Xe=(0,j.A)(He,[["__scopeId","data-v-3b19ffcd"]]);var Ze=t(1208),en={};en.styleTagTransform=A(),en.setAttributes=z(),en.insert=V().bind(null,"head"),en.domAPI=N(),en.insertStyleElement=B(),k()(Ze.A,en),Ze.A&amp;&amp;Ze.A.locals&amp;&amp;Ze.A.locals;var nn=t(1211),tn=t(948),an=t(8651);const on={id:"app-container"},rn={key:1,class:"global-actions"},ln=["checked"],cn={href:"https://ddct.top",target:"_blank",rel:"noopener noreferrer",class:"theme-toggle",title:"æ•™ç¨‹"},sn={class:"author-modal"},dn={class:"author-modal-header"},mn=(0,a.defineComponent)({__name:"App",setup(e){const n=(0,a.ref)(!1),t=(0,a.ref)("light"!==localStorage.getItem("theme")),o=(0,a.ref)(),l=(0,a.ref)(),c=(0,a.ref)("true"===localStorage.getItem("fullscreen")),m=(0,a.ref)(!1),p=(0,r.useRouter)(),v=(0,r.useRoute)(),u=(0,a.computed)(()=&gt;v.path.startsWith("/game")),g=e=&gt;{const n={ModeSelection:"/",CharacterCreation:"/creation",Login:"/login",CharacterManagement:"/management",GameView:"/game"}[e];n?p.push(n):(console.warn(`æœªçŸ¥çš„è§†å›¾åç§°: ${e}ï¼Œå°†å¯¼èˆªè‡³é¦–é¡µã€‚`),p.push("/"))},f=(0,nn.N)(),b=(0,tn.useCharacterStore)(),h=(0,q.useUIStore)(),y=async e=&gt;{try{if("single"!==e)return d.o.info("è”æœºå…±ä¿®å¼€å‘ä¸­ï¼Œå½“å‰ç‰ˆæœ¬æš‚æœªå¼€æ”¾"),void g("ModeSelection");f.setMode("single"),g("CharacterCreation")}catch(e){console.error("Failed to initialize creation data:",e),d.o.error("åˆå§‹åŒ–åˆ›è§’æ•°æ®å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•ã€‚"),g("ModeSelection")}},x=()=&gt;{p.push("/management")},k=()=&gt;{f.resetCharacter(),g("ModeSelection")},w=()=&gt;{n.value=!0,g("ModeSelection")},N=()=&gt;{g("Login")},E=async e=&gt;{if(console.log("æ¥æ”¶åˆ°åˆ›è§’æŒ‡ä»¤...",e),h.isLoading)return void console.warn("[App.vue] è§’è‰²åˆ›å»ºå·²åœ¨è¿›è¡Œä¸­ï¼Œå¿½ç•¥é‡å¤è¯·æ±‚");h.startLoading("å¼€å§‹é“¸é€ æ³•èº«...");const n=`char_${Date.now()}`,t=async()=&gt;{try{b.rootState.è§’è‰²åˆ—è¡¨[n]&amp;&amp;(console.log("[è§’è‰²åˆ›å»º] æ£€æµ‹åˆ°æ®‹ç•™æ•°æ®ï¼Œæ¸…ç†ä¸­..."),delete b.rootState.è§’è‰²åˆ—è¡¨[n],b.commitToStorage());let t="æ— åé“å‹";try{const n=(0,an.getTavernHelper)();if(n){const a=await n.getVariables({type:"global"}),o=a["persona.name"]||a.name||e.characterName;t=("string"==typeof o?o:e.characterName)||"æ— åé“å‹",console.log("[åˆ›è§’å®Œæˆ] ä»é…’é¦†Personasè·å–åå­—:",t)}}catch(n){console.warn("[åˆ›è§’å®Œæˆ] æ— æ³•ä»é…’é¦†è·å–Personaåå­—ï¼Œä½¿ç”¨ç”¨æˆ·è¾“å…¥:",n),t=e.characterName||"æ— åé“å‹"}const a=e.baseAttributes?{æ ¹éª¨:e.baseAttributes.root_bone??0,çµæ€§:e.baseAttributes.spirituality??0,æ‚Ÿæ€§:e.baseAttributes.comprehension??0,æ°”è¿:e.baseAttributes.fortune??0,é­…åŠ›:e.baseAttributes.charm??0,å¿ƒæ€§:e.baseAttributes.temperament??0}:{æ ¹éª¨:0,çµæ€§:0,æ‚Ÿæ€§:0,æ°”è¿:0,é­…åŠ›:0,å¿ƒæ€§:0},o={åå­—:t,æ€§åˆ«:"å¥³"===e.gender||"å…¶ä»–"===e.gender?e.gender:"ç”·",ç§æ—:e.race||"äººæ—",ä¸–ç•Œ:e.world?.name||"æœªçŸ¥ä¸–ç•Œ",å¤©èµ„:e.talentTier?.name||"å‡¡å“",å‡ºç”Ÿ:e.origin?.name||"éšæœºå‡ºèº«",çµæ ¹:e.spiritRoot?.name||"éšæœºçµæ ¹",å¤©èµ‹:e.talents?.map(e=&gt;({åç§°:e.name,æè¿°:e.description||""}))||[],å…ˆå¤©å…­å¸:a,åå¤©å…­å¸:{æ ¹éª¨:0,çµæ€§:0,æ‚Ÿæ€§:0,æ°”è¿:0,é­…åŠ›:0,å¿ƒæ€§:0}};o.å¤©èµ„è¯¦æƒ…=e.talentTier,o.å‡ºèº«è¯¦æƒ…=e.origin,o.çµæ ¹è¯¦æƒ…=e.spiritRoot||void 0,o.å¤©èµ‹è¯¦æƒ…=e.talents;const r={charId:n,baseInfo:o,world:e.world,mode:e.mode,age:e.age},l=await b.createNewCharacter(r);if(!l)throw new Error("è§’è‰²åˆ›å»ºå¤±è´¥ï¼Œè¯·æ£€æŸ¥ characterStore çš„æ—¥å¿—ã€‚");const i=b.rootState.è§’è‰²åˆ—è¡¨[n];if(!i)throw new Error("ä¸¥é‡é”™è¯¯ï¼šè§’è‰²åˆ›å»ºåæ— æ³•åœ¨è§’è‰²åˆ—è¡¨ä¸­æ‰¾åˆ°ï¼");const c="å•æœº"===i.æ¨¡å¼?"å­˜æ¡£1":"å­˜æ¡£";return b.rootState.å½“å‰æ¿€æ´»å­˜æ¡£={è§’è‰²ID:n,å­˜æ¡£æ§½ä½:c},b.commitToStorage(),await new Promise(e=&gt;setTimeout(e,500)),d.o.success(`ã€${l.åå­—}ã€‘å·²æˆåŠŸè¸å…¥ä¿®è¡Œä¹‹è·¯ï¼`),await p.push("/game"),await new Promise(e=&gt;setTimeout(e,100)),z(),!0}catch(e){console.error("è§’è‰²åˆ›å»ºè¿‡ç¨‹å‡ºé”™ï¼š",e);const a=e instanceof Error?e.message:"æ³•èº«é“¸é€ è¿‡ç¨‹ä¸­å‡ºç°æ„å¤–";return b.rootState.è§’è‰²åˆ—è¡¨[n]&amp;&amp;(console.log("[è§’è‰²åˆ›å»º] åˆ›å»ºå¤±è´¥ï¼Œæ¸…ç†æ®‹ç•™æ•°æ®..."),delete b.rootState.è§’è‰²åˆ—è¡¨[n],b.commitToStorage()),a.includes("ç”¨æˆ·é€‰æ‹©ç»ˆæ­¢è§’è‰²åˆ›å»º")||a.includes("ç”¨æˆ·é€‰æ‹©ä¸ç»§ç»­é‡è¯•")?(console.log("[è§’è‰²åˆ›å»º] ç”¨æˆ·ä¸»åŠ¨å–æ¶ˆåˆ›å»ºæµç¨‹"),d.o.info("è§’è‰²åˆ›å»ºå·²å–æ¶ˆ"),!1):new Promise(e=&gt;{h.showRetryDialog({title:"è§’è‰²åˆ›å»ºå¤±è´¥",message:`è§’è‰²åˆ›å»ºè¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼š\n\n${a}\n\næ˜¯å¦é‡æ–°å°è¯•åˆ›å»ºè§’è‰²ï¼Ÿ`,confirmText:"é‡æ–°åˆ›å»º",cancelText:"è¿”å›åˆ›å»ºé¡µé¢",onConfirm:async()=&gt;{console.log("[è§’è‰²åˆ›å»º] ç”¨æˆ·é€‰æ‹©é‡æ–°åˆ›å»º"),e(await t())},onCancel:()=&gt;{console.log("[è§’è‰²åˆ›å»º] ç”¨æˆ·é€‰æ‹©è¿”å›åˆ›å»ºé¡µé¢"),d.o.info("å·²è¿”å›è§’è‰²åˆ›å»ºé¡µé¢ï¼Œæ‚¨å¯ä»¥è°ƒæ•´è®¾ç½®åé‡æ–°å¼€å§‹"),e(!1)}})})}};try{console.log("[App.vue] å¼€å§‹æ‰§è¡ŒattemptCreation...");const e=await t();console.log("[App.vue] attemptCreationæ‰§è¡Œå®Œæˆ,ç»“æœ:",e),e||console.log("[è§’è‰²åˆ›å»º] ä¿æŒåœ¨è§’è‰²åˆ›å»ºé¡µé¢")}catch(e){console.error("[App.vue] è§’è‰²åˆ›å»ºæµç¨‹å‡ºç°ä¸¥é‡é”™è¯¯ï¼š",e);const n=e instanceof Error?e.message:String(e);d.o.error(`è§’è‰²åˆ›å»ºå¤±è´¥: ${n}`),n.includes("è¶…æ—¶")&amp;&amp;d.o.error("åˆ›å»ºè¿‡ç¨‹è¶…æ—¶,è¯·æ£€æŸ¥ç½‘ç»œè¿æ¥å’ŒSillyTavernçŠ¶æ€")}finally{console.log("[App.vue] finally: åœæ­¢loading"),h.stopLoading()}};(0,a.watchEffect)(()=&gt;{const e=t.value?"dark":"light";document.documentElement.setAttribute("data-theme",e),localStorage.setItem("theme",e),o.value&amp;&amp;(o.value.checked=!t.value)});const V=()=&gt;{t.value=!t.value},C=()=&gt;{document.fullscreenElement?document.exitFullscreen&amp;&amp;document.exitFullscreen().then(()=&gt;{c.value=!1,localStorage.setItem("fullscreen","false"),console.log("[å…¨å±] å·²é€€å‡ºå…¨å±æ¨¡å¼å¹¶ä¿å­˜çŠ¶æ€")}).catch(e=&gt;{console.error("æ— æ³•é€€å‡ºå…¨å±æ¨¡å¼:",e),d.o.error("æ— æ³•é€€å‡ºå…¨å±æ¨¡å¼")}):document.documentElement.requestFullscreen().then(()=&gt;{c.value=!0,localStorage.setItem("fullscreen","true"),console.log("[å…¨å±] å·²è¿›å…¥å…¨å±æ¨¡å¼å¹¶ä¿å­˜çŠ¶æ€")}).catch(e=&gt;{console.error("æ— æ³•è¿›å…¥å…¨å±æ¨¡å¼:",e),d.o.error("æ— æ³•è¿›å…¥å…¨å±æ¨¡å¼")})},z=()=&gt;{c.value&amp;&amp;!document.fullscreenElement&amp;&amp;(console.log("[å…¨å±] æ£€æµ‹åˆ°éœ€è¦æ¢å¤å…¨å±çŠ¶æ€"),document.documentElement.requestFullscreen().then(()=&gt;{console.log("[å…¨å±] å…¨å±çŠ¶æ€å·²æ¢å¤")}).catch(e=&gt;{console.warn("[å…¨å±] æ— æ³•æ¢å¤å…¨å±çŠ¶æ€:",e),c.value=!1,localStorage.setItem("fullscreen","false")}))};return(0,a.onMounted)(async()=&gt;{console.log("[App] ç­‰å¾… characterStore åˆå§‹åŒ–..."),await b.initializeStore(),console.log("[App] âœ… characterStore åˆå§‹åŒ–å®Œæˆ");const e=()=&gt;{try{if(window.parent===window)return;const e=i()("#chat",parent.document);if(e.length&gt;0){const n=e.height();if(n){const e=.9*n+"px";document.documentElement.style.minHeight=e,console.log(`[App.vue] ä¸»åŠ¨æŸ¥è¯¢çˆ¶çª—å£#chaté«˜åº¦æˆåŠŸï¼Œåº”ç”¨min-height: ${e}`)}}else console.warn("[App.vue] åœ¨çˆ¶çª—å£ä¸­æœªæ‰¾åˆ° #chat å…ƒç´ ï¼Œæ— æ³•è‡ªåŠ¨è°ƒæ•´é«˜åº¦ã€‚")}catch(n){console.error("[App.vue] è®¿é—®çˆ¶çª—å£DOMå¤±è´¥ï¼Œå¯èƒ½æ˜¯è·¨åŸŸé™åˆ¶ã€‚è¯·ç¡®ä¿iframeä¸çˆ¶é¡µé¢åŒæºã€‚",n),i()(parent.window).off("resize",e)}};e(),i()(parent.window).on("resize",e);const n=()=&gt;{const e=!!document.fullscreenElement;c.value=e,localStorage.setItem("fullscreen",e.toString()),l.value&amp;&amp;(l.value.checked=e)};document.addEventListener("fullscreenchange",n),document.addEventListener("webkitfullscreenchange",n),document.addEventListener("mozfullscreenchange",n),document.addEventListener("MSFullscreenChange",n),n(),setTimeout(()=&gt;{z()},500);const t=setInterval(async()=&gt;{try{const e=b.activeSaveSlot;e?.å­˜æ¡£æ•°æ®&amp;&amp;(console.log("[å®šæ—¶ä¿å­˜] ä¿å­˜å½“å‰å­˜æ¡£..."),await b.syncToTavernAndSave(),console.log("[å®šæ—¶ä¿å­˜] ä¿å­˜æˆåŠŸ"))}catch(e){console.error("[å®šæ—¶ä¿å­˜] ä¿å­˜å¤±è´¥:",e)}},3e5);(0,a.onUnmounted)(()=&gt;{if(clearInterval(t),window.parent!==window)try{i()(parent.window).off("resize",e)}catch{}document.removeEventListener("fullscreenchange",n),document.removeEventListener("webkitfullscreenchange",n),document.removeEventListener("mozfullscreenchange",n),document.removeEventListener("MSFullscreenChange",n)})}),(0,a.watch)(v,(e,n)=&gt;{e.path!==n?.path&amp;&amp;(console.log(`[å…¨å±] è·¯ç”±ä» ${n?.path} åˆ‡æ¢åˆ° ${e.path}`),setTimeout(()=&gt;{z()},200))},{immediate:!1}),(e,n)=&gt;{const r=(0,a.resolveComponent)("router-view");return(0,a.openBlock)(),(0,a.createElementBlock)("div",on,[(0,a.createVNode)(M),(0,a.createVNode)(U),(0,a.createVNode)(ne),(0,a.createVNode)(ue),(0,a.unref)(h).showStateChangeViewer?((0,a.openBlock)(),(0,a.createBlock)(Ue,{key:0,log:(0,a.unref)(h).stateChangeLogToShow,onClose:(0,a.unref)(h).closeStateChangeViewer},null,8,["log","onClose"])):(0,a.createCommentVNode)("v-if",!0),(0,a.createVNode)(Xe),(0,a.createCommentVNode)(" å…¨å±€æ“ä½œæŒ‰é’® - åªåœ¨éæ¸¸æˆç•Œé¢æ˜¾ç¤º "),u.value?(0,a.createCommentVNode)("v-if",!0):((0,a.openBlock)(),(0,a.createElementBlock)("div",rn,[(0,a.createElementVNode)("label",{class:"theme-toggle",onClick:(0,a.withModifiers)(V,["prevent"])},[(0,a.createElementVNode)("input",{type:"checkbox",ref_key:"globalThemeCheckbox",ref:o,checked:!t.value},null,8,ln),n[2]||(n[2]=(0,a.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",class:"moon"},[(0,a.createElementVNode)("path",{d:"M223.5 32C100 32 0 132.3 0 256S100 480 223.5 480c60.6 0 115.5-24.2 155.8-63.4c5-4.9 6.3-12.5 3.1-18.7s-10.1-9.7-17-8.5c-9.8 1.7-19.8 2.6-30.1 2.6c-96.9 0-175.5-78.8-175.5-176c0-65.8 36-123.1 89.3-153.3c6.1-3.5 9.2-10.5 7.7-17.3s-7.3-11.9-14.3-12.5c-6.3-.5-12.6-.8-19-.8z"})],-1)),n[3]||(n[3]=(0,a.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",class:"sun"},[(0,a.createElementVNode)("path",{d:"M361.5 1.2c5 2.1 8.6 6.6 9.6 11.9L391 121l107.9 19.8c5.3 1 9.8 4.6 11.9 9.6s1.5 10.7-1.6 15.2L446.9 256l62.3 90.3c3.1 4.5 3.7 10.2 1.6 15.2s-6.6 8.6-11.9 9.6L391 391 371.1 498.9c-1 5.3-4.6 9.8-9.6 11.9s-10.7 1.5-15.2-1.6L256 446.9l-90.3 62.3c-4.5 3.1-10.2 3.7-15.2 1.6s-8.6-6.6-9.6-11.9L121 391 13.1 371.1c-5.3-1-9.8-4.6-11.9-9.6s-1.5-10.7 1.6-15.2L65.1 256 2.8 165.7c-3.1-4.5-3.7-10.2-1.6-15.2s6.6-8.6 11.9-9.6L121 121 140.9 13.1c1-5.3 4.6-9.8 9.6-11.9s10.7-1.5 15.2 1.6L256 65.1 346.3 2.8c4.5-3.1 10.2-3.7 15.2-1.6zM160 256a96 96 0 1 1 192 0 96 96 0 1 1 -192 0zm224 0a128 128 0 1 0 -256 0 128 128 0 1 0 256 0z"})],-1))]),(0,a.createElementVNode)("label",{class:"fullscreen-toggle",onClick:(0,a.withModifiers)(C,["prevent"])},[(0,a.createElementVNode)("input",{type:"checkbox",ref_key:"globalFullscreenCheckbox",ref:l},null,512),n[4]||(n[4]=(0,a.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",class:"expand"},[(0,a.createElementVNode)("path",{d:"M32 32C14.3 32 0 46.3 0 64v96c0 17.7 14.3 32 32 32s32-14.3 32-32V96h64c17.7 0 32-14.3 32-32s-14.3-32-32-32H32zM64 352c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7 14.3 32 32 32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H64V352zM320 32c-17.7 0-32 14.3-32 32s14.3 32 32 32h64v64c0 17.7 14.3 32 32 32s32-14.3 32-32V64c0-17.7-14.3-32-32-32H320zM448 352c0-17.7-14.3-32-32-32s-32 14.3-32 32v64H320c-17.7 0-32 14.3-32 32s14.3 32 32 32h96c17.7 0 32-14.3 32-32V352z"})],-1)),n[5]||(n[5]=(0,a.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",class:"compress"},[(0,a.createElementVNode)("path",{d:"M160 64c0-17.7-14.3-32-32-32s-32 14.3-32 32v64H32c-17.7 0-32 14.3-32 32s14.3 32 32 32h96c17.7 0 32-14.3 32-32V64zM32 320c-17.7 0-32 14.3-32 32s14.3 32 32 32H96v64c0 17.7 14.3 32 32 32s32-14.3 32-32V352c0-17.7-14.3-32-32-32H32zM352 64c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7 14.3 32 32 32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H352V64zM320 320c-17.7 0-32 14.3-32 32v96c0 17.7 14.3 32 32 32s32-14.3 32-32V384h64c17.7 0 32-14.3 32-32s-14.3-32-32-32H320z"})],-1))]),(0,a.createElementVNode)("a",cn,[(0,a.createVNode)((0,a.unref)(s),{size:24})])])),(0,a.createCommentVNode)(" è·¯ç”±è§†å›¾å°†åœ¨è¿™é‡Œæ¸²æŸ“æ‰€æœ‰é¡µé¢ "),(0,a.createVNode)(r,null,{default:(0,a.withCtx)(({Component:e})=&gt;[(0,a.createVNode)(a.Transition,{name:"fade",mode:"out-in"},{default:(0,a.withCtx)(()=&gt;[((0,a.openBlock)(),(0,a.createBlock)((0,a.resolveDynamicComponent)(e),{onStartCreation:y,onShowCharacterList:x,onBack:k,onCreationComplete:E,onLoggedIn:w,onLogin:N},null,32))]),_:2},1024)]),_:1}),(0,a.createCommentVNode)(" Author Info Modal "),m.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:2,class:"author-modal-overlay",onClick:n[1]||(n[1]=(0,a.withModifiers)(e=&gt;m.value=!1,["self"]))},[(0,a.createElementVNode)("div",sn,[(0,a.createElementVNode)("div",dn,[n[6]||(n[6]=(0,a.createElementVNode)("h3",null,"ğŸ® å¤§é“æœå¤© - æ¸¸æˆä¿¡æ¯",-1)),(0,a.createElementVNode)("button",{class:"close-btn",onClick:n[0]||(n[0]=e=&gt;m.value=!1)},"Ã—")]),n[7]||(n[7]=(0,a.createStaticVNode)('<div class="author-modal-body" data-v-6ff8c096=""><div class="version-badge" data-v-6ff8c096="">V1.0 Beta</div><div class="info-section" data-v-6ff8c096=""><h4 data-v-6ff8c096="">ğŸ“ å…³äºæ¸¸æˆ</h4><p data-v-6ff8c096="">ã€Šå¤§é“æœå¤©ã€‹æ˜¯ä¸€æ¬¾åŸºäºAIé©±åŠ¨çš„æ²‰æµ¸å¼ä¿®ä»™æ–‡å­—å†’é™©æ¸¸æˆï¼Œç»“åˆSillyTavernä¸Gemini AIï¼Œä¸ºç©å®¶æ‰“é€ æ— é™å¯èƒ½çš„ä¿®ä»™ä¸–ç•Œã€‚</p><p data-v-6ff8c096=""><span style="color:yellow;" data-v-6ff8c096="">æ¸¸ç©å°½é‡ä½¿ç”¨æ¨èé¢„è®¾ï¼Œåœ¨äº†è§£åŸç†åå¯è‡ªè¡Œæ›´æ¢è°ƒæ•´ï¼Œ<span style="color:red;" data-v-6ff8c096="">ç¦æ­¢æ‰“å¼€COT</span></span></p></div><div class="info-section" data-v-6ff8c096=""><h4 data-v-6ff8c096="">âœ¨ æ ¸å¿ƒåŠŸèƒ½</h4><ul class="feature-list" data-v-6ff8c096=""><li data-v-6ff8c096="">ğŸ² <strong data-v-6ff8c096="">æ™ºèƒ½åˆ¤å®šç³»ç»Ÿ</strong> - æ ¹æ®å¢ƒç•Œã€å±æ€§ã€è£…å¤‡ã€å¤§é“ç­‰å…¨æ–¹ä½è®¡ç®—åˆ¤å®š</li><li data-v-6ff8c096="">ğŸŒŸ <strong data-v-6ff8c096="">ä¸‰åƒå¤§é“ç³»ç»Ÿ</strong> - æ¢ç´¢ä¿®ç‚¼ç‹¬ç‰¹çš„ä¿®ä»™ä¹‹é“ï¼Œæå‡å®åŠ›</li><li data-v-6ff8c096="">ğŸ“– <strong data-v-6ff8c096="">åŠ¨æ€å‰§æƒ…ç”Ÿæˆ</strong> - AIå®æ—¶ç”Ÿæˆä¸ªæ€§åŒ–çš„ä¿®ä»™æ•…äº‹</li><li data-v-6ff8c096="">ğŸ’¾ <strong data-v-6ff8c096="">å¤šå­˜æ¡£ç®¡ç†</strong> - æ”¯æŒå¤šè§’è‰²ã€å¤šå‘¨ç›®æ¸¸ç©</li><li data-v-6ff8c096="">âš”ï¸ <strong data-v-6ff8c096="">æ·±åº¦RPGç³»ç»Ÿ</strong> - å¢ƒç•Œçªç ´ã€åŠŸæ³•å­¦ä¹ ã€è£…å¤‡ç‚¼åˆ¶ã€NPCäº’åŠ¨</li><li data-v-6ff8c096="">ğŸ—ºï¸ <strong data-v-6ff8c096="">ä¸–ç•Œæ¢ç´¢</strong> - è‡ªç”±æ¢ç´¢æœå¤©å¤§é™†ï¼Œè§¦å‘å¥‡é‡äº‹ä»¶</li><li data-v-6ff8c096="">ğŸ¨ <strong data-v-6ff8c096="">ç²¾ç¾UI</strong> - ä¿®ä»™é£æ ¼ç•Œé¢ï¼Œæ”¯æŒäº®æš—åŒä¸»é¢˜</li><li data-v-6ff8c096="">ğŸ’¬ <strong data-v-6ff8c096="">æ ¼å¼åŒ–æ–‡æœ¬</strong> - ç¯å¢ƒæå†™ã€å¿ƒç†æ´»åŠ¨ã€å¯¹è¯ã€åˆ¤å®šç»“æœåˆ†åˆ«æ¸²æŸ“</li></ul></div><div class="info-section" data-v-6ff8c096=""><h4 data-v-6ff8c096="">ğŸ‘¨â€ğŸ’» ä½œè€…ä¿¡æ¯</h4><p data-v-6ff8c096=""><strong data-v-6ff8c096="">ä½œè€…:</strong> åƒå¤œ</p><p data-v-6ff8c096=""><strong data-v-6ff8c096="">GitHub:</strong><a href="https://github.com/qianye60" target="_blank" rel="noopener noreferrer" data-v-6ff8c096=""> https://github.com/qianye60 </a></p><p class="tech-stack" data-v-6ff8c096=""><strong data-v-6ff8c096="">æŠ€æœ¯æ ˆ:</strong> Vue 3 + TypeScript + SillyTavern</p></div><div class="info-section" data-v-6ff8c096=""><h4 data-v-6ff8c096="">ğŸ“¢ ç‰ˆæœ¬è¯´æ˜</h4><p class="version-note" data-v-6ff8c096="">å½“å‰ä¸º<strong data-v-6ff8c096="">V1.0 Beta</strong>æµ‹è¯•ç‰ˆæœ¬ï¼Œéƒ¨åˆ†åŠŸèƒ½ä»åœ¨å¼€å‘å®Œå–„ä¸­ã€‚æ¬¢è¿åé¦ˆå»ºè®®ï¼</p></div><div class="info-section" data-v-6ff8c096=""><h4 data-v-6ff8c096="">âš–ï¸ ç‰ˆæƒå£°æ˜</h4><div class="copyright-notice" data-v-6ff8c096=""><p data-v-6ff8c096="">Â© 2025 åƒå¤œ ç‰ˆæƒæ‰€æœ‰</p><p data-v-6ff8c096="">æœ¬ä½œå“é‡‡ç”¨ <strong data-v-6ff8c096="">CC BY-NC-ND 4.0</strong> åè®®æˆæƒ</p><ul class="copyright-list" data-v-6ff8c096=""><li data-v-6ff8c096="">âœ… <strong data-v-6ff8c096="">å…è®¸</strong> - ä¸ªäººå…è´¹ä½¿ç”¨ã€å­¦ä¹ äº¤æµ</li><li data-v-6ff8c096="">âœ… <strong data-v-6ff8c096="">å…è®¸</strong> - åˆ†äº«è½¬å‘æ—¶é¡»æ³¨æ˜åŸä½œè€…</li><li data-v-6ff8c096="">âŒ <strong data-v-6ff8c096="">ç¦æ­¢</strong> - å•†ä¸šç”¨é€”ï¼ˆåŒ…æ‹¬ä½†ä¸é™äºå”®å–ã€æ”¶è´¹æ¨å¹¿ç­‰ï¼‰</li><li data-v-6ff8c096="">âŒ <strong data-v-6ff8c096="">ç¦æ­¢</strong> - ä¿®æ”¹åé‡æ–°å‘å¸ƒ</li><li data-v-6ff8c096="">âŒ <strong data-v-6ff8c096="">ç¦æ­¢</strong> - ç§»é™¤æˆ–ä¿®æ”¹ç‰ˆæƒä¿¡æ¯</li></ul></div></div></div>',1))])])):(0,a.createCommentVNode)("v-if",!0)])}}});var pn=t(4388),vn={};vn.styleTagTransform=A(),vn.setAttributes=z(),vn.insert=V().bind(null,"head"),vn.domAPI=N(),vn.insertStyleElement=B(),k()(pn.A,vn),pn.A&amp;&amp;pn.A.locals&amp;&amp;pn.A.locals;const un=(0,j.A)(mn,[["__scopeId","data-v-6ff8c096"]]),gn={class:"video-background-container"},fn=(0,a.defineComponent)({__name:"VideoBackground",props:{src:{default:"http://ddct.top/backgroundvedio.mp4"}},setup(e){const n=e,t=(0,a.ref)(),o=async e=&gt;{if(!t.value)return void console.warn("[VideoBackground] videoå…ƒç´ æœªå‡†å¤‡å¥½");console.log(`[VideoBackground] ç›´æ¥åŠ è½½è§†é¢‘: ${e}`),t.value.src=e,t.value.load();const n=async()=&gt;{try{await t.value.play(),console.log("[VideoBackground] è§†é¢‘æ’­æ”¾æˆåŠŸ")}catch(e){console.log("[VideoBackground] è‡ªåŠ¨æ’­æ”¾å¤±è´¥ï¼Œç­‰å¾…ç”¨æˆ·äº¤äº’");const n=async()=&gt;{try{await t.value.play(),console.log("[VideoBackground] ç”¨æˆ·äº¤äº’åè§†é¢‘æ’­æ”¾æˆåŠŸ"),document.removeEventListener("click",n),document.removeEventListener("keydown",n),document.removeEventListener("touchstart",n)}catch(e){console.warn("[VideoBackground] å³ä½¿ç”¨æˆ·äº¤äº’åä»æ— æ³•æ’­æ”¾:",e)}};document.addEventListener("click",n,{once:!0}),document.addEventListener("keydown",n,{once:!0}),document.addEventListener("touchstart",n,{once:!0})}};t.value.readyState&gt;=3?await n():t.value.addEventListener("canplay",n,{once:!0})};(0,a.onMounted)(async()=&gt;{await o(n.src)}),(0,a.watch)(()=&gt;n.src,async e=&gt;{e&amp;&amp;await o(e)}),(0,a.onUnmounted)(()=&gt;{t.value&amp;&amp;t.value.pause()});const r=()=&gt;{console.log("[VideoBackground] å¼€å§‹åŠ è½½è§†é¢‘")},l=()=&gt;{console.log("[VideoBackground] è§†é¢‘å¯ä»¥æµç•…æ’­æ”¾")},i=e=&gt;{console.error("[VideoBackground] è§†é¢‘æ’­æ”¾é”™è¯¯:",e)};return(e,n)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",gn,[(0,a.createElementVNode)("video",{ref_key:"videoRef",ref:t,autoplay:"",muted:"",loop:"",playsinline:"",class:"video-background",onLoadstart:r,onCanplaythrough:l,onError:i},null,544),n[0]||(n[0]=(0,a.createElementVNode)("div",{class:"video-overlay"},null,-1))]))}});var bn=t(4081),hn={};hn.styleTagTransform=A(),hn.setAttributes=z(),hn.insert=V().bind(null,"head"),hn.domAPI=N(),hn.insertStyleElement=B(),k()(bn.A,hn),bn.A&amp;&amp;bn.A.locals&amp;&amp;bn.A.locals;const yn=(0,j.A)(fn,[["__scopeId","data-v-faad78a8"]]),xn={class:"mode-selection-container"},kn={class:"selection-content"},wn={class:"gate-container"},Nn=(0,a.defineComponent)({__name:"ModeSelection",emits:["start-creation","show-character-list"],setup(e,{emit:n}){(0,a.ref)("..."),(0,a.onMounted)(async()=&gt;{});const t=n,o=(0,q.useUIStore)(),r=e=&gt;{"cloud"!==e?t("start-creation",e):o.showRetryDialog({title:"åŠŸèƒ½æœªå¼€æ”¾",message:"è”æœºå…±ä¿®å¼€å‘ä¸­ï¼Œå½“å‰ç‰ˆæœ¬å·²å°é”å…¥å£ã€‚è¯·å…ˆé€‰æ‹©â€œå•æœºé—­å…³â€ã€‚",confirmText:"çŸ¥é“äº†",cancelText:"å–æ¶ˆ",onConfirm:()=&gt;{},onCancel:()=&gt;{}})},l=()=&gt;{t("show-character-list")};return(e,n)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",xn,[(0,a.createVNode)(yn),(0,a.createElementVNode)("div",kn,[n[5]||(n[5]=(0,a.createStaticVNode)('<div class="header-container" data-v-6b737fda=""><div class="title-version-row" data-v-6b737fda=""><h1 class="main-title" data-v-6b737fda="">å¤§ é“ æœ å¤©</h1><span class="version-tag" data-v-6b737fda="">V2.0 Beta</span>\x3c!--{{ appVersion }}--\x3e</div><p class="sub-title" data-v-6b737fda="">ä»™è·¯æ±‚ç´¢ Â· ä¸‡é“å½’å¤©</p></div>',1)),(0,a.createElementVNode)("div",wn,[(0,a.createCommentVNode)(" Left Gate: Single Player "),(0,a.createElementVNode)("div",{class:"gate-card left-gate",onClick:n[0]||(n[0]=e=&gt;r("single"))},n[2]||(n[2]=[(0,a.createStaticVNode)('<div class="gate-icon" data-v-6b737fda="">\x3c!-- Icon: ç‹¬ä¿®é—­å…³ --\x3e<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" data-v-6b737fda=""><path d="M8 2v4" data-v-6b737fda=""></path><path d="M16 2v4" data-v-6b737fda=""></path><rect width="18" height="18" x="3" y="4" rx="2" data-v-6b737fda=""></rect><path d="M3 10h18" data-v-6b737fda=""></path><path d="M8 14h.01" data-v-6b737fda=""></path><path d="M12 14h.01" data-v-6b737fda=""></path><path d="M16 14h.01" data-v-6b737fda=""></path><path d="M8 18h.01" data-v-6b737fda=""></path><path d="M12 18h.01" data-v-6b737fda=""></path><path d="M16 18h.01" data-v-6b737fda=""></path></svg></div><div class="gate-text" data-v-6b737fda=""><h2 class="gate-title" data-v-6b737fda="">å•æœºé—­å…³</h2><p class="gate-description" data-v-6b737fda="">é¿ä¸–æ¸…ä¿®Â·å¿ƒæ— æ—éª›</p><p class="gate-detail" data-v-6b737fda="">ç‹¬å±…æ´åºœï¼Œä¸“å¿ƒè‡´å¿—ç‚¼å°±å¤§é“æ ¹åŸº<br data-v-6b737fda="">æ‰€æœ‰è¿›åº¦æœ¬åœ°å­˜å‚¨ï¼Œæ–­ç½‘äº¦å¯ä¿®è¡Œ</p></div>',2)])),(0,a.createCommentVNode)(" Right Gate: Multiplayer (temporarily disabled) "),(0,a.createElementVNode)("div",{class:"gate-card right-gate disabled",onClick:n[1]||(n[1]=e=&gt;r("cloud"))},n[3]||(n[3]=[(0,a.createStaticVNode)('<div class="gate-icon" data-v-6b737fda="">\x3c!-- Icon: è”æœºå…±ä¿® --\x3e<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" data-v-6b737fda=""><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2" data-v-6b737fda=""></path><circle cx="9" cy="7" r="4" data-v-6b737fda=""></circle><path d="M22 21v-2a4 4 0 0 0-3-3.87" data-v-6b737fda=""></path><path d="M16 3.13a4 4 0 0 1 0 7.75" data-v-6b737fda=""></path></svg></div><div class="gate-text" data-v-6b737fda=""><h2 class="gate-title" data-v-6b737fda="">è”æœºå…±ä¿®ï¼ˆæœªå¼€æ”¾ï¼‰</h2><p class="gate-description" data-v-6b737fda="">åŠŸèƒ½ç ”å‘ä¸­ï¼Œæ•¬è¯·æœŸå¾…</p><p class="gate-detail" data-v-6b737fda="">å½“å‰ç‰ˆæœ¬å·²å°é”è”æœºå…¥å£ï¼Œä¸å½±å“å•æœºé—­å…³ä½“éªŒ</p></div>',2)]))]),(0,a.createCommentVNode)(" éšç§è¯´æ˜ "),n[6]||(n[6]=(0,a.createElementVNode)("div",{class:"privacy-notice"},[(0,a.createElementVNode)("p",null,[(0,a.createTextVNode)("æœ¬è”æœºè°¨éµå¤©é“æ³•åˆ™ï¼š"),(0,a.createElementVNode)("strong",null,"ä¸å­˜å‚¨ä»»ä½•å¯¹è¯è®°å½•")]),(0,a.createElementVNode)("p",null,"ä»…ä¿ç•™æ³•èº«å±æ€§ã€å¢ƒç•Œè¿›åº¦ç­‰ä¿®è¡Œè¦ç´ ï¼Œç¡®ä¿é“å‹éšç§æ¸…å‡€æ— æŸ“")],-1)),(0,a.createElementVNode)("div",{class:"footer-actions"},[(0,a.createElementVNode)("button",{class:"scroll-btn",onClick:l},n[4]||(n[4]=[(0,a.createElementVNode)("span",null,"ç»­ å‰ ä¸– å›  ç¼˜",-1)]))])])]))}});var En=t(1325),Vn={};Vn.styleTagTransform=A(),Vn.setAttributes=z(),Vn.insert=V().bind(null,"head"),Vn.domAPI=N(),Vn.insertStyleElement=B(),k()(En.A,Vn),En.A&amp;&amp;En.A.locals&amp;&amp;En.A.locals;const Cn=(0,j.A)(Nn,[["__scopeId","data-v-6b737fda"]]),zn=["disabled","title"],Sn={key:0,class:"sync-icon"},Bn={key:1,class:"sync-icon"},Dn={key:2,class:"sync-icon"},An={class:"sync-text"},_n=(0,a.defineComponent)({__name:"CloudDataSync",props:{size:{},variant:{}},emits:["syncCompleted","syncStarted"],setup(e,{emit:n}){const t=n,o=(0,nn.N)(),r=(0,a.ref)(!1),l=(0,a.ref)(!1);async function i(){if(r.value||l.value)return void(l.value&amp;&amp;d.o.info("äº‘ç«¯æ•°æ®å·²è·å–ï¼Œæ— éœ€é‡å¤æ“ä½œ"));r.value=!0,t("syncStarted");const e="cloud-sync-toast";d.o.loading("æ­£åœ¨è·å–äº‘ç«¯æ•°æ®...",{id:e});try{const n=await o.fetchAllCloudData();n&gt;0?(d.o.success(`åŒæ­¥æˆåŠŸï¼æ–°å¢ ${n} é¡¹äº‘ç«¯æ•°æ®`,{id:e}),l.value=!0):(d.o.info("æ‰€æœ‰äº‘ç«¯æ•°æ®å·²æ˜¯æœ€æ–°",{id:e}),l.value=!0),t("syncCompleted",{success:!0,newItemsCount:n,message:"åŒæ­¥æˆåŠŸ"})}catch(n){console.error("[äº‘ç«¯åŒæ­¥ç»„ä»¶] åŒæ­¥äº‘ç«¯æ•°æ®å¤±è´¥:",n);const a=n instanceof Error?n.message:"åŒæ­¥å¤±è´¥";d.o.error(`åŒæ­¥å¤±è´¥: ${a}`,{id:e}),t("syncCompleted",{success:!1,newItemsCount:0,message:a})}finally{r.value=!1}}return(e,n)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("button",{onClick:i,class:(0,a.normalizeClass)(["cloud-sync-button",{synced:l.value}]),disabled:r.value,title:r.value?"æ­£åœ¨åŒæ­¥äº‘ç«¯æ•°æ®...":l.value?"äº‘ç«¯æ•°æ®å·²è·å–":"è·å–äº‘ç«¯æ•°æ®"},[r.value?((0,a.openBlock)(),(0,a.createElementBlock)("span",Sn,"â³")):l.value?((0,a.openBlock)(),(0,a.createElementBlock)("span",Bn,"âœ…")):((0,a.openBlock)(),(0,a.createElementBlock)("span",Dn,"â˜ï¸")),(0,a.createElementVNode)("span",An,(0,a.toDisplayString)(r.value?"åŒæ­¥ä¸­":l.value?"å·²è·å–":"è·å–äº‘ç«¯"),1)],10,zn))}});var $n=t(6932),In={};In.styleTagTransform=A(),In.setAttributes=z(),In.insert=V().bind(null,"head"),In.domAPI=N(),In.insertStyleElement=B(),k()($n.A,In),$n.A&amp;&amp;$n.A.locals&amp;&amp;$n.A.locals;const Tn=(0,j.A)(_n,[["__scopeId","data-v-5e3340f2"]]);var jn=t(7527);const Mn={class:"data-clear-container"},qn={class:"clear-buttons"},On=["disabled"],Pn=["disabled"],Fn=(0,a.defineComponent)({__name:"DataClearButtons",props:{variant:{},size:{}},emits:["dataCleared"],setup(e,{emit:n}){const t=n,o=(0,nn.N)(),r=(0,q.useUIStore)(),l=(0,a.computed)(()=&gt;{const e=Math.max(...jn.eQ.map(e=&gt;e.id)),n=Math.max(...jn.VQ.map(e=&gt;e.id)),t=Math.max(...jn.yM.map(e=&gt;e.id)),a=Math.max(...jn.Gr.map(e=&gt;e.id)),r=Math.max(...jn.qS.map(e=&gt;e.id));return o.creationData.worlds.some(n=&gt;"cloud"===n.source||n.id&gt;e)||o.creationData.talentTiers.some(e=&gt;"cloud"===e.source||e.id&gt;n)||o.creationData.origins.some(e=&gt;"cloud"===e.source||e.id&gt;t)||o.creationData.spiritRoots.some(e=&gt;"cloud"===e.source||e.id&gt;a)||o.creationData.talents.some(e=&gt;"cloud"===e.source||e.id&gt;r)}),i=(0,a.computed)(()=&gt;o.creationData.worlds.some(e=&gt;"cloud"===e.source)||o.creationData.talentTiers.some(e=&gt;"cloud"===e.source)||o.creationData.origins.some(e=&gt;"cloud"===e.source)||o.creationData.spiritRoots.some(e=&gt;"cloud"===e.source)||o.creationData.talents.some(e=&gt;"cloud"===e.source));async function c(){l.value&amp;&amp;r.showRetryDialog({title:"æ¸…é™¤è‡ªå®šä¹‰æ•°æ®",message:"ç¡®å®šè¦æ¸…é™¤è‡ªå®šä¹‰æ•°æ®å—ï¼Ÿè¿™å°†æ¸…é™¤æ‰€æœ‰è‡ªå®šä¹‰å’ŒAIç”Ÿæˆçš„æ•°æ®ï¼Œä¿ç•™æœ¬åœ°åŸºç¡€æ•°æ®å’Œäº‘ç«¯æ•°æ®ã€‚æ­¤æ“ä½œä¸å¯æ’¤é”€ï¼",confirmText:"ç¡®è®¤æ¸…é™¤",cancelText:"å–æ¶ˆ",onConfirm:async()=&gt;{const e=o.creationData.worlds.length,n=o.creationData.talentTiers.length,a=o.creationData.origins.length,r=o.creationData.spiritRoots.length,l=o.creationData.talents.length,i=Math.max(...jn.eQ.map(e=&gt;e.id)),c=Math.max(...jn.VQ.map(e=&gt;e.id)),s=Math.max(...jn.yM.map(e=&gt;e.id)),m=Math.max(...jn.Gr.map(e=&gt;e.id)),p=Math.max(...jn.qS.map(e=&gt;e.id));o.creationData.worlds=o.creationData.worlds.filter(e=&gt;"local"===e.source||e.id&lt;=i),o.creationData.talentTiers=o.creationData.talentTiers.filter(e=&gt;"local"===e.source||e.id&lt;=c),o.creationData.origins=o.creationData.origins.filter(e=&gt;"local"===e.source||e.id&lt;=s),o.creationData.spiritRoots=o.creationData.spiritRoots.filter(e=&gt;"local"===e.source||e.id&lt;=m),o.creationData.talents=o.creationData.talents.filter(e=&gt;"local"===e.source||e.id&lt;=p);const v=e-o.creationData.worlds.length+(n-o.creationData.talentTiers.length)+(a-o.creationData.origins.length)+(r-o.creationData.spiritRoots.length)+(l-o.creationData.talents.length);o.resetCharacter(),await async function(){try{const e=(0,an.getTavernHelper)();if(!e)return void console.warn("é…’é¦†åŠ©æ‰‹ä¸å¯ç”¨ï¼Œè·³è¿‡æ¸…ç†é…’é¦†è‡ªå®šä¹‰æ•°æ®");await e.deleteVariable("DAD_creationData",{type:"global"}),console.log("å·²æ¸…ç†é…’é¦†å…¨å±€å˜é‡ DAD_creationData");const n=await e.getVariables({type:"global"}),t=Object.keys(n).filter(e=&gt;e.includes("DAD_")||e.includes("custom")||e.includes("è‡ªå®šä¹‰"));t.length&gt;0&amp;&amp;(await Promise.all(t.map(n=&gt;e.deleteVariable(n,{type:"global"}))),console.log(`å·²æ¸…ç† ${t.length} ä¸ªè‡ªå®šä¹‰æ•°æ®ç›¸å…³çš„é…’é¦†å˜é‡:`,t))}catch(e){console.error("æ¸…ç†é…’é¦†è‡ªå®šä¹‰æ•°æ®æ—¶å‡ºé”™:",e)}}(),await o.persistCustomData(),d.o.success(`å·²æ¸…é™¤${v} é¡¹è‡ªå®šä¹‰æ•°æ®ï¼Œä¿ç•™æœ¬åœ°åŸºç¡€æ•°æ®å’Œäº‘ç«¯æ•°æ®`),t("dataCleared","custom",v)},onCancel:()=&gt;{}})}async function s(){i.value&amp;&amp;r.showRetryDialog({title:"æ¸…é™¤äº‘ç«¯æ•°æ®",message:"ç¡®å®šè¦æ¸…é™¤äº‘ç«¯æ•°æ®å—ï¼Ÿè¿™å°†æ¸…é™¤ä»äº‘ç«¯è·å–çš„æ•°æ®ï¼Œä¿ç•™æœ¬åœ°åŸºç¡€æ•°æ®å’Œè‡ªå®šä¹‰æ•°æ®ã€‚æ­¤æ“ä½œä¸å¯æ’¤é”€ï¼",confirmText:"ç¡®è®¤æ¸…é™¤",cancelText:"å–æ¶ˆ",onConfirm:async()=&gt;{const e=o.creationData.worlds.length,n=o.creationData.talentTiers.length,a=o.creationData.origins.length,r=o.creationData.spiritRoots.length,l=o.creationData.talents.length;o.creationData.worlds=o.creationData.worlds.filter(e=&gt;"cloud"!==e.source),o.creationData.talentTiers=o.creationData.talentTiers.filter(e=&gt;"cloud"!==e.source),o.creationData.origins=o.creationData.origins.filter(e=&gt;"cloud"!==e.source),o.creationData.spiritRoots=o.creationData.spiritRoots.filter(e=&gt;"cloud"!==e.source),o.creationData.talents=o.creationData.talents.filter(e=&gt;"cloud"!==e.source);const i=e-o.creationData.worlds.length+(n-o.creationData.talentTiers.length)+(a-o.creationData.origins.length)+(r-o.creationData.spiritRoots.length)+(l-o.creationData.talents.length);o.resetCharacter(),await o.persistCustomData(),d.o.success(`å·²æ¸…é™¤${i} é¡¹äº‘ç«¯æ•°æ®ï¼Œä¿ç•™æœ¬åœ°æ•°æ®å’Œè‡ªå®šä¹‰æ•°æ®`),t("dataCleared","cloud",i)},onCancel:()=&gt;{}})}return(e,n)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",Mn,[(0,a.createElementVNode)("div",qn,[(0,a.createCommentVNode)(" æ¸…é™¤è‡ªå®šä¹‰æ•°æ®ï¼ˆè‡ªå®šä¹‰+AIç”Ÿæˆï¼‰ï¼Œä¿ç•™æœ¬åœ°åŸºç¡€+äº‘ç«¯æ•°æ® "),(0,a.createElementVNode)("button",{onClick:c,class:"clear-button custom",disabled:!l.value,title:"æ¸…é™¤è‡ªå®šä¹‰å’ŒAIç”Ÿæˆçš„æ•°æ®"},n[0]||(n[0]=[(0,a.createElementVNode)("span",{class:"clear-icon"},"ğŸ—‘ï¸",-1),(0,a.createElementVNode)("span",{class:"clear-text"},"æ¸…é™¤è‡ªå®šä¹‰",-1)]),8,On),(0,a.createCommentVNode)(" æ¸…é™¤äº‘ç«¯æ•°æ®ï¼Œä¿ç•™æœ¬åœ°åŸºç¡€+è‡ªå®šä¹‰æ•°æ® "),(0,a.createElementVNode)("button",{onClick:s,class:"clear-button cloud",disabled:!i.value,title:"æ¸…é™¤ä»äº‘ç«¯è·å–çš„æ•°æ®"},n[1]||(n[1]=[(0,a.createElementVNode)("span",{class:"clear-icon"},"â˜ï¸",-1),(0,a.createElementVNode)("span",{class:"clear-text"},"æ¸…é™¤äº‘ç«¯",-1)]),8,Pn)])]))}});var Ln=t(4920),Yn={};Yn.styleTagTransform=A(),Yn.setAttributes=z(),Yn.insert=V().bind(null,"head"),Yn.domAPI=N(),Yn.insertStyleElement=B(),k()(Ln.A,Yn),Ln.A&amp;&amp;Ln.A.locals&amp;&amp;Ln.A.locals;const Rn=(0,j.A)(Fn,[["__scopeId","data-v-36f2cce4"]]),Un=(0,c.A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);var Gn=t(1783);const Wn=(0,c.A)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Jn={class:"modal-dialog"},Hn={class:"modal-title"},Qn={class:"form-fields"},Kn=["for"],Xn=["id","onUpdate:modelValue","placeholder","type"],Zn=["id","onUpdate:modelValue","placeholder"],et=["id","onUpdate:modelValue"],nt=["value"],tt={class:"dynamic-list-container"},at={class:"list-header"},ot=["onClick"],rt={key:0,class:"list-items"},lt={class:"item-inputs"},it=["onUpdate:modelValue"],ct=["value"],st=["onUpdate:modelValue","placeholder"],dt=["onUpdate:modelValue","placeholder"],mt=["onUpdate:modelValue","placeholder"],pt=["onClick"],vt={key:1,class:"empty-list"},ut={key:0,class:"error-messages"},gt=(0,a.defineComponent)({__name:"CustomCreationModal",props:{visible:{type:Boolean},title:{},fields:{},validationFn:{type:Function},initialData:{}},emits:["close","submit"],setup(e,{emit:n}){const t=e,o=n,r=(0,a.ref)({}),l=(0,a.ref)([]),i=(0,a.computed)(()=&gt;t.fields.filter(e=&gt;!e.condition||e.condition(r.value)));function c(){o("close")}function s(){l.value=[];const e=t.validationFn(r.value);e.valid?(o("submit",{...r.value}),c()):l.value=e.errors}return(0,a.watch)(()=&gt;[t.fields,t.initialData],([e,n])=&gt;{const t={};e.forEach(e=&gt;{const a=n?.[e.key];"select"===e.type?t[e.key]=a??e.options?.[0]?.value??"":"dynamic-list"===e.type?t[e.key]=Array.isArray(a)?JSON.parse(JSON.stringify(a)):[]:t[e.key]=a??""}),r.value=t},{immediate:!0,deep:!0}),(e,n)=&gt;((0,a.openBlock)(),(0,a.createBlock)(a.Transition,{name:"modal-fade"},{default:(0,a.withCtx)(()=&gt;[e.visible?((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:0,class:"modal-overlay",onClick:(0,a.withModifiers)(c,["self"])},[(0,a.createElementVNode)("div",Jn,[(0,a.createElementVNode)("h2",Hn,(0,a.toDisplayString)(e.title),1),(0,a.createElementVNode)("div",Qn,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(i.value,e=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:e.key,class:"form-group"},[(0,a.createElementVNode)("label",{for:e.key},(0,a.toDisplayString)(e.label),9,Kn),"text"===e.type||"color"===e.type||"number"===e.type?(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createElementBlock)("input",{key:0,id:e.key,"onUpdate:modelValue":n=&gt;r.value[e.key]=n,placeholder:e.placeholder,type:e.type},null,8,Xn)),[[a.vModelDynamic,r.value[e.key]]]):"textarea"===e.type?(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createElementBlock)("textarea",{key:1,id:e.key,"onUpdate:modelValue":n=&gt;r.value[e.key]=n,placeholder:e.placeholder,rows:"5"},null,8,Zn)),[[a.vModelText,r.value[e.key]]]):"select"===e.type?(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createElementBlock)("select",{key:2,id:e.key,"onUpdate:modelValue":n=&gt;r.value[e.key]=n},[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.options,e=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("option",{key:e.value,value:e.value},(0,a.toDisplayString)(e.label),9,nt))),128))],8,et)),[[a.vModelSelect,r.value[e.key]]]):"dynamic-list"===e.type?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:3},[(0,a.createCommentVNode)(" åŠ¨æ€åˆ—è¡¨å­—æ®µ "),(0,a.createElementVNode)("div",tt,[(0,a.createElementVNode)("div",at,[(0,a.createElementVNode)("span",null,(0,a.toDisplayString)(e.label),1),(0,a.createElementVNode)("button",{onClick:n=&gt;function(e){const n=r.value[e.key];Array.isArray(n)||(r.value[e.key]=[]);const t={};e.columns.forEach(e=&gt;{"select"===e.type&amp;&amp;e.options?t[e.key]=e.options[0]?.value||"":t[e.key]=""}),r.value[e.key].push(t)}(e),class:"add-btn",type:"button"},"+ æ·»åŠ ",8,ot)]),Array.isArray(r.value[e.key])&amp;&amp;r.value[e.key].length&gt;0?((0,a.openBlock)(),(0,a.createElementBlock)("div",rt,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.value[e.key],(n,t)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:t,class:"list-item"},[(0,a.createElementVNode)("div",lt,["select"===e.columns[0].type?(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createElementBlock)("select",{key:0,"onUpdate:modelValue":t=&gt;n[e.columns[0].key]=t,class:"item-input"},[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.columns[0].options,e=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("option",{key:e.value,value:e.value},(0,a.toDisplayString)(e.label),9,ct))),128))],8,it)),[[a.vModelSelect,n[e.columns[0].key]]]):(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createElementBlock)("input",{key:1,"onUpdate:modelValue":t=&gt;n[e.columns[0].key]=t,placeholder:e.columns[0].placeholder,class:"item-input"},null,8,st)),[[a.vModelText,n[e.columns[0].key]]]),e.columns[1]?(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createElementBlock)("input",{key:2,"onUpdate:modelValue":t=&gt;n[e.columns[1].key]=t,placeholder:e.columns[1].placeholder,class:"item-input"},null,8,dt)),[[a.vModelText,n[e.columns[1].key]]]):(0,a.createCommentVNode)("v-if",!0),e.columns[2]?(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createElementBlock)("input",{key:3,"onUpdate:modelValue":t=&gt;n[e.columns[2].key]=t,placeholder:e.columns[2].placeholder,class:"item-input",type:"number",step:"0.1"},null,8,mt)),[[a.vModelText,n[e.columns[2].key]]]):(0,a.createCommentVNode)("v-if",!0)]),(0,a.createElementVNode)("button",{onClick:n=&gt;function(e,n){const t=r.value[e.key];Array.isArray(t)&amp;&amp;t.splice(n,1)}(e,t),class:"remove-btn",type:"button"},"Ã—",8,pt)]))),128))])):((0,a.openBlock)(),(0,a.createElementBlock)("div",vt,n[0]||(n[0]=[(0,a.createElementVNode)("span",null,'æš‚æ— æ¡ç›®ï¼Œç‚¹å‡»"æ·»åŠ "æŒ‰é’®å¼€å§‹',-1)])))])],2112)):(0,a.createCommentVNode)("v-if",!0)]))),128))]),l.value.length?((0,a.openBlock)(),(0,a.createElementBlock)("div",ut,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(l.value,(e,n)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("p",{key:n},"* "+(0,a.toDisplayString)(e),1))),128))])):(0,a.createCommentVNode)("v-if",!0),(0,a.createElementVNode)("div",{class:"modal-actions"},[(0,a.createElementVNode)("button",{onClick:c,class:"btn btn-secondary"},"å…³é—­"),(0,a.createElementVNode)("button",{onClick:s,class:"btn"},"ç¡®è®¤")])])])):(0,a.createCommentVNode)("v-if",!0)]),_:1}))}});var ft=t(5805),bt={};bt.styleTagTransform=A(),bt.setAttributes=z(),bt.insert=V().bind(null,"head"),bt.domAPI=N(),bt.insertStyleElement=B(),k()(ft.A,bt),ft.A&amp;&amp;ft.A.locals&amp;&amp;ft.A.locals;const ht=(0,j.A)(gt,[["__scopeId","data-v-0cb8c11b"]]),yt={class:"modal-content"},xt={class:"modal-body"},kt=["onKeydown"],wt={class:"modal-footer"},Nt=["disabled"],Et=(0,a.defineComponent)({__name:"AIPromptModal",props:{visible:{type:Boolean}},emits:["close","submit"],setup(e,{emit:n}){const t=e,o=n,r=(0,a.ref)("");function l(){o("close")}function i(){const e=r.value.trim();e&amp;&amp;(o("submit",e),l())}return(0,a.watch)(()=&gt;t.visible,e=&gt;{e&amp;&amp;(r.value="")}),(e,n)=&gt;e.visible?((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:0,class:"modal-overlay",onClick:(0,a.withModifiers)(l,["self"])},[(0,a.createElementVNode)("div",yt,[(0,a.createElementVNode)("div",{class:"modal-header"},[n[1]||(n[1]=(0,a.createElementVNode)("h3",null,"AIæ¨æ¼”",-1)),(0,a.createElementVNode)("button",{class:"close-btn",onClick:l},"Ã—")]),(0,a.createElementVNode)("div",xt,[n[2]||(n[2]=(0,a.createElementVNode)("p",{class:"hint"},"è¯·æè¿°ä½ æƒ³ç”Ÿæˆä»€ä¹ˆå†…å®¹ï¼š",-1)),(0,a.withDirectives)((0,a.createElementVNode)("textarea",{"onUpdate:modelValue":n[0]||(n[0]=e=&gt;r.value=e),class:"prompt-input",placeholder:"ä¾‹å¦‚ï¼šç”Ÿæˆä¸€ä¸ªç«å±æ€§çš„å¤©èµ‹ï¼Œé€‚åˆå‰‘ä¿®...",rows:"6",onKeydown:(0,a.withKeys)((0,a.withModifiers)(i,["ctrl"]),["enter"])},null,40,kt),[[a.vModelText,r.value]])]),(0,a.createElementVNode)("div",wt,[(0,a.createElementVNode)("button",{class:"cancel-btn",onClick:l},"å–æ¶ˆ"),(0,a.createElementVNode)("button",{class:"submit-btn",onClick:i,disabled:!r.value.trim()}," å¼€å§‹æ¨æ¼” ",8,Nt)])])])):(0,a.createCommentVNode)("v-if",!0)}});var Vt=t(5828),Ct={};Ct.styleTagTransform=A(),Ct.setAttributes=z(),Ct.insert=V().bind(null,"head"),Ct.domAPI=N(),Ct.insertStyleElement=B(),k()(Vt.A,Ct),Vt.A&amp;&amp;Vt.A.locals&amp;&amp;Vt.A.locals;const zt=(0,j.A)(Et,[["__scopeId","data-v-de60386a"]]);var St=t(6972),Bt=t(5408);const Dt={class:"world-selection-container"},At={key:0,class:"loading-state"},_t={key:1,class:"error-state"},$t={key:2,class:"world-layout"},It={class:"left-panel"},Tt={class:"top-actions-container"},jt={class:"list-container"},Mt={key:0,class:"no-worlds-message"},qt={class:"no-worlds-text"},Ot={key:0,class:"no-worlds-hint"},Pt=["onClick","onMouseover"],Ft={class:"item-content"},Lt={class:"item-name"},Yt={key:0,class:"action-buttons"},Rt=["onClick"],Ut=["onClick"],Gt={class:"details-container"},Wt={key:0,class:"world-details"},Jt={class:"details-header"},Ht={class:"details-title"},Qt={class:"era"},Kt={class:"map-options"},Xt={key:0,class:"config-warning"},Zt={class:"map-options-grid"},ea={class:"option-item"},na={class:"option-item"},ta={class:"option-item"},aa={class:"option-item"},oa={class:"option-item"},ra={class:"option-item"},la={class:"map-options-grid geo-grid"},ia={class:"option-item"},ca={class:"range-inputs"},sa={class:"option-item"},da={class:"range-inputs"},ma={class:"description-scroll"},pa={key:1,class:"placeholder"},va=(0,a.defineComponent)({__name:"Step1_WorldSelection",emits:["ai-generate"],setup(e,{emit:n}){const t=n,o=(0,nn.N)(),r=(0,a.ref)(null),l=(0,a.ref)(!1),i=(0,a.ref)(!1),c=(0,a.ref)(!1),s=(0,a.ref)(!1),m=(0,a.ref)(null),p=(0,a.ref)({majorFactionsCount:Math.floor(3*Math.random())+4,totalLocations:Math.floor(4*Math.random())+10,secretRealmsCount:Math.floor(3*Math.random())+4,continentCount:Math.floor(3*Math.random())+3,mapConfig:{width:3600,height:2400,minLng:100,maxLng:130,minLat:25,maxLat:45}});(0,a.watch)(p,e=&gt;{o.setWorldGenerationConfig(e),console.log("[ä¸–ç•Œé…ç½®] é…ç½®å·²æ›´æ–°:",e)},{deep:!0});const v=(0,a.computed)(()=&gt;{const e=o.creationData.worlds;if(console.log("ã€ä¸–ç•Œé€‰æ‹©ã€‘æ‰€æœ‰ä¸–ç•Œæ•°æ®:",e),console.log("ã€ä¸–ç•Œé€‰æ‹©ã€‘å½“å‰æ¨¡å¼:",o.isLocalCreation?"æœ¬åœ°":"è”æœº"),o.isLocalCreation){const n=e.filter(e=&gt;"local"===e.source||"cloud"===e.source);return console.log("ã€ä¸–ç•Œé€‰æ‹©ã€‘å•æœºæ¨¡å¼å¯ç”¨ä¸–ç•Œåˆ—è¡¨:",n),n}{const n=e.filter(e=&gt;"cloud"===e.source);return console.log("ã€ä¸–ç•Œé€‰æ‹©ã€‘è”æœºæ¨¡å¼ä¸–ç•Œåˆ—è¡¨:",n),console.log("ã€ä¸–ç•Œé€‰æ‹©ã€‘äº‘ç«¯ä¸–ç•Œæ•°é‡:",n.length),0===n.length&amp;&amp;(console.warn("ã€ä¸–ç•Œé€‰æ‹©ã€‘è­¦å‘Šï¼šè”æœºæ¨¡å¼ä¸‹æ²¡æœ‰æ‰¾åˆ°äº‘ç«¯ä¸–ç•Œæ•°æ®ï¼"),console.log("ã€ä¸–ç•Œé€‰æ‹©ã€‘å°è¯•æŸ¥çœ‹æ‰€æœ‰ä¸–ç•Œçš„sourceå­—æ®µ:",e.map(e=&gt;({name:e.name,source:e.source,id:e.id})))),n}}),u=[{key:"name",label:"ä¸–ç•Œåç§°",type:"text",placeholder:"ä¾‹å¦‚ï¼šä¹éœ„ç•Œ"},{key:"era",label:"æ—¶ä»£èƒŒæ™¯",type:"text",placeholder:"ä¾‹å¦‚ï¼šä»™é“æ˜Œéš†"},{key:"description",label:"ä¸–ç•Œæè¿°",type:"textarea",placeholder:"æè¿°è¿™ä¸ªä¸–ç•Œçš„èƒŒæ™¯æ•…äº‹ã€ä¿®ç‚¼ä½“ç³»ç‰¹ç‚¹ç­‰..."}];function g(e){const n={};return e.name?.trim()||(n.name="ä¸–ç•Œåç§°ä¸å¯ä¸ºç©º"),{valid:0===Object.keys(n).length,errors:Object.values(n)}}async function f(e){const n={id:Date.now(),name:e.name,era:e.era,description:e.description,source:"local"};try{o.addWorld(n),y(n),l.value=!1,d.o.success(`è‡ªå®šä¹‰ä¸–ç•Œ "${n.name}" å·²æˆåŠŸä¿å­˜ï¼`)}catch(e){console.error("ä¿å­˜è‡ªå®šä¹‰ä¸–ç•Œå¤±è´¥:",e),d.o.error("ä¿å­˜è‡ªå®šä¹‰ä¸–ç•Œå¤±è´¥ï¼")}}function b(){o.isLocalCreation?s.value=!0:t("ai-generate")}async function h(e){const n="ai-generate-world";d.o.loading("å¤©æœºæ¨æ¼”ä¸­ï¼Œè¯·ç¨å€™...",{id:n});try{const t=await(0,St.eb)(e,Bt.tQ,!1);if(!t)return void d.o.error("AIæ¨æ¼”å¤±è´¥",{id:n});let a;console.log("ã€AIæ¨æ¼”-ä¸–ç•Œã€‘å®Œæ•´å“åº”:",t);try{const e=t.match(/```json\s*([\s\S]*?)\s*```/)||t.match(/\{[\s\S]*\}/),n=e?e[1]||e[0]:t;a=JSON.parse(n.trim())}catch(e){return console.error("ã€AIæ¨æ¼”-ä¸–ç•Œã€‘JSONè§£æå¤±è´¥:",e),void d.o.error("AIæ¨æ¼”ç»“æœæ ¼å¼é”™è¯¯ï¼Œæ— æ³•è§£æ",{id:n})}if(!a.name)return void d.o.error("AIæ¨æ¼”ç»“æœç¼ºå°‘ä¸–ç•Œåç§°",{id:n});const r={id:Date.now(),name:a.name||a.åç§°||"æœªå‘½åä¸–ç•Œ",era:a.era||a.æ—¶ä»£èƒŒæ™¯||"",description:a.description||a.æè¿°||a.ä¸–ç•Œæè¿°||"",source:"local"};o.addWorld(r),y(r),s.value=!1,d.o.success(`AIæ¨æ¼”å®Œæˆï¼ä¸–ç•Œ "${r.name}" å·²ç”Ÿæˆ`,{id:n})}catch(e){console.error("ã€AIæ¨æ¼”-ä¸–ç•Œã€‘å¤±è´¥:",e),d.o.error(`AIæ¨æ¼”å¤±è´¥: ${e.message}`,{id:n})}}function y(e){o.selectWorld(e.id),o.setWorldGenerationConfig(p.value)}function x(){const e=[3,4,5,6,7],n=[8,10,12,15,18],t=[3,4,5,6,8],a=[3,4,5,6],r=90+30*Math.random(),l=20+20*Math.random(),i=20+20*Math.random(),c=15+15*Math.random();p.value={majorFactionsCount:e[Math.floor(Math.random()*e.length)],totalLocations:n[Math.floor(Math.random()*n.length)],secretRealmsCount:t[Math.floor(Math.random()*t.length)],continentCount:a[Math.floor(Math.random()*a.length)],mapConfig:{width:3600,height:2400,minLng:parseFloat(r.toFixed(1)),maxLng:parseFloat((r+l).toFixed(1)),minLat:parseFloat(i.toFixed(1)),maxLat:parseFloat((i+c).toFixed(1))}},o.setWorldGenerationConfig(p.value),d.o.info("å·²éšæœºç”Ÿæˆä¸–ç•Œé…ç½®")}function k(){p.value={majorFactionsCount:5,totalLocations:12,secretRealmsCount:5,continentCount:4,mapConfig:{width:3600,height:2400,minLng:100,maxLng:130,minLat:25,maxLat:45}},o.setWorldGenerationConfig(p.value),d.o.info("å·²é‡ç½®ä¸ºé»˜è®¤é…ç½®")}const w=(0,a.computed)(()=&gt;{const e=p.value.mapConfig;return p.value.majorFactionsCount&gt;8||p.value.totalLocations&gt;15||p.value.secretRealmsCount&gt;10||e.width&gt;6e3||e.height&gt;6e3||e.minLng&gt;=e.maxLng||e.minLat&gt;=e.maxLat});async function N(e){if(!m.value)return;const n={name:e.name,era:e.era,description:e.description};try{o.updateWorld(m.value.id,n)?(c.value=!1,m.value=null,d.o.success(`ä¸–ç•Œ "${n.name}" å·²æ›´æ–°ï¼`)):d.o.error("æ›´æ–°ä¸–ç•Œå¤±è´¥ï¼")}catch(e){console.error("æ›´æ–°ä¸–ç•Œå¤±è´¥:",e),d.o.error("æ›´æ–°ä¸–ç•Œå¤±è´¥ï¼")}}const E=(0,a.computed)(()=&gt;m.value?{name:m.value.name,era:m.value.era,description:m.value.description}:{});return(e,n)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",Dt,[(0,a.unref)(o).isLoading?((0,a.openBlock)(),(0,a.createElementBlock)("div",At,"æ­£åœ¨æ¨æ¼”è¯¸å¤©ä¸‡ç•Œ...")):(0,a.unref)(o).error?((0,a.openBlock)(),(0,a.createElementBlock)("div",_t,"å¤©æœºç´Šä¹±ï¼š"+(0,a.toDisplayString)((0,a.unref)(o).error),1)):((0,a.openBlock)(),(0,a.createElementBlock)("div",$t,[(0,a.createCommentVNode)(" å·¦ä¾§é¢æ¿ï¼šä¸–ç•Œåˆ—è¡¨ "),(0,a.createElementVNode)("div",It,[(0,a.createCommentVNode)(" é¡¶éƒ¨åŠŸèƒ½æŒ‰é’® "),(0,a.createElementVNode)("div",Tt,[(0,a.unref)(o).isLocalCreation?((0,a.openBlock)(),(0,a.createElementBlock)("button",{key:0,onClick:n[0]||(n[0]=e=&gt;l.value=!0),class:"action-item shimmer-on-hover"},n[15]||(n[15]=[(0,a.createElementVNode)("span",{class:"action-name"},"è‡ªå®šä¹‰ä¸–ç•Œ",-1)]))):(0,a.createCommentVNode)("v-if",!0),(0,a.createElementVNode)("button",{onClick:b,class:"action-item shimmer-on-hover"},n[16]||(n[16]=[(0,a.createElementVNode)("span",{class:"action-name"},"AIæ¨æ¼”",-1)]))]),(0,a.createElementVNode)("div",jt,[0===v.value.length?((0,a.openBlock)(),(0,a.createElementBlock)("div",Mt,[n[17]||(n[17]=(0,a.createElementVNode)("div",{class:"no-worlds-icon"},"ğŸŒŒ",-1)),(0,a.createElementVNode)("div",qt,(0,a.toDisplayString)((0,a.unref)(o).isLocalCreation?"æš‚æ— æœ¬åœ°ä¸–ç•Œæ•°æ®":"æš‚æ— äº‘ç«¯ä¸–ç•Œæ•°æ®"),1),(0,a.unref)(o).isLocalCreation?(0,a.createCommentVNode)("v-if",!0):((0,a.openBlock)(),(0,a.createElementBlock)("div",Ot," è¯·æ£€æŸ¥ç½‘ç»œè¿æ¥æˆ–è”ç³»ç®¡ç†å‘˜ "))])):((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,{key:1},(0,a.renderList)(v.value,e=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:e.id,class:(0,a.normalizeClass)(["list-item",{selected:(0,a.unref)(o).characterPayload.world_id===e.id}]),onClick:n=&gt;y(e),onMouseover:n=&gt;r.value=e},[(0,a.createElementVNode)("div",Ft,[(0,a.createElementVNode)("span",Lt,(0,a.toDisplayString)(e.name),1)]),"cloud"===e.source?((0,a.openBlock)(),(0,a.createElementBlock)("div",Yt,[(0,a.createElementVNode)("button",{onClick:(0,a.withModifiers)(n=&gt;function(e){m.value=e,c.value=!0}(e),["stop"]),class:"edit-btn",title:"ç¼–è¾‘æ­¤é¡¹"},[(0,a.createVNode)((0,a.unref)(Un),{size:14})],8,Rt),(0,a.createElementVNode)("button",{onClick:(0,a.withModifiers)(n=&gt;async function(e){try{await o.removeWorld(e),console.log(`ã€ä¸–ç•Œé€‰æ‹©ã€‘æˆåŠŸåˆ é™¤ä¸–ç•Œ ID: ${e}`)}catch(n){console.error(`ã€ä¸–ç•Œé€‰æ‹©ã€‘åˆ é™¤ä¸–ç•Œå¤±è´¥ ID: ${e}`,n)}}(e.id),["stop"]),class:"delete-btn",title:"åˆ é™¤æ­¤é¡¹"},[(0,a.createVNode)((0,a.unref)(Gn.A),{size:14})],8,Ut)])):(0,a.createCommentVNode)("v-if",!0)],42,Pt))),128))])]),(0,a.createCommentVNode)(" å³ä¾§é¢æ¿ï¼šä¸–ç•Œè¯¦æƒ… + åœ°å›¾ç”Ÿæˆé€‰é¡¹ "),(0,a.createElementVNode)("div",Gt,[r.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",Wt,[(0,a.createElementVNode)("div",Jt,[(0,a.createElementVNode)("h2",Ht,(0,a.toDisplayString)(r.value.name),1),(0,a.createElementVNode)("button",{class:"map-settings-btn",onClick:n[1]||(n[1]=e=&gt;i.value=!i.value),title:"åœ°å›¾ç”Ÿæˆé€‰é¡¹"},[(0,a.createVNode)((0,a.unref)(Wn),{size:16}),n[18]||(n[18]=(0,a.createElementVNode)("span",{class:"btn-text"},"è®¾ç½®",-1))])]),(0,a.createElementVNode)("p",Qt,"ã€"+(0,a.toDisplayString)(r.value.era||"æ—¶ä»£æœªçŸ¥")+"ã€‘",1),(0,a.createCommentVNode)(" åœ°å›¾ç”Ÿæˆé€‰é¡¹ï¼ˆç§»å…¥å³ä¾§è¯¦æƒ…å†…ï¼Œé¿å…æ•´ä½“é«˜åº¦æº¢å‡ºï¼‰ "),(0,a.withDirectives)((0,a.createElementVNode)("div",Kt,[n[36]||(n[36]=(0,a.createElementVNode)("div",{class:"map-options-header"},"åœ°å›¾ç”Ÿæˆé€‰é¡¹",-1)),(0,a.createCommentVNode)(" é…ç½®è­¦å‘Šæç¤º "),w.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",Xt,n[19]||(n[19]=[(0,a.createElementVNode)("div",{class:"warning-icon"},"âš ï¸",-1),(0,a.createElementVNode)("div",{class:"warning-text"},[(0,a.createElementVNode)("div",{class:"warning-title"},"é…ç½®è¿‡é«˜è­¦å‘Š"),(0,a.createElementVNode)("div",{class:"warning-desc"},"å½“å‰é…ç½®å¯èƒ½å¯¼è‡´ç”Ÿæˆå¤±è´¥ï¼Œå»ºè®®è°ƒæ•´è‡³åˆç†èŒƒå›´")],-1)]))):(0,a.createCommentVNode)("v-if",!0),(0,a.createElementVNode)("div",Zt,[(0,a.createElementVNode)("label",ea,[n[20]||(n[20]=(0,a.createElementVNode)("span",{class:"option-label"},"ä¸»è¦åŠ¿åŠ›",-1)),(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"number",min:"1",max:"20",step:"1","onUpdate:modelValue":n[2]||(n[2]=e=&gt;p.value.majorFactionsCount=e),class:(0,a.normalizeClass)({"config-risky":p.value.majorFactionsCount&gt;8})},null,2),[[a.vModelText,p.value.majorFactionsCount,void 0,{number:!0}]]),n[21]||(n[21]=(0,a.createElementVNode)("span",{class:"config-hint"},"æ¨è: 3-8",-1))]),(0,a.createElementVNode)("label",na,[n[22]||(n[22]=(0,a.createElementVNode)("span",{class:"option-label"},"åœ°ç‚¹æ€»æ•°",-1)),(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"number",min:"5",max:"100",step:"1","onUpdate:modelValue":n[3]||(n[3]=e=&gt;p.value.totalLocations=e),class:(0,a.normalizeClass)({"config-risky":p.value.totalLocations&gt;15})},null,2),[[a.vModelText,p.value.totalLocations,void 0,{number:!0}]]),n[23]||(n[23]=(0,a.createElementVNode)("span",{class:"config-hint"},"æ¨è: 8-15",-1))]),(0,a.createElementVNode)("label",ta,[n[24]||(n[24]=(0,a.createElementVNode)("span",{class:"option-label"},"ç§˜å¢ƒæ•°é‡",-1)),(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"number",min:"0",max:"30",step:"1","onUpdate:modelValue":n[4]||(n[4]=e=&gt;p.value.secretRealmsCount=e),class:(0,a.normalizeClass)({"config-risky":p.value.secretRealmsCount&gt;10})},null,2),[[a.vModelText,p.value.secretRealmsCount,void 0,{number:!0}]]),n[25]||(n[25]=(0,a.createElementVNode)("span",{class:"config-hint"},"æ¨è: 3-10",-1))]),(0,a.createElementVNode)("label",aa,[n[26]||(n[26]=(0,a.createElementVNode)("span",{class:"option-label"},"å¤§é™†æ•°é‡",-1)),(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"number",min:"3",max:"7",step:"1","onUpdate:modelValue":n[5]||(n[5]=e=&gt;p.value.continentCount=e),title:"å¤§é™†æ•°é‡å†³å®šä¸–ç•Œçš„å®è§‚æ ¼å±€ï¼Œ3-7ç‰‡å¤§é™†å½¢æˆä¸åŒçš„åœ°ç¼˜æ”¿æ²»ç»“æ„"},null,512),[[a.vModelText,p.value.continentCount,void 0,{number:!0}]]),n[27]||(n[27]=(0,a.createElementVNode)("span",{class:"config-hint"},"èŒƒå›´: 3-7",-1))]),(0,a.createElementVNode)("label",oa,[n[28]||(n[28]=(0,a.createElementVNode)("span",{class:"option-label"},"åœ°å›¾å®½åº¦",-1)),(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"number",min:"1000",max:"8000",step:"100","onUpdate:modelValue":n[6]||(n[6]=e=&gt;p.value.mapConfig.width=e)},null,512),[[a.vModelText,p.value.mapConfig.width,void 0,{number:!0}]]),n[29]||(n[29]=(0,a.createElementVNode)("span",{class:"config-hint"},"æ¨è: 3600",-1))]),(0,a.createElementVNode)("label",ra,[n[30]||(n[30]=(0,a.createElementVNode)("span",{class:"option-label"},"åœ°å›¾é«˜åº¦",-1)),(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"number",min:"1000",max:"8000",step:"100","onUpdate:modelValue":n[7]||(n[7]=e=&gt;p.value.mapConfig.height=e)},null,512),[[a.vModelText,p.value.mapConfig.height,void 0,{number:!0}]]),n[31]||(n[31]=(0,a.createElementVNode)("span",{class:"config-hint"},"æ¨è: 2400",-1))])]),(0,a.createElementVNode)("div",la,[(0,a.createElementVNode)("label",ia,[n[33]||(n[33]=(0,a.createElementVNode)("span",{class:"option-label"},"ç»åº¦èŒƒå›´",-1)),(0,a.createElementVNode)("div",ca,[(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"number",step:"0.1","onUpdate:modelValue":n[8]||(n[8]=e=&gt;p.value.mapConfig.minLng=e),placeholder:"æœ€å°ç»åº¦"},null,512),[[a.vModelText,p.value.mapConfig.minLng,void 0,{number:!0}]]),n[32]||(n[32]=(0,a.createElementVNode)("span",null,"-",-1)),(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"number",step:"0.1","onUpdate:modelValue":n[9]||(n[9]=e=&gt;p.value.mapConfig.maxLng=e),placeholder:"æœ€å¤§ç»åº¦"},null,512),[[a.vModelText,p.value.mapConfig.maxLng,void 0,{number:!0}]])])]),(0,a.createElementVNode)("label",sa,[n[35]||(n[35]=(0,a.createElementVNode)("span",{class:"option-label"},"çº¬åº¦èŒƒå›´",-1)),(0,a.createElementVNode)("div",da,[(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"number",step:"0.1","onUpdate:modelValue":n[10]||(n[10]=e=&gt;p.value.mapConfig.minLat=e),placeholder:"æœ€å°çº¬åº¦"},null,512),[[a.vModelText,p.value.mapConfig.minLat,void 0,{number:!0}]]),n[34]||(n[34]=(0,a.createElementVNode)("span",null,"-",-1)),(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"number",step:"0.1","onUpdate:modelValue":n[11]||(n[11]=e=&gt;p.value.mapConfig.maxLat=e),placeholder:"æœ€å¤§çº¬åº¦"},null,512),[[a.vModelText,p.value.mapConfig.maxLat,void 0,{number:!0}]])])])]),(0,a.createElementVNode)("div",{class:"map-options-actions"},[(0,a.createElementVNode)("button",{class:"opt-btn",onClick:x},"éšæœº"),(0,a.createElementVNode)("button",{class:"opt-btn",onClick:k},"é‡ç½®")])],512),[[a.vShow,i.value]]),(0,a.withDirectives)((0,a.createElementVNode)("div",ma,[(0,a.createElementVNode)("p",null,(0,a.toDisplayString)(r.value.description||"æ­¤ç•Œä¸€ç‰‡æ··æ²Œï¼Œå°šæ— æè¿°ã€‚"),1)],512),[[a.vShow,!i.value]])])):((0,a.openBlock)(),(0,a.createElementBlock)("div",pa," è¯·æ‹©ä¸€æ–¹å¤§åƒä¸–ç•Œï¼Œä»¥å®šé“åŸºã€‚ "))])])),(0,a.createVNode)(ht,{visible:l.value,title:"è‡ªå®šä¹‰ä¸–ç•Œ",fields:u,validationFn:g,onClose:n[12]||(n[12]=e=&gt;l.value=!1),onSubmit:f},null,8,["visible"]),(0,a.createCommentVNode)(" ç¼–è¾‘æ¨¡æ€æ¡† "),(0,a.createVNode)(ht,{visible:c.value,title:"ç¼–è¾‘ä¸–ç•Œ",fields:u,validationFn:g,initialData:E.value,onClose:n[13]||(n[13]=e=&gt;{c.value=!1,m.value=null}),onSubmit:N},null,8,["visible","initialData"]),(0,a.createCommentVNode)(" AIæ¨æ¼”è¾“å…¥å¼¹çª— "),(0,a.createVNode)(zt,{visible:s.value,onClose:n[14]||(n[14]=e=&gt;s.value=!1),onSubmit:h},null,8,["visible"])]))}});var ua=t(6560),ga={};ga.styleTagTransform=A(),ga.setAttributes=z(),ga.insert=V().bind(null,"head"),ga.domAPI=N(),ga.insertStyleElement=B(),k()(ua.A,ga),ua.A&amp;&amp;ua.A.locals&amp;&amp;ua.A.locals;const fa=(0,j.A)(va,[["__scopeId","data-v-c7bc47b8"]]),ba={class:"talent-tier-selection"},ha={key:0,class:"loading-state"},ya={key:1,class:"error-state"},xa={key:2,class:"tier-layout"},ka={class:"tier-left-panel"},wa={class:"top-actions-container"},Na={class:"tiers-list-container"},Ea=["onClick","onMouseover"],Va={class:"item-content"},Ca={class:"tier-name"},za={class:"tier-points"},Sa={key:0,class:"action-buttons"},Ba=["onClick"],Da=["onClick"],Aa={class:"tier-details-container"},_a={key:0,class:"tier-details"},$a={class:"description-scroll"},Ia={class:"points-display"},Ta={key:1,class:"placeholder"},ja=(0,a.defineComponent)({__name:"Step2_TalentTierSelection",emits:["ai-generate"],setup(e,{emit:n}){const t=n,o=(0,nn.N)(),r=(0,a.ref)(null),l=(0,a.ref)(!1),i=(0,a.ref)(!1),c=(0,a.ref)(!1),s=(0,a.ref)(null),m=(0,a.computed)(()=&gt;{const e=o.creationData.talentTiers;if(console.log("ã€å¤©èµ„é€‰æ‹©ã€‘æ‰€æœ‰å¤©èµ„æ•°æ®:",e),console.log("ã€å¤©èµ„é€‰æ‹©ã€‘å½“å‰æ¨¡å¼:",o.isLocalCreation?"æœ¬åœ°":"è”æœº"),console.log("ã€å¤©èµ„é€‰æ‹©ã€‘æ•°æ®æ˜ç»†:",e.map(e=&gt;({name:e.name,source:e.source,id:e.id}))),o.isLocalCreation){const n=e.filter(e=&gt;"local"===e.source||"cloud"===e.source);return console.log("ã€å¤©èµ„é€‰æ‹©ã€‘å•æœºæ¨¡å¼å¯ç”¨å¤©èµ„åˆ—è¡¨:",n),n}{const n=e.length&gt;0?e:[];return console.log("ã€å¤©èµ„é€‰æ‹©ã€‘è”æœºæ¨¡å¼å¤©èµ„åˆ—è¡¨:",n),console.log("ã€å¤©èµ„é€‰æ‹©ã€‘è”æœºæ¨¡å¼å¤©èµ„æ•°é‡:",n.length),0===n.length&amp;&amp;console.warn("ã€å¤©èµ„é€‰æ‹©ã€‘è­¦å‘Šï¼šè”æœºæ¨¡å¼ä¸‹æ²¡æœ‰æ‰¾åˆ°ä»»ä½•å¤©èµ„æ•°æ®ï¼"),n}}),p=[{key:"name",label:"å¤©èµ„åç§°",type:"text",placeholder:"ä¾‹å¦‚ï¼šå‡¡äºº"},{key:"description",label:"å¤©èµ„æè¿°",type:"textarea",placeholder:"æè¿°æ­¤å¤©èµ„çš„ç‰¹ç‚¹..."},{key:"total_points",label:"å¤©é“ç‚¹",type:"text",placeholder:"ä¾‹å¦‚ï¼š10"},{key:"color",label:"è¾‰å…‰é¢œè‰²",type:"color",placeholder:"ä¾‹å¦‚ï¼š#808080"}];function v(e){const n={};e.name?.trim()||(n.name="å¤©èµ„åç§°ä¸å¯ä¸ºç©º");const t=Number(e.total_points);return(isNaN(t)||t&lt;0)&amp;&amp;(n.total_points="å¤©é“ç‚¹å¿…é¡»æ˜¯éè´Ÿæ•°"),{valid:0===Object.keys(n).length,errors:Object.values(n)}}async function u(e){const n={id:Date.now(),name:e.name,description:e.description,total_points:parseInt(e.total_points,10)||10,color:e.color||"#808080",rarity:1};try{o.addTalentTier(n),b(n),l.value=!1,d.o.success(`è‡ªå®šä¹‰å¤©èµ„ "${n.name}" å·²ä¿å­˜ï¼`)}catch(e){console.error("ä¿å­˜è‡ªå®šä¹‰å¤©èµ„å¤±è´¥:",e),d.o.error("ä¿å­˜è‡ªå®šä¹‰å¤©èµ„å¤±è´¥ï¼")}}function g(){o.isLocalCreation?c.value=!0:t("ai-generate")}async function f(e){const n="ai-generate-talent-tier";d.o.loading("å¤©æœºæ¨æ¼”ä¸­ï¼Œè¯·ç¨å€™...",{id:n});try{const t=await(0,St.eb)(e,Bt.__,!1);if(!t)return void d.o.error("AIæ¨æ¼”å¤±è´¥",{id:n});let a;console.log("ã€AIæ¨æ¼”-å¤©èµ„ã€‘å®Œæ•´å“åº”:",t);try{const e=t.match(/```json\s*([\s\S]*?)\s*```/)||t.match(/\{[\s\S]*\}/),n=e?e[1]||e[0]:t;a=JSON.parse(n.trim())}catch(e){return console.error("ã€AIæ¨æ¼”-å¤©èµ„ã€‘JSONè§£æå¤±è´¥:",e),void d.o.error("AIæ¨æ¼”ç»“æœæ ¼å¼é”™è¯¯ï¼Œæ— æ³•è§£æ",{id:n})}if(!a.name&amp;&amp;!a.åç§°)return void d.o.error("AIæ¨æ¼”ç»“æœç¼ºå°‘å¤©èµ„åç§°",{id:n});const r={id:Date.now(),name:a.name||a.åç§°||"æœªå‘½åå¤©èµ„",description:a.description||a.æè¿°||a.è¯´æ˜||"",total_points:a.total_points||a.æ€»ç‚¹æ•°||a.ç‚¹æ•°||10,color:a.color||a.é¢œè‰²||"#808080",rarity:a.rarity||a.ç¨€æœ‰åº¦||1,source:"local"};o.addTalentTier(r),b(r),c.value=!1,d.o.success(`AIæ¨æ¼”å®Œæˆï¼å¤©èµ„ "${r.name}" å·²ç”Ÿæˆ`,{id:n})}catch(e){console.error("ã€AIæ¨æ¼”-å¤©èµ„ã€‘å¤±è´¥:",e),d.o.error(`AIæ¨æ¼”å¤±è´¥: ${e.message}`,{id:n})}}function b(e){o.selectTalentTier(e.id)}function h(e){const n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return n?`${parseInt(n[1],16)}, ${parseInt(n[2],16)}, ${parseInt(n[3],16)}`:"229, 192, 123"}async function y(e){if(!s.value)return;const n={name:e.name,description:e.description,total_points:parseInt(e.total_points,10)||10,color:e.color||"#808080"};try{o.updateTalentTier(s.value.id,n)?(i.value=!1,s.value=null,d.o.success(`å¤©èµ„ "${n.name}" å·²æ›´æ–°ï¼`)):d.o.error("æ›´æ–°å¤©èµ„å¤±è´¥ï¼")}catch(e){console.error("æ›´æ–°å¤©èµ„å¤±è´¥:",e),d.o.error("æ›´æ–°å¤©èµ„å¤±è´¥ï¼")}}const x=(0,a.computed)(()=&gt;s.value?{name:s.value.name,description:s.value.description,total_points:s.value.total_points.toString(),color:s.value.color}:{});return(e,n)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",ba,[(0,a.unref)(o).isLoading?((0,a.openBlock)(),(0,a.createElementBlock)("div",ha,"æ„Ÿåº”å¤©é“ï¼Œæµ‹ç®—å¤©èµ„...")):(0,a.unref)(o).error?((0,a.openBlock)(),(0,a.createElementBlock)("div",ya,"å¤©æœºæ··æ²Œï¼š"+(0,a.toDisplayString)((0,a.unref)(o).error),1)):((0,a.openBlock)(),(0,a.createElementBlock)("div",xa,[(0,a.createCommentVNode)(" å·¦ä¾§é¢æ¿ï¼šåˆ—è¡¨å’Œæ“ä½œæŒ‰é’® "),(0,a.createElementVNode)("div",ka,[(0,a.createCommentVNode)(" é¡¶éƒ¨åŠŸèƒ½æŒ‰é’® "),(0,a.createElementVNode)("div",wa,[(0,a.unref)(o).isLocalCreation?((0,a.openBlock)(),(0,a.createElementBlock)("button",{key:0,onClick:n[0]||(n[0]=e=&gt;l.value=!0),class:"action-item shimmer-on-hover"},n[4]||(n[4]=[(0,a.createElementVNode)("span",{class:"action-name"},"è‡ªå®šä¹‰å¤©èµ„",-1)]))):(0,a.createCommentVNode)("v-if",!0),(0,a.createElementVNode)("button",{onClick:g,class:"action-item shimmer-on-hover"},n[5]||(n[5]=[(0,a.createElementVNode)("span",{class:"action-name"},"AIæ¨æ¼”",-1)]))]),(0,a.createElementVNode)("div",Na,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(m.value,e=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:e.id,class:(0,a.normalizeClass)(["tier-item",{selected:(0,a.unref)(o).characterPayload.talent_tier_id===e.id}]),style:(0,a.normalizeStyle)({"--tier-glow-color":e.color,"--tier-glow-color-rgb":h(e.color)}),onClick:n=&gt;b(e),onMouseover:n=&gt;r.value=e},[(0,a.createElementVNode)("div",Va,[(0,a.createElementVNode)("span",Ca,(0,a.toDisplayString)(e.name),1),(0,a.createElementVNode)("span",za,(0,a.toDisplayString)(e.total_points)+" ç‚¹",1)]),"cloud"===e.source?((0,a.openBlock)(),(0,a.createElementBlock)("div",Sa,[(0,a.createElementVNode)("button",{onClick:(0,a.withModifiers)(n=&gt;function(e){s.value=e,i.value=!0}(e),["stop"]),class:"edit-btn",title:"ç¼–è¾‘æ­¤é¡¹"},[(0,a.createVNode)((0,a.unref)(Un),{size:14})],8,Ba),(0,a.createElementVNode)("button",{onClick:(0,a.withModifiers)(n=&gt;async function(e){console.log(`ğŸ”¥ ç‚¹å‡»åˆ é™¤æŒ‰é’®ï¼Œå‡†å¤‡åˆ é™¤å¤©èµ„ ID: ${e}`);try{await o.removeTalentTier(e),console.log(`ã€å¤©èµ„é€‰æ‹©ã€‘æˆåŠŸåˆ é™¤å¤©èµ„ ID: ${e}`)}catch(n){console.error(`ã€å¤©èµ„é€‰æ‹©ã€‘åˆ é™¤å¤©èµ„å¤±è´¥ ID: ${e}`,n)}}(e.id),["stop"]),class:"delete-btn",title:"åˆ é™¤æ­¤é¡¹"},[(0,a.createVNode)((0,a.unref)(Gn.A),{size:14})],8,Da)])):(0,a.createCommentVNode)("v-if",!0)],46,Ea))),128))])]),(0,a.createCommentVNode)(" å³ä¾§è¯¦æƒ… "),(0,a.createElementVNode)("div",Aa,[r.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",_a,[(0,a.createElementVNode)("h2",{style:(0,a.normalizeStyle)({color:r.value.color})},(0,a.toDisplayString)(r.value.name),5),(0,a.createElementVNode)("div",$a,[(0,a.createElementVNode)("p",null,(0,a.toDisplayString)(r.value.description),1)]),(0,a.createElementVNode)("div",Ia,"å¤©é“ç‚¹: "+(0,a.toDisplayString)(r.value.total_points),1)])):((0,a.openBlock)(),(0,a.createElementBlock)("div",Ta,"è¯·é€‰æ‹©ä½ çš„å¤©èµ„ç­‰çº§ï¼Œè¿™å°†å†³å®šä½ çš„èµ·ç‚¹ã€‚"))])])),(0,a.createVNode)(ht,{visible:l.value,title:"è‡ªå®šä¹‰å¤©èµ„",fields:p,validationFn:v,onClose:n[1]||(n[1]=e=&gt;l.value=!1),onSubmit:u},null,8,["visible"]),(0,a.createCommentVNode)(" ç¼–è¾‘æ¨¡æ€æ¡† "),(0,a.createVNode)(ht,{visible:i.value,title:"ç¼–è¾‘å¤©èµ„",fields:p,validationFn:v,initialData:x.value,onClose:n[2]||(n[2]=e=&gt;{i.value=!1,s.value=null}),onSubmit:y},null,8,["visible","initialData"]),(0,a.createCommentVNode)(" AIæ¨æ¼”è¾“å…¥å¼¹çª— "),(0,a.createVNode)(zt,{visible:c.value,onClose:n[3]||(n[3]=e=&gt;c.value=!1),onSubmit:f},null,8,["visible"])]))}});var Ma=t(2067),qa={};qa.styleTagTransform=A(),qa.setAttributes=z(),qa.insert=V().bind(null,"head"),qa.domAPI=N(),qa.insertStyleElement=B(),k()(Ma.A,qa),Ma.A&amp;&amp;Ma.A.locals&amp;&amp;Ma.A.locals;const Oa=(0,j.A)(ja,[["__scopeId","data-v-d9928082"]]),Pa={class:"origin-selection-container"},Fa={key:0,class:"loading-state"},La={key:1,class:"error-state"},Ya={key:2,class:"origin-layout"},Ra={class:"origin-left-panel"},Ua={class:"top-actions-container"},Ga={class:"origin-list-container"},Wa=["onClick","onMouseover"],Ja={class:"item-content"},Ha={class:"origin-name"},Qa={class:"origin-cost"},Ka={key:0,class:"action-buttons"},Xa=["onClick"],Za=["onClick"],eo={class:"origin-details-container"},no={key:0,class:"origin-details"},to={class:"description-scroll"},ao={class:"cost-display"},oo={key:1,class:"placeholder"},ro=(0,a.defineComponent)({__name:"Step3_OriginSelection",emits:["ai-generate"],setup(e,{emit:n}){const t=n,o=(0,nn.N)(),r=(0,a.ref)(null),l=(0,a.ref)(!1),i=(0,a.ref)(!1),c=(0,a.ref)(!1),s=(0,a.ref)(null),m=(0,a.computed)(()=&gt;{const e=o.creationData.origins;if(console.log("ã€å‡ºèº«é€‰æ‹©ã€‘æ‰€æœ‰å‡ºèº«æ•°æ®:",e),console.log("ã€å‡ºèº«é€‰æ‹©ã€‘å½“å‰æ¨¡å¼:",o.isLocalCreation?"æœ¬åœ°":"è”æœº"),o.isLocalCreation){const n=e.filter(e=&gt;"local"===e.source||"cloud"===e.source);return console.log("ã€å‡ºèº«é€‰æ‹©ã€‘å•æœºæ¨¡å¼å¯ç”¨å‡ºèº«åˆ—è¡¨:",n),n}{const n=e.filter(e=&gt;"cloud"===e.source);return console.log("ã€å‡ºèº«é€‰æ‹©ã€‘è”æœºæ¨¡å¼å‡ºèº«åˆ—è¡¨:",n),console.log("ã€å‡ºèº«é€‰æ‹©ã€‘äº‘ç«¯å‡ºèº«æ•°é‡:",n.length),0===n.length&amp;&amp;(console.warn("ã€å‡ºèº«é€‰æ‹©ã€‘è­¦å‘Šï¼šè”æœºæ¨¡å¼ä¸‹æ²¡æœ‰æ‰¾åˆ°äº‘ç«¯å‡ºèº«æ•°æ®ï¼"),console.log("ã€å‡ºèº«é€‰æ‹©ã€‘æ‰€æœ‰å‡ºèº«çš„sourceåˆ†å¸ƒ:",e.reduce((e,n)=&gt;(e[n.source]=(e[n.source]||0)+1,e),{}))),n}}),p=[{key:"name",label:"å‡ºèº«åç§°",type:"text",placeholder:"ä¾‹å¦‚ï¼šå±±é‡é—å­¤"},{key:"description",label:"å‡ºèº«æè¿°",type:"textarea",placeholder:"æè¿°æ­¤å‡ºèº«çš„èƒŒæ™¯æ•…äº‹å’Œæˆé•¿ç»å†..."},{key:"talent_cost",label:"æ¶ˆè€—å¤©é“ç‚¹",type:"text",placeholder:"ä¾‹å¦‚ï¼š0ï¼ˆå¯ä¸ºè´Ÿæ•°ï¼‰"},{key:"rarity",label:"ç¨€æœ‰åº¦ç­‰çº§",type:"select",options:[{value:"1",label:"1 - å¸¸è§"},{value:"2",label:"2 - å°‘è§"},{value:"3",label:"3 - ç½•è§"},{value:"4",label:"4 - æç½•è§"},{value:"5",label:"5 - ä¼ è¯´"}]},{key:"background_effects",label:"å‡ºèº«æ•ˆæœ",type:"dynamic-list",columns:[{key:"type",placeholder:"æ•ˆæœç±»å‹",type:"select",options:[{value:"åˆå§‹èµ„æº",label:"åˆå§‹èµ„æº"},{value:"ç¤¾ä¼šå…³ç³»",label:"ç¤¾ä¼šå…³ç³»"},{value:"ç‰¹æ®Šèº«ä»½",label:"ç‰¹æ®Šèº«ä»½"},{value:"ä¼ æ‰¿çŸ¥è¯†",label:"ä¼ æ‰¿çŸ¥è¯†"},{value:"èµ·å§‹è£…å¤‡",label:"èµ·å§‹è£…å¤‡"}]},{key:"description",placeholder:"å…·ä½“æè¿°ï¼Œå¦‚ï¼šæ‹¥æœ‰ä¸€æŠŠä¼ å®¶å®å‰‘"}]}];function v(e){const n={};e.name?.trim()||(n.name="å‡ºèº«åç§°ä¸å¯ä¸ºç©º"),e.description?.trim()||(n.description="å‡ºèº«æè¿°ä¸å¯ä¸ºç©º");const t=Number(e.talent_cost);return isNaN(t)&amp;&amp;(n.talent_cost="æ¶ˆè€—ç‚¹æ•°å¿…é¡»ä¸ºæ•°å­—"),e.rarity&amp;&amp;(isNaN(parseInt(e.rarity,10))||parseInt(e.rarity,10)&lt;1||parseInt(e.rarity,10)&gt;5)&amp;&amp;(n.rarity="ç¨€æœ‰åº¦ç­‰çº§å¿…é¡»ä¸º1-5çš„æ•°å­—"),{valid:0===Object.keys(n).length,errors:Object.values(n)}}async function u(e){const n=e.background_effects?.length?e.background_effects.filter(e=&gt;e.type&amp;&amp;e.description?.trim()).map(e=&gt;({type:e.type,description:e.description.trim()})):[],t={id:Date.now(),name:e.name,description:e.description,talent_cost:parseInt(e.talent_cost,10)||0,attribute_modifiers:{},background_effects:n,rarity:parseInt(e.rarity,10)||1,source:"local"};try{o.addOrigin(t),x(t),l.value=!1,d.o.success(`è‡ªå®šä¹‰å‡ºèº« "${t.name}" å·²ä¿å­˜ï¼`)}catch(e){console.error("ä¿å­˜è‡ªå®šä¹‰å‡ºèº«å¤±è´¥:",e),d.o.error("ä¿å­˜è‡ªå®šä¹‰å‡ºèº«å¤±è´¥ï¼")}}function g(){if(o.isLocalCreation){if(!o.selectedWorld)return void d.o.error("è¯·å…ˆé€‰æ‹©ä¸€æ–¹å¤§åƒä¸–ç•Œï¼Œæ–¹å¯æ¨æ¼”å‡ºèº«ã€‚");c.value=!0}else t("ai-generate")}async function f(e){const n="ai-generate-origin";d.o.loading("å¤©æœºæ¨æ¼”ä¸­ï¼Œè¯·ç¨å€™...",{id:n});try{const t=await(0,St.eb)(e,Bt.XN,!1);if(!t)return void d.o.error("AIæ¨æ¼”å¤±è´¥",{id:n});let a;console.log("ã€AIæ¨æ¼”-å‡ºèº«ã€‘å®Œæ•´å“åº”:",t);try{const e=t.match(/```json\s*([\s\S]*?)\s*```/)||t.match(/\{[\s\S]*\}/),n=e?e[1]||e[0]:t;a=JSON.parse(n.trim())}catch(e){return console.error("ã€AIæ¨æ¼”-å‡ºèº«ã€‘JSONè§£æå¤±è´¥:",e),void d.o.error("AIæ¨æ¼”ç»“æœæ ¼å¼é”™è¯¯ï¼Œæ— æ³•è§£æ",{id:n})}if(!a.name&amp;&amp;!a.åç§°)return void d.o.error("AIæ¨æ¼”ç»“æœç¼ºå°‘å‡ºèº«åç§°",{id:n});let r=a.talent_cost||a.å¤©é“ç‚¹æ¶ˆè€—||a.æ¶ˆè€—å¤©é“ç‚¹;null==r?(console.warn("ã€AIæ¨æ¼”-å‡ºèº«ã€‘AIæœªè¿”å›å¤©é“ç‚¹æ¶ˆè€—å­—æ®µï¼Œä½¿ç”¨é»˜è®¤å€¼3"),d.o.warning("AIæœªè®¾ç½®å¤©é“ç‚¹æ¶ˆè€—ï¼Œå·²è‡ªåŠ¨è®¾ä¸º3ç‚¹",{id:n,duration:2e3}),r=3):(r=Number(r),isNaN(r)&amp;&amp;(console.warn("ã€AIæ¨æ¼”-å‡ºèº«ã€‘å¤©é“ç‚¹æ¶ˆè€—ä¸æ˜¯æœ‰æ•ˆæ•°å­—ï¼Œä½¿ç”¨é»˜è®¤å€¼3"),r=3));const l={id:Date.now(),name:a.name||a.åç§°||"æœªå‘½åå‡ºèº«",description:a.description||a.æè¿°||a.è¯´æ˜||"",talent_cost:r,attribute_modifiers:a.attribute_modifiers||a.å±æ€§ä¿®æ­£||{},background_effects:a.background_effects||a.èƒŒæ™¯æ•ˆæœ||[],rarity:a.rarity||a.ç¨€æœ‰åº¦||1,source:"local"};o.addOrigin(l),x(l),c.value=!1,d.o.success(`AIæ¨æ¼”å®Œæˆï¼å‡ºèº« "${l.name}" å·²ç”Ÿæˆ`,{id:n})}catch(e){console.error("ã€AIæ¨æ¼”-å‡ºèº«ã€‘å¤±è´¥:",e),d.o.error(`AIæ¨æ¼”å¤±è´¥: ${e.message}`,{id:n})}}const b=e=&gt;{if(o.characterPayload.origin_id===e.id)return!0;const n=o.selectedOrigin?.talent_cost??0;return o.remainingTalentPoints+n&gt;=e.talent_cost};async function h(e){if(!s.value)return;const n=e.background_effects?.length?e.background_effects.filter(e=&gt;e.type&amp;&amp;e.description?.trim()).map(e=&gt;({type:e.type,description:e.description.trim()})):[],t={name:e.name,description:e.description,talent_cost:parseInt(e.talent_cost,10)||0,rarity:parseInt(e.rarity,10)||1,background_effects:n};try{o.updateOrigin(s.value.id,t)?(i.value=!1,s.value=null,d.o.success(`å‡ºèº« "${t.name}" å·²æ›´æ–°ï¼`)):d.o.error("æ›´æ–°å‡ºèº«å¤±è´¥ï¼")}catch(e){console.error("æ›´æ–°å‡ºèº«å¤±è´¥:",e),d.o.error("æ›´æ–°å‡ºèº«å¤±è´¥ï¼")}}const y=(0,a.computed)(()=&gt;s.value?{name:s.value.name,description:s.value.description,talent_cost:s.value.talent_cost.toString(),rarity:s.value.rarity.toString(),background_effects:s.value.background_effects||[]}:{});function x(e){if(!b(e))return void d.o.warning("å¤©é“ç‚¹ä¸è¶³ï¼Œæ— æ³•é€‰æ‹©æ­¤å‡ºèº«ã€‚");const n=o.characterPayload.origin_id===e.id?null:e.id;o.selectOrigin(n)}function k(){o.selectOrigin(null)}const w=(0,a.computed)(()=&gt;null===o.characterPayload.origin_id),N=((0,a.computed)(()=&gt;w.value?"éšæœºå‡ºèº«":o.selectedOrigin?.name||""),(0,a.computed)(()=&gt;w.value?"å¤©é“æ— å¸¸ï¼Œé€ åŒ–å¼„äººã€‚é€‰æ‹©æ­¤é¡¹ï¼Œä½ çš„å‡ºèº«å°†å®Œå…¨éšæœºç”Ÿæˆã€‚æ˜¯ç”Ÿäºå¸ç‹ä¹‹å®¶ï¼Œæˆ–ä¸ºå±±é‡é—å­¤ï¼Œçš†åœ¨å¤©é“ä¸€å¿µä¹‹é—´ã€‚":o.selectedOrigin?.description||"èº«ä¸–å¦‚è°œï¼Œè¿‡å¾€ä¸€ç‰‡ç©ºç™½ã€‚"),(0,a.computed)(()=&gt;w.value?0:o.selectedOrigin?.talent_cost||0),(0,a.computed)(()=&gt;"random"===r.value?"éšæœºå‡ºèº«":r.value&amp;&amp;"object"==typeof r.value?r.value.name:"")),E=(0,a.computed)(()=&gt;"random"===r.value?"å¤©é“æ— å¸¸ï¼Œé€ åŒ–å¼„äººã€‚é€‰æ‹©æ­¤é¡¹ï¼Œä½ çš„å‡ºèº«å°†å®Œå…¨éšæœºç”Ÿæˆã€‚æ˜¯ç”Ÿäºå¸ç‹ä¹‹å®¶ï¼Œæˆ–ä¸ºå±±é‡é—å­¤ï¼Œçš†åœ¨å¤©é“ä¸€å¿µä¹‹é—´ã€‚":r.value&amp;&amp;"object"==typeof r.value&amp;&amp;r.value.description||"èº«ä¸–å¦‚è°œï¼Œè¿‡å¾€ä¸€ç‰‡ç©ºç™½ã€‚"),V=(0,a.computed)(()=&gt;"random"===r.value?0:r.value&amp;&amp;"object"==typeof r.value&amp;&amp;r.value.talent_cost||0);return(e,n)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",Pa,[(0,a.unref)(o).isLoading?((0,a.openBlock)(),(0,a.createElementBlock)("div",Fa,"è¿½æº¯è¿‡å¾€ï¼Œæ¢å¯»å‡ºèº«...")):(0,a.unref)(o).error?((0,a.openBlock)(),(0,a.createElementBlock)("div",La,"å› æœä¸æ˜ï¼š"+(0,a.toDisplayString)((0,a.unref)(o).error),1)):((0,a.openBlock)(),(0,a.createElementBlock)("div",Ya,[(0,a.createCommentVNode)(" å·¦ä¾§æ ï¼šåˆ—è¡¨å’Œæ“ä½œæŒ‰é’® "),(0,a.createElementVNode)("div",Ra,[(0,a.createCommentVNode)(" é¡¶éƒ¨åŠŸèƒ½æŒ‰é’® "),(0,a.createElementVNode)("div",Ua,[(0,a.unref)(o).isLocalCreation?((0,a.openBlock)(),(0,a.createElementBlock)("button",{key:0,onClick:n[0]||(n[0]=e=&gt;l.value=!0),class:"action-item shimmer-on-hover"},n[5]||(n[5]=[(0,a.createElementVNode)("span",{class:"action-name"},"è‡ªå®šä¹‰å‡ºèº«",-1)]))):(0,a.createCommentVNode)("v-if",!0),(0,a.createElementVNode)("button",{onClick:g,class:"action-item shimmer-on-hover"},n[6]||(n[6]=[(0,a.createElementVNode)("span",{class:"action-name"},"AIæ¨æ¼”",-1)]))]),(0,a.createElementVNode)("div",Ga,[(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["origin-item",{selected:w.value}]),onClick:k,onMouseover:n[1]||(n[1]=e=&gt;r.value="random")},n[7]||(n[7]=[(0,a.createElementVNode)("span",{class:"origin-name"},"éšæœºå‡ºèº«",-1),(0,a.createElementVNode)("span",{class:"origin-cost"},"0 ç‚¹",-1)]),34),n[8]||(n[8]=(0,a.createElementVNode)("div",{class:"divider"},null,-1)),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(m.value,e=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:e.id,class:(0,a.normalizeClass)(["origin-item",{selected:(0,a.unref)(o).characterPayload.origin_id===e.id,disabled:!b(e)}]),onClick:n=&gt;x(e),onMouseover:n=&gt;r.value=e},[(0,a.createElementVNode)("div",Ja,[(0,a.createElementVNode)("span",Ha,(0,a.toDisplayString)(e.name),1),(0,a.createElementVNode)("span",Qa,(0,a.toDisplayString)(e.talent_cost)+" ç‚¹",1)]),"cloud"===e.source?((0,a.openBlock)(),(0,a.createElementBlock)("div",Ka,[(0,a.createElementVNode)("button",{onClick:(0,a.withModifiers)(n=&gt;function(e){s.value=e,i.value=!0}(e),["stop"]),class:"edit-btn",title:"ç¼–è¾‘æ­¤é¡¹"},[(0,a.createVNode)((0,a.unref)(Un),{size:14})],8,Xa),(0,a.createElementVNode)("button",{onClick:(0,a.withModifiers)(n=&gt;async function(e){try{await o.removeOrigin(e),console.log(`ã€å‡ºèº«é€‰æ‹©ã€‘æˆåŠŸåˆ é™¤å‡ºèº« ID: ${e}`)}catch(n){console.error(`ã€å‡ºèº«é€‰æ‹©ã€‘åˆ é™¤å‡ºèº«å¤±è´¥ ID: ${e}`,n)}}(e.id),["stop"]),class:"delete-btn",title:"åˆ é™¤æ­¤é¡¹"},[(0,a.createVNode)((0,a.unref)(Gn.A),{size:14})],8,Za)])):(0,a.createCommentVNode)("v-if",!0)],42,Wa))),128))])]),(0,a.createCommentVNode)(" å³ä¾§è¯¦æƒ… "),(0,a.createElementVNode)("div",eo,[r.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",no,[(0,a.createElementVNode)("h2",null,(0,a.toDisplayString)(N.value),1),(0,a.createElementVNode)("div",to,[(0,a.createElementVNode)("p",null,(0,a.toDisplayString)(E.value),1)]),(0,a.createElementVNode)("div",ao,"æ¶ˆè€—å¤©é“ç‚¹: "+(0,a.toDisplayString)(V.value),1)])):((0,a.openBlock)(),(0,a.createElementBlock)("div",oo,"è¯·é€‰æ‹©ä¸€å¤„å‡ºèº«ï¼Œæˆ–å¬å¤©ç”±å‘½ã€‚"))])])),(0,a.createVNode)(ht,{visible:l.value,title:"è‡ªå®šä¹‰å‡ºèº«",fields:p,validationFn:v,onClose:n[2]||(n[2]=e=&gt;l.value=!1),onSubmit:u},null,8,["visible"]),(0,a.createCommentVNode)(" ç¼–è¾‘æ¨¡æ€æ¡† "),(0,a.createVNode)(ht,{visible:i.value,title:"ç¼–è¾‘å‡ºèº«",fields:p,validationFn:v,initialData:y.value,onClose:n[3]||(n[3]=e=&gt;{i.value=!1,s.value=null}),onSubmit:h},null,8,["visible","initialData"]),(0,a.createCommentVNode)(" AIæ¨æ¼”è¾“å…¥å¼¹çª— "),(0,a.createVNode)(zt,{visible:c.value,onClose:n[4]||(n[4]=e=&gt;c.value=!1),onSubmit:f},null,8,["visible"])]))}});var lo=t(5272),io={};io.styleTagTransform=A(),io.setAttributes=z(),io.insert=V().bind(null,"head"),io.domAPI=N(),io.insertStyleElement=B(),k()(lo.A,io),lo.A&amp;&amp;lo.A.locals&amp;&amp;lo.A.locals;const co=(0,j.A)(ro,[["__scopeId","data-v-907f35d4"]]),so={class:"spirit-root-selection-container"},mo={key:0,class:"loading-state"},po={key:1,class:"error-state"},vo={key:2,class:"spirit-root-layout"},uo={class:"spirit-root-left-panel"},go={class:"top-actions-container"},fo={class:"selection-mode-tabs"},bo={key:0,class:"preset-mode"},ho={class:"spirit-root-list-container"},yo=["onClick","onMouseover"],xo={class:"item-content"},ko={class:"spirit-root-name-container"},wo={class:"spirit-root-name"},No={class:"spirit-root-cost"},Eo={key:0,class:"action-buttons"},Vo=["onClick"],Co=["onClick"],zo={key:1,class:"custom-mode"},So={class:"custom-selection-container"},Bo={class:"selection-group"},Do={class:"spirit-type-grid"},Ao=["onClick"],_o={class:"type-icon"},$o={class:"type-name"},Io={class:"selection-group"},To={class:"tier-selection"},jo=["onClick"],Mo={class:"tier-name"},qo={class:"tier-multiplier"},Oo={class:"tier-cost"},Po={class:"custom-preview"},Fo={class:"preview-content"},Lo={class:"preview-name"},Yo={class:"preview-stats"},Ro={class:"stat"},Uo={class:"stat"},Go=["disabled"],Wo={class:"spirit-root-details-container"},Jo={key:0,class:"spirit-root-details"},Ho={class:"description-scroll"},Qo={class:"stats-display"},Ko={class:"stat-item"},Xo={class:"stat-value"},Zo={class:"stat-item"},er={class:"stat-value"},nr={key:1,class:"placeholder"},tr=(0,a.defineComponent)({__name:"Step4_SpiritRootSelection",emits:["ai-generate"],setup(e,{emit:n}){const t=n,o=(0,nn.N)(),r=(0,a.ref)(null),l=(0,a.ref)("preset"),i=(0,a.ref)(!1),c=(0,a.ref)(!1),s=(0,a.ref)(!1),m=(0,a.ref)(null),p=(0,a.reactive)({type:"none",tier:"none"}),v=[{key:"fire",name:"ç«",icon:"ğŸ”¥",color:"#ef4444",desc:"çƒˆç«ç„šå¤©ï¼Œçˆ†å‘åŠ›å¼º"},{key:"water",name:"æ°´",icon:"ğŸ’§",color:"#3b82f6",desc:"æ°´æµä¸æ¯ï¼Œç»µå»¶æ‚ é•¿"},{key:"wood",name:"æœ¨",icon:"ğŸŒ¿",color:"#10b981",desc:"ç”Ÿæœºç›ç„¶ï¼Œæ²»æ„ˆä¿®å¤"},{key:"metal",name:"é‡‘",icon:"âš”ï¸",color:"#f59e0b",desc:"é”‹é”æ— åŒ¹ï¼Œåˆ‡é‡‘æ–­ç‰"},{key:"earth",name:"åœŸ",icon:"ğŸ—¿",color:"#8b5cf6",desc:"åšå¾·è½½ç‰©ï¼Œé˜²å¾¡è¶…ç¾¤"},{key:"wind",name:"é£",icon:"ğŸ’¨",color:"#06b6d4",desc:"é£é©°ç”µæ£ï¼Œèº«æ³•å¦‚ç¥"},{key:"thunder",name:"é›·",icon:"âš¡",color:"#eab308",desc:"é›·éœ†ä¸‡é’§ï¼Œæ¯å¤©ç­åœ°"},{key:"ice",name:"å†°",icon:"â„ï¸",color:"#0ea5e9",desc:"å†°éœœåˆºéª¨ï¼Œä¸‡ç‰©å‡‹é›¶"},{key:"light",name:"å…‰",icon:"â˜€ï¸",color:"#f97316",desc:"å…‰æ˜æ™®ç…§ï¼Œå‡€åŒ–é‚ªæ¶"},{key:"dark",name:"æš—",icon:"ğŸŒ‘",color:"#6b7280",desc:"å¹½æš—æ·±é‚ƒï¼Œè¯¡å¼‚è«æµ‹"},{key:"space",name:"ç©ºé—´",icon:"ğŸŒ€",color:"#7c3aed",desc:"è™šç©ºæŒªç§»ï¼Œç©ºé—´æŒæ§"},{key:"time",name:"æ—¶é—´",icon:"â°",color:"#ec4899",desc:"æ—¶å…‰æµè½¬ï¼Œé€†è½¬ä¹¾å¤"}],u=[{key:"common",name:"å‡¡å“",multiplier:1,cost:0,desc:"å¹³å¹³æ— å¥‡çš„æ™®é€šçµæ ¹"},{key:"low",name:"ä¸‹å“",multiplier:1.1,cost:3,desc:"ç•¥æœ‰å¤©èµ‹ï¼Œå‹‰å¼ºå¯ç”¨"},{key:"middle",name:"ä¸­å“",multiplier:1.3,cost:6,desc:"èµ„è´¨å°šå¯ï¼Œå°æœ‰æˆå°±"},{key:"high",name:"ä¸Šå“",multiplier:1.6,cost:10,desc:"å¤©èµ‹å“è¶Šï¼Œå‰é€”æ— é‡"},{key:"supreme",name:"æå“",multiplier:2,cost:15,desc:"ä¸‡ä¸­æ— ä¸€ï¼Œå¤©ä¹‹éª„å­"},{key:"heaven",name:"ä»™å“",multiplier:2.4,cost:20,desc:"å¤©é™å¼‚è±¡ï¼Œä¸¾ä¸–ç½•è§"},{key:"divine",name:"ç¥å“",multiplier:2.8,cost:25,desc:"ç¥é¬¼è«æµ‹ï¼Œé€†å¤©æ”¹å‘½"},{key:"special",name:"ç‰¹æ®Š",multiplier:0,cost:0,desc:"ç‰¹æ®Šä½“è´¨ï¼Œå¦æœ‰å¥¥å¦™"}],g=(0,a.computed)(()=&gt;o.isLocalCreation?o.creationData.spiritRoots.filter(e=&gt;"local"===e.source||"cloud"===e.source):o.creationData.spiritRoots.filter(e=&gt;"cloud"===e.source)),f=[{key:"name",label:"çµæ ¹åç§°",type:"text",placeholder:"ä¾‹å¦‚ï¼šæ··æ²Œçµæ ¹"},{key:"tier",label:"å“çº§",type:"select",options:u.map(e=&gt;({value:e.key,label:e.name}))},{key:"description",label:"çµæ ¹æè¿°",type:"textarea",placeholder:"æè¿°è¿™ä¸ªçµæ ¹çš„ç‰¹æ€§å’ŒèƒŒæ™¯æ•…äº‹..."},{key:"base_multiplier",label:"ä¿®ç‚¼å€ç‡",type:"text",placeholder:"ä¾‹å¦‚ï¼š1.5"},{key:"talent_cost",label:"æ¶ˆè€—å¤©é“ç‚¹",type:"text",placeholder:"ä¾‹å¦‚ï¼š10"},{key:"rarity",label:"ç¨€æœ‰åº¦ç­‰çº§",type:"select",options:[{value:"1",label:"1 - å¸¸è§"},{value:"2",label:"2 - å°‘è§"},{value:"3",label:"3 - ç½•è§"},{value:"4",label:"4 - æç½•è§"},{value:"5",label:"5 - ä¼ è¯´"}]},{key:"special_effects",label:"ç‰¹æ®Šæ•ˆæœ",type:"dynamic-list",columns:[{key:"effect",placeholder:"æ•ˆæœæè¿°ï¼Œå¦‚ï¼šé›·ç³»æ³•æœ¯å¨åŠ›+80%"}]}],b=(0,a.computed)(()=&gt;null===o.characterPayload.spirit_root_id),h=(0,a.computed)(()=&gt;"random"===r.value?"éšæœºçµæ ¹":r.value&amp;&amp;"object"==typeof r.value?r.value.name:""),y=(0,a.computed)(()=&gt;"random"===r.value?"å¤§é“äº”åï¼Œå¤©è¡å››ä¹ï¼Œäººéå…¶ä¸€ã€‚é€‰æ‹©æ­¤é¡¹ï¼Œä½ çš„çµæ ¹å°†å®Œå…¨éšæœºç”Ÿæˆï¼Œå¯èƒ½ä¸€æ­¥ç™»å¤©ï¼Œäº¦å¯èƒ½å¹³åº¸æ— å¥‡ã€‚":r.value&amp;&amp;"object"==typeof r.value&amp;&amp;r.value.description||"çµæ ¹ä¿¡æ¯ä¸æ˜ã€‚"),x=(0,a.computed)(()=&gt;"random"===r.value?0:r.value&amp;&amp;"object"==typeof r.value&amp;&amp;r.value.talent_cost||0),k=e=&gt;{if(o.characterPayload.spirit_root_id===e.id)return!0;const n=o.selectedSpiritRoot?.talent_cost??0;return o.remainingTalentPoints+n&gt;=e.talent_cost};function w(e){if(!k(e))return void d.o.warning("å¤©é“ç‚¹ä¸è¶³ï¼Œæ— æ³•é€‰æ‹©æ­¤çµæ ¹ã€‚");const n=o.characterPayload.spirit_root_id===e.id?null:e.id;o.selectSpiritRoot(n)}function N(){o.selectSpiritRoot(null)}function E(){o.isLocalCreation?s.value=!0:t("ai-generate")}async function V(e){const n="ai-generate-spirit-root";d.o.loading("å¤©æœºæ¨æ¼”ä¸­ï¼Œè¯·ç¨å€™...",{id:n});try{const t=await(0,St.eb)(e,Bt.x$,!1);if(!t)return void d.o.error("AIæ¨æ¼”å¤±è´¥",{id:n});let a;console.log("ã€AIæ¨æ¼”-çµæ ¹ã€‘å®Œæ•´å“åº”:",t);try{const e=t.match(/```json\s*([\s\S]*?)\s*```/)||t.match(/\{[\s\S]*\}/),n=e?e[1]||e[0]:t;a=JSON.parse(n.trim())}catch(e){return console.error("ã€AIæ¨æ¼”-çµæ ¹ã€‘JSONè§£æå¤±è´¥:",e),void d.o.error("AIæ¨æ¼”ç»“æœæ ¼å¼é”™è¯¯ï¼Œæ— æ³•è§£æ",{id:n})}if(!a.name&amp;&amp;!a.åç§°)return void d.o.error("AIæ¨æ¼”ç»“æœç¼ºå°‘çµæ ¹åç§°",{id:n});const r={id:Date.now(),name:a.name||a.åç§°||"æœªå‘½åçµæ ¹",tier:a.tier||a.å“çº§||a.ç­‰çº§||"",description:a.description||a.æè¿°||a.è¯´æ˜||"",base_multiplier:a.base_multiplier||a.ä¿®ç‚¼å€ç‡||1,talent_cost:a.talent_cost||a.å¤©é“ç‚¹æ¶ˆè€—||a.ç‚¹æ•°æ¶ˆè€—||5,rarity:a.rarity||a.ç¨€æœ‰åº¦||3,source:"local"};o.addSpiritRoot(r),w(r),s.value=!1,d.o.success(`AIæ¨æ¼”å®Œæˆï¼çµæ ¹ "${r.name}" å·²ç”Ÿæˆ`,{id:n})}catch(e){console.error("ã€AIæ¨æ¼”-çµæ ¹ã€‘å¤±è´¥:",e),d.o.error(`AIæ¨æ¼”å¤±è´¥: ${e.message}`,{id:n})}}function C(e){return e.tier||""}function z(){if("none"===p.type)return"è¯·é€‰æ‹©çµæ ¹ç±»å‹";const e=v.find(e=&gt;e.key===p.type);return e?`${e.name}çµæ ¹`:"æœªçŸ¥çµæ ¹"}function S(){if("none"===p.tier)return 1;const e=u.find(e=&gt;e.key===p.tier);return e?e.multiplier:1}function B(){if("none"===p.tier)return 0;const e=u.find(e=&gt;e.key===p.tier);return e?e.cost:0}function D(e){const n=u.find(n=&gt;n.key===e);return n?n.name:""}function A(){return"none"!==p.type&amp;&amp;"none"!==p.tier}function _(){if(!A())return void d.o.warning("è¯·å®Œæ•´é€‰æ‹©çµæ ¹ç±»å‹å’Œå“çº§");const e=v.find(e=&gt;e.key===p.type),n=u.find(e=&gt;e.key===p.tier);if(!e||!n)return void d.o.error("é€‰æ‹©çš„çµæ ¹é…ç½®æ— æ•ˆ");const t={id:Date.now(),name:`${e.name}çµæ ¹`,description:`${n.desc}çš„${e.desc}`,base_multiplier:n.multiplier,talent_cost:n.cost,tier:n.name,source:"cloud"};o.addSpiritRoot(t),w(t),d.o.success(`è‡ªå®šä¹‰çµæ ¹ "${t.name}" å·²åˆ›å»ºï¼`),p.type="none",p.tier="none"}function $(){if("custom"===l.value&amp;&amp;"none"!==p.type){const e=v.find(e=&gt;e.key===p.type),n=u.find(e=&gt;e.key===p.tier);return e&amp;&amp;n&amp;&amp;"none"!==p.tier?`${n.desc}çš„${e.desc}`:e?e.desc:"è¯·é€‰æ‹©çµæ ¹å“çº§"}return y.value}function I(e){return function(e){const n={};return e.name?.trim()||(n.name="çµæ ¹åç§°ä¸å¯ä¸ºç©º"),e.tier||(n.tier="è¯·é€‰æ‹©å“çº§"),e.description?.trim()||(n.description="çµæ ¹æè¿°ä¸å¯ä¸ºç©º"),(void 0===e.base_multiplier||isNaN(parseFloat(e.base_multiplier)))&amp;&amp;(n.base_multiplier="ä¿®ç‚¼å€ç‡å¿…é¡»ä¸ºæ•°å­—"),(void 0===e.talent_cost||isNaN(parseInt(e.talent_cost,10)))&amp;&amp;(n.talent_cost="æ¶ˆè€—ç‚¹æ•°å¿…é¡»ä¸ºæ•°å­—"),e.rarity&amp;&amp;(isNaN(parseInt(e.rarity,10))||parseInt(e.rarity,10)&lt;1||parseInt(e.rarity,10)&gt;5)&amp;&amp;(n.rarity="ç¨€æœ‰åº¦ç­‰çº§å¿…é¡»ä¸º1-5çš„æ•°å­—"),{valid:0===Object.keys(n).length,errors:Object.values(n)}}(e)}function T(e){!async function(e){const n=e.special_effects?.length?e.special_effects.filter(e=&gt;e.effect?.trim()).map(e=&gt;e.effect.trim()):[],t={id:Date.now(),name:e.name,tier:u.find(n=&gt;n.key===e.tier)?.name||e.tier,description:e.description,cultivation_speed:`${e.base_multiplier}x`,special_effects:n,base_multiplier:parseFloat(e.base_multiplier)||1,talent_cost:parseInt(e.talent_cost,10)||0,rarity:parseInt(e.rarity,10)||1,source:"cloud"};try{o.addSpiritRoot(t),w(t),i.value=!1,d.o.success(`è‡ªå®šä¹‰çµæ ¹ "${t.name}" å·²ä¿å­˜ï¼`)}catch(e){console.error("ä¿å­˜è‡ªå®šä¹‰çµæ ¹å¤±è´¥:",e),d.o.error("ä¿å­˜è‡ªå®šä¹‰çµæ ¹å¤±è´¥ï¼")}}(e)}async function j(e){if(!m.value)return;const n=e.special_effects?.length?e.special_effects.filter(e=&gt;e.effect?.trim()).map(e=&gt;e.effect.trim()):[],t={name:e.name,tier:u.find(n=&gt;n.key===e.tier)?.name||e.tier,description:e.description,cultivation_speed:`${e.base_multiplier}x`,special_effects:n,base_multiplier:parseFloat(e.base_multiplier)||1,talent_cost:parseInt(e.talent_cost,10)||0,rarity:parseInt(e.rarity,10)||1};try{o.updateSpiritRoot(m.value.id,t)?(c.value=!1,m.value=null,d.o.success(`çµæ ¹ "${t.name}" å·²æ›´æ–°ï¼`)):d.o.error("æ›´æ–°çµæ ¹å¤±è´¥ï¼")}catch(e){console.error("æ›´æ–°çµæ ¹å¤±è´¥:",e),d.o.error("æ›´æ–°çµæ ¹å¤±è´¥ï¼")}}const M=(0,a.computed)(()=&gt;m.value?{name:m.value.name,tier:u.find(e=&gt;e.name===m.value.tier)?.key||"common",description:m.value.description,base_multiplier:m.value.base_multiplier?.toString()||"1.0",talent_cost:m.value.talent_cost.toString(),rarity:m.value.rarity?.toString()||"1",special_effects:m.value.special_effects?.map(e=&gt;({effect:e}))||[]}:{});return(e,n)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",so,[(0,a.unref)(o).isLoading?((0,a.openBlock)(),(0,a.createElementBlock)("div",mo,"å¤©åœ°ç„é»„ï¼Œæ¢æŸ¥çµæ ¹...")):(0,a.unref)(o).error?((0,a.openBlock)(),(0,a.createElementBlock)("div",po,"å¤©æœºæ··æ²Œï¼š"+(0,a.toDisplayString)((0,a.unref)(o).error),1)):((0,a.openBlock)(),(0,a.createElementBlock)("div",vo,[(0,a.createCommentVNode)(" å·¦ä¾§é¢æ¿ï¼šé€‰æ‹©å’Œæ“ä½œ "),(0,a.createElementVNode)("div",uo,[(0,a.createCommentVNode)(" é¡¶éƒ¨åŠŸèƒ½æŒ‰é’® "),(0,a.createElementVNode)("div",go,[(0,a.unref)(o).isLocalCreation?((0,a.openBlock)(),(0,a.createElementBlock)("button",{key:0,onClick:n[0]||(n[0]=e=&gt;i.value=!0),class:"action-item shimmer-on-hover"},n[7]||(n[7]=[(0,a.createElementVNode)("span",{class:"action-name"},"é«˜çº§è‡ªå®šä¹‰",-1)]))):(0,a.createCommentVNode)("v-if",!0),(0,a.createElementVNode)("button",{onClick:E,class:"action-item shimmer-on-hover"},n[8]||(n[8]=[(0,a.createElementVNode)("span",{class:"action-name"},"AIæ¨æ¼”",-1)]))]),(0,a.createCommentVNode)(" é€‰æ‹©æ¨¡å¼åˆ‡æ¢ "),(0,a.createElementVNode)("div",fo,[(0,a.createElementVNode)("button",{class:(0,a.normalizeClass)([{active:"preset"===l.value},"mode-tab"]),onClick:n[1]||(n[1]=e=&gt;l.value="preset")}," é¢„è®¾çµæ ¹ ",2),(0,a.createElementVNode)("button",{class:(0,a.normalizeClass)([{active:"custom"===l.value},"mode-tab"]),onClick:n[2]||(n[2]=e=&gt;l.value="custom")}," ç»„åˆé€‰æ‹© ",2)]),(0,a.createCommentVNode)(" é¢„è®¾çµæ ¹æ¨¡å¼ "),"preset"===l.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",bo,[(0,a.createElementVNode)("div",ho,[(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["spirit-root-item",{selected:b.value}]),onClick:N,onMouseover:n[3]||(n[3]=e=&gt;r.value="random")},n[9]||(n[9]=[(0,a.createElementVNode)("span",{class:"spirit-root-name"},"éšæœºçµæ ¹",-1),(0,a.createElementVNode)("span",{class:"spirit-root-cost"},"0 ç‚¹",-1)]),34),n[10]||(n[10]=(0,a.createElementVNode)("div",{class:"divider"},null,-1)),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(g.value,e=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:e.id,class:(0,a.normalizeClass)(["spirit-root-item",{selected:(0,a.unref)(o).characterPayload.spirit_root_id===e.id,disabled:!k(e)}]),onClick:n=&gt;w(e),onMouseover:n=&gt;r.value=e},[(0,a.createElementVNode)("div",xo,[(0,a.createElementVNode)("div",ko,[(0,a.createElementVNode)("span",wo,(0,a.toDisplayString)(e.name),1),C(e)?((0,a.openBlock)(),(0,a.createElementBlock)("span",{key:0,class:(0,a.normalizeClass)(["spirit-root-tier",`tier-${C(e)}`])},(0,a.toDisplayString)(C(e)),3)):(0,a.createCommentVNode)("v-if",!0)]),(0,a.createElementVNode)("span",No,(0,a.toDisplayString)(e.talent_cost)+" ç‚¹",1)]),"cloud"===e.source?((0,a.openBlock)(),(0,a.createElementBlock)("div",Eo,[(0,a.createElementVNode)("button",{onClick:(0,a.withModifiers)(n=&gt;function(e){m.value=e,c.value=!0}(e),["stop"]),class:"edit-btn",title:"ç¼–è¾‘æ­¤é¡¹"},[(0,a.createVNode)((0,a.unref)(Un),{size:14})],8,Vo),(0,a.createElementVNode)("button",{onClick:(0,a.withModifiers)(n=&gt;async function(e){try{await o.removeSpiritRoot(e),console.log(`ã€çµæ ¹é€‰æ‹©ã€‘æˆåŠŸåˆ é™¤çµæ ¹ ID: ${e}`)}catch(n){console.error(`ã€çµæ ¹é€‰æ‹©ã€‘åˆ é™¤çµæ ¹å¤±è´¥ ID: ${e}`,n)}}(e.id),["stop"]),class:"delete-btn",title:"åˆ é™¤æ­¤é¡¹"},[(0,a.createVNode)((0,a.unref)(Gn.A),{size:14})],8,Co)])):(0,a.createCommentVNode)("v-if",!0)],42,yo))),128))])])):(0,a.createCommentVNode)("v-if",!0),(0,a.createCommentVNode)(" ç»„åˆé€‰æ‹©æ¨¡å¼ "),"custom"===l.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",zo,[(0,a.createElementVNode)("div",So,[(0,a.createCommentVNode)(" çµæ ¹ç±»å‹é€‰æ‹© "),(0,a.createElementVNode)("div",Bo,[n[11]||(n[11]=(0,a.createElementVNode)("label",{class:"selection-label"},"çµæ ¹ç±»å‹",-1)),(0,a.createElementVNode)("div",Do,[((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(v,e=&gt;(0,a.createElementVNode)("button",{key:e.key,class:(0,a.normalizeClass)([{selected:p.type===e.key},"type-button"]),onClick:n=&gt;p.type=e.key,style:(0,a.normalizeStyle)({"--element-color":e.color})},[(0,a.createElementVNode)("span",_o,(0,a.toDisplayString)(e.icon),1),(0,a.createElementVNode)("span",$o,(0,a.toDisplayString)(e.name),1)],14,Ao)),64))])]),(0,a.createCommentVNode)(" å“çº§é€‰æ‹© "),(0,a.createElementVNode)("div",Io,[n[12]||(n[12]=(0,a.createElementVNode)("label",{class:"selection-label"},"çµæ ¹å“çº§",-1)),(0,a.createElementVNode)("div",To,[((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(u,e=&gt;(0,a.createElementVNode)("button",{key:e.key,class:(0,a.normalizeClass)(["tier-button",`tier-${e.key}`,{selected:p.tier===e.key}]),onClick:n=&gt;p.tier=e.key},[(0,a.createElementVNode)("span",Mo,(0,a.toDisplayString)(e.name),1),(0,a.createElementVNode)("span",qo,(0,a.toDisplayString)(e.multiplier)+"x",1),(0,a.createElementVNode)("span",Oo,(0,a.toDisplayString)(e.cost)+"ç‚¹",1)],10,jo)),64))])]),(0,a.createCommentVNode)(" é¢„è§ˆå’Œç¡®è®¤ "),(0,a.createElementVNode)("div",Po,[n[13]||(n[13]=(0,a.createElementVNode)("div",{class:"preview-title"},"é¢„è§ˆ",-1)),(0,a.createElementVNode)("div",Fo,[(0,a.createElementVNode)("div",Lo,[(0,a.createElementVNode)("span",null,(0,a.toDisplayString)(z()),1),"none"!==p.tier?((0,a.openBlock)(),(0,a.createElementBlock)("span",{key:0,class:(0,a.normalizeClass)(["preview-tier",`tier-${p.tier}`])},(0,a.toDisplayString)(D(p.tier)),3)):(0,a.createCommentVNode)("v-if",!0)]),(0,a.createElementVNode)("div",Yo,[(0,a.createElementVNode)("div",Ro,"ä¿®ç‚¼å€ç‡: "+(0,a.toDisplayString)(S())+"x",1),(0,a.createElementVNode)("div",Uo,"æ¶ˆè€—ç‚¹æ•°: "+(0,a.toDisplayString)(B())+"ç‚¹",1)])]),(0,a.createElementVNode)("button",{onClick:_,disabled:!A(),class:"confirm-custom-button"}," ç¡®è®¤é€‰æ‹© ",8,Go)])])])):(0,a.createCommentVNode)("v-if",!0)]),(0,a.createCommentVNode)(" å³ä¾§è¯¦æƒ… "),(0,a.createElementVNode)("div",Wo,[r.value||"custom"===l.value&amp;&amp;"none"!==p.type?((0,a.openBlock)(),(0,a.createElementBlock)("div",Jo,[(0,a.createElementVNode)("h2",null,(0,a.toDisplayString)("custom"===l.value&amp;&amp;"none"!==p.type?z():h.value),1),(0,a.createElementVNode)("div",Ho,[(0,a.createElementVNode)("p",null,(0,a.toDisplayString)($()),1)]),(0,a.createElementVNode)("div",Qo,[(0,a.createElementVNode)("div",Ko,[n[14]||(n[14]=(0,a.createElementVNode)("span",{class:"stat-label"},"ä¿®ç‚¼å€ç‡:",-1)),(0,a.createElementVNode)("span",Xo,(0,a.toDisplayString)("custom"===l.value&amp;&amp;"none"!==p.type?S().toString():"random"===r.value?"éšæœº":r.value&amp;&amp;"object"==typeof r.value?(r.value.base_multiplier||1).toString():"1.0")+"x",1)]),(0,a.createElementVNode)("div",Zo,[n[15]||(n[15]=(0,a.createElementVNode)("span",{class:"stat-label"},"æ¶ˆè€—å¤©é“ç‚¹:",-1)),(0,a.createElementVNode)("span",er,(0,a.toDisplayString)("custom"===l.value&amp;&amp;"none"!==p.type?B().toString():x.value.toString())+"ç‚¹",1)])])])):((0,a.openBlock)(),(0,a.createElementBlock)("div",nr,"è¯·é€‰æ‹©ä¸€ç§çµæ ¹ï¼Œæˆ–å¬å¤©ç”±å‘½ã€‚"))])])),(0,a.createCommentVNode)(" é«˜çº§è‡ªå®šä¹‰æ¨¡æ€æ¡† "),(0,a.createVNode)(ht,{visible:i.value,title:"é«˜çº§è‡ªå®šä¹‰çµæ ¹",fields:f,validationFn:I,onClose:n[4]||(n[4]=e=&gt;i.value=!1),onSubmit:T},null,8,["visible"]),(0,a.createCommentVNode)(" ç¼–è¾‘æ¨¡æ€æ¡† "),(0,a.createVNode)(ht,{visible:c.value,title:"ç¼–è¾‘çµæ ¹",fields:f,validationFn:I,initialData:M.value,onClose:n[5]||(n[5]=e=&gt;{c.value=!1,m.value=null}),onSubmit:j},null,8,["visible","initialData"]),(0,a.createCommentVNode)(" AIæ¨æ¼”è¾“å…¥å¼¹çª— "),(0,a.createVNode)(zt,{visible:s.value,onClose:n[6]||(n[6]=e=&gt;s.value=!1),onSubmit:V},null,8,["visible"])]))}});var ar=t(7456),or={};or.styleTagTransform=A(),or.setAttributes=z(),or.insert=V().bind(null,"head"),or.domAPI=N(),or.insertStyleElement=B(),k()(ar.A,or),ar.A&amp;&amp;ar.A.locals&amp;&amp;ar.A.locals;const rr=(0,j.A)(tr,[["__scopeId","data-v-11916b84"]]),lr={class:"talent-selection-container"},ir={key:0,class:"loading-state"},cr={key:1,class:"error-state"},sr={key:2,class:"talent-layout"},dr={class:"talent-left-panel"},mr={class:"top-actions-container"},pr={class:"talent-list-container"},vr=["onClick","onMouseover"],ur={class:"item-content"},gr={class:"talent-name"},fr={class:"talent-cost"},br={key:0,class:"action-buttons"},hr=["onClick"],yr=["onClick"],xr={class:"talent-details-container"},kr={key:0,class:"talent-details"},wr={class:"description-scroll"},Nr={key:1,class:"placeholder"},Er=(0,a.defineComponent)({__name:"Step5_TalentSelection",emits:["ai-generate"],setup(e,{emit:n}){const t=n,o=(0,nn.N)(),r=(0,a.ref)(null),l=(0,a.ref)(!1),i=(0,a.ref)(!1),c=(0,a.ref)(!1),s=(0,a.ref)(null),m=(0,a.computed)(()=&gt;{const e=o.creationData.talents;if(console.log("ã€å¤©èµ‹é€‰æ‹©ã€‘æ‰€æœ‰å¤©èµ‹æ•°æ®:",e.length,"ä¸ª"),console.log("ã€å¤©èµ‹é€‰æ‹©ã€‘å½“å‰æ¨¡å¼:",o.isLocalCreation?"æœ¬åœ°":"è”æœº"),o.isLocalCreation){const n=e.filter(e=&gt;"local"===e.source||"cloud"===e.source);return console.log("ã€å¤©èµ‹é€‰æ‹©ã€‘å•æœºæ¨¡å¼å¯ç”¨å¤©èµ‹æ•°é‡:",n.length),n}{const n=e.length&gt;0?e:[];return console.log("ã€å¤©èµ‹é€‰æ‹©ã€‘è”æœºæ¨¡å¼å¤©èµ‹æ•°é‡:",n.length),0===n.length&amp;&amp;console.warn("ã€å¤©èµ‹é€‰æ‹©ã€‘è­¦å‘Šï¼šè”æœºæ¨¡å¼ä¸‹æ²¡æœ‰æ‰¾åˆ°ä»»ä½•å¤©èµ‹æ•°æ®ï¼"),n}}),p=[{key:"name",label:"å¤©èµ‹åç§°",type:"text",placeholder:"ä¾‹å¦‚ï¼šé“å¿ƒå¤©æˆ"},{key:"description",label:"å¤©èµ‹æè¿°",type:"textarea",placeholder:"æè¿°æ­¤å¤©èµ‹çš„æœ¬è´¨..."},{key:"talent_cost",label:"å¤©é“ç‚¹æ¶ˆè€—",type:"number",placeholder:"ä¾‹å¦‚ï¼š3"}];function v(e){const n={};return e.name?.trim()||(n.name="å¤©èµ‹åç§°ä¸å¯ä¸ºç©º"),e.description?.trim()||(n.description="å¤©èµ‹æè¿°ä¸å¯ä¸ºç©º"),void 0===e.talent_cost||null===e.talent_cost||isNaN(e.talent_cost)?n.talent_cost="å¤©é“ç‚¹æ¶ˆè€—å¿…é¡»å¡«å†™":e.talent_cost&lt;0&amp;&amp;(n.talent_cost="å¤©é“ç‚¹æ¶ˆè€—ä¸èƒ½ä¸ºè´Ÿæ•°"),{valid:0===Object.keys(n).length,errors:Object.values(n)}}async function u(e){const n={id:Date.now(),name:e.name,description:e.description,talent_cost:Number(e.talent_cost)||0,rarity:1,source:"local"};try{o.addTalent(n),l.value=!1,d.o.success(`è‡ªå®šä¹‰å¤©èµ‹ "${n.name}" å·²ä¿å­˜ï¼`)}catch(e){console.error("ä¿å­˜è‡ªå®šä¹‰å¤©èµ‹å¤±è´¥:",e),d.o.error("ä¿å­˜è‡ªå®šä¹‰å¤©èµ‹å¤±è´¥ï¼")}}const g=e=&gt;o.characterPayload.selected_talent_ids.includes(e.id);function f(e){r.value=e,o.toggleTalent(e.id)}function b(){o.isLocalCreation?c.value=!0:t("ai-generate")}async function h(e){const n="ai-generate-talent";d.o.loading("å¤©æœºæ¨æ¼”ä¸­ï¼Œè¯·ç¨å€™...",{id:n});try{const t=await(0,St.eb)(e,Bt.BA,!1);if(!t)return void d.o.error("AIæ¨æ¼”å¤±è´¥",{id:n});let a;console.log("ã€AIæ¨æ¼”-å¤©èµ‹ã€‘å®Œæ•´å“åº”:",t);try{const e=t.match(/```json\s*([\s\S]*?)\s*```/)||t.match(/\{[\s\S]*\}/),n=e?e[1]||e[0]:t;a=JSON.parse(n.trim())}catch(e){return console.error("ã€AIæ¨æ¼”-å¤©èµ‹ã€‘JSONè§£æå¤±è´¥:",e),void d.o.error("AIæ¨æ¼”ç»“æœæ ¼å¼é”™è¯¯ï¼Œæ— æ³•è§£æ",{id:n})}if(!a.name&amp;&amp;!a.åç§°)return void d.o.error("AIæ¨æ¼”ç»“æœç¼ºå°‘å¤©èµ‹åç§°",{id:n});const r={id:Date.now(),name:a.name||a.åç§°||"æœªå‘½åå¤©èµ‹",description:a.description||a.æè¿°||a.è¯´æ˜||"",talent_cost:a.talent_cost||a.ç‚¹æ•°æ¶ˆè€—||1,rarity:a.rarity||a.ç¨€æœ‰åº¦||1,source:"local"};o.addTalent(r),f(r),c.value=!1,d.o.success(`AIæ¨æ¼”å®Œæˆï¼å¤©èµ‹ "${r.name}" å·²ç”Ÿæˆ`,{id:n})}catch(e){console.error("ã€AIæ¨æ¼”-å¤©èµ‹ã€‘å¤±è´¥:",e),d.o.error(`AIæ¨æ¼”å¤±è´¥: ${e.message}`,{id:n})}}async function y(e){if(!s.value)return;const n={name:e.name,description:e.description,talent_cost:Number(e.talent_cost)||0};try{o.updateTalent(s.value.id,n)?(i.value=!1,s.value=null,d.o.success(`å¤©èµ‹ "${n.name}" å·²æ›´æ–°ï¼`)):d.o.error("æ›´æ–°å¤©èµ‹å¤±è´¥ï¼")}catch(e){console.error("æ›´æ–°å¤©èµ‹å¤±è´¥:",e),d.o.error("æ›´æ–°å¤©èµ‹å¤±è´¥ï¼")}}const x=(0,a.computed)(()=&gt;s.value?{name:s.value.name,description:s.value.description,talent_cost:s.value.talent_cost||0}:{});return(e,n)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",lr,[(0,a.unref)(o).isLoading?((0,a.openBlock)(),(0,a.createElementBlock)("div",ir,"äºæ—¶å…‰é•¿æ²³ä¸­æœå¯»å¤©èµ‹...")):(0,a.unref)(o).error?((0,a.openBlock)(),(0,a.createElementBlock)("div",cr,"å¤©æœºç´Šä¹±ï¼š"+(0,a.toDisplayString)((0,a.unref)(o).error),1)):((0,a.openBlock)(),(0,a.createElementBlock)("div",sr,[(0,a.createCommentVNode)(" å·¦ä¾§é¢æ¿ï¼šåˆ—è¡¨å’Œæ“ä½œæŒ‰é’® "),(0,a.createElementVNode)("div",dr,[(0,a.createCommentVNode)(" é¡¶éƒ¨åŠŸèƒ½æŒ‰é’® "),(0,a.createElementVNode)("div",mr,[(0,a.unref)(o).isLocalCreation?((0,a.openBlock)(),(0,a.createElementBlock)("button",{key:0,onClick:n[0]||(n[0]=e=&gt;l.value=!0),class:"action-item shimmer-on-hover"},n[4]||(n[4]=[(0,a.createElementVNode)("span",{class:"action-name"},"è‡ªå®šä¹‰å¤©èµ‹",-1)]))):(0,a.createCommentVNode)("v-if",!0),(0,a.createElementVNode)("button",{onClick:b,class:"action-item shimmer-on-hover"},n[5]||(n[5]=[(0,a.createElementVNode)("span",{class:"action-name"},"AIæ¨æ¼”",-1)]))]),(0,a.createElementVNode)("div",pr,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(m.value,e=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:e.id,class:(0,a.normalizeClass)(["talent-item",{selected:g(e)}]),onClick:n=&gt;f(e),onMouseover:n=&gt;r.value=e},[(0,a.createElementVNode)("div",ur,[(0,a.createElementVNode)("span",gr,(0,a.toDisplayString)(e.name),1),(0,a.createElementVNode)("span",fr,(0,a.toDisplayString)(e.talent_cost||0)+"ç‚¹",1)]),"cloud"===e.source||"local"===e.source?((0,a.openBlock)(),(0,a.createElementBlock)("div",br,[(0,a.createElementVNode)("button",{onClick:(0,a.withModifiers)(n=&gt;function(e){s.value=e,i.value=!0}(e),["stop"]),class:"edit-btn",title:"ç¼–è¾‘æ­¤é¡¹"},[(0,a.createVNode)((0,a.unref)(Un),{size:14})],8,hr),(0,a.createElementVNode)("button",{onClick:(0,a.withModifiers)(n=&gt;async function(e){try{await o.removeTalent(e),console.log(`ã€å¤©èµ‹é€‰æ‹©ã€‘æˆåŠŸåˆ é™¤å¤©èµ‹ ID: ${e}`)}catch(n){console.error(`ã€å¤©èµ‹é€‰æ‹©ã€‘åˆ é™¤å¤©èµ‹å¤±è´¥ ID: ${e}`,n)}}(e.id),["stop"]),class:"delete-btn",title:"åˆ é™¤æ­¤é¡¹"},[(0,a.createVNode)((0,a.unref)(Gn.A),{size:14})],8,yr)])):(0,a.createCommentVNode)("v-if",!0)],42,vr))),128))])]),(0,a.createElementVNode)("div",xr,[r.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",kr,[(0,a.createElementVNode)("h2",null,(0,a.toDisplayString)(r.value.name),1),(0,a.createElementVNode)("div",wr,[(0,a.createElementVNode)("p",null,(0,a.toDisplayString)(r.value.description||"æ­¤å¤©èµ‹ä¹‹ç„å¦™ï¼Œéœ€è‡ªè¡Œé¢†æ‚Ÿã€‚"),1)])])):((0,a.openBlock)(),(0,a.createElementBlock)("div",Nr,"è¯·é€‰æ‹©å¤©èµ‹ã€‚"))])])),(0,a.createVNode)(ht,{visible:l.value,title:"è‡ªå®šä¹‰å¤©èµ‹",fields:p,validationFn:v,onClose:n[1]||(n[1]=e=&gt;l.value=!1),onSubmit:u},null,8,["visible"]),(0,a.createCommentVNode)(" ç¼–è¾‘æ¨¡æ€æ¡† "),(0,a.createVNode)(ht,{visible:i.value,title:"ç¼–è¾‘å¤©èµ‹",fields:p,validationFn:v,initialData:x.value,onClose:n[2]||(n[2]=e=&gt;{i.value=!1,s.value=null}),onSubmit:y},null,8,["visible","initialData"]),(0,a.createCommentVNode)(" AIæ¨æ¼”è¾“å…¥å¼¹çª— "),(0,a.createVNode)(zt,{visible:c.value,onClose:n[3]||(n[3]=e=&gt;c.value=!1),onSubmit:h},null,8,["visible"])]))}});var Vr=t(2753),Cr={};Cr.styleTagTransform=A(),Cr.setAttributes=z(),Cr.insert=V().bind(null,"head"),Cr.domAPI=N(),Cr.insertStyleElement=B(),k()(Vr.A,Cr),Vr.A&amp;&amp;Vr.A.locals&amp;&amp;Vr.A.locals;const zr=(0,j.A)(Er,[["__scopeId","data-v-5a49dc56"]]),Sr={class:"attribute-allocation-container"},Br={class:"header"},Dr={class:"points-display"},Ar={class:"attributes-list"},_r={class:"attribute-info"},$r={class:"attribute-name"},Ir={class:"attribute-desc"},Tr={class:"attribute-controls"},jr=["onClick","disabled"],Mr={class:"attribute-value"},qr=["onClick","disabled"],Or=10,Pr=(0,a.defineComponent)({__name:"Step6_AttributeAllocation",setup(e){const n=(0,nn.N)(),t={root_bone:"æ ¹éª¨",spirituality:"çµæ€§",comprehension:"æ‚Ÿæ€§",fortune:"æ°”è¿",charm:"é­…åŠ›",temperament:"å¿ƒæ€§"},o={root_bone:"å†³å®šæ°”è¡€ä¸Šé™ã€æ¢å¤é€Ÿåº¦ã€å¯¿å‘½ä¸Šé™ã€‚å½±å“ç‚¼ä½“ä¿®è¡Œã€æŠ—æ‰“å‡»èƒ½åŠ›ã€‚",spirituality:"å†³å®šçµæ°”ä¸Šé™ã€å¸æ”¶æ•ˆç‡ã€‚å½±å“ä¿®ç‚¼é€Ÿåº¦ã€æ³•æœ¯å¨åŠ›ã€‚",comprehension:"å†³å®šç¥è¯†ä¸Šé™ã€å­¦ä¹ æ•ˆç‡ã€‚å½±å“åŠŸæ³•é¢†æ‚Ÿã€æŠ€èƒ½æŒæ¡é€Ÿåº¦ã€‚",fortune:"å†³å®šå„ç§æ¦‚ç‡ã€ç‰©å“æ‰è½å“è´¨ã€‚å½±å“å¤©æåœ°å®è·å–ã€è´µäººç›¸åŠ©ã€‚",charm:"å†³å®šåˆå§‹å¥½æ„Ÿåº¦ã€ç¤¾äº¤åŠ æˆã€‚å½±å“NPCäº’åŠ¨ã€é—¨æ´¾å£°æœ›è·å–ã€‚",temperament:"å†³å®šå¿ƒé­”æŠ—æ€§ã€æ„å¿—åŠ›ã€‚å½±å“èµ°ç«å…¥é­”æŠµæŠ—ã€å…³é”®æŠ‰æ‹©ã€‚"};function r(){Object.keys(n.attributes).forEach(e=&gt;{n.setAttribute(e,0)})}function l(){r();let e=n.remainingTalentPoints;const t=Object.keys(n.attributes);for(;e&gt;0;){const a=t[Math.floor(Math.random()*t.length)],o=n.attributes[a];if(o<or&&(n.setattribute(a,o+1),e--),t.every(e=>n.attributes[e]&gt;=Or))break}}function i(){r();const e=Math.max(0,n.remainingTalentPoints);if(e&lt;=0)return;const t=Object.keys(n.attributes).length,a=Math.floor(e/t);let o=e%t;Object.keys(n.attributes).forEach(e=&gt;{let t=a;o&gt;0&amp;&amp;(t++,o--);const r=Math.min(0+t,Or);n.setAttribute(e,r)})}return(0,a.onMounted)(()=&gt;{}),(e,c)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",Sr,[(0,a.createElementVNode)("div",Br,[c[1]||(c[1]=(0,a.createElementVNode)("h2",null,"å…ˆå¤©å…­å‘½åˆ†é…",-1)),(0,a.createElementVNode)("div",Dr,[c[0]||(c[0]=(0,a.createTextVNode)(" å‰©ä½™å¤©é“ç‚¹: ",-1)),(0,a.createElementVNode)("span",{class:(0,a.normalizeClass)({negative:(0,a.unref)(n).remainingTalentPoints&lt;0})},(0,a.toDisplayString)((0,a.unref)(n).remainingTalentPoints),3)])]),(0,a.createElementVNode)("div",Ar,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)((0,a.unref)(n).attributes,(e,r)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:r,class:"attribute-item"},[(0,a.createElementVNode)("div",_r,[(0,a.createElementVNode)("span",$r,(0,a.toDisplayString)(t[r]),1),(0,a.createElementVNode)("p",Ir,(0,a.toDisplayString)(o[r]),1)]),(0,a.createElementVNode)("div",Tr,[(0,a.createElementVNode)("button",{onClick:e=&gt;function(e){n.attributes[e]&gt;0&amp;&amp;n.setAttribute(e,n.attributes[e]-1)}(r),disabled:e&lt;=0},"-",8,jr),(0,a.createElementVNode)("span",Mr,(0,a.toDisplayString)(e),1),(0,a.createElementVNode)("button",{onClick:e=&gt;function(e){n.remainingTalentPoints&gt;0&amp;&amp;n.attributes[e]<or&&n.setattribute(e,n.attributes[e]+1)}(r),disabled:(0,a.unref)(n).remainingtalentpoints<=0||e>=Or,class:(0,a.normalizeClass)({disabled:(0,a.unref)(n).remainingTalentPoints&lt;=0||e&gt;=Or})}," + ",10,qr)])]))),128))]),(0,a.createElementVNode)("div",{class:"actions"},[(0,a.createElementVNode)("button",{onClick:r,class:"btn btn-secondary"},"é‡ç½®"),(0,a.createElementVNode)("button",{onClick:l,class:"btn btn-warning"},"ğŸ² éšæœº"),(0,a.createElementVNode)("button",{onClick:i,class:"btn btn-success"},"âš–ï¸ å‡è¡¡")])]))}});var Fr=t(2881),Lr={};Lr.styleTagTransform=A(),Lr.setAttributes=z(),Lr.insert=V().bind(null,"head"),Lr.domAPI=N(),Lr.insertStyleElement=B(),k()(Fr.A,Lr),Fr.A&amp;&amp;Fr.A.locals&amp;&amp;Fr.A.locals;const Yr=(0,j.A)(Pr,[["__scopeId","data-v-0d0d1bb1"]]),Rr={class:"preview-container"},Ur={class:"preview-grid"},Gr={class:"preview-item name-item"},Wr={class:"preview-item race-item input-field"},Jr={class:"preview-item gender-item"},Hr={class:"gender-control"},Qr={class:"gender-label"},Kr={class:"gender-label"},Xr={class:"gender-label"},Zr={class:"preview-item age-item"},el={class:"age-control"},nl=["disabled"],tl={class:"age-display"},al=["disabled"],ol={class:"preview-item"},rl={class:"item-description"},ll={class:"preview-item"},il={class:"item-description"},cl={class:"preview-item"},sl={class:"item-description"},dl={class:"preview-item"},ml={class:"item-description"},pl={class:"preview-item talents-item"},vl={key:0},ul={class:"item-description"},gl={key:1},fl={key:0,class:"preview-item attributes-item"},bl=(0,a.defineComponent)({__name:"Step7_Preview",props:{isLocalCreation:{type:Boolean}},setup(e){const n=(0,nn.N)(),t=e,o=()=&gt;{n.characterPayload.current_age&lt;18&amp;&amp;n.characterPayload.current_age++},r=()=&gt;{n.characterPayload.current_age&gt;0&amp;&amp;n.characterPayload.current_age--};return(e,l)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",Rr,[l[25]||(l[25]=(0,a.createElementVNode)("h2",{class:"title"},"æœ€ç»ˆé¢„è§ˆ",-1)),l[26]||(l[26]=(0,a.createElementVNode)("p",{class:"subtitle"},"è¯·ç¡®è®¤ä½ çš„é€‰æ‹©ï¼Œæ­¤ä¸ºè¸å…¥ä»™é€”çš„æœ€åä¸€æ­¥ã€‚",-1)),(0,a.createElementVNode)("div",Ur,[(0,a.createCommentVNode)(" Character Name "),(0,a.createElementVNode)("div",Gr,[l[11]||(l[11]=(0,a.createElementVNode)("label",{for:"characterName"},"é“å·:",-1)),(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"text",id:"characterName",class:"named","onUpdate:modelValue":l[0]||(l[0]=e=&gt;(0,a.unref)(n).characterPayload.character_name=e),placeholder:"{{user}}",onMousedown:l[1]||(l[1]=(0,a.withModifiers)(()=&gt;{},["stop"])),onClick:l[2]||(l[2]=(0,a.withModifiers)(()=&gt;{},["stop"])),onSelect:l[3]||(l[3]=(0,a.withModifiers)(()=&gt;{},["stop"]))},null,544),[[a.vModelText,(0,a.unref)(n).characterPayload.character_name]])]),(0,a.createCommentVNode)(" Character Race "),(0,a.createElementVNode)("div",Wr,[l[12]||(l[12]=(0,a.createElementVNode)("label",{for:"characterRace"},"ç§æ—:",-1)),(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"text",id:"characterRace",class:"named","onUpdate:modelValue":l[4]||(l[4]=e=&gt;(0,a.unref)(n).characterPayload.race=e),placeholder:"äººæ—",onMousedown:l[5]||(l[5]=(0,a.withModifiers)(()=&gt;{},["stop"])),onClick:l[6]||(l[6]=(0,a.withModifiers)(()=&gt;{},["stop"])),onSelect:l[7]||(l[7]=(0,a.withModifiers)(()=&gt;{},["stop"]))},null,544),[[a.vModelText,(0,a.unref)(n).characterPayload.race]])]),(0,a.createCommentVNode)(" Gender Selection "),(0,a.createElementVNode)("div",Jr,[l[16]||(l[16]=(0,a.createElementVNode)("h3",null,"æ€§åˆ«",-1)),(0,a.createElementVNode)("div",Hr,[(0,a.createElementVNode)("label",Qr,[(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"radio",name:"gender",value:"ç”·","onUpdate:modelValue":l[8]||(l[8]=e=&gt;(0,a.unref)(n).characterPayload.gender=e)},null,512),[[a.vModelRadio,(0,a.unref)(n).characterPayload.gender]]),l[13]||(l[13]=(0,a.createElementVNode)("span",null,"ç”·",-1))]),(0,a.createElementVNode)("label",Kr,[(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"radio",name:"gender",value:"å¥³","onUpdate:modelValue":l[9]||(l[9]=e=&gt;(0,a.unref)(n).characterPayload.gender=e)},null,512),[[a.vModelRadio,(0,a.unref)(n).characterPayload.gender]]),l[14]||(l[14]=(0,a.createElementVNode)("span",null,"å¥³",-1))]),(0,a.createElementVNode)("label",Xr,[(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"radio",name:"gender",value:"åŒæ€§","onUpdate:modelValue":l[10]||(l[10]=e=&gt;(0,a.unref)(n).characterPayload.gender=e)},null,512),[[a.vModelRadio,(0,a.unref)(n).characterPayload.gender]]),l[15]||(l[15]=(0,a.createElementVNode)("span",null,"åŒæ€§",-1))])])]),(0,a.createCommentVNode)(" Birth Age "),(0,a.createElementVNode)("div",Zr,[l[17]||(l[17]=(0,a.createElementVNode)("h3",null,"åˆå§‹å¹´é¾„",-1)),(0,a.createElementVNode)("div",el,[(0,a.createElementVNode)("button",{type:"button",onClick:r,disabled:(0,a.unref)(n).characterPayload.current_age&lt;=0,class:"age-btn"},"-",8,nl),(0,a.createElementVNode)("span",tl,(0,a.toDisplayString)((0,a.unref)(n).characterPayload.current_age)+" å²",1),(0,a.createElementVNode)("button",{type:"button",onClick:o,disabled:(0,a.unref)(n).characterPayload.current_age&gt;=18,class:"age-btn"},"+",8,al)])]),(0,a.createCommentVNode)(" World "),(0,a.createElementVNode)("div",ol,[l[18]||(l[18]=(0,a.createElementVNode)("h3",null,"æ‰€é€‰ä¸–ç•Œ",-1)),(0,a.createElementVNode)("h4",null,(0,a.toDisplayString)((0,a.unref)(n).selectedWorld?.name||"æœªé€‰æ‹©"),1),(0,a.createElementVNode)("p",rl,(0,a.toDisplayString)((0,a.unref)(n).selectedWorld?.description||"æš‚æ— æè¿°"),1)]),(0,a.createCommentVNode)(" Talent Tier "),(0,a.createElementVNode)("div",ll,[l[19]||(l[19]=(0,a.createElementVNode)("h3",null,"å¤©èµ„",-1)),(0,a.createElementVNode)("h4",{style:(0,a.normalizeStyle)({color:(0,a.unref)(n).selectedTalentTier?.color||"inherit"})},(0,a.toDisplayString)((0,a.unref)(n).selectedTalentTier?.name||"æœªé€‰æ‹©"),5),(0,a.createElementVNode)("p",il,(0,a.toDisplayString)((0,a.unref)(n).selectedTalentTier?.description||"æš‚æ— æè¿°"),1)]),(0,a.createCommentVNode)(" Origin "),(0,a.createElementVNode)("div",cl,[l[20]||(l[20]=(0,a.createElementVNode)("h3",null,"å‡ºèº«",-1)),(0,a.createElementVNode)("h4",null,(0,a.toDisplayString)((0,a.unref)(n).selectedOrigin?.name||"éšæœºå‡ºèº«"),1),(0,a.createElementVNode)("p",sl,(0,a.toDisplayString)((0,a.unref)(n).selectedOrigin?.description||"æš‚æ— æè¿°"),1)]),(0,a.createCommentVNode)(" Spirit Root "),(0,a.createElementVNode)("div",dl,[l[21]||(l[21]=(0,a.createElementVNode)("h3",null,"çµæ ¹",-1)),(0,a.createElementVNode)("h4",null,(0,a.toDisplayString)((0,a.unref)(n).selectedSpiritRoot?.name||"éšæœºçµæ ¹"),1),(0,a.createElementVNode)("p",ml,(0,a.toDisplayString)((0,a.unref)(n).selectedSpiritRoot?.description||"æš‚æ— æè¿°"),1)]),(0,a.createCommentVNode)(" Talents "),(0,a.createElementVNode)("div",pl,[l[22]||(l[22]=(0,a.createElementVNode)("h3",null,"å¤©èµ‹",-1)),(0,a.unref)(n).selectedTalents.length?((0,a.openBlock)(),(0,a.createElementBlock)("ul",vl,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)((0,a.unref)(n).selectedTalents,e=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("li",{key:e.id},[(0,a.createElementVNode)("strong",null,(0,a.toDisplayString)(e.name),1),(0,a.createElementVNode)("p",ul,(0,a.toDisplayString)(e.description),1)]))),128))])):((0,a.openBlock)(),(0,a.createElementBlock)("p",gl,"æœªé€‰æ‹©ä»»ä½•å¤©èµ‹"))]),(0,a.createCommentVNode)(" Attributes "),t.isLocalCreation?((0,a.openBlock)(),(0,a.createElementBlock)("div",fl,[l[23]||(l[23]=(0,a.createElementVNode)("h3",null,"å…ˆå¤©å…­å¸",-1)),(0,a.createElementVNode)("ul",null,[(0,a.createElementVNode)("li",null,"æ ¹éª¨: "+(0,a.toDisplayString)((0,a.unref)(n).attributes.root_bone),1),(0,a.createElementVNode)("li",null,"çµæ€§: "+(0,a.toDisplayString)((0,a.unref)(n).attributes.spirituality),1),(0,a.createElementVNode)("li",null,"æ‚Ÿæ€§: "+(0,a.toDisplayString)((0,a.unref)(n).attributes.comprehension),1),(0,a.createElementVNode)("li",null,"æ°”è¿: "+(0,a.toDisplayString)((0,a.unref)(n).attributes.fortune),1),(0,a.createElementVNode)("li",null,"é­…åŠ›: "+(0,a.toDisplayString)((0,a.unref)(n).attributes.charm),1),(0,a.createElementVNode)("li",null,"å¿ƒæ€§: "+(0,a.toDisplayString)((0,a.unref)(n).attributes.temperament),1)])])):((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:1},[(0,a.createCommentVNode)(" Cloud Mode Placeholder "),l[24]||(l[24]=(0,a.createElementVNode)("div",{class:"preview-item cloud-info-item"},[(0,a.createElementVNode)("h3",null,"å‘½æ ¼å¤©å®š"),(0,a.createElementVNode)("p",{class:"cloud-info-text"}," è”æœºæ¨¡å¼ä¸‹ï¼Œè§’è‰²çš„åˆå§‹å‘½æ ¼å°†ç”±æ‰€é€‰ä¸–ç•Œçš„å¤©é“æ³•åˆ™åœ¨äº‘ç«¯ç”Ÿæˆï¼Œä»¥ç¡®ä¿å…¬å¹³ä¸å¹³è¡¡ã€‚ ")],-1))],2112))])]))}});var hl=t(4042),yl={};yl.styleTagTransform=A(),yl.setAttributes=z(),yl.insert=V().bind(null,"head"),yl.domAPI=N(),yl.insertStyleElement=B(),k()(hl.A,yl),hl.A&amp;&amp;hl.A.locals&amp;&amp;hl.A.locals;const xl=(0,j.A)(bl,[["__scopeId","data-v-bcd8af9a"]]),kl={class:"modal-dialog"},wl={key:0,class:"step-content"},Nl={class:"modal-title"},El={class:"form-group"},Vl={key:0,class:"error-message"},Cl={class:"form-actions"},zl=["disabled"],Sl={class:"step-content"},Bl={class:"modal-subtitle"},Dl={class:"prompt-section"},Al=["placeholder","onKeyup"],_l={class:"char-count"},$l={key:0,class:"suggested-prompts"},Il={class:"suggestions-grid"},Tl=["onClick"],jl=(0,a.defineComponent)({__name:"RedemptionCodeModal",props:{visible:{type:Boolean},title:{},type:{}},emits:["close","submit"],setup(e,{emit:n}){const t=e,o=n,r=(0,a.ref)(""),l=(0,a.ref)(""),i=(0,a.ref)(""),c=(0,a.ref)(null),s=(0,a.ref)("code"),d=(0,a.ref)(!1),m=()=&gt;({world:["ç°ä»£éƒ½å¸‚ä¿®ä»™ï¼Œçµæ°”å¤è‹","å¤ä»£ä»™ä¾ ä¸–ç•Œï¼Œé—¨æ´¾æ—ç«‹","æœ«æ³•æ—¶ä»£ï¼Œä¿®çœŸæ²¡è½","æ˜Ÿé™…ä¿®ä»™ï¼Œå®‡å®™å¾é€”"],talent_tier:["å¤©ç”Ÿå‰‘å¿ƒï¼Œå‰‘é“å¤©æ‰","ä¸¹é“å¥‡æ‰ï¼Œç‚¼ä¸¹å¤©èµ‹","é˜µæ³•å¤§å¸ˆï¼Œå¤©æœºæ¨ç®—","ä½“ä¿®éœ¸ä½“ï¼Œè‚‰èº«æ— åŒ"],origin:["ä¿®ä»™ä¸–å®¶çš„æ²¡è½å­å¼Ÿ","å‡¡äººå‡ºèº«çš„å¤©é€‰ä¹‹å­","é­”é—¨å¼Ÿå­æ”¹é‚ªå½’æ­£","ä¸Šå¤ä¼ æ‰¿çš„æœ€åè¡€è„‰"],spirit_root:["é›·å±æ€§å˜å¼‚çµæ ¹","ç½•è§çš„æ—¶é—´å±æ€§","æ··æ²Œå±æ€§è‡³å°Šçµæ ¹","äº”è¡Œä¿±å…¨çš„åºŸæŸ´çµæ ¹"],talent:["é€è§†æœ¬è´¨çš„å¤©çœ¼ç¥é€š","é¢„çŸ¥æœªæ¥çš„å¤©æœºæœ¯","ä¸æ­»ä¸ç­çš„é‡ç”Ÿèƒ½åŠ›","æ“æ§æ—¶ç©ºçš„ç¥çº§å¤©èµ‹"]}[t.type||"world"]||[]);(0,a.watch)(()=&gt;t.visible,e=&gt;{e&amp;&amp;(p(),(0,a.nextTick)(()=&gt;{c.value?.focus()}))});const p=()=&gt;{i.value="",r.value="",l.value="",s.value="code",d.value=!1},v=()=&gt;{p(),o("close")},u=()=&gt;{s.value="code",i.value=""},g=async()=&gt;{if(r.value.trim()){d.value=!0,i.value="";try{await new Promise(e=&gt;setTimeout(e,500)),s.value="prompt"}catch(e){i.value="å…‘æ¢ç éªŒè¯å¤±è´¥ï¼Œè¯·æ£€æŸ¥åé‡è¯•ã€‚"}finally{d.value=!1}}else i.value="å…‘æ¢ç ä¸å¯ä¸ºç©ºã€‚"},f=()=&gt;{o("submit",{code:r.value.trim(),prompt:l.value.trim()||void 0}),p()};return(e,n)=&gt;e.visible?((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:0,class:"modal-overlay",onClick:(0,a.withModifiers)(v,["self"])},[(0,a.createElementVNode)("div",kl,[(0,a.createCommentVNode)(" ç¬¬ä¸€æ­¥ï¼šè¾“å…¥å…‘æ¢ç  "),"code"===s.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",wl,[(0,a.createElementVNode)("h2",Nl,(0,a.toDisplayString)(e.title),1),n[2]||(n[2]=(0,a.createElementVNode)("p",{class:"modal-subtitle"},"è¯·è¾“å…¥å…‘æ¢ç ä»¥æ¥å¼•å¤©æœºè¿›è¡ŒAIæ¨æ¼”ã€‚",-1)),(0,a.createElementVNode)("form",{onSubmit:(0,a.withModifiers)(g,["prevent"])},[(0,a.createElementVNode)("div",El,[(0,a.withDirectives)((0,a.createElementVNode)("input",{"onUpdate:modelValue":n[0]||(n[0]=e=&gt;r.value=e),type:"text",placeholder:"è¯·è¾“å…¥å…‘æ¢ç ",class:"code-input",ref_key:"inputRef",ref:c},null,512),[[a.vModelText,r.value]])]),i.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",Vl,(0,a.toDisplayString)(i.value),1)):(0,a.createCommentVNode)("v-if",!0),(0,a.createElementVNode)("div",Cl,[(0,a.createElementVNode)("button",{type:"button",class:"btn btn-secondary",onClick:v}," å–æ¶ˆ "),(0,a.createElementVNode)("button",{type:"submit",class:"btn",disabled:!r.value.trim()||d.value},(0,a.toDisplayString)(d.value?"éªŒè¯ä¸­...":"ä¸‹ä¸€æ­¥"),9,zl)])],32)])):"prompt"===s.value?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:1},[(0,a.createCommentVNode)(" ç¬¬äºŒæ­¥ï¼šè¾“å…¥æç¤ºè¯ "),(0,a.createElementVNode)("div",Sl,[n[5]||(n[5]=(0,a.createElementVNode)("h2",{class:"modal-title"},"è‡ªå®šä¹‰AIæ¨æ¼”",-1)),(0,a.createElementVNode)("p",Bl,(0,a.toDisplayString)({world:"æè¿°ä½ å¸Œæœ›çš„ä¸–ç•Œé£æ ¼ã€æ—¶ä»£èƒŒæ™¯æˆ–ç‰¹è‰²è®¾å®šï¼ˆå¯å«å¯¹è¯ï¼Œä½¿ç”¨ä¸­æ–‡å¼•å·â€œâ€ï¼Œæ¯å¥ä»…ä¸€å¯¹ï¼‰",talent_tier:"æè¿°ä½ å¸Œæœ›çš„å¤©èµ„ç±»å‹ã€ç‰¹ç‚¹æˆ–èƒ½åŠ›å€¾å‘ï¼ˆå¯å«å¯¹è¯ï¼Œä½¿ç”¨ä¸­æ–‡å¼•å·â€œâ€ï¼Œæ¯å¥ä»…ä¸€å¯¹ï¼‰",origin:"æè¿°ä½ å¸Œæœ›çš„å‡ºèº«èƒŒæ™¯ã€å®¶æ—æˆ–æˆé•¿ç¯å¢ƒï¼ˆå¯å«å¯¹è¯ï¼Œä½¿ç”¨ä¸­æ–‡å¼•å·â€œâ€ï¼Œæ¯å¥ä»…ä¸€å¯¹ï¼‰",spirit_root:"æè¿°ä½ å¸Œæœ›çš„çµæ ¹å±æ€§ã€ç‰¹è‰²æˆ–ä¿®ç‚¼å€¾å‘ï¼ˆå¯å«å¯¹è¯ï¼Œä½¿ç”¨ä¸­æ–‡å¼•å·â€œâ€ï¼Œæ¯å¥ä»…ä¸€å¯¹ï¼‰",talent:"æè¿°ä½ å¸Œæœ›çš„å¤©èµ‹èƒ½åŠ›ã€ç‰¹æ®ŠæŠ€èƒ½æˆ–ç¥é€šï¼ˆå¯å«å¯¹è¯ï¼Œä½¿ç”¨ä¸­æ–‡å¼•å·â€œâ€ï¼Œæ¯å¥ä»…ä¸€å¯¹ï¼‰"}[t.type||"world"]||"è¯·è¾“å…¥è‡ªå®šä¹‰æç¤ºè¯"),1),(0,a.createElementVNode)("div",Dl,[n[3]||(n[3]=(0,a.createElementVNode)("label",{class:"prompt-label"},"æç¤ºè¯ (å¯é€‰)",-1)),(0,a.withDirectives)((0,a.createElementVNode)("textarea",{"onUpdate:modelValue":n[1]||(n[1]=e=&gt;l.value=e),class:"prompt-input",placeholder:{world:"ä¾‹å¦‚ï¼šç°ä»£éƒ½å¸‚ä¿®ä»™ä¸–ç•Œï¼Œçµæ°”å¤è‹ï¼Œç§‘æŠ€ä¸ä¿®çœŸå¹¶å­˜...",talent_tier:"ä¾‹å¦‚ï¼šæ“…é•¿ç‚¼ä¸¹åˆ¶å™¨çš„å¤©æ‰ï¼Œæ‹¥æœ‰è¶…å¼ºçš„æ„ŸçŸ¥èƒ½åŠ›...",origin:"ä¾‹å¦‚ï¼šä¿®ä»™ä¸–å®¶çš„æ²¡è½å­å¼Ÿï¼Œèº«è´Ÿè¡€æµ·æ·±ä»‡...",spirit_root:"ä¾‹å¦‚ï¼šç½•è§çš„é›·å±æ€§å˜å¼‚çµæ ¹ï¼Œå¤©ç”Ÿå¼•é›·...",talent:"ä¾‹å¦‚ï¼šèƒ½å¤Ÿçœ‹é€äº‹ç‰©æœ¬è´¨çš„å¤©çœ¼ç¥é€š..."}[t.type||"world"]||"è¯·è¾“å…¥æç¤ºè¯...",rows:"4",maxlength:"500",onKeyup:(0,a.withKeys)((0,a.withModifiers)(f,["ctrl"]),["enter"])},null,40,Al),[[a.vModelText,l.value]]),(0,a.createElementVNode)("div",_l,(0,a.toDisplayString)(l.value.length)+"/500",1)]),m().length&gt;0?((0,a.openBlock)(),(0,a.createElementBlock)("div",$l,[n[4]||(n[4]=(0,a.createElementVNode)("h4",{class:"suggestions-title"},"å»ºè®®æç¤ºè¯",-1)),(0,a.createElementVNode)("div",Il,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(m(),e=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("button",{key:e,class:"suggestion-button",onClick:n=&gt;l.value=e},(0,a.toDisplayString)(e),9,Tl))),128))])])):(0,a.createCommentVNode)("v-if",!0),(0,a.createElementVNode)("div",{class:"form-actions"},[(0,a.createElementVNode)("button",{type:"button",class:"btn btn-secondary",onClick:u}," è¿”å› "),(0,a.createElementVNode)("button",{type:"button",class:"btn",onClick:f}," å¼€å§‹æ¨æ¼” ")])])],2112)):(0,a.createCommentVNode)("v-if",!0)])])):(0,a.createCommentVNode)("v-if",!0)}});var Ml=t(5890),ql={};ql.styleTagTransform=A(),ql.setAttributes=z(),ql.insert=V().bind(null,"head"),ql.domAPI=N(),ql.insertStyleElement=B(),k()(Ml.A,ql),Ml.A&amp;&amp;Ml.A.locals&amp;&amp;Ml.A.locals;const Ol=(0,j.A)(jl,[["__scopeId","data-v-0d860b7f"]]);var Pl=t(9333);const Fl={class:"creation-container"},Ll={class:"creation-scroll"},Yl={class:"header-container"},Rl={class:"header-top"},Ul={class:"mode-indicator"},Gl={key:0,class:"cloud-sync-container"},Wl={class:"progress-steps"},Jl={class:"step-circle"},Hl={class:"step-label"},Ql={class:"step-content"},Kl={class:"navigation-buttons"},Xl={class:"points-display"},Zl={key:0,class:"destiny-points"},ei=["disabled"],ni=(0,a.defineComponent)({__name:"CharacterCreation",props:{onBack:{type:Function}},emits:["creation-complete"],setup(e,{expose:n,emit:o}){const r=e,l=o,i=(0,nn.N)(),c=(0,a.ref)(!1),s=(0,a.ref)(!1),m=(0,a.ref)("world");function p(){m.value={1:"world",2:"talent_tier",3:"origin",4:"spirit_root",5:"talent"}[i.currentStep]||"world",i.isLocalCreation||(c.value=!0)}(0,a.onMounted)(async()=&gt;{console.log("ã€è§’è‰²åˆ›å»ºã€‘å½“å‰æ¨¡å¼:",i.isLocalCreation?"å•æœº":"è”æœº"),await i.initializeStore(i.isLocalCreation?"single":"cloud");const e=i.creationData.worlds.length,n=i.creationData.talents.length;console.log("ã€è§’è‰²åˆ›å»ºã€‘å½“å‰æ•°æ®é‡:"),console.log("- æ€»ä¸–ç•Œæ•°é‡:",e),console.log("- æ€»å¤©èµ‹æ•°é‡:",n),!i.isLocalCreation&amp;&amp;(e&lt;=3||n&lt;=5)&amp;&amp;(console.log("ã€è§’è‰²åˆ›å»ºã€‘è”æœºæ¨¡å¼ä¸‹æ•°æ®é‡ä¸è¶³ï¼Œå°è¯•è·å–äº‘ç«¯æ•°æ®..."),await i.fetchAllCloudData(),console.log("ã€è§’è‰²åˆ›å»ºã€‘äº‘ç«¯æ•°æ®è·å–å®Œæˆï¼Œæœ€ç»ˆæ•°æ®é‡:"),console.log("- æ€»ä¸–ç•Œæ•°é‡:",i.creationData.worlds.length),console.log("- æ€»å¤©èµ‹æ•°é‡:",i.creationData.talents.length));try{const e=await(0,an.wz)();e?(console.log("ã€è§’è‰²åˆ›å»ºã€‘æˆåŠŸè·å–é…’é¦†è§’è‰²å¡åå­—:",e),i.characterPayload.character_name=e):(console.log("ã€è§’è‰²åˆ›å»ºã€‘æ— æ³•è·å–é…’é¦†è§’è‰²å¡åå­—ï¼Œä½¿ç”¨é»˜è®¤å€¼"),i.characterPayload.character_name=i.isLocalCreation?"æ— åè€…":"ä¿®å£«")}catch(e){console.error("ã€è§’è‰²åˆ›å»ºã€‘è·å–è§’è‰²åå­—æ—¶å‡ºé”™:",e),i.characterPayload.character_name=i.isLocalCreation?"æ— åè€…":"ä¿®å£«"}}),(0,a.onUnmounted)(()=&gt;{i.resetOnExit()}),n({handleAIGenerateClick:p});const v=["è¯¸å¤©é—®é“","ä»™ç¼˜åˆå®š","è½¬ä¸–å› æœ","æµ‹çµé—®é“","ç¥é€šæ‹©å®š","å‘½æ ¼å¤©æˆ","çª¥å¤©ç®—å‘½"],u=()=&gt;{i.currentStep&gt;1?i.prevStep():r.onBack()},g=(0,a.computed)(()=&gt;{const e=i.currentStep,n=i.totalSteps,t=i.selectedWorld,a=i.selectedTalentTier,o=i.remainingTalentPoints,r=s.value;return console.log("[DEBUG] æŒ‰é’®çŠ¶æ€æ£€æŸ¥ - å½“å‰æ­¥éª¤:",e,"/",n),console.log("[DEBUG] æŒ‰é’®çŠ¶æ€æ£€æŸ¥ - isGenerating:",r),console.log("[DEBUG] æŒ‰é’®çŠ¶æ€æ£€æŸ¥ - é€‰ä¸­çš„ä¸–ç•Œ:",t?.name),console.log("[DEBUG] æŒ‰é’®çŠ¶æ€æ£€æŸ¥ - é€‰ä¸­çš„å¤©èµ„:",a?.name),console.log("[DEBUG] æŒ‰é’®çŠ¶æ€æ£€æŸ¥ - å‰©ä½™å¤©èµ‹ç‚¹:",o),1!==e||t?2!==e||a?(console.log("[DEBUG] æŒ‰é’®çŠ¶æ€ï¼šå¯ç”¨"),!1):(console.log("[DEBUG] æŒ‰é’®è¢«ç¦ç”¨ï¼šç¬¬2æ­¥æœªé€‰æ‹©å¤©èµ„"),!0):(console.log("[DEBUG] æŒ‰é’®è¢«ç¦ç”¨ï¼šç¬¬1æ­¥æœªé€‰æ‹©ä¸–ç•Œ"),!0)});const f=(0,a.ref)(null),b=(0,a.ref)(null),h=(0,a.ref)(null),y=(0,a.ref)(null),x=(0,a.ref)(null);async function k(e){if(!localStorage.getItem("access_token"))return d.o.error("èº«ä»½å‡­è¯ç¼ºå¤±ï¼Œè¯·å…ˆç™»å½•å†ä½¿ç”¨ä¿¡ç‰©ã€‚"),void(c.value=!1);!e.code||e.code.trim().length&lt;6?d.o.error("è¯·è¾“å…¥æœ‰æ•ˆçš„ä»™ç¼˜ä¿¡ç‰©ï¼"):(c.value=!1,await async function(e,n){let a="";switch(i.currentStep){case 1:a="world";break;case 2:a="talent_tier";break;case 3:a="origin";break;case 4:a="spirit_root";break;case 5:a="talent";break;default:return void d.o.error("å½“å‰æ­¥éª¤ä¸æ”¯æŒAIç”Ÿæˆï¼")}s.value=!0;const o=`cloud-ai-generate-${a}`,r=n?"åŸºäºä½ çš„å¿ƒæ„¿æ¨æ¼”ç„å¦™...":"å¤©æœºæ¨æ¼”ä¸­...";d.o.loading(r,{id:o});try{d.o.loading("æ­£åœ¨éªŒè¯ä»™ç¼˜ä¿¡ç‰©...",{id:o});try{const n=await(0,Pl.Em)(`/api/v1/redemption/validate/${e}`,{method:"POST"});if(n?.is_used)return d.o.error("ä»™ç¼˜ä¿¡ç‰©å·²è¢«ä½¿ç”¨æˆ–æ— æ•ˆï¼",{id:o}),void(s.value=!1)}catch(e){console.warn("å…‘æ¢ç é¢„éªŒè¯å¤±è´¥ï¼Œç»§ç»­æ‰§è¡Œ:",e)}d.o.loading("å·²è¿æ¥å¤©æœºé˜ï¼Œæ­£åœ¨æ¨æ¼”...",{id:o});const r=await Promise.resolve().then(t.bind(t,414));let l=null;switch(a){case"world":l=await r.generateWorld();break;case"talent_tier":l=await r.generateTalentTier();break;case"origin":if(!i.selectedWorld)return void d.o.error("è¯·å…ˆé€‰æ‹©ä¸–ç•Œï¼");l=await r.generateOrigin();break;case"spirit_root":l=await r.generateSpiritRoot();break;case"talent":l=await r.generateTalent()}if(!l)return void d.o.error("å¤©æœºæ¨æ¼”å¤±è´¥ï¼Œè¯·é‡è¯•ã€‚");d.o.loading("æ­£åœ¨å°†ç»“æœé“­åˆ»äºäº‘ç«¯...",{id:o});const c=await(0,Pl.Em)("/api/v1/ai/save",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:e.trim().toUpperCase(),type:a,content:l,user_prompt:n||null})});if(c?.message){i.addGeneratedData(a,l);const e=c.code_used?`å¤©æœºå·²æˆåŠŸè®°å½•ï¼ä¿¡ç‰©ä½¿ç”¨æ¬¡æ•°ï¼š${c.code_used}`:"å¤©æœºå·²æˆåŠŸè®°å½•äºäº‘ç«¯ï¼";d.o.success(e,{id:o})}}catch(e){const n=e instanceof Error?e.message:"æœªçŸ¥é”™è¯¯";n.includes("å…‘æ¢ç ")||n.includes("ä¿¡ç‰©")?d.o.error(n,{id:o}):n.includes("ç™»å½•")?d.o.error("èº«ä»½éªŒè¯å¤±è´¥ï¼Œè¯·é‡æ–°ç™»å½•ï¼",{id:o}):d.o.error("å¤©æœºç´Šä¹±ï¼š"+n,{id:o})}finally{s.value=!1,setTimeout(()=&gt;d.o.hide(o),3e3)}}(e.code,e.prompt))}function w(e){console.log("[è§’è‰²åˆ›å»º] äº‘ç«¯åŒæ­¥å®Œæˆ:",e),e.success&amp;&amp;e.newItemsCount&gt;0&amp;&amp;d.o.success(`å·²æ›´æ–° ${e.newItemsCount} é¡¹äº‘ç«¯æ•°æ®`)}function N(e,n){console.log("[è§’è‰²åˆ›å»º] æ•°æ®æ¸…é™¤å®Œæˆ:",{type:e,count:n}),n&gt;0&amp;&amp;i.resetCharacter()}return(e,n)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",Fl,[(0,a.createVNode)(yn),(0,a.createElementVNode)("div",Ll,[(0,a.createCommentVNode)(" è¿›åº¦æ¡ "),(0,a.createElementVNode)("div",Yl,[(0,a.createElementVNode)("div",Rl,[(0,a.createCommentVNode)(" å·¦ä¾§ï¼šæ¨¡å¼æŒ‡ç¤º "),(0,a.createElementVNode)("div",Ul,(0,a.toDisplayString)((0,a.unref)(i).isLocalCreation?"å•æœºæ¨¡å¼":"è”æœºæ¨¡å¼"),1),(0,a.createCommentVNode)(" å³ä¾§ï¼šäº‘ç«¯åŒæ­¥æŒ‰é’®ï¼ˆä»…å•æœºæ¨¡å¼æ˜¾ç¤ºï¼‰ "),(0,a.unref)(i).isLocalCreation?((0,a.openBlock)(),(0,a.createElementBlock)("div",Gl,[(0,a.createVNode)(Tn,{onSyncCompleted:w,variant:"compact",size:"small"}),(0,a.createVNode)(Rn,{variant:"horizontal",size:"small",onDataCleared:N})])):(0,a.createCommentVNode)("v-if",!0)]),(0,a.createElementVNode)("div",Wl,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)((0,a.unref)(i).totalSteps,e=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:e,class:(0,a.normalizeClass)(["step",{active:(0,a.unref)(i).currentStep&gt;=e}])},[(0,a.createElementVNode)("div",Jl,(0,a.toDisplayString)(e),1),(0,a.createElementVNode)("div",Hl,(0,a.toDisplayString)(v[e-1]),1)],2))),128))])]),(0,a.createCommentVNode)(" å†…å®¹åŒºåŸŸ "),(0,a.createElementVNode)("div",Ql,[(0,a.createVNode)(a.Transition,{name:"fade-step",mode:"out-in"},{default:(0,a.withCtx)(()=&gt;[((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:(0,a.unref)(i).currentStep,class:"step-wrapper"},[1===(0,a.unref)(i).currentStep?((0,a.openBlock)(),(0,a.createBlock)(fa,{key:0,ref_key:"step1Ref",ref:f,onAiGenerate:p},null,512)):2===(0,a.unref)(i).currentStep?((0,a.openBlock)(),(0,a.createBlock)(Oa,{key:1,ref_key:"step2Ref",ref:b,onAiGenerate:p},null,512)):3===(0,a.unref)(i).currentStep?((0,a.openBlock)(),(0,a.createBlock)(co,{key:2,ref_key:"step3Ref",ref:h,onAiGenerate:p},null,512)):4===(0,a.unref)(i).currentStep?((0,a.openBlock)(),(0,a.createBlock)(rr,{key:3,ref_key:"step4Ref",ref:y,onAiGenerate:p},null,512)):5===(0,a.unref)(i).currentStep?((0,a.openBlock)(),(0,a.createBlock)(zr,{key:4,ref_key:"step5Ref",ref:x,onAiGenerate:p},null,512)):6===(0,a.unref)(i).currentStep?((0,a.openBlock)(),(0,a.createBlock)(Yr,{key:5})):7===(0,a.unref)(i).currentStep?((0,a.openBlock)(),(0,a.createBlock)(xl,{key:6,"is-local-creation":(0,a.unref)(i).isLocalCreation},null,8,["is-local-creation"])):(0,a.createCommentVNode)("v-if",!0)]))]),_:1})]),(0,a.createCommentVNode)(" å¯¼èˆª "),(0,a.createElementVNode)("div",Kl,[(0,a.createElementVNode)("button",{onClick:(0,a.withModifiers)(u,["prevent"]),type:"button",class:"btn btn-secondary"},(0,a.toDisplayString)(1===(0,a.unref)(i).currentStep?"è¿”å›é“é€”":"ä¸Šä¸€æ­¥"),1),(0,a.createCommentVNode)(" å‰©ä½™ç‚¹æ•°æ˜¾ç¤º "),(0,a.createElementVNode)("div",Xl,[(0,a.unref)(i).currentStep&gt;=3&amp;&amp;(0,a.unref)(i).currentStep&lt;=7?((0,a.openBlock)(),(0,a.createElementBlock)("div",Zl,[n[2]||(n[2]=(0,a.createElementVNode)("span",{class:"points-label"},"å‰©ä½™å¤©é“ç‚¹:",-1)),(0,a.createElementVNode)("span",{class:(0,a.normalizeClass)(["points-value",{low:(0,a.unref)(i).remainingTalentPoints&lt;0}])},(0,a.toDisplayString)((0,a.unref)(i).remainingTalentPoints),3)])):(0,a.createCommentVNode)("v-if",!0)]),(0,a.createElementVNode)("button",{type:"button",onClick:n[0]||(n[0]=(0,a.withModifiers)(e=&gt;{console.log("[DEBUG] å¼€å¯ä»™é€”æŒ‰é’®è¢«ç‚¹å‡»!"),async function(e){console.log("[DEBUG] handleNext è¢«è°ƒç”¨ï¼Œå½“å‰æ­¥éª¤:",i.currentStep,"æ€»æ­¥éª¤:",i.totalSteps),e&amp;&amp;(e.preventDefault(),e.stopPropagation(),console.log("[DEBUG] äº‹ä»¶å·²é˜»æ­¢é»˜è®¤è¡Œä¸º")),i.currentStep<i.totalsteps?(console.log("[debug] æ‰§è¡Œä¸‹ä¸€æ­¥"),i.nextstep()):(console.log("[debug]="" æœ€åä¸€æ­¥ï¼Œå‡†å¤‡åˆ›å»ºè§’è‰²"),await="" async="" function(){if(console.log("[debug]="" createcharacter="" å¼€å§‹æ‰§è¡Œ"),console.log("[debug]="" isgenerating.value:",s.value),s.value)console.warn("[charactercreation.vue]="" è§’è‰²åˆ›å»ºå·²åœ¨è¿›è¡Œä¸­ï¼Œå¿½ç•¥é‡å¤è¯·æ±‚");else{if(console.log("[charactercreation.vue]="" createcharacter()="" called."),s.value="!0,console.log(&quot;[DEBUG]" å¼€å§‹æ•°æ®æ ¡éªŒ"),console.log("[debug]="" è§’è‰²å:",i.characterpayload.character_name),console.log("[debug]="" é€‰ä¸­çš„ä¸–ç•Œ:",i.selectedworld),console.log("[debug]="" é€‰ä¸­çš„å¤©èµ„:",i.selectedtalenttier),console.log("[debug]="" é€‰ä¸­çš„å‡ºèº«:",i.selectedorigin),console.log("[debug]="" é€‰ä¸­çš„çµæ ¹:",i.selectedspiritroot),i.characterpayload.character_name||(console.log("[debug]="" è§’è‰²åä¸ºç©ºï¼Œä½¿ç”¨é»˜è®¤å€¼"),i.characterpayload.character_name="ä¿®å£«" ),!i.selectedworld||!i.selectedtalenttier)return="" console.log("[debug]="" éªŒè¯å¤±è´¥ï¼šç¼ºå°‘å¿…éœ€é€‰æ‹©é¡¹"),console.log("[debug]="" selectedworld:",i.selectedworld),console.log("[debug]="" selectedtalenttier:",i.selectedtalenttier),void="" d.o.error("åˆ›å»ºæ•°æ®ä¸å®Œæ•´ï¼Œè¯·æ£€æŸ¥ä¸–ç•Œå’Œå¤©èµ„é€‰æ‹©ï¼");if(console.log("[debug]="" selectedorigin:",i.selectedorigin,"(å¯ä¸ºç©ºï¼Œè¡¨ç¤ºéšæœºå‡ºç”Ÿ)"),console.log("[debug]="" selectedspiritroot:",i.selectedspiritroot,"(å¯ä¸ºç©ºï¼Œè¡¨ç¤ºéšæœºçµæ ¹)"),!i.islocalcreation&&!window.parent?.tavernhelper)return="" éªŒè¯å¤±è´¥ï¼šè”æœºæ¨¡å¼ä½†ésillytavernç¯å¢ƒ"),void="" d.o.error("è”æœºæ¨¡å¼éœ€è¦åœ¨sillytavernæ‰©å±•ä¸­è¿è¡Œã€‚");console.log("[debug]="" æ•°æ®æ ¡éªŒé€šè¿‡ï¼Œå¼€å§‹åˆ›å»ºè§’è‰²"),s.value="!0;try{const" e="{åå­—:i.characterPayload.character_name,æ€§åˆ«:i.characterPayload.gender,ä¸–ç•Œ:i.selectedWorld.name,å¤©èµ„:i.selectedTalentTier.name,å‡ºç”Ÿ:i.selectedOrigin?.name||&quot;éšæœºå‡ºèº«&quot;,çµæ ¹:i.selectedSpiritRoot?{åç§°:i.selectedSpiritRoot.name,å“çº§:i.selectedSpiritRoot.tier||&quot;&quot;,æè¿°:i.selectedSpiritRoot.description||&quot;&quot;}:&quot;éšæœºçµæ ¹&quot;,å¤©èµ‹:i.selectedTalents.map(e=">e.name),å…ˆå¤©å…­å¸:{æ ¹éª¨:i.attributes.root_bone,çµæ€§:i.attributes.spirituality,æ‚Ÿæ€§:i.attributes.comprehension,æ°”è¿:i.attributes.fortune,é­…åŠ›:i.attributes.charm,å¿ƒæ€§:i.attributes.temperament},åå¤©å…­å¸:{æ ¹éª¨:0,çµæ€§:0,æ‚Ÿæ€§:0,æ°”è¿:0,é­…åŠ›:0,å¿ƒæ€§:0},ä¸–ç•Œè¯¦æƒ…:i.selectedWorld,å¤©èµ„è¯¦æƒ…:i.selectedTalentTier,å‡ºèº«è¯¦æƒ…:i.selectedOrigin,çµæ ¹è¯¦æƒ…:i.selectedSpiritRoot,å¤©èµ‹è¯¦æƒ…:i.selectedTalents},n={charId:`char_${Date.now()}`,characterName:i.characterPayload.character_name,world:i.selectedWorld,talentTier:i.selectedTalentTier,origin:i.selectedOrigin,spiritRoot:i.selectedSpiritRoot,talents:i.selectedTalents,è§’è‰²åŸºç¡€ä¿¡æ¯:e,baseAttributes:{root_bone:i.attributes.root_bone,spirituality:i.attributes.spirituality,comprehension:i.attributes.comprehension,fortune:i.attributes.fortune,charm:i.attributes.charm,temperament:i.attributes.temperament},mode:i.isLocalCreation?"å•æœº":"è”æœº",age:i.characterPayload.current_age,gender:i.characterPayload.gender};console.log("å‘å°„creation-completeäº‹ä»¶ï¼Œè½½è·:",n),l("creation-complete",n)}catch(e){console.error("åˆ›å»ºè§’è‰²æ—¶å‘ç”Ÿä¸¥é‡é”™è¯¯:",e),s.value=!1,l("creation-complete",{error:e})}}}())}(e)},["prevent"])),disabled:s.value||g.value||(0,a.unref)(i).currentStep===(0,a.unref)(i).totalSteps&amp;&amp;(0,a.unref)(i).remainingTalentPoints&lt;0,class:(0,a.normalizeClass)(["btn",{"btn-complete":(0,a.unref)(i).currentStep===(0,a.unref)(i).totalSteps,disabled:s.value||g.value||(0,a.unref)(i).currentStep===(0,a.unref)(i).totalSteps&amp;&amp;(0,a.unref)(i).remainingTalentPoints&lt;0}])},(0,a.toDisplayString)((0,a.unref)(i).currentStep===(0,a.unref)(i).totalSteps?"å¼€å¯ä»™é€”":"ä¸‹ä¸€æ­¥"),11,ei)])]),(0,a.createCommentVNode)(" ä»™ç¼˜ä¿¡ç‰©æŒ‰é’® - åªåœ¨è”æœºæ¨¡å¼ä¸‹ç‚¹å‡»AIæ¨æ¼”æ—¶æ˜¾ç¤º "),(0,a.createVNode)(Ol,{visible:c.value,type:m.value,title:"ä½¿ç”¨ä»™ç¼˜ä¿¡ç‰©",onClose:n[1]||(n[1]=e=&gt;c.value=!1),onSubmit:k},null,8,["visible","type"]),(0,a.createCommentVNode)(" AIç”Ÿæˆç­‰å¾…ç”±å…¨å±€toastå¤„ç† ")]))}});var ti=t(6893),ai={};ai.styleTagTransform=A(),ai.setAttributes=z(),ai.insert=V().bind(null,"head"),ai.domAPI=N(),ai.insertStyleElement=B(),k()(ti.A,ai),ti.A&amp;&amp;ti.A.locals&amp;&amp;ti.A.locals;var oi=t(383),ri={};ri.styleTagTransform=A(),ri.setAttributes=z(),ri.insert=V().bind(null,"head"),ri.domAPI=N(),ri.insertStyleElement=B(),k()(oi.A,ri),oi.A&amp;&amp;oi.A.locals&amp;&amp;oi.A.locals;const li=(0,j.A)(ni,[["__scopeId","data-v-23a2a838"]]),ii={class:"login-container"},ci={class:"login-panel"},si={class:"title"},di={class:"subtitle"},mi={class:"form-group"},pi={class:"form-group"},vi={key:0,class:"form-group"},ui={key:1,class:"error-message"},gi={key:2,class:"success-message"},fi={class:"form-actions"},bi=["disabled"],hi={class:"btn-text"},yi={class:"form-footer"},xi=(0,a.defineComponent)({__name:"LoginView",props:{onBack:{type:Function}},emits:["loggedIn"],setup(e,{emit:n}){const t=e,o=n,r=(0,a.ref)(""),l=(0,a.ref)(""),i=(0,a.ref)(""),c=(0,a.ref)(!1),s=(0,a.ref)(null),m=(0,a.ref)(null),p=(0,a.ref)(!1),v=(0,a.ref)(null),u=(0,a.ref)(null),g=(0,a.ref)(null),f=()=&gt;{if(u.value&amp;&amp;window.turnstile)if(g.value)window.turnstile.reset(g.value);else{const e=window.turnstile.render(u.value,{sitekey:"0x4AAAAAABsSt_IBcfz18lmt",callback:e=&gt;{v.value=e},"expired-callback":()=&gt;{v.value=null}});g.value=e||null}};(0,a.onMounted)(()=&gt;{window.onTurnstileLoad=()=&gt;{f()},window.turnstile&amp;&amp;f()}),(0,a.onUnmounted)(()=&gt;{window.onTurnstileLoad=void 0});const b=()=&gt;{p.value=!p.value,s.value=null,m.value=null,l.value="",i.value="",v.value=null,(0,a.nextTick)(()=&gt;{g.value&amp;&amp;window.turnstile&amp;&amp;window.turnstile.reset(g.value)})},h=async()=&gt;{if(!c.value){if(!v.value)return s.value="è¯·å…ˆå®ŒæˆäººæœºéªŒè¯ã€‚",void d.o.error("è¯·å…ˆå®ŒæˆäººæœºéªŒè¯ã€‚");c.value=!0,s.value=null,m.value=null;try{const e={username:r.value,password:l.value,turnstile_token:v.value},n=await(0,Pl.Em)("/api/v1/auth/token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});localStorage.setItem("access_token",n.access_token),localStorage.setItem("username",r.value),d.o.success("ç™»å…¥æˆåŠŸï¼Œå¤©æœºå·²è¿é€šï¼"),o("loggedIn")}catch(e){let n="ä¸€ä¸ªæœªçŸ¥çš„é”™è¯¯å‘ç”Ÿäº†";"object"==typeof e&amp;&amp;null!==e&amp;&amp;("detail"in e&amp;&amp;"string"==typeof e.detail?n=e.detail:"message"in e&amp;&amp;"string"==typeof e.message&amp;&amp;(n=e.message)),s.value=n,d.o.error(n)}finally{c.value=!1}}};return(e,n)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",ii,[(0,a.createElementVNode)("div",ci,[(0,a.createElementVNode)("h2",si,(0,a.toDisplayString)(p.value?"åˆå…¥é“é—¨":"ç™»å…¥æ´å¤©"),1),(0,a.createElementVNode)("p",di,(0,a.toDisplayString)(p.value?"æ³¨å†Œæ–°é“å·ï¼Œè¸å…¥ä¿®ä»™ä¹‹è·¯ã€‚":"éªŒè¯é“å‹èº«ä»½ï¼Œä»¥ä¾¿åŒæ­¥äº‘ç«¯å¤©æœºã€‚"),1),(0,a.createElementVNode)("form",{onSubmit:n[4]||(n[4]=(0,a.withModifiers)(e=&gt;p.value?(async()=&gt;{if(!c.value)if(l.value===i.value){if(!v.value)return s.value="è¯·å…ˆå®ŒæˆäººæœºéªŒè¯ã€‚",void d.o.error("è¯·å…ˆå®ŒæˆäººæœºéªŒè¯ã€‚");c.value=!0,s.value=null,m.value=null;try{await(0,Pl.Em)("/api/v1/auth/register",{method:"POST",body:JSON.stringify({user_name:r.value,password:l.value,turnstile_token:v.value})}),m.value="æ³¨å†ŒæˆåŠŸï¼æ­£åœ¨ä¸ºæ‚¨ç™»å…¥...",d.o.success("é“å·æ³¨å†ŒæˆåŠŸï¼Œæ¬¢è¿è¸å…¥ä¿®ä»™ä¹‹è·¯ï¼"),setTimeout(()=&gt;{h()},1e3)}catch(e){let n="ä¸€ä¸ªæœªçŸ¥çš„é”™è¯¯å‘ç”Ÿäº†";"object"==typeof e&amp;&amp;null!==e&amp;&amp;("detail"in e&amp;&amp;"string"==typeof e.detail?n=e.detail:"message"in e&amp;&amp;"string"==typeof e.message&amp;&amp;(n=e.message)),s.value=n,d.o.error(n)}finally{c.value=!1}}else s.value="ä¸¤æ¬¡è¾“å…¥çš„ä»¤ç‰Œä¸ä¸€è‡´ï¼"})():h(),["prevent"]))},[(0,a.createElementVNode)("div",mi,[n[5]||(n[5]=(0,a.createElementVNode)("label",{for:"username"},"é“å·",-1)),(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"text",id:"username","onUpdate:modelValue":n[0]||(n[0]=e=&gt;r.value=e),placeholder:"è¯·è¾“å…¥æ‚¨çš„é“å·",required:""},null,512),[[a.vModelText,r.value]])]),(0,a.createElementVNode)("div",pi,[n[6]||(n[6]=(0,a.createElementVNode)("label",{for:"password"},"ä»¤ç‰Œ",-1)),(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"password",id:"password","onUpdate:modelValue":n[1]||(n[1]=e=&gt;l.value=e),placeholder:"è¯·è¾“å…¥æ‚¨çš„èº«ä»½ä»¤ç‰Œ",required:""},null,512),[[a.vModelText,l.value]])]),p.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",vi,[n[7]||(n[7]=(0,a.createElementVNode)("label",{for:"confirmPassword"},"ç¡®è®¤ä»¤ç‰Œ",-1)),(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"password",id:"confirmPassword","onUpdate:modelValue":n[2]||(n[2]=e=&gt;i.value=e),placeholder:"è¯·å†æ¬¡è¾“å…¥ä»¤ç‰Œ",required:""},null,512),[[a.vModelText,i.value]])])):(0,a.createCommentVNode)("v-if",!0),(0,a.createCommentVNode)(" Cloudflare Turnstile Widget "),(0,a.createElementVNode)("div",{ref_key:"turnstileContainer",ref:u,class:"form-group turnstile-container"},null,512),s.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",ui,(0,a.toDisplayString)(s.value),1)):(0,a.createCommentVNode)("v-if",!0),m.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",gi,(0,a.toDisplayString)(m.value),1)):(0,a.createCommentVNode)("v-if",!0),(0,a.createElementVNode)("div",fi,[(0,a.createElementVNode)("button",{type:"button",onClick:n[3]||(n[3]=(...e)=&gt;t.onBack&amp;&amp;t.onBack(...e)),class:"btn btn-secondary"},"è¿”å›"),(0,a.createElementVNode)("button",{type:"submit",class:(0,a.normalizeClass)(["btn",{"is-loading":c.value}]),disabled:c.value},[(0,a.createElementVNode)("span",hi,(0,a.toDisplayString)(p.value?"æ³¨å†Œ":"ç™»å…¥"),1)],10,bi)]),(0,a.createElementVNode)("div",yi,[(0,a.createElementVNode)("a",{href:"#",onClick:(0,a.withModifiers)(b,["prevent"]),class:"link"},(0,a.toDisplayString)(p.value?"å·²æœ‰é“å·ï¼Ÿç«‹å³ç™»å…¥":"åˆæ¥ä¹åˆ°ï¼Ÿæ³¨å†Œé“å·"),1)])],32)])]))}});var ki=t(8974),wi={};wi.styleTagTransform=A(),wi.setAttributes=z(),wi.insert=V().bind(null,"head"),wi.domAPI=N(),wi.insertStyleElement=B(),k()(ki.A,wi),ki.A&amp;&amp;ki.A.locals&amp;&amp;ki.A.locals;const Ni=(0,j.A)(xi,[["__scopeId","data-v-950f3f12"]]),Ei=(0,c.A)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]),Vi=(0,c.A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Ci=(0,c.A)("brain",[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]]),zi=(0,c.A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),Si=(0,c.A)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]),Bi=(0,c.A)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Di=(0,c.A)("scroll",[["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]]),Ai=(0,c.A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),_i=(0,c.A)("map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]),$i=(0,c.A)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]),Ii=(0,c.A)("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),Ti=(0,c.A)("box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),ji=(0,c.A)("flask-conical",[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]]),Mi=(0,c.A)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),qi=(0,c.A)("users-round",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]),Oi=new class{listeners=new Map;on(e,n){this.listeners.has(e)||this.listeners.set(e,new Set),this.listeners.get(e).add(n)}off(e,n){this.listeners.get(e)?.delete(n)}async emit(e,n){const t=Array.from(this.listeners.get(e)||[]);for(const e of t)await e(n)}},Pi=(0,c.A)("maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]),Fi=(0,c.A)("minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]);var Li=t(9142);function Yi(e){if(!e)return"å‡¡äºº";if("string"==typeof e)return e;const n=e.åç§°||e.name||"å‡¡äºº",t=e.é˜¶æ®µ||e.stage||"";return"å‡¡äºº"===n||"Mortal"===n?"å‡¡äºº":t?`${n}Â·${t}`:n}const Ri={class:"top-bar"},Ui={class:"left-section"},Gi={key:0,class:"character-quick-info"},Wi={class:"character-name"},Ji={class:"character-realm"},Hi={class:"center-section"},Qi={class:"location-time-info"},Ki={class:"location-text"},Xi={class:"time-value"},Zi={class:"right-section"},ec=(0,a.defineComponent)({__name:"TopBar",setup(e){const{characterData:n}=(0,Li.useUnifiedCharacterData)(),t=(0,a.ref)(!1),o=(0,a.computed)(()=&gt;{try{return n.value?.åŸºç¡€ä¿¡æ¯?.åå­—||""}catch(e){return console.error("[TopBar] Error getting characterName:",e),""}}),r=(0,a.computed)(()=&gt;{try{return Yi(n.value?.å¢ƒç•Œ)}catch(e){return console.error("[TopBar] Error getting characterRealm:",e),"å‡¡äºº"}}),l=(0,a.computed)(()=&gt;{try{return n.value?.ä½ç½®?.æè¿°||"åˆå§‹åœ°"}catch(e){return console.error("[TopBar] Error getting currentLocation:",e),"åˆå§‹åœ°"}}),i=(0,a.computed)(()=&gt;{try{const e=n.value?.æ¸¸æˆæ—¶é—´;if(e){const n=function(e){return e.åˆ†é’Ÿ??0}(e),t=n.toString().padStart(2,"0"),a=e.å°æ—¶.toString().padStart(2,"0");return`ä»™é“${e.å¹´}å¹´${e.æœˆ}æœˆ${e.æ—¥}æ—¥ ${a}:${t}`}return"ä»™é“å…ƒå¹´1æœˆ1æ—¥ 00:00"}catch(e){return console.error("[TopBar] Error getting gameTime:",e),"ä»™é“å…ƒå¹´1æœˆ1æ—¥ 00:00"}}),c=()=&gt;{document.fullscreenElement?document.exitFullscreen().catch(e=&gt;{console.error("æ— æ³•é€€å‡ºå…¨å±æ¨¡å¼:",e)}):document.documentElement.requestFullscreen().catch(e=&gt;{console.error("æ— æ³•è¿›å…¥å…¨å±æ¨¡å¼:",e)})};return(0,a.onMounted)(()=&gt;{console.log("[TopBar] Component mounted");const e=()=&gt;{t.value=!!document.fullscreenElement};document.addEventListener("fullscreenchange",e),document.addEventListener("webkitfullscreenchange",e)}),(e,n)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",Ri,[(0,a.createElementVNode)("div",Ui,[n[0]||(n[0]=(0,a.createElementVNode)("h1",{class:"game-title"},"å¤§é“æœå¤©",-1)),o.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",Gi,[(0,a.createElementVNode)("span",Wi,(0,a.toDisplayString)(o.value),1),(0,a.createElementVNode)("span",Ji,(0,a.toDisplayString)(r.value),1)])):(0,a.createCommentVNode)("v-if",!0)]),(0,a.createElementVNode)("div",Hi,[(0,a.createElementVNode)("div",Qi,[(0,a.createElementVNode)("span",Ki,(0,a.toDisplayString)(l.value),1),n[1]||(n[1]=(0,a.createElementVNode)("span",{class:"separator"},"|",-1)),(0,a.createElementVNode)("span",Xi,(0,a.toDisplayString)(i.value),1)])]),(0,a.createElementVNode)("div",Zi,[(0,a.createElementVNode)("button",{onClick:c,class:"fullscreen-btn"},[t.value?((0,a.openBlock)(),(0,a.createBlock)((0,a.unref)(Fi),{key:1,size:16})):((0,a.openBlock)(),(0,a.createBlock)((0,a.unref)(Pi),{key:0,size:16}))])])]))}});var nc=t(2589),tc={};tc.styleTagTransform=A(),tc.setAttributes=z(),tc.insert=V().bind(null,"head"),tc.domAPI=N(),tc.insertStyleElement=B(),k()(nc.A,tc),nc.A&amp;&amp;nc.A.locals&amp;&amp;nc.A.locals;const ac=(0,j.A)(ec,[["__scopeId","data-v-18a40716"]]),oc=(0,c.A)("compass",[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),rc=(0,c.A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),lc=(0,c.A)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),ic=(0,c.A)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),cc={class:"left-sidebar"},sc={class:"sidebar-header"},dc={class:"sidebar-title"},mc={class:"sidebar-content"},pc={class:"function-section"},vc={class:"function-group"},uc={class:"btn-icon"},gc={class:"btn-icon"},fc={class:"btn-icon"},bc={class:"btn-icon"},hc={class:"function-section"},yc={class:"function-group"},xc={class:"btn-icon"},kc={class:"btn-icon"},wc={class:"btn-icon"},Nc={class:"function-section"},Ec={class:"function-group"},Vc={class:"btn-icon"},Cc={class:"btn-icon"},zc={class:"btn-icon"},Sc={class:"system-section"},Bc={class:"function-group"},Dc=["disabled"],Ac={class:"btn-icon"},_c={class:"btn-icon"},$c={class:"btn-icon"},Ic={class:"btn-icon"},Tc=(0,a.defineComponent)({__name:"LeftSidebar",props:{collapsed:{type:Boolean}},setup(e){const n=(0,r.useRouter)(),o=(0,tn.useCharacterStore)(),l=(0,q.useUIStore)(),i=(0,a.computed)(()=&gt;o.activeCharacterProfile),c=(0,a.computed)(()=&gt;"è”æœº"===i.value?.æ¨¡å¼),s=async()=&gt;{n.push("/game/save")},m=()=&gt;{n.push("/game/inventory")},p=()=&gt;{n.push("/game/character-details")},v=()=&gt;{n.push("/game/quests")},u=()=&gt;{n.push("/game/sect")},g=()=&gt;{n.push("/game/relationships")},f=()=&gt;{n.push("/game/techniques")},b=()=&gt;{n.push("/game/thousand-dao")},h=()=&gt;{n.push("/game/memory")},y=()=&gt;{n.push("/game/world-map")},x=()=&gt;{d.o.info("è”æœºåŠŸèƒ½å¼€å‘ä¸­...")},k=()=&gt;{n.push("/game/settings")},w=()=&gt;{n.push("/game/tavern-data")},N=()=&gt;{l.showRetryDialog({title:"è¿”å›é“é€”",message:"æ‚¨æƒ³å¦‚ä½•é€€å‡ºå½“å‰æ¸¸æˆï¼Ÿ",confirmText:"ä¿å­˜å¹¶é€€å‡º",cancelText:"å–æ¶ˆ",neutralText:"ä¸ä¿å­˜ç›´æ¥é€€å‡º",onConfirm:async()=&gt;{console.log("[è¿”å›é“é€”] ç”¨æˆ·é€‰æ‹©ä¿å­˜å¹¶é€€å‡º...");try{await o.saveCurrentGame(),d.o.success("æ¸¸æˆå·²ä¿å­˜")}catch(e){console.error("[è¿”å›é“é€”] ä¿å­˜æ¸¸æˆå¤±è´¥:",e),d.o.error("æ¸¸æˆä¿å­˜å¤±è´¥ï¼Œä½†ä»ä¼šç»§ç»­é€€å‡ºã€‚")}await E()},onNeutral:async()=&gt;{console.log("[è¿”å›é“é€”] ç”¨æˆ·é€‰æ‹©ä¸ä¿å­˜ç›´æ¥é€€å‡º..."),d.o.info("æ¸¸æˆè¿›åº¦æœªä¿å­˜"),await E(!1)},onCancel:()=&gt;{console.log("[è¿”å›é“é€”] ç”¨æˆ·å–æ¶ˆæ“ä½œ")}})},E=async(e=!0)=&gt;{try{const e=(0,an.getTavernHelper)();if(e){const{clearAllShards:n}=await Promise.resolve().then(t.bind(t,9808));await n(e),console.log("[è¿”å›é“é€”] å·²æ¸…ç†é…’é¦†ä¸Šä¸‹æ–‡")}}catch(e){console.error("[è¿”å›é“é€”] æ¸…ç†é…’é¦†æ•°æ®å¤±è´¥:",e),d.o.warning("æ¸…ç†ä¼šè¯ä¸Šä¸‹æ–‡å¤±è´¥")}o.rootState.å½“å‰æ¿€æ´»å­˜æ¡£=null,await o.commitToStorage(),console.log("[è¿”å›é“é€”] å·²é‡ç½®æ¿€æ´»å­˜æ¡£çŠ¶æ€"),l.stopLoading(),await n.push("/"),console.log("[è¿”å›é“é€”] å·²è·³è½¬è‡³ä¸»èœå•")};return(e,n)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",cc,[(0,a.createElementVNode)("div",sc,[(0,a.createElementVNode)("h3",dc,[(0,a.createVNode)((0,a.unref)(oc),{size:20,class:"title-icon"}),n[0]||(n[0]=(0,a.createTextVNode)(" æ¸¸æˆåŠŸèƒ½ ",-1))])]),(0,a.createElementVNode)("div",mc,[(0,a.createCommentVNode)(" ä¸»è¦åŠŸèƒ½åŒº "),(0,a.createElementVNode)("div",pc,[n[5]||(n[5]=(0,a.createElementVNode)("div",{class:"section-title"},"ä¿®è¡Œç®¡ç†",-1)),(0,a.createElementVNode)("div",vc,[(0,a.createElementVNode)("button",{class:"function-btn primary",onClick:m},[(0,a.createElementVNode)("div",uc,[(0,a.createVNode)((0,a.unref)(Ei),{size:18})]),n[1]||(n[1]=(0,a.createElementVNode)("div",{class:"btn-content"},[(0,a.createElementVNode)("span",{class:"btn-text"},"èƒŒåŒ…ç‰©å“"),(0,a.createElementVNode)("span",{class:"btn-desc"},"æŸ¥çœ‹é“å…·è£…å¤‡")],-1)),(0,a.createVNode)((0,a.unref)(rc),{size:14,class:"btn-arrow"})]),(0,a.createElementVNode)("button",{class:"function-btn primary",onClick:p},[(0,a.createElementVNode)("div",gc,[(0,a.createVNode)((0,a.unref)(Vi),{size:18})]),n[2]||(n[2]=(0,a.createElementVNode)("div",{class:"btn-content"},[(0,a.createElementVNode)("span",{class:"btn-text"},"äººç‰©è¯¦æƒ…"),(0,a.createElementVNode)("span",{class:"btn-desc"},"æŸ¥çœ‹ä¿®ä¸ºå¢ƒç•Œ")],-1)),(0,a.createVNode)((0,a.unref)(rc),{size:14,class:"btn-arrow"})]),(0,a.createElementVNode)("button",{class:"function-btn primary",onClick:f},[(0,a.createElementVNode)("div",fc,[(0,a.createVNode)((0,a.unref)(Si),{size:18})]),n[3]||(n[3]=(0,a.createElementVNode)("div",{class:"btn-content"},[(0,a.createElementVNode)("span",{class:"btn-text"},"ä¿®ç‚¼åŠŸæ³•"),(0,a.createElementVNode)("span",{class:"btn-desc"},"åŠŸæ³•ä¿®ç‚¼æŠ€èƒ½")],-1)),(0,a.createVNode)((0,a.unref)(rc),{size:14,class:"btn-arrow"})]),(0,a.createElementVNode)("button",{class:"function-btn primary",onClick:b},[(0,a.createElementVNode)("div",bc,[(0,a.createVNode)((0,a.unref)(Bi),{size:18})]),n[4]||(n[4]=(0,a.createElementVNode)("div",{class:"btn-content"},[(0,a.createElementVNode)("span",{class:"btn-text"},"ä¸‰åƒå¤§é“"),(0,a.createElementVNode)("span",{class:"btn-desc"},"ä¿®ç‚¼ä¸‡æ³•é“é€”")],-1)),(0,a.createVNode)((0,a.unref)(rc),{size:14,class:"btn-arrow"})])])]),(0,a.createCommentVNode)(" ç¤¾äº¤åŠŸèƒ½åŒº "),(0,a.createElementVNode)("div",hc,[n[9]||(n[9]=(0,a.createElementVNode)("div",{class:"section-title"},"çº¢å°˜ä¿—äº‹",-1)),(0,a.createElementVNode)("div",yc,[(0,a.createElementVNode)("button",{class:"function-btn secondary",onClick:g},[(0,a.createElementVNode)("div",xc,[(0,a.createVNode)((0,a.unref)(zi),{size:18})]),n[6]||(n[6]=(0,a.createElementVNode)("div",{class:"btn-content"},[(0,a.createElementVNode)("span",{class:"btn-text"},"äººç‰©å…³ç³»"),(0,a.createElementVNode)("span",{class:"btn-desc"},"äººæƒ…ä¸–æ•…ç½‘ç»œ")],-1)),(0,a.createVNode)((0,a.unref)(rc),{size:14,class:"btn-arrow"})]),(0,a.createElementVNode)("button",{class:"function-btn secondary",onClick:u},[(0,a.createElementVNode)("div",kc,[(0,a.createVNode)((0,a.unref)($i),{size:18})]),n[7]||(n[7]=(0,a.createElementVNode)("div",{class:"btn-content"},[(0,a.createElementVNode)("span",{class:"btn-text"},"å®—é—¨åŠ¿åŠ›"),(0,a.createElementVNode)("span",{class:"btn-desc"},"åŠ¿åŠ›ä¸å®—é—¨å±•ç¤º")],-1)),(0,a.createVNode)((0,a.unref)(rc),{size:14,class:"btn-arrow"})]),(0,a.createElementVNode)("button",{class:"function-btn secondary",onClick:v},[(0,a.createElementVNode)("div",wc,[(0,a.createVNode)((0,a.unref)(Di),{size:18})]),n[8]||(n[8]=(0,a.createElementVNode)("div",{class:"btn-content"},[(0,a.createElementVNode)("span",{class:"btn-text"},"ä»»åŠ¡ç³»ç»Ÿ"),(0,a.createElementVNode)("span",{class:"btn-desc"},"è¿›è¡Œä¸­ä»»åŠ¡")],-1)),(0,a.createVNode)((0,a.unref)(rc),{size:14,class:"btn-arrow"})])])]),(0,a.createCommentVNode)(" æ¢ç´¢åŠŸèƒ½åŒº "),(0,a.createElementVNode)("div",Nc,[n[13]||(n[13]=(0,a.createElementVNode)("div",{class:"section-title"},"ä¸–ç•Œæ¢ç´¢",-1)),(0,a.createElementVNode)("div",Ec,[(0,a.createElementVNode)("button",{class:"function-btn accent",onClick:y},[(0,a.createElementVNode)("div",Vc,[(0,a.createVNode)((0,a.unref)(_i),{size:18})]),n[10]||(n[10]=(0,a.createElementVNode)("div",{class:"btn-content"},[(0,a.createElementVNode)("span",{class:"btn-text"},"ä¸–ç•Œåœ°å›¾"),(0,a.createElementVNode)("span",{class:"btn-desc"},"æŸ¥çœ‹ä¿®ä»™å¤§é™†")],-1)),(0,a.createVNode)((0,a.unref)(rc),{size:14,class:"btn-arrow"})]),(0,a.createElementVNode)("button",{class:"function-btn accent",onClick:h},[(0,a.createElementVNode)("div",Cc,[(0,a.createVNode)((0,a.unref)(Ci),{size:18})]),n[11]||(n[11]=(0,a.createElementVNode)("div",{class:"btn-content"},[(0,a.createElementVNode)("span",{class:"btn-text"},"è®°å¿†ä¸­å¿ƒ"),(0,a.createElementVNode)("span",{class:"btn-desc"},"å›é¡¾ä¿®è¡Œå†ç¨‹")],-1)),(0,a.createVNode)((0,a.unref)(rc),{size:14,class:"btn-arrow"})]),c.value?((0,a.openBlock)(),(0,a.createElementBlock)("button",{key:0,class:"function-btn accent",onClick:x},[(0,a.createElementVNode)("div",zc,[(0,a.createVNode)((0,a.unref)(lc),{size:18})]),n[12]||(n[12]=(0,a.createElementVNode)("div",{class:"btn-content"},[(0,a.createElementVNode)("span",{class:"btn-text"},"è®ºé“äº¤å‹"),(0,a.createElementVNode)("span",{class:"btn-desc"},"ä¸é“å‹è®ºé“")],-1)),(0,a.createVNode)((0,a.unref)(rc),{size:14,class:"btn-arrow"})])):(0,a.createCommentVNode)("v-if",!0)])]),n[18]||(n[18]=(0,a.createElementVNode)("div",{class:"divider"},null,-1)),(0,a.createCommentVNode)(" ç³»ç»ŸåŠŸèƒ½åŒº "),(0,a.createElementVNode)("div",Sc,[(0,a.createElementVNode)("div",Bc,[(0,a.createElementVNode)("button",{class:"function-btn system",onClick:s,disabled:!i.value},[(0,a.createElementVNode)("div",Ac,[(0,a.createVNode)((0,a.unref)(Ai),{size:18})]),n[14]||(n[14]=(0,a.createElementVNode)("div",{class:"btn-content"},[(0,a.createElementVNode)("span",{class:"btn-text"},"ä¿å­˜æ¸¸æˆ"),(0,a.createElementVNode)("span",{class:"btn-desc"},"ä¿å­˜ä¿®è¡Œè¿›åº¦")],-1)),(0,a.createVNode)((0,a.unref)(rc),{size:14,class:"btn-arrow"})],8,Dc),(0,a.createElementVNode)("button",{class:"function-btn system",onClick:w},[(0,a.createElementVNode)("div",_c,[(0,a.createVNode)((0,a.unref)(Ii),{size:18})]),n[15]||(n[15]=(0,a.createElementVNode)("div",{class:"btn-content"},[(0,a.createElementVNode)("span",{class:"btn-text"},"é…’é¦†æ•°æ®"),(0,a.createElementVNode)("span",{class:"btn-desc"},"æŸ¥çœ‹å­˜å‚¨æ•°æ®")],-1)),(0,a.createVNode)((0,a.unref)(rc),{size:14,class:"btn-arrow"})]),(0,a.createElementVNode)("button",{class:"function-btn system",onClick:k},[(0,a.createElementVNode)("div",$c,[(0,a.createVNode)((0,a.unref)(Wn),{size:18})]),n[16]||(n[16]=(0,a.createElementVNode)("div",{class:"btn-content"},[(0,a.createElementVNode)("span",{class:"btn-text"},"ç³»ç»Ÿè®¾ç½®"),(0,a.createElementVNode)("span",{class:"btn-desc"},"è°ƒæ•´æ¸¸æˆé€‰é¡¹")],-1)),(0,a.createVNode)((0,a.unref)(rc),{size:14,class:"btn-arrow"})]),(0,a.createElementVNode)("button",{class:"function-btn exit-btn no-arrow",onClick:N},[(0,a.createElementVNode)("div",Ic,[(0,a.createVNode)((0,a.unref)(ic),{size:18})]),n[17]||(n[17]=(0,a.createElementVNode)("div",{class:"btn-content"},[(0,a.createElementVNode)("span",{class:"btn-text"},"è¿”å›é“é€”"),(0,a.createElementVNode)("span",{class:"btn-desc"},"é€€å‡ºå½“å‰æ¸¸æˆ")],-1))])])])])]))}});var jc=t(1667),Mc={};Mc.styleTagTransform=A(),Mc.setAttributes=z(),Mc.insert=V().bind(null,"head"),Mc.domAPI=N(),Mc.insertStyleElement=B(),k()(jc.A,Mc),jc.A&amp;&amp;jc.A.locals&amp;&amp;jc.A.locals;const qc=(0,j.A)(Tc,[["__scopeId","data-v-722579ba"]]),Oc=(0,c.A)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),Pc=(0,c.A)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]]),Fc=(0,c.A)("droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]),Lc=(0,c.A)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]),Yc=(0,c.A)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Rc=(0,c.A)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);var Uc=t(6939);const Gc={class:"right-sidebar"},Wc={class:"sidebar-header"},Jc={class:"sidebar-title"},Hc={key:0,class:"sidebar-content"},Qc={class:"vitals-section"},Kc={class:"section-title"},Xc={class:"vitals-list"},Zc={class:"vital-item"},es={class:"vital-info"},ns={class:"vital-name"},ts={class:"vital-text"},as={class:"progress-bar"},os={class:"vital-item"},rs={class:"vital-info"},ls={class:"vital-name"},is={class:"vital-text"},cs={class:"progress-bar"},ss={class:"vital-item"},ds={class:"vital-info"},ms={class:"vital-name"},ps={class:"vital-text"},vs={class:"progress-bar"},us={class:"vital-item"},gs={class:"vital-info"},fs={class:"vital-name"},bs={class:"vital-text"},hs={class:"progress-bar"},ys={class:"cultivation-section"},xs={class:"section-title"},ks={class:"realm-display"},ws={class:"realm-info"},Ns={class:"realm-name"},Es={key:0,class:"realm-breakthrough"},Vs={key:0,class:"realm-mortal"},Cs={class:"realm-progress"},zs={class:"progress-bar"},Ss={class:"progress-text"},Bs={class:"reputation-display"},Ds={class:"reputation-item"},As={class:"reputation-info"},_s={class:"reputation-label"},$s={class:"reputation-value"},Is={class:"collapsible-section talents-section"},Ts={class:"section-title"},js={class:"talents-list"},Ms=["onClick"],qs={class:"talent-header"},Os={class:"talent-name"},Ps={key:0,class:"empty-talents"},Fs={class:"collapsible-section status-section"},Ls={class:"section-title"},Ys={class:"status-effects"},Rs={key:0,class:"empty-status"},Us={key:1,class:"status-tags-container"},Gs=["onClick","title"],Ws={class:"tag-icon"},Js={class:"tag-name"},Hs={key:0,class:"tag-intensity"},Qs={key:1,class:"tag-time"},Ks=(0,a.defineComponent)({__name:"RightSidebar",setup(e){const{characterData:n,saveData:t,isDataLoaded:o}=(0,Li.useUnifiedCharacterData)(),r=((0,tn.useCharacterStore)(),(0,q.useUIStore)()),l=(0,a.computed)(()=&gt;n.value?.åŸºç¡€ä¿¡æ¯),i=(0,a.computed)(()=&gt;n.value?.ç©å®¶è§’è‰²çŠ¶æ€),c=(0,a.computed)(()=&gt;n.value?.çŠ¶æ€æ•ˆæœ||[]),s=((0,a.computed)(()=&gt;n.value?.ä¸‰åƒå¤§é“),(0,a.computed)(()=&gt;{const e=l.value?.å‡ºç”Ÿæ—¥æœŸ,n=t.value?.æ¸¸æˆæ—¶é—´;return e&amp;&amp;n?(0,Uc.R)(e,n):l.value?.å¹´é¾„||i.value?.å¯¿å‘½?.å½“å‰||0})),d=(0,a.ref)(!1),m=(0,a.ref)(!1),p=e=&gt;{if(!e||"æœªæŒ‡å®š"===e)return"";if("æ°¸ä¹…"===e)return"æ°¸ä¹…";if(/^\d+$/.test(e)){const n=parseInt(e);if(n&gt;=60){const e=Math.floor(n/60),t=n%60;return t&gt;0?`${e}æ—¶${t}åˆ†`:`${e}æ—¶`}return`${n}åˆ†é’Ÿ`}return e},v=(0,a.computed)(()=&gt;{if(!i.value?.å¢ƒç•Œ)return 0;const e=i.value.å¢ƒç•Œ.å½“å‰è¿›åº¦,n=i.value.å¢ƒç•Œ.ä¸‹ä¸€çº§æ‰€éœ€;return e&amp;&amp;n?Math.round(e/n*100):0}),u=e=&gt;{if(!i.value)return 0;const n=i.value[e];return n?.å½“å‰&amp;&amp;n?.ä¸Šé™?Math.round(n.å½“å‰/n.ä¸Šé™*100):0},g=()=&gt;{const e=i.value?.å¯¿å‘½?.ä¸Šé™;return e?Math.round(s.value/e*100):0},f=e=&gt;{const n=i.value?.å¢ƒç•Œ?.å½“å‰è¿›åº¦,t=i.value?.å¢ƒç•Œ?.ä¸‹ä¸€çº§æ‰€éœ€,a=i.value?.å¢ƒç•Œ?.é˜¶æ®µ;return Yi({name:e,é˜¶æ®µ:a,progress:n,maxProgress:t})};return(e,n)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",Gc,[(0,a.createElementVNode)("div",Wc,[(0,a.createElementVNode)("h3",Jc,[(0,a.createVNode)((0,a.unref)(Oc),{size:18,class:"title-icon"}),n[2]||(n[2]=(0,a.createElementVNode)("span",null,"è§’è‰²çŠ¶æ€",-1))])]),(0,a.unref)(o)&amp;&amp;l.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",Hc,[(0,a.createCommentVNode)(" ä¿®è¡ŒçŠ¶æ€ "),(0,a.createElementVNode)("div",Qc,[(0,a.createElementVNode)("h3",Kc,[(0,a.createVNode)((0,a.unref)(Pc),{size:14,class:"section-icon"}),n[3]||(n[3]=(0,a.createElementVNode)("span",null,"ä¿®è¡ŒçŠ¶æ€",-1))]),(0,a.createElementVNode)("div",Xc,[(0,a.createElementVNode)("div",Zc,[(0,a.createElementVNode)("div",es,[(0,a.createElementVNode)("span",ns,[(0,a.createVNode)((0,a.unref)(Fc),{size:12,class:"vital-icon blood"}),n[4]||(n[4]=(0,a.createElementVNode)("span",null,"æ°”è¡€",-1))]),(0,a.createElementVNode)("span",ts,(0,a.toDisplayString)(i.value?.æ°”è¡€?.å½“å‰)+" / "+(0,a.toDisplayString)(i.value?.æ°”è¡€?.ä¸Šé™),1)]),(0,a.createElementVNode)("div",as,[(0,a.createElementVNode)("div",{class:"progress-fill health",style:(0,a.normalizeStyle)({width:u("æ°”è¡€")+"%"})},null,4)])]),(0,a.createElementVNode)("div",os,[(0,a.createElementVNode)("div",rs,[(0,a.createElementVNode)("span",ls,[(0,a.createVNode)((0,a.unref)(Lc),{size:12,class:"vital-icon mana"}),n[5]||(n[5]=(0,a.createElementVNode)("span",null,"çµæ°”",-1))]),(0,a.createElementVNode)("span",is,(0,a.toDisplayString)(i.value?.çµæ°”?.å½“å‰)+" / "+(0,a.toDisplayString)(i.value?.çµæ°”?.ä¸Šé™),1)]),(0,a.createElementVNode)("div",cs,[(0,a.createElementVNode)("div",{class:"progress-fill mana",style:(0,a.normalizeStyle)({width:u("çµæ°”")+"%"})},null,4)])]),(0,a.createElementVNode)("div",ss,[(0,a.createElementVNode)("div",ds,[(0,a.createElementVNode)("span",ms,[(0,a.createVNode)((0,a.unref)(Ci),{size:12,class:"vital-icon spirit"}),n[6]||(n[6]=(0,a.createElementVNode)("span",null,"ç¥è¯†",-1))]),(0,a.createElementVNode)("span",ps,(0,a.toDisplayString)(i.value?.ç¥è¯†?.å½“å‰)+" / "+(0,a.toDisplayString)(i.value?.ç¥è¯†?.ä¸Šé™),1)]),(0,a.createElementVNode)("div",vs,[(0,a.createElementVNode)("div",{class:"progress-fill spirit",style:(0,a.normalizeStyle)({width:u("ç¥è¯†")+"%"})},null,4)])]),(0,a.createElementVNode)("div",us,[(0,a.createElementVNode)("div",gs,[(0,a.createElementVNode)("span",fs,[(0,a.createVNode)((0,a.unref)(Yc),{size:12,class:"vital-icon lifespan"}),n[7]||(n[7]=(0,a.createElementVNode)("span",null,"å¯¿å…ƒ",-1))]),(0,a.createElementVNode)("span",bs,(0,a.toDisplayString)(s.value)+" / "+(0,a.toDisplayString)(i.value?.å¯¿å‘½?.ä¸Šé™),1)]),(0,a.createElementVNode)("div",hs,[(0,a.createElementVNode)("div",{class:"progress-fill lifespan",style:(0,a.normalizeStyle)({width:g()+"%"})},null,4)])])])]),(0,a.createCommentVNode)(" å¢ƒç•ŒçŠ¶æ€ "),(0,a.createElementVNode)("div",ys,[(0,a.createElementVNode)("h3",xs,[(0,a.createVNode)((0,a.unref)(Rc),{size:14,class:"section-icon"}),n[8]||(n[8]=(0,a.createElementVNode)("span",null,"å¢ƒç•ŒçŠ¶æ€",-1))]),(0,a.createElementVNode)("div",ks,[(0,a.createElementVNode)("div",ws,[(0,a.createElementVNode)("span",Ns,(0,a.toDisplayString)(f(i.value?.å¢ƒç•Œ?.åç§°)),1),i.value?.å¢ƒç•Œ?.çªç ´æè¿°?((0,a.openBlock)(),(0,a.createElementBlock)("span",Es,(0,a.toDisplayString)(i.value?.å¢ƒç•Œ?.çªç ´æè¿°),1)):(0,a.createCommentVNode)("v-if",!0)]),(0,a.createCommentVNode)(" å‡¡äººå¢ƒç•Œæ˜¾ç¤ºç­‰å¾…å¼•æ°”å…¥ä½“ "),"å‡¡äºº"===i.value?.å¢ƒç•Œ?.åç§°?((0,a.openBlock)(),(0,a.createElementBlock)("div",Vs,n[9]||(n[9]=[(0,a.createElementVNode)("span",{class:"mortal-text"},"ç­‰å¾…ä»™ç¼˜ï¼Œå¼•æ°”å…¥ä½“",-1)]))):((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:1},[(0,a.createCommentVNode)(" ä¿®ç‚¼å¢ƒç•Œæ˜¾ç¤ºè¿›åº¦æ¡ "),(0,a.createElementVNode)("div",Cs,[(0,a.createElementVNode)("div",zs,[(0,a.createElementVNode)("div",{class:"progress-fill cultivation",style:(0,a.normalizeStyle)({width:v.value+"%"})},null,4)]),(0,a.createElementVNode)("span",Ss,(0,a.toDisplayString)(v.value)+"%",1)])],2112))]),(0,a.createCommentVNode)(" å£°æœ›æ˜¾ç¤º "),(0,a.createElementVNode)("div",Bs,[(0,a.createElementVNode)("div",Ds,[(0,a.createElementVNode)("div",As,[(0,a.createElementVNode)("span",_s,[(0,a.createVNode)((0,a.unref)(Rc),{size:12,class:"vital-icon reputation"}),n[10]||(n[10]=(0,a.createElementVNode)("span",null,"å£°æœ›",-1))]),(0,a.createElementVNode)("span",$s,(0,a.toDisplayString)(i.value?.å£°æœ›||"ç±ç±æ— å"),1)])])])]),(0,a.createCommentVNode)(" å¤©èµ‹ç¥é€š "),(0,a.createElementVNode)("div",Is,[(0,a.createElementVNode)("div",{class:"section-header",onClick:n[0]||(n[0]=e=&gt;d.value=!d.value)},[(0,a.createElementVNode)("h3",Ts,[(0,a.createVNode)((0,a.unref)(Rc),{size:14,class:"section-icon gold"}),n[11]||(n[11]=(0,a.createElementVNode)("span",null,"å¤©èµ‹ç¥é€š",-1))]),(0,a.createElementVNode)("button",{class:(0,a.normalizeClass)(["collapse-toggle",{collapsed:d.value}])},n[12]||(n[12]=[(0,a.createElementVNode)("svg",{width:"12",height:"12",viewBox:"0 0 16 16",fill:"currentColor"},[(0,a.createElementVNode)("path",{d:"M8 10l4-4H4l4 4z"})],-1)]),2)]),(0,a.withDirectives)((0,a.createElementVNode)("div",js,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(l.value.å¤©èµ‹,e=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:"string"==typeof e?e:e.åç§°,class:"talent-card clickable",onClick:n=&gt;(e=&gt;{const n=t.value?.è§’è‰²åŸºç¡€ä¿¡æ¯,a=n?.å¤©èµ‹?.find(n=&gt;n.åç§°===e),o=jn.qS.find(n=&gt;n.name===e),l=(a?{description:a.æè¿°||"è‡ªå®šä¹‰å¤©èµ‹"}:o?{description:o.description}:{description:`å¤©èµ‹ã€Š${e}ã€‹çš„è¯¦ç»†æè¿°æš‚æœªå¼€æ”¾ï¼Œè¯·æœŸå¾…åç»­æ›´æ–°ã€‚`}).description;r.showDetailModal({title:e,content:l})})("string"==typeof e?e:e.åç§°)},[(0,a.createElementVNode)("div",qs,[(0,a.createElementVNode)("span",Os,(0,a.toDisplayString)("string"==typeof e?e:e.åç§°),1)])],8,Ms))),128)),(0,a.createCommentVNode)(" ç©ºçŠ¶æ€æ˜¾ç¤º "),l.value.å¤©èµ‹&amp;&amp;0!==l.value.å¤©èµ‹.length?(0,a.createCommentVNode)("v-if",!0):((0,a.openBlock)(),(0,a.createElementBlock)("div",Ps,n[13]||(n[13]=[(0,a.createElementVNode)("div",{class:"empty-icon"},"âœ¨",-1),(0,a.createElementVNode)("div",{class:"empty-text"},"æš‚æ— å¤©èµ‹ç¥é€š",-1)])))],512),[[a.vShow,!d.value]])]),(0,a.createCommentVNode)(" çŠ¶æ€æ•ˆæœ "),(0,a.createElementVNode)("div",Fs,[(0,a.createElementVNode)("div",{class:"section-header",onClick:n[1]||(n[1]=e=&gt;m.value=!m.value)},[(0,a.createElementVNode)("h3",Ls,[(0,a.createVNode)((0,a.unref)(Bi),{size:14,class:"section-icon"}),n[14]||(n[14]=(0,a.createElementVNode)("span",null,"çŠ¶æ€æ•ˆæœ",-1))]),(0,a.createElementVNode)("button",{class:(0,a.normalizeClass)(["collapse-toggle",{collapsed:m.value}])},n[15]||(n[15]=[(0,a.createElementVNode)("svg",{width:"12",height:"12",viewBox:"0 0 16 16",fill:"currentColor"},[(0,a.createElementVNode)("path",{d:"M8 10l4-4H4l4 4z"})],-1)]),2)]),(0,a.withDirectives)((0,a.createElementVNode)("div",Ys,[0===c.value.length?((0,a.openBlock)(),(0,a.createElementBlock)("div",Rs,n[16]||(n[16]=[(0,a.createElementVNode)("span",{class:"empty-text"},"æ¸…å‡€æ— ä¸º",-1)]))):((0,a.openBlock)(),(0,a.createElementBlock)("div",Us,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(c.value,e=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:e.çŠ¶æ€åç§°,class:(0,a.normalizeClass)(["status-tag clickable",["buff"===String(e.ç±»å‹).toLowerCase()?"buff":"debuff"]]),onClick:n=&gt;(e=&gt;{const n=e.çŠ¶æ€æè¿°&amp;&amp;String(e.çŠ¶æ€æè¿°).trim()?String(e.çŠ¶æ€æè¿°).trim():`${e.çŠ¶æ€åç§°||"æœªçŸ¥"}çŠ¶æ€ç”Ÿæ•ˆä¸­`,t=[];if(e.å¼ºåº¦){const n=e.å¼ºåº¦&gt;=8?`æå¼º(${e.å¼ºåº¦}/10)`:e.å¼ºåº¦&gt;=5?`ä¸­ç­‰(${e.å¼ºåº¦}/10)`:`è½»å¾®(${e.å¼ºåº¦}/10)`;t.push({label:"æ•ˆæœå¼ºåº¦",value:n})}const a=e.å‰©ä½™æ—¶é—´,o=e.æ—¶é—´;if(a&amp;&amp;o&amp;&amp;a!==o)t.push({label:"å‰©ä½™æ—¶é—´",value:a});else if(a)t.push({label:"æŒç»­æ—¶é—´",value:a});else if(o){const e=p(o);t.push({label:"æŒç»­æ—¶é—´",value:e||o})}e.æ¥æº&amp;&amp;t.push({label:"äº§ç”ŸåŸå› ",value:e.æ¥æº});const l=[],i="buff"===String(e.ç±»å‹).toLowerCase()?"å¢ç›ŠçŠ¶æ€âœ…":"è´Ÿé¢çŠ¶æ€âš ï¸";l.push({label:"çŠ¶æ€ç±»å‹",value:i}),l.push(...t);let c=n;l.length&gt;0&amp;&amp;(c+="\n\nåŸºæœ¬ä¿¡æ¯:",l.forEach(e=&gt;{c+=`\n- ${e.label}: ${e.value}`})),r.showDetailModal({title:e.çŠ¶æ€åç§°,content:c})})(e),title:`${e.çŠ¶æ€åç§°}${e.å¼ºåº¦?` - å¼ºåº¦${e.å¼ºåº¦}`:""}${p(e.æ—¶é—´)?` - ${p(e.æ—¶é—´)}`:""}`},[(0,a.createElementVNode)("span",Ws,(0,a.toDisplayString)("buff"===String(e.ç±»å‹).toLowerCase()?"å¢":"å‡"),1),(0,a.createElementVNode)("span",Js,(0,a.toDisplayString)(e.çŠ¶æ€åç§°),1),e.å¼ºåº¦?((0,a.openBlock)(),(0,a.createElementBlock)("span",Hs,(0,a.toDisplayString)(e.å¼ºåº¦),1)):(0,a.createCommentVNode)("v-if",!0),p(e.æ—¶é—´)?((0,a.openBlock)(),(0,a.createElementBlock)("span",Qs,(0,a.toDisplayString)(p(e.æ—¶é—´)),1)):(0,a.createCommentVNode)("v-if",!0)],10,Gs))),128))]))],512),[[a.vShow,!m.value]])])])):((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:1},[(0,a.createCommentVNode)(" æ— è§’è‰²æ•°æ® "),n[17]||(n[17]=(0,a.createElementVNode)("div",{class:"no-character"},[(0,a.createElementVNode)("div",{class:"no-char-text"},"è¯·é€‰æ‹©è§’è‰²å¼€å¯ä¿®ä»™ä¹‹æ—…")],-1))],2112)),(0,a.createCommentVNode)(" è¯¦æƒ…æ¨¡æ€æ¡† "),(0,a.createVNode)(Xe)]))}});var Xs=t(6782),Zs={};Zs.styleTagTransform=A(),Zs.setAttributes=z(),Zs.insert=V().bind(null,"head"),Zs.domAPI=N(),Zs.insertStyleElement=B(),k()(Xs.A,Zs),Xs.A&amp;&amp;Xs.A.locals&amp;&amp;Xs.A.locals;const ed=(0,j.A)(Ks,[["__scopeId","data-v-b79cffd4"]]),nd={class:"hexagon-chart-container"},td=["width","height","viewBox"],ad=["transform"],od=["points"],rd=["x2","y2"],ld=["points"],id=["cx","cy"],cd=["x","y","text-anchor","dominant-baseline"],sd=["x","y","text-anchor","dominant-baseline"],dd=(0,a.defineComponent)({__name:"HexagonChart",props:{stats:{},size:{default:160},maxValue:{default:10}},setup(e){const n=e,t=(0,a.computed)(()=&gt;n.size/2),o=(0,a.computed)(()=&gt;n.size/2*.7),r=["root_bone","spirituality","comprehension","fortune","charm","temperament"],l={root_bone:"æ ¹éª¨",spirituality:"çµæ€§",comprehension:"æ‚Ÿæ€§",fortune:"æ°”è¿",charm:"é­…åŠ›",temperament:"å¿ƒæ€§"},i=(e=1)=&gt;{const n=[];for(let t=0;t&lt;6;t++){const a=Math.PI/2+Math.PI/3*t,r=Math.cos(a)*o.value*e,l=-Math.sin(a)*o.value*e;n.push(`${r.toFixed(2)},${l.toFixed(2)}`)}return n.join(" ")},c=(0,a.computed)(()=&gt;r.map((e,t)=&gt;{const a=n.stats[e]??0,r=Math.max(0,Math.min(1,a/n.maxValue)),l=Math.PI/2+Math.PI/3*t,i=o.value*r+(0===r?4:0);return{value:a,x:Math.cos(l)*i,y:-Math.sin(l)*i}})),s=(0,a.computed)(()=&gt;{const e=[];return r.forEach((t,a)=&gt;{const r=n.stats[t]??0,l=Math.max(0,Math.min(1,r/n.maxValue)),i=Math.PI/2+Math.PI/3*a,c=Math.cos(i)*o.value*l,s=-Math.sin(i)*o.value*l;e.push(`${c.toFixed(2)},${s.toFixed(2)}`)}),e.join(" ")}),d=(0,a.computed)(()=&gt;{const e=[];for(let n=0;n&lt;6;n++){const t=Math.PI/2+Math.PI/3*n;e.push({x:Math.cos(t)*o.value,y:-Math.sin(t)*o.value})}return e}),m=(0,a.computed)(()=&gt;{const e=1.25*o.value;return r.map((n,t)=&gt;{const a=Math.PI/2+Math.PI/3*t;return{key:n,name:l[n],x:Math.cos(a)*e,y:-Math.sin(a)*e}})}),p=(e,n=!1)=&gt;0===e||3===e?"middle":1===e||2===e?n?"end":"start":n?"start":"end",v=(e,n=!1)=&gt;0===e?n?"hanging":"alphabetic":3===e?n?"alphabetic":"hanging":"middle";return(e,n)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",nd,[((0,a.openBlock)(),(0,a.createElementBlock)("svg",{width:e.size,height:e.size,viewBox:`0 0 ${e.size} ${e.size}`},[(0,a.createCommentVNode)(" å®šä¹‰æ¸å˜ "),n[0]||(n[0]=(0,a.createStaticVNode)('<defs data-v-256c0aae=""><lineargradient id="goldGradient" x1="0%" y1="0%" x2="100%" y2="100%" data-v-256c0aae=""><stop offset="0%" stop-color="rgba(255, 215, 0, 0.3)" data-v-256c0aae=""></stop><stop offset="50%" stop-color="rgba(218, 165, 32, 0.25)" data-v-256c0aae=""></stop><stop offset="100%" stop-color="rgba(255, 223, 0, 0.2)" data-v-256c0aae=""></stop></lineargradient><lineargradient id="darkGradient" x1="0%" y1="0%" x2="100%" y2="100%" data-v-256c0aae=""><stop offset="0%" stop-color="rgba(100, 181, 246, 0.3)" data-v-256c0aae=""></stop><stop offset="100%" stop-color="rgba(100, 181, 246, 0.1)" data-v-256c0aae=""></stop></lineargradient></defs>',1)),(0,a.createElementVNode)("g",{transform:`translate(${t.value}, ${t.value})`},[(0,a.createCommentVNode)(" Hexagon Grid Lines "),((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(5,e=&gt;(0,a.createElementVNode)("polygon",{key:`grid-${e}`,points:i(e/5),class:"grid-line"},null,8,od)),64)),(0,a.createCommentVNode)(" Radial Lines "),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(d.value,(e,n)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("line",{key:`axis-${n}`,x1:"0",y1:"0",x2:e.x,y2:e.y,class:"grid-line"},null,8,rd))),128)),(0,a.createCommentVNode)(" Data Polygon "),(0,a.createElementVNode)("polygon",{points:s.value,class:"data-polygon"},null,8,ld),(0,a.createCommentVNode)(" Data Points &amp; Numeric Values "),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(c.value,(e,n)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("g",{key:`data-point-${n}`},[(0,a.createElementVNode)("circle",{cx:e.x,cy:e.y,r:"3",class:"data-point"},null,8,id),(0,a.createElementVNode)("text",{x:e.x,y:e.y,class:"data-value-text","text-anchor":p(n,!0),"dominant-baseline":v(n,!0)},(0,a.toDisplayString)(e.value),9,cd)]))),128)),(0,a.createCommentVNode)(" Stat Labels "),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(m.value,(e,n)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("text",{key:e.key,x:e.x,y:e.y,class:"label-text","text-anchor":p(n),"dominant-baseline":v(n)},(0,a.toDisplayString)(e.name),9,sd))),128))],8,ad)],8,td))]))}});var md=t(3019),pd={};pd.styleTagTransform=A(),pd.setAttributes=z(),pd.insert=V().bind(null,"head"),pd.domAPI=N(),pd.insertStyleElement=B(),k()(md.A,pd),md.A&amp;&amp;md.A.locals&amp;&amp;md.A.locals;const vd=(0,j.A)(dd,[["__scopeId","data-v-256c0aae"]]),ud=(0,c.A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),gd=(0,c.A)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),fd=(0,c.A)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),bd={class:"dialog-title"},hd={class:"dialog-message"},yd=["placeholder"],xd={class:"dialog-actions"},kd={key:0,class:"fullscreen-header"},wd={class:"mobile-header"},Nd={class:"mobile-title"},Ed={key:0,class:"selected-info"},Vd={key:2,class:"empty-state"},Cd={class:"management-layout"},zd={class:"grid-container"},Sd={class:"grid-header-left"},Bd={class:"character-count"},Dd={class:"grid-header-right"},Ad={class:"header-left-content"},_d={key:0,class:"selected-char-info"},$d={key:0,class:"save-actions-buttons"},Id={class:"characters-grid"},Td=["onClick"],jd={class:"card-header"},Md={class:"avatar-text"},qd={class:"mode-indicator"},Od={class:"char-info"},Pd={class:"char-name"},Fd={class:"char-meta"},Ld={class:"world"},Yd={class:"talent"},Rd={class:"save-count"},Ud={class:"count"},Gd={class:"card-actions"},Wd=["onClick"],Jd=["onClick"],Hd=["onClick"],Qd={class:"grid-content-right saves-panel"},Kd={key:0,class:"no-selection"},Xd={class:"saves-container"},Zd={class:"saves-section"},em={class:"auto-saves-section"},nm={class:"auto-saves-grid"},tm={key:0,class:"save-data"},am={class:"save-header"},om={class:"save-badges"},rm={class:"realm-badge"},lm={class:"age-badge"},im={class:"save-stats"},cm={class:"stat-grid"},sm={class:"stat"},dm={class:"value"},mm={class:"stat"},pm={class:"value"},vm={class:"stat"},um={class:"value"},gm={class:"stat"},fm={class:"value"},bm={class:"save-footer"},hm={class:"location"},ym={class:"save-time"},xm={key:1,class:"save-empty"},km={key:0,class:"manual-saves-section"},wm={class:"manual-saves-grid"},Nm=["onClick"],Em={key:0,class:"save-data"},Vm={class:"save-header"},Cm={class:"save-name"},zm={class:"save-actions"},Sm=["onClick"],Bm=["onClick","disabled","title"],Dm={class:"save-badges"},Am={class:"realm-badge"},_m={class:"age-badge"},$m={class:"save-stats"},Im={class:"stat-grid"},Tm={class:"stat"},jm={class:"value"},Mm={class:"stat"},qm={class:"value"},Om={class:"stat"},Pm={class:"value"},Fm={class:"stat"},Lm={class:"value"},Ym={class:"save-footer"},Rm={class:"location"},Um={class:"save-time"},Gm={key:1,class:"save-empty"},Wm={class:"online-saves-container"},Jm={key:0,class:"login-prompt"},Hm={key:1,class:"online-save-card"},Qm={key:0,class:"save-data"},Km={class:"save-header"},Xm={class:"save-badges"},Zm={class:"realm-badge"},ep={class:"age-badge"},np={class:"save-stats"},tp={class:"stat-grid"},ap={class:"stat"},op={class:"value"},rp={class:"stat"},lp={class:"value"},ip={class:"stat"},cp={class:"value"},sp={class:"stat"},dp={class:"value"},mp={class:"save-footer"},pp={class:"location"},vp={class:"sync-info"},up={class:"online-actions"},gp={key:0,class:"btn-sync"},fp={key:1,class:"save-empty"},bp={class:"modal-header"},hp={key:0,class:"modal-content"},yp={class:"details-grid"},xp={class:"detail-section"},kp={class:"detail-items"},wp={class:"detail-item"},Np={class:"value"},Ep={class:"detail-item"},Vp={class:"value"},Cp={class:"detail-item"},zp={class:"value"},Sp={class:"detail-item"},Bp={class:"value"},Dp={class:"detail-item"},Ap={class:"value"},_p={class:"detail-item"},$p={class:"value"},Ip={class:"detail-section"},Tp={class:"attributes-display"},jp={class:"detail-section"},Mp={class:"talents-list"},qp={key:0,class:"talent-items"},Op=["title"],Pp={key:1,class:"no-talents"},Fp=(0,a.defineComponent)({__name:"CharacterManagement",props:{fullscreen:{type:Boolean,default:!1}},emits:["back","login","close","character-selected"],setup(e,{emit:n}){const t=e,o=n,l=(0,a.computed)(()=&gt;t.fullscreen),i=(0,r.useRouter)(),c=(0,tn.useCharacterStore)(),s=(0,a.ref)(!0),m=(0,a.ref)(null),p=(0,a.ref)(!1),v=(0,a.ref)(null),u=(0,a.ref)(null),g=(0,a.ref)(null),f=(0,a.ref)(!1),b=(0,a.ref)(!1),h=(0,a.ref)(window.innerWidth),y=()=&gt;{h.value=window.innerWidth,h.value&gt;768?f.value=!0:h.value&lt;=480&amp;&amp;(f.value=!1)};(0,a.onMounted)(()=&gt;{window.addEventListener("resize",y),y()}),(0,a.onUnmounted)(()=&gt;{window.removeEventListener("resize",y)});const x=(0,a.ref)({show:!1,type:"alert",title:"",message:"",inputValue:"",placeholder:"",onConfirm:(...e)=&gt;{},onCancel:()=&gt;{}}),k=(0,a.computed)(()=&gt;Object.keys(c.rootState.è§’è‰²åˆ—è¡¨).length),w=(0,a.computed)(()=&gt;m.value?c.rootState.è§’è‰²åˆ—è¡¨[m.value]:null),N=(0,a.computed)(()=&gt;h.value&lt;=768),E=()=&gt;{f.value=!f.value},V=e=&gt;"å•æœº"===e.æ¨¡å¼?Object.values(e.å­˜æ¡£åˆ—è¡¨||{}).filter(e=&gt;e.å­˜æ¡£æ•°æ®).length:e.å­˜æ¡£?.å­˜æ¡£æ•°æ®?1:0,C=()=&gt;{p.value=!1,v.value=null},z=async(e,n,a)=&gt;{console.log("é€‰æ‹©å­˜æ¡£:",e,n,a);const r=c.rootState.è§’è‰²åˆ—è¡¨[e];if(a){console.log("è®¾ç½®æ´»è·ƒè§’è‰²...");try{await c.setActiveCharacterInTavern(e)}catch(e){console.warn("è·³è¿‡é…’é¦†åŒæ­¥ï¼ˆå•æœºç¯å¢ƒï¼‰",e)}console.log("åŠ è½½å­˜æ¡£...");const a=await c.loadGame(e,n);console.log("åŠ è½½ç»“æœ:",a),a?(console.log("è·³è½¬åˆ°æ¸¸æˆç•Œé¢..."),t.fullscreen?o("character-selected",r):i.push("/game")):console.error("å­˜æ¡£åŠ è½½å¤±è´¥")}else{const a="ä¸Šæ¬¡å¯¹è¯"===n;O(a?"åˆ›å»ºæ–°å­˜æ¡£":"å¼€å¯æ–°å¾ç¨‹",a?`æ˜¯å¦åœ¨ã€${n}ã€‘ä½ç½®åˆ›å»ºæ–°çš„å­˜æ¡£å¼€å§‹æ¸¸æˆï¼Ÿ`:`æ˜¯å¦åœ¨å­˜æ¡£ä½ "${n}" å¼€å§‹ä¸€æ®µæ–°çš„ä¿®è¡Œï¼Ÿ`,async()=&gt;{console.log("ç¡®è®¤åˆ›å»ºæ–°å­˜æ¡£...");try{await c.setActiveCharacterInTavern(e)}catch(e){console.warn("è·³è¿‡é…’é¦†åŒæ­¥ï¼ˆå•æœºç¯å¢ƒï¼‰",e)}const a=await c.loadGame(e,n);console.log("æ–°å­˜æ¡£åŠ è½½ç»“æœ:",a),a&amp;&amp;(console.log("è·³è½¬åˆ°æ¸¸æˆç•Œé¢..."),t.fullscreen?o("character-selected",r):i.push("/game"))})}},S=(e,n)=&gt;{if(!e||"è”æœº"===e.æ¨¡å¼)return!1;let t=0;const a=e.å­˜æ¡£åˆ—è¡¨||{};Object.entries(a).forEach(([,e])=&gt;{e.å­˜æ¡£æ•°æ®&amp;&amp;t++});const o=a[n];return!(o?.å­˜æ¡£æ•°æ®&amp;&amp;t&lt;=1)},B=e=&gt;{if(!e?.å­˜æ¡£åˆ—è¡¨)return{};const n={};return Object.entries(e.å­˜æ¡£åˆ—è¡¨).forEach(([e,t])=&gt;{"ä¸Šæ¬¡å¯¹è¯"!==e&amp;&amp;(n[e]=t)}),n},D=()=&gt;{o("back")},A=()=&gt;{t.fullscreen?o("close"):D()},_=()=&gt;{o("login")},$=e=&gt;Yi(e),I=e=&gt;e?new Date(e).toLocaleString("zh-CN",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"æœªä¿å­˜",T=e=&gt;"string"==typeof e?e:e&amp;&amp;"object"==typeof e&amp;&amp;(e.åç§°||e.name)||"æœªçŸ¥å¤©èµ‹",j=e=&gt;{if("string"==typeof e)return`å¤©èµ‹ã€Š${e}ã€‹`;if(e&amp;&amp;"object"==typeof e){const n=e.æè¿°||e.description||"",t=T(e);return n||`å¤©èµ‹ã€Š${t}ã€‹`}return"æœªçŸ¥å¤©èµ‹"},M=e=&gt;e?"string"==typeof e?e:"object"==typeof e&amp;&amp;null!==e&amp;&amp;(e.åç§°||e.name||e.åå­—)||"æœªçŸ¥":"æœªçŸ¥",q=(e,n,t)=&gt;{x.value={show:!0,type:"alert",title:e,message:n,inputValue:"",placeholder:"",onConfirm:()=&gt;{t&amp;&amp;t(),L()},onCancel:L}},O=(e,n,t,a)=&gt;{x.value={show:!0,type:"confirm",title:e,message:n,inputValue:"",placeholder:"",onConfirm:()=&gt;{t(),L()},onCancel:()=&gt;{a&amp;&amp;a(),L()}}},P=()=&gt;{"prompt"===x.value.type?x.value.onConfirm(x.value.inputValue):x.value.onConfirm()},F=()=&gt;{x.value.onCancel(),L()},L=()=&gt;{x.value.show=!1},Y=()=&gt;{if(w.value)try{const e=w.value,n=Object.values(e.å­˜æ¡£åˆ—è¡¨||{}).filter(e=&gt;e.å­˜æ¡£æ•°æ®);if(0===n.length)return void d.o.info("è¯¥è§’è‰²æ²¡æœ‰å¯å¯¼å‡ºçš„å­˜æ¡£");const t={saves:n,exportTime:(new Date).toISOString(),version:"1.0.0",characterName:e.è§’è‰²åŸºç¡€ä¿¡æ¯.åå­—},a=JSON.stringify(t,null,2),o=new Blob([a],{type:"application/json"}),r=document.createElement("a");r.href=URL.createObjectURL(o),r.download=`å¤§é“æœå¤©-${e.è§’è‰²åŸºç¡€ä¿¡æ¯.åå­—}-å­˜æ¡£å¤‡ä»½-${(new Date).toISOString().split("T")[0]}.json`,r.click(),d.o.success("å­˜æ¡£å·²å¯¼å‡º")}catch(e){console.error("å¯¼å‡ºå¤±è´¥",e),d.o.error("å¯¼å‡ºå­˜æ¡£å¤±è´¥")}else d.o.error("è¯·å…ˆé€‰æ‹©ä¸€ä¸ªè§’è‰²")},R=()=&gt;{w.value?g.value?.click():d.o.error("è¯·å…ˆé€‰æ‹©ä¸€ä¸ªè§’è‰²ä»¥å¯¼å…¥å­˜æ¡£")},U=()=&gt;{g.value?.click()},G=async e=&gt;{const n=e.target.files?.[0];if(n)try{const e=await n.text(),t=JSON.parse(e);if(t.saves&amp;&amp;Array.isArray(t.saves)){if(!m.value||!w.value)return d.o.error("è¯·å…ˆé€‰æ‹©ä¸€ä¸ªè§’è‰²ä»¥å¯¼å…¥å­˜æ¡£"),void(g.value&amp;&amp;(g.value.value=""));const e=m.value,n=w.value.è§’è‰²åŸºç¡€ä¿¡æ¯.åå­—;O("å¯¼å…¥å­˜æ¡£",`ç¡®å®šè¦å°† ${t.saves.length} ä¸ªå­˜æ¡£å¯¼å…¥åˆ°è§’è‰² "${n}" å—ï¼ŸåŒåå­˜æ¡£å°†è¢«è¦†ç›–ã€‚`,async()=&gt;{b.value=!0;try{await c.setActiveCharacterInTavern(e);for(const e of t.saves)await c.importSave(e);d.o.success(`æˆåŠŸä¸ºè§’è‰² "${n}" å¯¼å…¥ ${t.saves.length} ä¸ªå­˜æ¡£`)}catch(e){console.error("å¯¼å…¥å¤±è´¥",e),d.o.error("å¯¼å…¥å­˜æ¡£å¤±è´¥: "+e.message)}finally{b.value=!1,g.value&amp;&amp;(g.value.value="")}},()=&gt;{g.value&amp;&amp;(g.value.value="")})}else{if(!t.è§’è‰²åŸºç¡€ä¿¡æ¯||!t.æ¨¡å¼)throw new Error("æ— æ•ˆçš„æ–‡ä»¶æ ¼å¼ï¼Œè¯·å¯¼å…¥è§’è‰²æˆ–å­˜æ¡£æ–‡ä»¶");{const e=t.è§’è‰²åŸºç¡€ä¿¡æ¯?.åå­—||"æœªçŸ¥è§’è‰²";O("å¯¼å…¥è§’è‰²",`ç¡®å®šè¦å¯¼å…¥è§’è‰² "${e}" å—ï¼Ÿ`,async()=&gt;{b.value=!0;try{await c.importCharacter(t),d.o.success(`æˆåŠŸå¯¼å…¥è§’è‰² "${e}"`)}catch(e){console.error("å¯¼å…¥è§’è‰²å¤±è´¥",e),d.o.error("å¯¼å…¥è§’è‰²å¤±è´¥: "+e.message)}finally{b.value=!1,g.value&amp;&amp;(g.value.value="")}},()=&gt;{g.value&amp;&amp;(g.value.value="")})}}}catch(e){console.error("å¤„ç†å¯¼å…¥æ–‡ä»¶å¤±è´¥",e),d.o.error("å¤„ç†å¯¼å…¥æ–‡ä»¶å¤±è´¥: "+e.message),g.value&amp;&amp;(g.value.value="")}};return(e,n)=&gt;{return(0,a.openBlock)(),(0,a.createElementBlock)("div",{class:(0,a.normalizeClass)(["character-management-panel",{fullscreen:l.value}])},[l.value?((0,a.openBlock)(),(0,a.createBlock)(yn,{key:0})):(0,a.createCommentVNode)("v-if",!0),(0,a.createCommentVNode)(" è‡ªå®šä¹‰å¯¹è¯æ¡† "),x.value.show?((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:1,class:"dialog-overlay",onClick:F},[(0,a.createElementVNode)("div",{class:"dialog-box",onClick:n[1]||(n[1]=(0,a.withModifiers)(()=&gt;{},["stop"]))},[(0,a.createElementVNode)("h3",bd,(0,a.toDisplayString)(x.value.title),1),(0,a.createElementVNode)("p",hd,(0,a.toDisplayString)(x.value.message),1),"prompt"===x.value.type?(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createElementBlock)("input",{key:0,"onUpdate:modelValue":n[0]||(n[0]=e=&gt;x.value.inputValue=e),placeholder:x.value.placeholder,class:"dialog-input",ref_key:"promptInput",ref:u},null,8,yd)),[[a.vModelText,x.value.inputValue]]):(0,a.createCommentVNode)("v-if",!0),(0,a.createElementVNode)("div",xd,["alert"!==x.value.type?((0,a.openBlock)(),(0,a.createElementBlock)("button",{key:0,onClick:F,class:"btn-dialog-cancel"}," å–æ¶ˆ ")):(0,a.createCommentVNode)("v-if",!0),(0,a.createElementVNode)("button",{onClick:P,class:"btn-dialog-confirm"}," ç¡®è®¤ ")])])])):(0,a.createCommentVNode)("v-if",!0),(0,a.createCommentVNode)(" ä¸»ä½“åŒºåŸŸ "),(0,a.createElementVNode)("main",{class:(0,a.normalizeClass)(["main-content",{"fullscreen-content":l.value}])},[(0,a.createElementVNode)("input",{ref_key:"fileInput",ref:g,type:"file",accept:".json",onChange:G,style:{display:"none"}},null,544),(0,a.createCommentVNode)(" è¿”å›æŒ‰é’® - ä»…åœ¨å…¨å±æ¨¡å¼æ˜¾ç¤º "),l.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",kd,[(0,a.createElementVNode)("button",{onClick:A,class:"fullscreen-back-btn"},[(0,a.createVNode)((0,a.unref)(ud),{size:20}),n[6]||(n[6]=(0,a.createElementVNode)("span",null,"è¿”å›é“é€”",-1))]),n[7]||(n[7]=(0,a.createElementVNode)("div",{class:"fullscreen-title"},[(0,a.createElementVNode)("h1",null,"ç»­å‰ä¸–å› ç¼˜"),(0,a.createElementVNode)("p",null,"æ‹©ä¸€æ³•èº«ï¼Œå…¥é“é‡ä¿®")],-1))])):(0,a.createCommentVNode)("v-if",!0),(0,a.createCommentVNode)(" ç§»åŠ¨ç«¯å¤´éƒ¨å¯¼èˆª "),(0,a.createElementVNode)("div",wd,[(0,a.createElementVNode)("button",{class:(0,a.normalizeClass)(["mobile-menu-btn",{active:f.value}]),onClick:E},n[8]||(n[8]=[(0,a.createElementVNode)("div",{class:"hamburger"},[(0,a.createElementVNode)("span"),(0,a.createElementVNode)("span"),(0,a.createElementVNode)("span")],-1),(0,a.createElementVNode)("span",{class:"menu-text"},"è§’è‰²åˆ—è¡¨",-1)]),2),(0,a.createElementVNode)("div",Nd,[n[9]||(n[9]=(0,a.createElementVNode)("h2",null,"è§’è‰²ç®¡ç†",-1)),w.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",Ed,(0,a.toDisplayString)(w.value.è§’è‰²åŸºç¡€ä¿¡æ¯.åå­—)+" - "+(0,a.toDisplayString)(w.value.æ¨¡å¼)+"æ¨¡å¼ ",1)):(0,a.createCommentVNode)("v-if",!0)])]),(0,a.createCommentVNode)(" é®ç½©å±‚ "),f.value&amp;&amp;N.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:1,class:"panel-overlay",onClick:n[2]||(n[2]=e=&gt;f.value=!1)})):(0,a.createCommentVNode)("v-if",!0),(0,a.createCommentVNode)(" æ— è§’è‰²æç¤º "),0===Object.keys((0,a.unref)(c).rootState.è§’è‰²åˆ—è¡¨).length?((0,a.openBlock)(),(0,a.createElementBlock)("div",Vd,[n[10]||(n[10]=(0,a.createElementVNode)("div",{class:"empty-icon"},"ğŸŒŸ",-1)),n[11]||(n[11]=(0,a.createElementVNode)("h2",null,"é“é€”æœªå¯",-1)),n[12]||(n[12]=(0,a.createElementVNode)("p",null,"å°šæœªåˆ›å»ºä»»ä½•æ³•èº«ï¼Œè¯·è¿”å›é“é€”å¼€å¯ä¿®ä»™ä¹‹æ—…",-1)),(0,a.createElementVNode)("div",{class:"empty-actions"},[(0,a.createElementVNode)("button",{onClick:D,class:"btn-create"},"è¸å…¥ä»™é€”"),(0,a.createElementVNode)("button",{onClick:U,class:"btn-import"},"å¯¼å…¥è§’è‰²")])])):((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:3},[(0,a.createCommentVNode)(" è§’è‰²ç®¡ç†ç•Œé¢ "),(0,a.createElementVNode)("div",Cd,[(0,a.createCommentVNode)(" 3è¡Œ2åˆ—ç½‘æ ¼å®¹å™¨ "),(0,a.createElementVNode)("div",zd,[(0,a.createCommentVNode)(" ç¬¬1è¡Œï¼šæ ‡é¢˜æ  "),(0,a.createElementVNode)("div",Sd,[n[13]||(n[13]=(0,a.createElementVNode)("h2",null,"è§’è‰²åˆ—è¡¨",-1)),(0,a.createElementVNode)("div",Bd,(0,a.toDisplayString)(k.value)+" ä¸ªè§’è‰²",1)]),(0,a.createElementVNode)("div",Dd,[(0,a.createElementVNode)("div",Ad,[n[14]||(n[14]=(0,a.createElementVNode)("h2",null,"å­˜æ¡£ç®¡ç†",-1)),w.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",_d,(0,a.toDisplayString)(w.value.è§’è‰²åŸºç¡€ä¿¡æ¯.åå­—)+" - "+(0,a.toDisplayString)(w.value.æ¨¡å¼)+"æ¨¡å¼ ",1)):(0,a.createCommentVNode)("v-if",!0)]),w.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",$d,[(0,a.createElementVNode)("button",{onClick:Y,class:"btn-save-action export",title:"å¯¼å‡ºé€‰ä¸­è§’è‰²çš„å­˜æ¡£"},[(0,a.createVNode)((0,a.unref)(gd),{size:18}),n[15]||(n[15]=(0,a.createElementVNode)("span",null,"å¯¼å‡ºå­˜æ¡£",-1))]),(0,a.createElementVNode)("button",{onClick:R,class:"btn-save-action import",title:"å‘é€‰ä¸­è§’è‰²å¯¼å…¥å­˜æ¡£"},[(0,a.createVNode)((0,a.unref)(fd),{size:18}),n[16]||(n[16]=(0,a.createElementVNode)("span",null,"å¯¼å…¥å­˜æ¡£",-1))])])):(0,a.createCommentVNode)("v-if",!0)]),(0,a.createCommentVNode)(" ç¬¬2è¡Œï¼šä¸»è¦å†…å®¹åŒº "),(0,a.createElementVNode)("section",{class:(0,a.normalizeClass)(["grid-content-left characters-panel",{"is-open":f.value}])},[(0,a.createElementVNode)("div",Id,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)((0,a.unref)(c).rootState.è§’è‰²åˆ—è¡¨,(e,t)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:t,class:(0,a.normalizeClass)(["character-card",{active:m.value===t,"single-mode":"å•æœº"===e.æ¨¡å¼,"online-mode":"è”æœº"===e.æ¨¡å¼}]),onClick:e=&gt;(e=&gt;{m.value=e,N.value&amp;&amp;(f.value=!1)})(t)},[(0,a.createCommentVNode)(" å¡ç‰‡å¤´éƒ¨ "),(0,a.createElementVNode)("div",jd,[(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["char-avatar",e.æ¨¡å¼])},[(0,a.createElementVNode)("span",Md,(0,a.toDisplayString)(e.è§’è‰²åŸºç¡€ä¿¡æ¯.åå­—[0]),1),(0,a.createElementVNode)("div",qd,(0,a.toDisplayString)("å•æœº"===e.æ¨¡å¼?"å•":"è”"),1)],2),(0,a.createElementVNode)("div",Od,[(0,a.createElementVNode)("h3",Pd,(0,a.toDisplayString)(e.è§’è‰²åŸºç¡€ä¿¡æ¯.åå­—),1),(0,a.createElementVNode)("div",Fd,[(0,a.createElementVNode)("span",Ld,(0,a.toDisplayString)(e.è§’è‰²åŸºç¡€ä¿¡æ¯.ä¸–ç•Œ),1),(0,a.createElementVNode)("span",Yd,(0,a.toDisplayString)(M(e.è§’è‰²åŸºç¡€ä¿¡æ¯.å¤©èµ„)),1)])]),(0,a.createElementVNode)("div",Rd,[(0,a.createElementVNode)("span",Ud,(0,a.toDisplayString)(V(e)),1),n[17]||(n[17]=(0,a.createElementVNode)("span",{class:"label"},"å­˜æ¡£",-1))])]),(0,a.createCommentVNode)(" å¡ç‰‡åº•éƒ¨æ“ä½œ "),(0,a.createElementVNode)("div",Gd,[(0,a.createElementVNode)("button",{onClick:(0,a.withModifiers)(e=&gt;(e=&gt;{v.value=c.rootState.è§’è‰²åˆ—è¡¨[e],p.value=!0})(t),["stop"]),class:"btn-details"},"è¯¦æƒ…",8,Wd),(0,a.createElementVNode)("button",{onClick:(0,a.withModifiers)(e=&gt;(e=&gt;{try{const n=c.rootState.è§’è‰²åˆ—è¡¨[e];if(!n)return void d.o.error("è§’è‰²ä¸å­˜åœ¨");const t={...n,exportTime:(new Date).toISOString(),version:"1.0.0"},a=JSON.stringify(t,null,2),o=new Blob([a],{type:"application/json"}),r=document.createElement("a");r.href=URL.createObjectURL(o),r.download=`å¤§é“æœå¤©-${n.è§’è‰²åŸºç¡€ä¿¡æ¯.åå­—}-è§’è‰²å¤‡ä»½-${(new Date).toISOString().split("T")[0]}.json`,r.click(),d.o.success(`è§’è‰² "${n.è§’è‰²åŸºç¡€ä¿¡æ¯.åå­—}" å·²å¯¼å‡º`)}catch(e){console.error("å¯¼å‡ºè§’è‰²å¤±è´¥",e),d.o.error("å¯¼å‡ºè§’è‰²å¤±è´¥")}})(t),["stop"]),class:"btn-export"},"å¯¼å‡º",8,Jd),(0,a.createElementVNode)("button",{onClick:(0,a.withModifiers)(e=&gt;(e=&gt;{const n=c.rootState.è§’è‰²åˆ—è¡¨[e]?.è§’è‰²åŸºç¡€ä¿¡æ¯.åå­—;O("åˆ é™¤è§’è‰²",`ç¡®å®šè¦å½»åº•åˆ é™¤è§’è‰²"${n}"åŠå…¶æ‰€æœ‰ä¿®è¡Œè®°å½•å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ¢å¤ã€‚`,()=&gt;{c.deleteCharacter(e),m.value===e&amp;&amp;(m.value=null)})})(t),["stop"]),class:"btn-delete"},"åˆ é™¤",8,Hd)])],10,Td))),128))])],2),(0,a.createCommentVNode)(" å³ä¾§ï¼šå­˜æ¡£è¯¦æƒ… "),(0,a.createElementVNode)("section",Qd,[(0,a.createCommentVNode)(" æœªé€‰æ‹©è§’è‰² "),w.value?"å•æœº"===w.value.æ¨¡å¼?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:1},[(0,a.createCommentVNode)(" å•æœºæ¨¡å¼å­˜æ¡£ "),(0,a.createElementVNode)("div",Xd,[(0,a.createElementVNode)("div",Zd,[(0,a.createCommentVNode)(" ä¸Šæ¬¡å¯¹è¯å­˜æ¡£åŒº "),(0,a.createElementVNode)("div",em,[n[26]||(n[26]=(0,a.createElementVNode)("h3",null,"ä¸Šæ¬¡å¯¹è¯",-1)),(0,a.createElementVNode)("div",nm,[(0,a.createCommentVNode)(" ä¸Šæ¬¡å¯¹è¯å­˜æ¡£ "),(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["save-card auto-save",{"has-data":w.value.å­˜æ¡£åˆ—è¡¨?.["ä¸Šæ¬¡å¯¹è¯"]?.å­˜æ¡£æ•°æ®}]),style:{cursor:"default"}},[w.value.å­˜æ¡£åˆ—è¡¨?.["ä¸Šæ¬¡å¯¹è¯"]?.å­˜æ¡£æ•°æ®?((0,a.openBlock)(),(0,a.createElementBlock)("div",tm,[(0,a.createElementVNode)("div",am,[n[19]||(n[19]=(0,a.createElementVNode)("h4",{class:"save-name"},"ä¸Šæ¬¡å¯¹è¯",-1)),(0,a.createElementVNode)("div",om,[(0,a.createElementVNode)("span",rm,(0,a.toDisplayString)($(w.value.å­˜æ¡£åˆ—è¡¨["ä¸Šæ¬¡å¯¹è¯"].å­˜æ¡£æ•°æ®.ç©å®¶è§’è‰²çŠ¶æ€?.å¢ƒç•Œ)),1),(0,a.createElementVNode)("span",lm,(0,a.toDisplayString)(w.value.å­˜æ¡£åˆ—è¡¨["ä¸Šæ¬¡å¯¹è¯"].å­˜æ¡£æ•°æ®.ç©å®¶è§’è‰²çŠ¶æ€?.å¯¿å‘½?.å½“å‰||18)+"å²",1)])]),(0,a.createElementVNode)("div",im,[(0,a.createElementVNode)("div",cm,[(0,a.createElementVNode)("div",sm,[n[20]||(n[20]=(0,a.createElementVNode)("span",{class:"label"},"æ°”è¡€",-1)),(0,a.createElementVNode)("span",dm,(0,a.toDisplayString)(w.value.å­˜æ¡£åˆ—è¡¨["ä¸Šæ¬¡å¯¹è¯"].å­˜æ¡£æ•°æ®.ç©å®¶è§’è‰²çŠ¶æ€?.æ°”è¡€?.å½“å‰||0)+"/"+(0,a.toDisplayString)(w.value.å­˜æ¡£åˆ—è¡¨["ä¸Šæ¬¡å¯¹è¯"].å­˜æ¡£æ•°æ®.ç©å®¶è§’è‰²çŠ¶æ€?.æ°”è¡€?.ä¸Šé™||0),1)]),(0,a.createElementVNode)("div",mm,[n[21]||(n[21]=(0,a.createElementVNode)("span",{class:"label"},"çµæ°”",-1)),(0,a.createElementVNode)("span",pm,(0,a.toDisplayString)(w.value.å­˜æ¡£åˆ—è¡¨["ä¸Šæ¬¡å¯¹è¯"].å­˜æ¡£æ•°æ®.ç©å®¶è§’è‰²çŠ¶æ€?.çµæ°”?.å½“å‰||0)+"/"+(0,a.toDisplayString)(w.value.å­˜æ¡£åˆ—è¡¨["ä¸Šæ¬¡å¯¹è¯"].å­˜æ¡£æ•°æ®.ç©å®¶è§’è‰²çŠ¶æ€?.çµæ°”?.ä¸Šé™||0),1)]),(0,a.createElementVNode)("div",vm,[n[22]||(n[22]=(0,a.createElementVNode)("span",{class:"label"},"ç¥è¯†",-1)),(0,a.createElementVNode)("span",um,(0,a.toDisplayString)(w.value.å­˜æ¡£åˆ—è¡¨["ä¸Šæ¬¡å¯¹è¯"].å­˜æ¡£æ•°æ®.ç©å®¶è§’è‰²çŠ¶æ€?.ç¥è¯†?.å½“å‰||0)+"/"+(0,a.toDisplayString)(w.value.å­˜æ¡£åˆ—è¡¨["ä¸Šæ¬¡å¯¹è¯"].å­˜æ¡£æ•°æ®.ç©å®¶è§’è‰²çŠ¶æ€?.ç¥è¯†?.ä¸Šé™||0),1)]),(0,a.createElementVNode)("div",gm,[n[23]||(n[23]=(0,a.createElementVNode)("span",{class:"label"},"å£°æœ›",-1)),(0,a.createElementVNode)("span",fm,(0,a.toDisplayString)(w.value.å­˜æ¡£åˆ—è¡¨["ä¸Šæ¬¡å¯¹è¯"].å­˜æ¡£æ•°æ®.ç©å®¶è§’è‰²çŠ¶æ€?.å£°æœ›||0),1)])])]),(0,a.createElementVNode)("div",bm,[(0,a.createElementVNode)("span",hm,(0,a.toDisplayString)(w.value.å­˜æ¡£åˆ—è¡¨["ä¸Šæ¬¡å¯¹è¯"].å­˜æ¡£æ•°æ®.ç©å®¶è§’è‰²çŠ¶æ€?.ä½ç½®?.æè¿°||"åˆå§‹åœ°"),1),(0,a.createElementVNode)("span",ym,(0,a.toDisplayString)(I(w.value.å­˜æ¡£åˆ—è¡¨["ä¸Šæ¬¡å¯¹è¯"].ä¿å­˜æ—¶é—´)),1)]),n[24]||(n[24]=(0,a.createElementVNode)("div",{class:"save-hint",style:{"margin-top":"0.5rem",padding:"0.5rem",background:"rgba(255, 193, 7, 0.1)","border-radius":"4px","font-size":"0.85rem",color:"var(--color-warning)"}},' ğŸ’¡ æ­¤å­˜æ¡£ç”¨äºå›æ»šï¼Œè¯·åœ¨æ¸¸æˆä¸­çš„"å­˜æ¡£ç®¡ç†"é¢æ¿ä½¿ç”¨å›æ»šåŠŸèƒ½ ',-1))])):((0,a.openBlock)(),(0,a.createElementBlock)("div",xm,n[25]||(n[25]=[(0,a.createElementVNode)("div",{class:"empty-slot-icon"},"ğŸ”„",-1),(0,a.createElementVNode)("span",{class:"empty-text"},"æš‚æ— å¯¹è¯å­˜æ¡£",-1),(0,a.createElementVNode)("span",{class:"auto-save-desc"},"æ¯æ¬¡å¯¹è¯å‰è‡ªåŠ¨å¤‡ä»½",-1)])))],2)])]),(0,a.createCommentVNode)(" æ‰‹åŠ¨å­˜æ¡£åŒº - ä»…å•æœºæ¨¡å¼æ˜¾ç¤º "),"å•æœº"===w.value.æ¨¡å¼?((0,a.openBlock)(),(0,a.createElementBlock)("div",km,[n[32]||(n[32]=(0,a.createElementVNode)("div",{class:"manual-saves-header"},[(0,a.createElementVNode)("h3",null,"æ‰‹åŠ¨å­˜æ¡£"),(0,a.createElementVNode)("div",{class:"save-info-text"},[(0,a.createElementVNode)("span",null,"å­˜æ¡£é€šè¿‡æ¸¸æˆå†…ä¿å­˜åŠŸèƒ½åˆ›å»º")])],-1)),(0,a.createElementVNode)("div",wm,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(B(w.value),(e,t)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:t,class:(0,a.normalizeClass)(["save-card manual-save",{"has-data":e.å­˜æ¡£æ•°æ®}]),onClick:n=&gt;e.å­˜æ¡£æ•°æ®&amp;&amp;z(m.value,String(t),!0),style:(0,a.normalizeStyle)({cursor:e.å­˜æ¡£æ•°æ®?"pointer":"default"})},[e.å­˜æ¡£æ•°æ®?((0,a.openBlock)(),(0,a.createElementBlock)("div",Em,[(0,a.createElementVNode)("div",Vm,[(0,a.createElementVNode)("h4",Cm,(0,a.toDisplayString)(e.å­˜æ¡£å||t),1),(0,a.createElementVNode)("div",zm,[(0,a.createElementVNode)("button",{onClick:(0,a.withModifiers)(e=&gt;((e,n)=&gt;{const t=c.rootState.è§’è‰²åˆ—è¡¨[e]?.å­˜æ¡£åˆ—è¡¨?.[n],o=t?.å­˜æ¡£å||n;((e,n,t="",o="",r,l)=&gt;{x.value={show:!0,type:"prompt",title:e,message:n,inputValue:t,placeholder:o,onConfirm:e=&gt;{r(e||""),L()},onCancel:()=&gt;{l&amp;&amp;l(),L()}},(0,a.nextTick)(()=&gt;{u.value?.focus()})})("é‡å‘½åå­˜æ¡£","è¯·è¾“å…¥æ–°çš„å­˜æ¡£åç§°ï¼š",o,"",async t=&gt;{if(t&amp;&amp;t.trim()&amp;&amp;t.trim()!==o){const a=t.trim(),o=c.rootState.è§’è‰²åˆ—è¡¨[e]?.å­˜æ¡£åˆ—è¡¨;if(o&amp;&amp;a!==n&amp;&amp;o[a])return void q("é‡å‘½åå¤±è´¥","å­˜æ¡£åç§°å·²å­˜åœ¨ï¼Œè¯·ä½¿ç”¨å…¶ä»–åç§°ã€‚");await c.renameSave(e,n,a)}})})(m.value,String(t)),["stop"]),class:"btn-edit-save",title:"é‡å‘½å"},"ç¼–",8,Sm),(0,a.createElementVNode)("button",{onClick:(0,a.withModifiers)(e=&gt;((e,n)=&gt;{const t=c.rootState.è§’è‰²åˆ—è¡¨[e],a=t?.è§’è‰²åŸºç¡€ä¿¡æ¯.åå­—,o="ä¸Šæ¬¡å¯¹è¯"===n?"ä¸Šæ¬¡å¯¹è¯å­˜æ¡£":n;S(t,n)?O("åˆ é™¤å­˜æ¡£",`ç¡®å®šè¦åˆ é™¤è§’è‰²"${a}"çš„"${o}"å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ¢å¤ã€‚`,()=&gt;{c.deleteSave(e,n)}):q("æ— æ³•åˆ é™¤å­˜æ¡£","æ— æ³•åˆ é™¤è¯¥å­˜æ¡£ï¼šè§’è‰²è‡³å°‘éœ€è¦ä¿ç•™ä¸€ä¸ªå­˜æ¡£ã€‚å¦‚éœ€åˆ é™¤ï¼Œè¯·å…ˆåˆ›å»ºå…¶ä»–å­˜æ¡£æˆ–åˆ é™¤æ•´ä¸ªè§’è‰²ã€‚")})(m.value,String(t)),["stop"]),class:(0,a.normalizeClass)(["btn-delete-save",{disabled:!S(w.value,String(t))}]),disabled:!S(w.value,String(t)),title:S(w.value,String(t))?"åˆ é™¤å­˜æ¡£":"æ— æ³•åˆ é™¤ï¼šè‡³å°‘éœ€è¦ä¿ç•™ä¸€ä¸ªå­˜æ¡£"},"åˆ ",10,Bm)])]),(0,a.createElementVNode)("div",Dm,[(0,a.createElementVNode)("span",Am,(0,a.toDisplayString)($(e.å­˜æ¡£æ•°æ®.ç©å®¶è§’è‰²çŠ¶æ€?.å¢ƒç•Œ)),1),(0,a.createElementVNode)("span",_m,(0,a.toDisplayString)(e.å­˜æ¡£æ•°æ®.ç©å®¶è§’è‰²çŠ¶æ€?.å¯¿å‘½?.å½“å‰||18)+"å²",1)]),(0,a.createElementVNode)("div",$m,[(0,a.createElementVNode)("div",Im,[(0,a.createElementVNode)("div",Tm,[n[27]||(n[27]=(0,a.createElementVNode)("span",{class:"label"},"æ°”è¡€",-1)),(0,a.createElementVNode)("span",jm,(0,a.toDisplayString)(e.å­˜æ¡£æ•°æ®.ç©å®¶è§’è‰²çŠ¶æ€?.æ°”è¡€?.å½“å‰||0)+"/"+(0,a.toDisplayString)(e.å­˜æ¡£æ•°æ®.ç©å®¶è§’è‰²çŠ¶æ€?.æ°”è¡€?.ä¸Šé™||0),1)]),(0,a.createElementVNode)("div",Mm,[n[28]||(n[28]=(0,a.createElementVNode)("span",{class:"label"},"çµæ°”",-1)),(0,a.createElementVNode)("span",qm,(0,a.toDisplayString)(e.å­˜æ¡£æ•°æ®.ç©å®¶è§’è‰²çŠ¶æ€?.çµæ°”?.å½“å‰||0)+"/"+(0,a.toDisplayString)(e.å­˜æ¡£æ•°æ®.ç©å®¶è§’è‰²çŠ¶æ€?.çµæ°”?.ä¸Šé™||0),1)]),(0,a.createElementVNode)("div",Om,[n[29]||(n[29]=(0,a.createElementVNode)("span",{class:"label"},"ç¥è¯†",-1)),(0,a.createElementVNode)("span",Pm,(0,a.toDisplayString)(e.å­˜æ¡£æ•°æ®.ç©å®¶è§’è‰²çŠ¶æ€?.ç¥è¯†?.å½“å‰||0)+"/"+(0,a.toDisplayString)(e.å­˜æ¡£æ•°æ®.ç©å®¶è§’è‰²çŠ¶æ€?.ç¥è¯†?.ä¸Šé™||0),1)]),(0,a.createElementVNode)("div",Fm,[n[30]||(n[30]=(0,a.createElementVNode)("span",{class:"label"},"å£°æœ›",-1)),(0,a.createElementVNode)("span",Lm,(0,a.toDisplayString)(e.å­˜æ¡£æ•°æ®.ç©å®¶è§’è‰²çŠ¶æ€?.å£°æœ›||0),1)])])]),(0,a.createElementVNode)("div",Ym,[(0,a.createElementVNode)("span",Rm,(0,a.toDisplayString)(e.å­˜æ¡£æ•°æ®.ç©å®¶è§’è‰²çŠ¶æ€?.ä½ç½®?.æè¿°||"åˆå§‹åœ°"),1),(0,a.createElementVNode)("span",Um,(0,a.toDisplayString)(I(e.ä¿å­˜æ—¶é—´)),1)])])):((0,a.openBlock)(),(0,a.createElementBlock)("div",Gm,n[31]||(n[31]=[(0,a.createElementVNode)("div",{class:"empty-slot-icon"},"ğŸ“",-1),(0,a.createElementVNode)("span",{class:"empty-text"},"ç©ºå­˜æ¡£æ§½",-1),(0,a.createElementVNode)("span",{class:"empty-desc"},"é€šè¿‡æ¸¸æˆå†…ä¿å­˜åˆ›å»º",-1)])))],14,Nm))),128))])])):(0,a.createCommentVNode)("v-if",!0)])])],2112)):"è”æœº"===w.value.æ¨¡å¼?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:2},[(0,a.createCommentVNode)(" è”æœºæ¨¡å¼å­˜æ¡£ "),(0,a.createElementVNode)("div",Wm,[s.value?w.value.å­˜æ¡£?((0,a.openBlock)(),(0,a.createElementBlock)("div",Hm,[w.value.å­˜æ¡£.å­˜æ¡£æ•°æ®?((0,a.openBlock)(),(0,a.createElementBlock)("div",Qm,[(0,a.createElementVNode)("div",Km,[n[36]||(n[36]=(0,a.createElementVNode)("h4",{class:"save-name"},"äº‘ç«¯å­˜æ¡£",-1)),(0,a.createElementVNode)("div",Xm,[(0,a.createElementVNode)("span",Zm,(0,a.toDisplayString)($(w.value.å­˜æ¡£.å­˜æ¡£æ•°æ®.ç©å®¶è§’è‰²çŠ¶æ€?.å¢ƒç•Œ)),1),(0,a.createElementVNode)("span",ep,(0,a.toDisplayString)(w.value.å­˜æ¡£.å­˜æ¡£æ•°æ®.ç©å®¶è§’è‰²çŠ¶æ€?.å¯¿å‘½?.å½“å‰||18)+"å²",1)])]),(0,a.createElementVNode)("div",np,[(0,a.createElementVNode)("div",tp,[(0,a.createElementVNode)("div",ap,[n[37]||(n[37]=(0,a.createElementVNode)("span",{class:"label"},"æ°”è¡€",-1)),(0,a.createElementVNode)("span",op,(0,a.toDisplayString)(w.value.å­˜æ¡£.å­˜æ¡£æ•°æ®.ç©å®¶è§’è‰²çŠ¶æ€?.æ°”è¡€?.å½“å‰||0)+"/"+(0,a.toDisplayString)(w.value.å­˜æ¡£.å­˜æ¡£æ•°æ®.ç©å®¶è§’è‰²çŠ¶æ€?.æ°”è¡€?.ä¸Šé™||0),1)]),(0,a.createElementVNode)("div",rp,[n[38]||(n[38]=(0,a.createElementVNode)("span",{class:"label"},"çµæ°”",-1)),(0,a.createElementVNode)("span",lp,(0,a.toDisplayString)(w.value.å­˜æ¡£.å­˜æ¡£æ•°æ®.ç©å®¶è§’è‰²çŠ¶æ€?.çµæ°”?.å½“å‰||0)+"/"+(0,a.toDisplayString)(w.value.å­˜æ¡£.å­˜æ¡£æ•°æ®.ç©å®¶è§’è‰²çŠ¶æ€?.çµæ°”?.ä¸Šé™||0),1)]),(0,a.createElementVNode)("div",ip,[n[39]||(n[39]=(0,a.createElementVNode)("span",{class:"label"},"ç¥è¯†",-1)),(0,a.createElementVNode)("span",cp,(0,a.toDisplayString)(w.value.å­˜æ¡£.å­˜æ¡£æ•°æ®.ç©å®¶è§’è‰²çŠ¶æ€?.ç¥è¯†?.å½“å‰||0)+"/"+(0,a.toDisplayString)(w.value.å­˜æ¡£.å­˜æ¡£æ•°æ®.ç©å®¶è§’è‰²çŠ¶æ€?.ç¥è¯†?.ä¸Šé™||0),1)]),(0,a.createElementVNode)("div",sp,[n[40]||(n[40]=(0,a.createElementVNode)("span",{class:"label"},"å£°æœ›",-1)),(0,a.createElementVNode)("span",dp,(0,a.toDisplayString)(w.value.å­˜æ¡£.å­˜æ¡£æ•°æ®.ç©å®¶è§’è‰²çŠ¶æ€?.å£°æœ›||0),1)])])]),(0,a.createElementVNode)("div",mp,[(0,a.createElementVNode)("span",pp,(0,a.toDisplayString)(w.value.å­˜æ¡£.å­˜æ¡£æ•°æ®.ç©å®¶è§’è‰²çŠ¶æ€?.ä½ç½®?.æè¿°||"åˆå§‹åœ°"),1),(0,a.createElementVNode)("div",vp,[(0,a.createElementVNode)("span",{class:(0,a.normalizeClass)(["sync-status",{synced:!w.value.å­˜æ¡£.äº‘ç«¯åŒæ­¥ä¿¡æ¯?.éœ€è¦åŒæ­¥}])},(0,a.toDisplayString)(w.value.å­˜æ¡£.äº‘ç«¯åŒæ­¥ä¿¡æ¯?.éœ€è¦åŒæ­¥?"å¾…åŒæ­¥":"å·²åŒæ­¥"),3)])]),(0,a.createElementVNode)("div",up,[(0,a.createElementVNode)("button",{onClick:n[3]||(n[3]=e=&gt;z(m.value,"å­˜æ¡£",!0)),class:"btn-play"},"è¿›å…¥æ¸¸æˆ"),w.value.å­˜æ¡£.äº‘ç«¯åŒæ­¥ä¿¡æ¯?.éœ€è¦åŒæ­¥?((0,a.openBlock)(),(0,a.createElementBlock)("button",gp,"åŒæ­¥äº‘ç«¯")):(0,a.createCommentVNode)("v-if",!0)])])):((0,a.openBlock)(),(0,a.createElementBlock)("div",fp,[n[41]||(n[41]=(0,a.createElementVNode)("div",{class:"empty-slot-icon"},"â˜ï¸",-1)),n[42]||(n[42]=(0,a.createElementVNode)("span",{class:"empty-text"},"å°šæœªå¼€å§‹ä¿®è¡Œ",-1)),(0,a.createElementVNode)("button",{onClick:n[4]||(n[4]=e=&gt;z(m.value,"å­˜æ¡£",!1)),class:"btn-start"},"å¼€å§‹æ¸¸æˆ")]))])):(0,a.createCommentVNode)("v-if",!0):((0,a.openBlock)(),(0,a.createElementBlock)("div",Jm,[n[33]||(n[33]=(0,a.createElementVNode)("div",{class:"login-icon"},"ğŸ”",-1)),n[34]||(n[34]=(0,a.createElementVNode)("h3",null,"éœ€è¦ç™»å½•",-1)),n[35]||(n[35]=(0,a.createElementVNode)("p",null,"è¯·å…ˆç™»å½•ä»¥ç®¡ç†è”æœºè§’è‰²å­˜æ¡£",-1)),(0,a.createElementVNode)("button",{onClick:_,class:"btn-login"},"ç™»å…¥é“ç±")]))])],2112)):(0,a.createCommentVNode)("v-if",!0):((0,a.openBlock)(),(0,a.createElementBlock)("div",Kd,n[18]||(n[18]=[(0,a.createElementVNode)("div",{class:"no-selection-icon"},"ğŸ“‹",-1),(0,a.createElementVNode)("p",null,"è¯·é€‰æ‹©å·¦ä¾§è§’è‰²æŸ¥çœ‹å­˜æ¡£è¯¦æƒ…",-1)])))]),(0,a.createCommentVNode)(" ç¬¬3è¡Œï¼šåº•éƒ¨ä¿¡æ¯æ ï¼ˆå¯é€‰ï¼‰ "),n[43]||(n[43]=(0,a.createElementVNode)("div",{class:"grid-footer-left"},[(0,a.createCommentVNode)(" é¢„ç•™åº•éƒ¨åŒºåŸŸ ")],-1)),n[44]||(n[44]=(0,a.createElementVNode)("div",{class:"grid-footer-right"},[(0,a.createCommentVNode)(" é¢„ç•™åº•éƒ¨åŒºåŸŸ ")],-1))])])],2112))],2),(0,a.createCommentVNode)(" è§’è‰²è¯¦æƒ…å¼¹çª— "),p.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:2,class:"modal-overlay",onClick:C},[(0,a.createElementVNode)("div",{class:"details-modal",onClick:n[5]||(n[5]=(0,a.withModifiers)(()=&gt;{},["stop"]))},[(0,a.createElementVNode)("div",bp,[(0,a.createElementVNode)("h3",null,(0,a.toDisplayString)(v.value?.è§’è‰²åŸºç¡€ä¿¡æ¯.åå­—)+" - è¯¦ç»†ä¿¡æ¯",1),(0,a.createElementVNode)("button",{onClick:C,class:"btn-close"},"Ã—")]),v.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",hp,[(0,a.createElementVNode)("div",yp,[(0,a.createElementVNode)("div",xp,[n[51]||(n[51]=(0,a.createElementVNode)("h4",null,"åŸºç¡€ä¿¡æ¯",-1)),(0,a.createElementVNode)("div",kp,[(0,a.createElementVNode)("div",wp,[n[45]||(n[45]=(0,a.createElementVNode)("span",{class:"label"},"é“å·",-1)),(0,a.createElementVNode)("span",Np,(0,a.toDisplayString)(v.value.è§’è‰²åŸºç¡€ä¿¡æ¯.åå­—),1)]),(0,a.createElementVNode)("div",Ep,[n[46]||(n[46]=(0,a.createElementVNode)("span",{class:"label"},"ä¸–ç•Œ",-1)),(0,a.createElementVNode)("span",Vp,(0,a.toDisplayString)(M(v.value.è§’è‰²åŸºç¡€ä¿¡æ¯.ä¸–ç•Œ)),1)]),(0,a.createElementVNode)("div",Cp,[n[47]||(n[47]=(0,a.createElementVNode)("span",{class:"label"},"å¤©èµ„",-1)),(0,a.createElementVNode)("span",zp,(0,a.toDisplayString)(M(v.value.è§’è‰²åŸºç¡€ä¿¡æ¯.å¤©èµ„)),1)]),(0,a.createElementVNode)("div",Sp,[n[48]||(n[48]=(0,a.createElementVNode)("span",{class:"label"},"å‡ºèº«",-1)),(0,a.createElementVNode)("span",Bp,(0,a.toDisplayString)(M(v.value.è§’è‰²åŸºç¡€ä¿¡æ¯.å‡ºç”Ÿ)),1)]),(0,a.createElementVNode)("div",Dp,[n[49]||(n[49]=(0,a.createElementVNode)("span",{class:"label"},"çµæ ¹",-1)),(0,a.createElementVNode)("span",Ap,(0,a.toDisplayString)(M(v.value.è§’è‰²åŸºç¡€ä¿¡æ¯.çµæ ¹)),1)]),(0,a.createElementVNode)("div",_p,[n[50]||(n[50]=(0,a.createElementVNode)("span",{class:"label"},"æ¨¡å¼",-1)),(0,a.createElementVNode)("span",$p,(0,a.toDisplayString)(v.value.æ¨¡å¼),1)])])]),(0,a.createElementVNode)("div",Ip,[n[52]||(n[52]=(0,a.createElementVNode)("h4",null,"å…ˆå¤©å…­å¸",-1)),(0,a.createElementVNode)("div",Tp,[v.value.è§’è‰²åŸºç¡€ä¿¡æ¯.å…ˆå¤©å…­å¸?((0,a.openBlock)(),(0,a.createBlock)(vd,{key:0,stats:(t=v.value.è§’è‰²åŸºç¡€ä¿¡æ¯.å…ˆå¤©å…­å¸,{root_bone:t["æ ¹éª¨"]||0,spirituality:t["çµæ€§"]||0,comprehension:t["æ‚Ÿæ€§"]||0,fortune:t["æ°”è¿"]||0,charm:t["é­…åŠ›"]||0,temperament:t["å¿ƒæ€§"]||0}),size:150,maxValue:10},null,8,["stats"])):(0,a.createCommentVNode)("v-if",!0)])]),(0,a.createElementVNode)("div",jp,[n[53]||(n[53]=(0,a.createElementVNode)("h4",null,"å¤©èµ‹ç¥é€š",-1)),(0,a.createElementVNode)("div",Mp,[v.value.è§’è‰²åŸºç¡€ä¿¡æ¯.å¤©èµ‹?.length?((0,a.openBlock)(),(0,a.createElementBlock)("div",qp,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(v.value.è§’è‰²åŸºç¡€ä¿¡æ¯.å¤©èµ‹,(e,n)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("span",{key:n,class:"talent-tag",title:j(e)},(0,a.toDisplayString)(T(e)),9,Op))),128))])):((0,a.openBlock)(),(0,a.createElementBlock)("span",Pp,"æš‚æ— å¤©èµ‹"))])])])])):(0,a.createCommentVNode)("v-if",!0)])])):(0,a.createCommentVNode)("v-if",!0)],2);var t}}});var Lp=t(2614),Yp={};Yp.styleTagTransform=A(),Yp.setAttributes=z(),Yp.insert=V().bind(null,"head"),Yp.domAPI=N(),Yp.insertStyleElement=B(),k()(Lp.A,Yp),Lp.A&amp;&amp;Lp.A.locals&amp;&amp;Lp.A.locals;const Rp=(0,j.A)(Fp,[["__scopeId","data-v-fd2fc302"]]),Up={key:0,class:"error-boundary"},Gp={class:"error-container"},Wp={class:"error-message"},Jp={key:0,class:"error-details"},Hp={class:"error-actions"},Qp=(0,a.defineComponent)({__name:"ErrorBoundary",setup(e){const n=(0,r.useRouter)(),t=(0,a.ref)(!1),o=(0,a.ref)(""),l=(0,a.ref)(""),i=(0,a.ref)(!1);(0,a.onErrorCaptured)((e,n,a)=&gt;(console.error("[é”™è¯¯è¾¹ç•Œ] æ•è·åˆ°é”™è¯¯:",e),console.error("[é”™è¯¯è¾¹ç•Œ] ç»„ä»¶ä¿¡æ¯:",a),t.value=!0,o.value=e.message||"æœªçŸ¥é”™è¯¯",l.value=`\né”™è¯¯: ${e.name}: ${e.message}\nå †æ ˆ: ${e.stack||"æ— å †æ ˆä¿¡æ¯"}\nç»„ä»¶: ${a}\n  `.trim(),!1));const c=()=&gt;{t.value=!1,o.value="",l.value="",i.value=!1,n.go(0)},s=()=&gt;{t.value=!1,n.back()},d=()=&gt;{i.value=!i.value};return(e,n)=&gt;t.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",Up,[(0,a.createElementVNode)("div",Gp,[n[0]||(n[0]=(0,a.createElementVNode)("div",{class:"error-icon"},"âš ï¸",-1)),n[1]||(n[1]=(0,a.createElementVNode)("h2",null,"é“æ³•å—é˜»",-1)),(0,a.createElementVNode)("p",Wp,(0,a.toDisplayString)(o.value),1),i.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",Jp,[(0,a.createElementVNode)("pre",null,(0,a.toDisplayString)(l.value),1)])):(0,a.createCommentVNode)("v-if",!0),(0,a.createElementVNode)("div",Hp,[(0,a.createElementVNode)("button",{onClick:c,class:"btn-retry"},"é‡è¯•"),(0,a.createElementVNode)("button",{onClick:s,class:"btn-back"},"è¿”å›"),(0,a.createElementVNode)("button",{onClick:d,class:"btn-details"},(0,a.toDisplayString)(i.value?"éšè—è¯¦æƒ…":"æŸ¥çœ‹è¯¦æƒ…"),1)])])])):(0,a.renderSlot)(e.$slots,"default",{key:1})}});var Kp=t(9376),Xp={};Xp.styleTagTransform=A(),Xp.setAttributes=z(),Xp.insert=V().bind(null,"head"),Xp.domAPI=N(),Xp.insertStyleElement=B(),k()(Kp.A,Xp),Kp.A&amp;&amp;Kp.A.locals&amp;&amp;Kp.A.locals;const Zp=(0,j.A)(Qp,[["__scopeId","data-v-31d28cfa"]]);var ev=t(4986);const nv={class:"game-view"},tv={class:"sidebar-wrapper"},av={width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},ov=["points"],rv={class:"main-content"},lv={key:0,class:"panel-overlay"},iv={class:"panel-header compact","aria-label":"åŠŸèƒ½é¢æ¿å¯¼èˆª"},cv={class:"panel-title-compact"},sv={class:"title-text"},dv={class:"panel-actions"},mv=["title","onClick","aria-label"],pv={class:"panel-content compact"},vv={key:2,class:"panel-overlay"},uv={class:"panel-header"},gv={class:"panel-title"},fv={class:"panel-content"},bv={width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},hv=["points"],yv={class:"sidebar-wrapper"},xv=(0,a.defineComponent)({__name:"GameView",setup(e){const n=(0,tn.useCharacterStore)(),o=(0,q.useUIStore)(),l=(0,r.useRouter)(),i=(0,r.useRoute)(),c=(0,a.ref)(!1),s=(0,a.ref)(!1),d=(0,a.ref)(!1),m=()=&gt;{d.value=window.innerWidth&lt;=768,d.value&amp;&amp;(c.value=!0,s.value=!0)},p=new Set(["Inventory","CharacterDetails","Memory","Relationships","Cultivation","Techniques","ThousandDao","Settings","Save","WorldMap","Quests","Sect","TavernData"]),v=new Set(["Memory","Relationships","Cultivation","Techniques","ThousandDao","Settings","Save","Sect"]),u={Inventory:{title:"èƒŒåŒ…ç‰©å“",icon:Ei},CharacterDetails:{title:"äººç‰©è¯¦æƒ…",icon:Vi},Memory:{title:"è®°å¿†ä¸­å¿ƒ",icon:Ci},Relationships:{title:"äººç‰©å…³ç³»",icon:zi},Cultivation:{title:"ä¿®ç‚¼ç³»ç»Ÿ",icon:Si},Techniques:{title:"ä¿®ç‚¼åŠŸæ³•",icon:Bi},ThousandDao:{title:"ä¸‰åƒå¤§é“",icon:Di},Settings:{title:"ç³»ç»Ÿè®¾ç½®",icon:Wn},Save:{title:"ä¿å­˜æ¸¸æˆ",icon:Ai},WorldMap:{title:"ä¸–ç•Œåœ°å›¾",icon:_i},Quests:{title:"ä»»åŠ¡ç³»ç»Ÿ",icon:Di},Sect:{title:"å®—é—¨åŠ¿åŠ›",icon:$i},TavernData:{title:"é…’é¦†æ•°æ®",icon:Ii}},g=(0,a.computed)(()=&gt;p.has(String(i.name))),f=(0,a.computed)(()=&gt;{const e=String(i.name),n=u[e];return n?.title||"åŠŸèƒ½é¢æ¿"}),b=(0,a.computed)(()=&gt;{const e=String(i.name),n=u[e];return n?.icon||Ti}),h=()=&gt;{"GameMain"!==i.name&amp;&amp;l.push("/game")},y={Memory:[{key:"refresh",title:"åˆ·æ–°",icon:te,action:"refresh"},{key:"test",title:"æµ‹è¯•è½¬åŒ–",icon:ji,action:"test"},{key:"clear",title:"æ¸…ç†",icon:Gn.A,action:"clear"}],Quests:[{key:"refresh",title:"åˆ·æ–°",icon:te,action:"refresh"}],Save:[{key:"refresh",title:"åˆ·æ–°",icon:te,action:"refresh"},{key:"save",title:"å¿«é€Ÿå­˜æ¡£",icon:Ai,action:"save"}],ThousandDao:[{key:"refresh",title:"åˆ·æ–°",icon:te,action:"refresh"}],TavernData:[{key:"refresh",title:"åˆ·æ–°æ•°æ®",icon:te,action:"refresh"},{key:"export",title:"å¯¼å‡ºJSON",icon:Ai,action:"export"},{key:"stats",title:"æ•°æ®ç»Ÿè®¡",icon:Mi,action:"stats"}]},x=(0,a.computed)(()=&gt;{const e=String(i.name);return(y[e]||[]).map(e=&gt;({key:e.key,title:e.title,icon:e.icon,onClick:()=&gt;Oi.emit(e.action)}))}),k=(0,a.computed)(()=&gt;!!n.activeCharacterProfile);return(0,a.onMounted)(async()=&gt;{(()=&gt;{try{const e=localStorage.getItem("dad_game_settings");if(e){const n=JSON.parse(e);if(n.uiScale){const e=n.uiScale/100;document.documentElement.style.setProperty("--ui-scale",e.toString())}if(n.fontSize){const e={small:"0.875rem",medium:"1rem",large:"1.125rem"}[n.fontSize]||"1rem";document.documentElement.style.setProperty("--base-font-size",e)}if(n.theme){let e=n.theme;"auto"===n.theme&amp;&amp;(e=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),document.documentElement.setAttribute("data-theme",e)}}}catch(e){console.error("[GameView] åº”ç”¨è®¾ç½®å¤±è´¥:",e)}})(),m(),window.addEventListener("resize",m);try{const e=(0,an.getTavernHelper)();if(e){const n=await e.getVariables({type:"chat"}),{assembleSaveData:a}=await Promise.resolve().then(t.bind(t,9808)),o=a(n),r=n["åŸºç¡€ä¿¡æ¯"];o&amp;&amp;r&amp;&amp;(await(0,ev.syncHeavenlyPrecalcToTavern)(o,r),console.log("[GameView] å·²åˆ·æ–°å¤©é“æ¼”ç®—é¢„è®¡ç®—"))}}catch(e){console.warn("[GameView] åˆ·æ–°å¤©é“æ¼”ç®—å¤±è´¥ï¼ˆå¿½ç•¥ï¼‰ï¼š",e)}}),(0,a.onBeforeUnmount)(()=&gt;{window.removeEventListener("resize",m)}),(0,a.watch)(g,e=&gt;{if(e){const e=String(i.name);d.value&amp;&amp;(c.value=!0),v.has(e)&amp;&amp;(s.value=!0)}}),(e,n)=&gt;{const t=(0,a.resolveComponent)("router-view");return(0,a.openBlock)(),(0,a.createElementBlock)("div",nv,[(0,a.createCommentVNode)(" é¡¶éƒ¨æ  "),(0,a.createVNode)(ac),(0,a.createCommentVNode)(" ä¸»è¦å†…å®¹åŒºåŸŸ "),k.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:0,class:(0,a.normalizeClass)(["game-content",{"panel-mode":g.value}])},[(0,a.createCommentVNode)(" å·¦ä¾§åŠŸèƒ½æ  "),(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["left-sidebar",{collapsed:c.value}])},[(0,a.createElementVNode)("div",tv,[(0,a.createVNode)(qc,{collapsed:c.value},null,8,["collapsed"])])],2),(0,a.createCommentVNode)(" å·¦ä¾§æ”¶ç¼©æŒ‰é’® "),(0,a.withDirectives)((0,a.createElementVNode)("button",{class:"collapse-btn left",onClick:n[0]||(n[0]=e=&gt;c.value=!c.value)},[((0,a.openBlock)(),(0,a.createElementBlock)("svg",av,[(0,a.createElementVNode)("polyline",{points:c.value?"9,18 15,12 9,6":"15,18 9,12 15,6"},null,8,ov)]))],512),[[a.vShow,!g.value]]),(0,a.createCommentVNode)(" ä¸»æ¸¸æˆåŒºåŸŸ "),(0,a.createElementVNode)("div",rv,[(0,a.createCommentVNode)(" åŠŸèƒ½é¢æ¿è¦†ç›–å±‚ "),g.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",lv,[(0,a.createElementVNode)("div",iv,[(0,a.createElementVNode)("button",{class:"back-btn",onClick:h,title:"è¿”å›å¯¹è¯","aria-label":"è¿”å›å¯¹è¯"},n[3]||(n[3]=[(0,a.createElementVNode)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[(0,a.createElementVNode)("polyline",{points:"15 18 9 12 15 6"})],-1)])),(0,a.createElementVNode)("div",cv,[((0,a.openBlock)(),(0,a.createBlock)((0,a.resolveDynamicComponent)(b.value),{size:16,class:"panel-title-icon"})),(0,a.createElementVNode)("span",sv,(0,a.toDisplayString)(f.value),1)]),(0,a.createElementVNode)("div",dv,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(x.value,e=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("button",{key:e.key,class:"action-btn-compact",title:e.title,onClick:e.onClick,"aria-label":e.title},[((0,a.openBlock)(),(0,a.createBlock)((0,a.resolveDynamicComponent)(e.icon),{size:14}))],8,mv))),128))])]),(0,a.createElementVNode)("div",pv,[((0,a.openBlock)(),(0,a.createBlock)(a.KeepAlive,null,[(0,a.createVNode)(t)],1024))])])):(0,a.unref)(o).showCharacterManagement?(0,a.createCommentVNode)("v-if",!0):((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:1},[(0,a.createCommentVNode)(" æ­£å¸¸è·¯ç”±è§†å›¾ "),((0,a.openBlock)(),(0,a.createBlock)(a.KeepAlive,null,[(0,a.createVNode)(t)],1024))],2112)),(0,a.createCommentVNode)(" è§’è‰²ç®¡ç†é¢æ¿ "),(0,a.unref)(o).showCharacterManagement?((0,a.openBlock)(),(0,a.createElementBlock)("div",vv,[(0,a.createElementVNode)("div",uv,[(0,a.createElementVNode)("h2",gv,[(0,a.createVNode)((0,a.unref)(qi),{size:20,class:"panel-title-icon"}),n[4]||(n[4]=(0,a.createTextVNode)(" è§’è‰²ç®¡ç† ",-1))]),(0,a.createElementVNode)("button",{class:"panel-close-btn",onClick:n[1]||(n[1]=e=&gt;(0,a.unref)(o).closeCharacterManagement()),title:"å…³é—­é¢æ¿"},[(0,a.createVNode)((0,a.unref)(Ne),{size:20})])]),(0,a.createElementVNode)("div",fv,[(0,a.createVNode)(Rp,{onBack:(0,a.unref)(o).closeCharacterManagement},null,8,["onBack"])])])):(0,a.createCommentVNode)("v-if",!0)]),(0,a.createCommentVNode)(" å³ä¾§æ”¶ç¼©æŒ‰é’® "),(0,a.withDirectives)((0,a.createElementVNode)("button",{class:(0,a.normalizeClass)(["collapse-btn right",{collapsed:s.value}]),onClick:n[2]||(n[2]=e=&gt;s.value=!s.value)},[((0,a.openBlock)(),(0,a.createElementBlock)("svg",bv,[(0,a.createElementVNode)("polyline",{points:s.value?"15,18 9,12 15,6":"9,18 15,12 9,6"},null,8,hv)]))],2),[[a.vShow,!g.value]]),(0,a.createCommentVNode)(" å³ä¾§åŒºåŸŸ: è§’è‰²ä¿¡æ¯æ  "),(0,a.withDirectives)((0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["right-panel-area",{collapsed:s.value}])},[(0,a.createElementVNode)("div",yv,[(0,a.createVNode)(Zp,null,{default:(0,a.withCtx)(()=&gt;[(0,a.createVNode)(ed)]),_:1})])],2),[[a.vShow,!g.value]])],2)):((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:1},[(0,a.createCommentVNode)(" æ•°æ®æœªå°±ç»ªæ—¶çš„æç¤º "),n[5]||(n[5]=(0,a.createStaticVNode)('<div class="data-loading" data-v-61af6578=""><div class="loading-content" data-v-61af6578=""><div class="loading-spinner-wrapper" data-v-61af6578=""><div class="loading-spinner" data-v-61af6578=""></div><div class="spinner-glow" data-v-61af6578=""></div></div><h2 class="loading-title" data-v-61af6578="">é“æ³•è‡ªç„¶ï¼Œå¤©åœ°åˆå¼€</h2><p class="loading-message" data-v-61af6578="">æ­£åœ¨åŠ è½½ä¿®ä»™ä¸–ç•Œ...</p><div class="loading-steps" data-v-61af6578=""><div class="loading-step" data-v-61af6578=""><span class="step-icon" data-v-61af6578="">âœ“</span><span class="step-text" data-v-61af6578="">è¿æ¥å¤©é“</span></div><div class="loading-step" data-v-61af6578=""><span class="step-icon" data-v-61af6578="">âœ“</span><span class="step-text" data-v-61af6578="">åŠ è½½è§’è‰²æ•°æ®</span></div><div class="loading-step active" data-v-61af6578=""><span class="step-icon" data-v-61af6578="">â—‹</span><span class="step-text" data-v-61af6578="">è¯»å–å­˜æ¡£ä¿¡æ¯</span></div></div><p class="loading-hint" data-v-61af6578="">æç¤ºï¼šè¯·åœ¨å·¦ä¾§èœå•é€‰æ‹©è§’è‰²å¹¶åŠ è½½å­˜æ¡£</p></div></div>',1))],2112))])}}});var kv=t(1591),wv={};wv.styleTagTransform=A(),wv.setAttributes=z(),wv.insert=V().bind(null,"head"),wv.domAPI=N(),wv.insertStyleElement=B(),k()(kv.A,wv),kv.A&amp;&amp;kv.A.locals&amp;&amp;kv.A.locals;const Nv=(0,j.A)(xv,[["__scopeId","data-v-61af6578"]]),Ev=(0,c.A)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Vv=(0,c.A)("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),Cv=(0,c.A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),zv=(0,c.A)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);var Sv=t(3310);class Bv{static instance=null;undoActions=[];storageKey="dao_undo_actions";constructor(){this.loadUndoHistoryFromStorage()}static getInstance(){return this.instance||(this.instance=new Bv),this.instance}async equipItem(e){const n=(0,tn.useCharacterStore)(),t=(0,Sv.useActionQueueStore)();try{const a=n.activeSaveSlot?.å­˜æ¡£æ•°æ®;if(!a)return d.o.error("å­˜æ¡£æ•°æ®ä¸å­˜åœ¨ï¼Œæ— æ³•è£…å¤‡"),!1;a.è£…å¤‡æ ||(a.è£…å¤‡æ ={è£…å¤‡1:null,è£…å¤‡2:null,è£…å¤‡3:null,è£…å¤‡4:null,è£…å¤‡5:null,è£…å¤‡6:null});const o=a.èƒŒåŒ…?.ç‰©å“;if(!o||"object"!=typeof o)return d.o.error("èƒŒåŒ…æ•°æ®å¼‚å¸¸"),!1;const r=o[e.ç‰©å“ID];if(r&amp;&amp;!0===r.å·²è£…å¤‡)return d.o.info(`ã€Š${e.åç§°}ã€‹å·²ç»è£…å¤‡åœ¨èº«ä¸Šäº†`),!1;this.removeConflictingActions(e.ç‰©å“ID,"unequip");let l=null,i=null;for(let e=1;e&lt;=6;e++){const n=`è£…å¤‡${e}`,t=a.è£…å¤‡æ [n];if(!t||null===t){l=n;break}}if(!l){l="è£…å¤‡1";const e=l,n=a.è£…å¤‡æ [e];n&amp;&amp;"object"==typeof n&amp;&amp;"ç‰©å“ID"in n&amp;&amp;(i=o[n.ç‰©å“ID]||null,i&amp;&amp;(i.å·²è£…å¤‡=!1))}a.è£…å¤‡æ [l]={ç‰©å“ID:e.ç‰©å“ID,åç§°:e.åç§°},r&amp;&amp;(o[e.ç‰©å“ID]={...r,å·²è£…å¤‡:!0}),console.log("è£…å¤‡æ“ä½œå®Œæˆ:",{æ§½ä½:l,ç‰©å“:e,è£…å¤‡æ çŠ¶æ€:a.è£…å¤‡æ }),await n.commitToStorage(),await this.syncEquipmentToTavern(a);const c={type:"equip",itemId:e.ç‰©å“ID,itemName:e.åç§°,restoreData:{originalSlot:null,replacedItem:i}};return this.undoActions.push(c),this.saveUndoHistoryToStorage(),t.addAction({type:"equip",itemName:e.åç§°,itemType:e.ç±»å‹,description:i?`è£…å¤‡äº†ã€Š${e.åç§°}ã€‹ï¼Œæ›¿æ¢äº†ã€Š${i.åç§°}ã€‹`:`è£…å¤‡äº†ã€Š${e.åç§°}ã€‹`}),!0}catch(e){return console.error("è£…å¤‡ç‰©å“å¤±è´¥:",e),d.o.error("è£…å¤‡å¤±è´¥"),!1}}async unequipItem(e){const n=(0,tn.useCharacterStore)(),t=(0,Sv.useActionQueueStore)();try{const a=n.activeSaveSlot?.å­˜æ¡£æ•°æ®;if(!a||!a.è£…å¤‡æ )return d.o.error("è£…å¤‡æ æ•°æ®ä¸å­˜åœ¨"),!1;const o=a.èƒŒåŒ…?.ç‰©å“;if(!o||"object"!=typeof o)return d.o.error("èƒŒåŒ…æ•°æ®å¼‚å¸¸"),!1;const r=o[e.ç‰©å“ID];if(!r||!0!==r.å·²è£…å¤‡){d.o.info(`ã€Š${e.åç§°}ã€‹æœªè£…å¤‡ï¼Œæ— æ³•å¸ä¸‹`);let t=!1;for(let n=1;n&lt;=6;n++){const o=`è£…å¤‡${n}`,r=a.è£…å¤‡æ [o];r&amp;&amp;"object"==typeof r&amp;&amp;r.ç‰©å“ID===e.ç‰©å“ID&amp;&amp;(a.è£…å¤‡æ [o]=null,t=!0)}return t&amp;&amp;await n.commitToStorage(),!1}this.removeConflictingActions(e.ç‰©å“ID,"equip");let l=null;for(let n=1;n&lt;=6;n++){const t=`è£…å¤‡${n}`,o=a.è£…å¤‡æ [t];if(o&amp;&amp;"object"==typeof o&amp;&amp;"ç‰©å“ID"in o&amp;&amp;o.ç‰©å“ID===e.ç‰©å“ID){l=t;break}}if(!l)return d.o.error("è£…å¤‡æ ä¸­æœªæ‰¾åˆ°è¯¥è£…å¤‡ï¼Œæ•°æ®å¯èƒ½ä¸ä¸€è‡´"),a.èƒŒåŒ…?.ç‰©å“?.[e.ç‰©å“ID]&amp;&amp;(a.èƒŒåŒ….ç‰©å“[e.ç‰©å“ID].å·²è£…å¤‡=!1),await n.commitToStorage(),!0;a.è£…å¤‡æ [l]=null,r?(o[e.ç‰©å“ID]={...r,å·²è£…å¤‡:!1},console.log("å¸ä¸‹è£…å¤‡å®Œæˆ:",{ç‰©å“:e.åç§°,ç‰©å“ID:e.ç‰©å“ID,æ¸…ç©ºæ§½ä½:l,å·²è£…å¤‡çŠ¶æ€:!1})):console.warn("èƒŒåŒ…ä¸­æœªæ‰¾åˆ°ç‰©å“:",e.ç‰©å“ID),await n.commitToStorage(),await this.syncEquipmentToTavern(a);const i={type:"unequip",itemId:e.ç‰©å“ID,itemName:e.åç§°,restoreData:{originalSlot:l}};return this.undoActions.push(i),this.saveUndoHistoryToStorage(),t.addAction({type:"unequip",itemName:e.åç§°,itemType:e.ç±»å‹,description:`å¸ä¸‹äº†ã€Š${e.åç§°}ã€‹`}),!0}catch(e){return console.error("å¸ä¸‹è£…å¤‡å¤±è´¥:",e),d.o.error("å¸ä¸‹å¤±è´¥"),!1}}async useItem(e,n=1){const t=(0,tn.useCharacterStore)(),a=(0,Sv.useActionQueueStore)();try{const o=t.activeSaveSlot?.å­˜æ¡£æ•°æ®;if(!o)return d.o.error("å­˜æ¡£æ•°æ®ä¸å­˜åœ¨"),!1;const r=o.èƒŒåŒ…?.ç‰©å“?.[e.ç‰©å“ID];if(!r||r.æ•°é‡<n)return d.o.error("ç‰©å“æ•°é‡ä¸è¶³"),!1;const="" l="r.æ•°é‡,i=JSON.parse(JSON.stringify(r));r.æ•°é‡===n?delete" o.èƒŒåŒ….ç‰©å“[e.ç‰©å“id]:r.æ•°é‡-="n,await" t.committostorage(),await="" this.syncinventorytotavern(o);const="" c="{type:&quot;use&quot;,itemId:e.ç‰©å“ID,itemName:e.åç§°,quantity:n,restoreData:{originalQuantity:l},itemData:i};this.undoActions.push(c),this.saveUndoHistoryToStorage();const" s="å…¶ä»–" =="=e.ç±»å‹&amp;&amp;&quot;ä½¿ç”¨æ•ˆæœ&quot;in" e?e.ä½¿ç”¨æ•ˆæœ:e.æè¿°||"æ— ç‰¹æ®Šæ•ˆæœ";return="" a.addaction({type:"use",itemname:e.åç§°,itemtype:e.ç±»å‹,description:`ä½¿ç”¨äº†="" ${n}="" ä¸ªã€Š${e.åç§°}ã€‹ï¼ˆæ•ˆæœï¼š${s}ï¼‰`}),!0}catch(e){return="" console.error("ä½¿ç”¨ç‰©å“å¤±è´¥:",e),d.o.error("ä½¿ç”¨å¤±è´¥"),!1}}async="" cultivateitem(e){const="" n="(0,tn.useCharacterStore)(),t=(0,Sv.useActionQueueStore)();try{const" a="n.activeSaveSlot?.å­˜æ¡£æ•°æ®;if(!a)return" d.o.error("å­˜æ¡£æ•°æ®ä¸å­˜åœ¨ï¼Œæ— æ³•ä¿®ç‚¼åŠŸæ³•"),!1;if("åŠŸæ³•"!="=e.ç±»å‹)return" d.o.error("åªèƒ½ä¿®ç‚¼åŠŸæ³•ç±»ç‰©å“"),!1;const="" o="a.èƒŒåŒ…?.ç‰©å“;if(!o||&quot;object&quot;!=typeof" o)return="" d.o.error("èƒŒåŒ…æ•°æ®å¼‚å¸¸"),!1;let="" r="null;const" e="l.ç‰©å“ID,n=o[e];n&amp;&amp;&quot;åŠŸæ³•&quot;===n.ç±»å‹&amp;&amp;(o[e]={...n,å·²è£…å¤‡:!1,ä¿®ç‚¼ä¸­:!1})}const" i="o[e.ç‰©å“ID];if(!i||&quot;åŠŸæ³•&quot;!==i.ç±»å‹)return" d.o.error("ç‰©å“ä¸æ˜¯åŠŸæ³•ç±»å‹"),!1;a.ä¿®ç‚¼åŠŸæ³•="{...i,ç†Ÿç»ƒåº¦:l?.ç†Ÿç»ƒåº¦||0,å·²è§£é”æŠ€èƒ½:l?.å·²è§£é”æŠ€èƒ½||[],ä¿®ç‚¼æ—¶é—´:l?.ä¿®ç‚¼æ—¶é—´||0,çªç ´æ¬¡æ•°:l?.çªç ´æ¬¡æ•°||0,æ­£åœ¨ä¿®ç‚¼:!0,ä¿®ç‚¼è¿›åº¦:l?.ä¿®ç‚¼è¿›åº¦||0},o[e.ç‰©å“ID]={...i,å·²è£…å¤‡:!0,ä¿®ç‚¼ä¸­:!0},await" n.committostorage(),await="" this.synccultivationtotavern(a);const="" this.undoactions.push(c),this.saveundohistorytostorage(),t.addaction({type:"cultivate",itemname:e.åç§°,itemtype:e.ç±»å‹,description:r?`å¼€å§‹ä¿®ç‚¼ã€Š${e.åç§°}ã€‹åŠŸæ³•ï¼Œåœæ­¢ä¿®ç‚¼ã€Š${r.åç§°}ã€‹`:`å¼€å§‹ä¿®ç‚¼ã€Š${e.åç§°}ã€‹åŠŸæ³•`}),!0}catch(e){return="" console.error("ä¿®ç‚¼åŠŸæ³•å¤±è´¥:",e),d.o.error("ä¿®ç‚¼åŠŸæ³•å¤±è´¥"),!1}}async="" stopcultivation(e){const="" d.o.error("å½“å‰æ²¡æœ‰æ­£åœ¨ä¿®ç‚¼çš„åŠŸæ³•"),!1;const="" d.o.error("æ“ä½œçš„åŠŸæ³•ä¸å½“å‰ä¿®ç‚¼çš„åŠŸæ³•ä¸ç¬¦"),!1;const="" l)return="" d.o.error("èƒŒåŒ…æ•°æ®å¼‚å¸¸"),!1;const="" this.undoactions.push(c),this.saveundohistorytostorage(),t.addaction({type:"stop_cultivation",itemname:e.åç§°,itemtype:e.ç±»å‹,description:`åœæ­¢ä¿®ç‚¼ã€Š${e.åç§°}ã€‹åŠŸæ³•`}),!0}catch(e){return="" console.error("åœæ­¢ä¿®ç‚¼å¤±è´¥:",e),d.o.error("åœæ­¢ä¿®ç‚¼å¤±è´¥"),!1}}async="" undolastaction(){if(0="==this.undoActions.length)return" d.o.info("æœªæ‰¾åˆ°å¯æ’¤å›çš„åŠ¨ä½œè®°å½•ï¼Œå¯èƒ½å·²æ¸…ç©ºæˆ–åˆ·æ–°åä¸¢å¤±"),!1;const="" d.o.error("å­˜æ¡£æ•°æ®ä¸å­˜åœ¨"),!1;switch(e.type){case"equip":await="" this.undoequip(e,a);break;case"unequip":await="" this.undounequip(e);break;case"use":await="" this.undouse(e,a);break;case"cultivate":await="" this.undocultivate(e,a)}const="">=0;n--)if(o[n].itemName===e.itemName&amp;&amp;o[n].type===e.type){t.removeAction(o[n].id);break}return!0}catch(e){return console.error("æ’¤å›åŠ¨ä½œå¤±è´¥:",e),d.o.error("æ’¤å›å¤±è´¥"),!1}}async undoByItemName(e,n){if(0===this.undoActions.length)return d.o.info("æœªæ‰¾åˆ°å¯æ’¤å›çš„åŠ¨ä½œè®°å½•ï¼Œå¯èƒ½å·²æ¸…ç©ºæˆ–åˆ·æ–°åä¸¢å¤±"),!1;let t=-1;for(let a=this.undoActions.length-1;a&gt;=0;a--){const o=this.undoActions[a];if(o.type===e&amp;&amp;o.itemName===n){t=a;break}}if(-1===t)return d.o.info("æœªæ‰¾åˆ°è¯¥åŠ¨ä½œçš„æ’¤å›è®°å½•"),!1;const a=this.undoActions.splice(t,1)[0];this.saveUndoHistoryToStorage();try{const t=(0,tn.useCharacterStore)(),o=t.activeSaveSlot?.å­˜æ¡£æ•°æ®;if(!o)return d.o.error("å½“å‰å­˜æ¡£ä¸å­˜åœ¨ï¼Œæ— æ³•æ’¤å›"),!1;switch(a.type){case"equip":await this.undoEquip(a,o);break;case"unequip":await this.undoUnequip(a);break;case"use":await this.undoUse(a,o);break;case"cultivate":await this.undoCultivate(a,o)}const r=(0,Sv.useActionQueueStore)(),l=r.pendingActions;for(let t=l.length-1;t&gt;=0;t--)if(l[t].itemName===n&amp;&amp;l[t].type===e){r.removeAction(l[t].id);break}return await(0,tn.useCharacterStore)().commitToStorage(),!0}catch(e){return console.error("æŒ‰åç§°æ’¤å›å¤±è´¥:",e),d.o.error("æ’¤å›å¤±è´¥"),!1}}async undoEquip(e,n){for(let t=1;t&lt;=6;t++){const a=`è£…å¤‡${t}`,o=n.è£…å¤‡æ [a];if(o&amp;&amp;"object"==typeof o&amp;&amp;"ç‰©å“ID"in o&amp;&amp;o.ç‰©å“ID===e.itemId){if(n.è£…å¤‡æ [a]=null,n.èƒŒåŒ…?.ç‰©å“?.[e.itemId]){const t=n.èƒŒåŒ….ç‰©å“[e.itemId];n.èƒŒåŒ….ç‰©å“[e.itemId]={...t,å·²è£…å¤‡:!1}}if(e.restoreData?.replacedItem&amp;&amp;(n.è£…å¤‡æ [a]={ç‰©å“ID:e.restoreData.replacedItem.ç‰©å“ID,åç§°:e.restoreData.replacedItem.åç§°},n.èƒŒåŒ…?.ç‰©å“?.[e.restoreData.replacedItem.ç‰©å“ID])){const t=n.èƒŒåŒ….ç‰©å“[e.restoreData.replacedItem.ç‰©å“ID];n.èƒŒåŒ….ç‰©å“[e.restoreData.replacedItem.ç‰©å“ID]={...t,å·²è£…å¤‡:!0}}await this.syncEquipmentToTavern(n);break}}}removeUndoAction(e,n){const t=this.undoActions.findIndex(t=&gt;t.type===e&amp;&amp;t.itemName===n);-1!==t&amp;&amp;(this.undoActions.splice(t,1),this.saveUndoHistoryToStorage(),console.log("[æ’¤é”€å†å²] ç§»é™¤äº†ä¸€ä¸ªå·²æŠµæ¶ˆçš„åŠ¨ä½œ:",{type:e,itemName:n}))}async undoUnequip(e){e.restoreData?.originalSlot&amp;&amp;d.o.warning("è£…å¤‡æ’¤å›åŠŸèƒ½å—é™ï¼Œå¸ä¸‹çš„è£…å¤‡æ— æ³•å®Œå…¨æ¢å¤")}async undoUse(e,n){e.itemData?(n.èƒŒåŒ…||(n.èƒŒåŒ…={ç‰©å“:{},çµçŸ³:{ä¸‹å“:0,ä¸­å“:0,ä¸Šå“:0,æå“:0}}),n.èƒŒåŒ….ç‰©å“||(n.èƒŒåŒ….ç‰©å“={}),n.èƒŒåŒ….ç‰©å“[e.itemId]=JSON.parse(JSON.stringify(e.itemData))):d.o.warning("ç‰©å“å·²å®Œå…¨æ¶ˆå¤±ï¼Œä¸”æ— å¤‡ä»½æ•°æ®ï¼Œæ— æ³•æ¢å¤")}async undoCultivate(e,n){const t=e.restoreData?.originalCultivationState;if(!t)return;const a=n.èƒŒåŒ…?.ç‰©å“;if(a&amp;&amp;"object"==typeof a){if(t.previousTechnique){const e=t.previousTechnique.ç‰©å“ID;n.ä¿®ç‚¼åŠŸæ³•={...t.previousTechnique};const o=a[e];o&amp;&amp;"åŠŸæ³•"===o.ç±»å‹&amp;&amp;(a[e]={...o,å·²è£…å¤‡:!0,ä¿®ç‚¼ä¸­:!0})}else n.ä¿®ç‚¼åŠŸæ³•=null;await this.syncCultivationToTavern(n)}else console.error("èƒŒåŒ…æ•°æ®å¼‚å¸¸ï¼Œæ— æ³•æ’¤å›ä¿®ç‚¼")}clearUndoHistory(){this.undoActions=[],this.saveUndoHistoryToStorage()}getUndoActionsCount(){return this.undoActions.length}removeConflictingActions(e,n){const t=(0,Sv.useActionQueueStore)(),a=t.pendingActions.filter(t=&gt;t.itemName&amp;&amp;t.type===n&amp;&amp;this.findItemByName(t.itemName)?.ç‰©å“ID===e);a.forEach(e=&gt;{t.removeAction(e.id)}),this.undoActions=this.undoActions.filter(t=&gt;!(t.itemId===e&amp;&amp;t.type===n)),this.saveUndoHistoryToStorage(),a.length&gt;0&amp;&amp;d.o.info("å·²ç§»é™¤å†²çªçš„æ“ä½œ")}findItemByName(e){const n=(0,tn.useCharacterStore)(),t=n.activeSaveSlot?.å­˜æ¡£æ•°æ®;if(!t)return null;if(t.èƒŒåŒ…?.ç‰©å“)for(const n of Object.values(t.èƒŒåŒ….ç‰©å“))if(n&amp;&amp;"object"==typeof n&amp;&amp;n.åç§°===e)return n;if(t.è£…å¤‡æ )for(let n=1;n&lt;=6;n++){const a=`è£…å¤‡${n}`,o=t.è£…å¤‡æ [a];if(o&amp;&amp;"object"==typeof o&amp;&amp;"åç§°"in o&amp;&amp;o.åç§°===e&amp;&amp;t.èƒŒåŒ…?.ç‰©å“){const n=Object.values(t.èƒŒåŒ….ç‰©å“).find(n=&gt;n.åç§°===e);if(n)return n}}return null}async syncEquipmentToTavern(e){try{const n=(0,an.getTavernHelper)();if(!n)return void console.warn("[è£…å¤‡åŒæ­¥] é…’é¦†åŠ©æ‰‹ä¸å¯ç”¨ï¼Œè·³è¿‡åŒæ­¥");const{calculateEquipmentBonuses:a}=await Promise.resolve().then(t.bind(t,6728)),o=e.è£…å¤‡æ &amp;&amp;e.èƒŒåŒ…?a(e.è£…å¤‡æ ,e.èƒŒåŒ…):{æ ¹éª¨:0,çµæ€§:0,æ‚Ÿæ€§:0,æ°”è¿:0,é­…åŠ›:0,å¿ƒæ€§:0};e.è§’è‰²åŸºç¡€ä¿¡æ¯&amp;&amp;(e.è§’è‰²åŸºç¡€ä¿¡æ¯.åå¤©å…­å¸=o,console.log("[è£…å¤‡åŒæ­¥] æ›´æ–°åå¤©å…­å¸:",o));const{deepCleanForClone:r}=await Promise.resolve().then(t.bind(t,3098)),l=r({è£…å¤‡æ :e.è£…å¤‡æ ,è§’è‰²åŸºç¡€ä¿¡æ¯:e.è§’è‰²åŸºç¡€ä¿¡æ¯});await n.insertOrAssignVariables(l,{type:"chat"}),console.log("[è£…å¤‡åŒæ­¥] è£…å¤‡æ å’Œåå¤©å…­å¸å·²åŒæ­¥åˆ°é…’é¦†å˜é‡")}catch(e){console.warn("[è£…å¤‡åŒæ­¥] åŒæ­¥è£…å¤‡æ åˆ°é…’é¦†å˜é‡å¤±è´¥:",e)}}async syncCultivationToTavern(e){try{const n=(0,an.getTavernHelper)();if(!n)return void console.warn("[ä¿®ç‚¼åŒæ­¥] é…’é¦†åŠ©æ‰‹ä¸å¯ç”¨ï¼Œè·³è¿‡åŒæ­¥");const a=e.ä¿®ç‚¼åŠŸæ³•?{...e.ä¿®ç‚¼åŠŸæ³•,ç†Ÿç»ƒåº¦:e.ä¿®ç‚¼åŠŸæ³•.ç†Ÿç»ƒåº¦||0,å·²è§£é”æŠ€èƒ½:e.ä¿®ç‚¼åŠŸæ³•.å·²è§£é”æŠ€èƒ½||[],ä¿®ç‚¼æ—¶é—´:e.ä¿®ç‚¼åŠŸæ³•.ä¿®ç‚¼æ—¶é—´||0,çªç ´æ¬¡æ•°:e.ä¿®ç‚¼åŠŸæ³•.çªç ´æ¬¡æ•°||0,æ­£åœ¨ä¿®ç‚¼:e.ä¿®ç‚¼åŠŸæ³•.æ­£åœ¨ä¿®ç‚¼||!1,ä¿®ç‚¼è¿›åº¦:e.ä¿®ç‚¼åŠŸæ³•.ä¿®ç‚¼è¿›åº¦||0}:null,{deepCleanForClone:o}=await Promise.resolve().then(t.bind(t,3098)),r=o({ä¿®ç‚¼åŠŸæ³•:a});await n.insertOrAssignVariables(r,{type:"chat"}),console.log("[ä¿®ç‚¼åŒæ­¥] ä¿®ç‚¼åŠŸæ³•å·²åŒæ­¥åˆ°é…’é¦†å˜é‡")}catch(e){console.warn("[ä¿®ç‚¼åŒæ­¥] åŒæ­¥ä¿®ç‚¼åŠŸæ³•åˆ°é…’é¦†å˜é‡å¤±è´¥:",e)}}async syncInventoryToTavern(e){try{const n=(0,an.getTavernHelper)();if(!n)return void console.warn("[èƒŒåŒ…åŒæ­¥] é…’é¦†åŠ©æ‰‹ä¸å¯ç”¨ï¼Œè·³è¿‡åŒæ­¥");const{deepCleanForClone:a}=await Promise.resolve().then(t.bind(t,3098)),o=a({èƒŒåŒ…:e.èƒŒåŒ…});await n.insertOrAssignVariables(o,{type:"chat"}),console.log("[èƒŒåŒ…åŒæ­¥] èƒŒåŒ…å·²åŒæ­¥åˆ°é…’é¦†å˜é‡")}catch(e){console.warn("[èƒŒåŒ…åŒæ­¥] åŒæ­¥èƒŒåŒ…åˆ°é…’é¦†å˜é‡å¤±è´¥:",e)}}saveUndoHistoryToStorage(){try{localStorage.setItem(this.storageKey,JSON.stringify(this.undoActions))}catch(e){console.warn("[æ’¤å›å†å²] ä¿å­˜å¤±è´¥:",e)}}loadUndoHistoryFromStorage(){try{const e=localStorage.getItem(this.storageKey);if(e){const n=JSON.parse(e);Array.isArray(n)&amp;&amp;(this.undoActions=n)}}catch(e){console.warn("[æ’¤å›å†å²] åŠ è½½å¤±è´¥:",e)}}}var Dv=t(7181),Av=t(8587);class _v{static instance=null;stateHistory=[];constructor(){}static getInstance(){return this.instance||(this.instance=new _v),this.instance}async processPlayerAction(e,n,a,o){let r=null;try{r=(0,an.getTavernHelper)()}catch{const e="å½“ä¸‹çµæœºæœªè‡³ï¼ˆæœªè¿æ¥é…’é¦†ç¯å¢ƒï¼‰ï¼Œè¯·ç¨åå†è¯•ã€‚";return o?.onStreamChunk?.(e),{finalContent:e}}o?.onProgressUpdate?.("è·å–å½“å‰çŠ¶æ€å¿«ç…§â€¦");const l=await this.captureCurrentState(r);let i;o?.onProgressUpdate?.("æ„å»ºæç¤ºè¯å¹¶è¯·æ±‚AIç”Ÿæˆâ€¦");try{const t=e&amp;&amp;e.toString().trim()||"ç»§ç»­å½“å‰æ´»åŠ¨",r=this.buildGameStateData(n,a,t);if(i=await(0,Dv.Ez)(r,t,o?.useStreaming),!i||!i.text)throw new Error("AIç”Ÿæˆå™¨è¿”å›äº†æ— æ•ˆçš„å“åº”")}catch(e){throw console.error("[AIåŒå‘ç³»ç»Ÿ] AIç”Ÿæˆå¤±è´¥:",e),d.o.error("å¤©æœºæ¨æ¼”å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•ã€‚"),e instanceof Error?e:new Error(String(e))}let c=null;if(i.tavern_commands&amp;&amp;i.tavern_commands.length&gt;0){o?.onProgressUpdate?.("æ‰§è¡ŒAIæŒ‡ä»¤å¹¶æ›´æ–°æ¸¸æˆçŠ¶æ€â€¦");try{const e=await(0,Av.hy)("chat");if(e){const n=await(0,Av.Dj)(i,e),a=n.saveData;c=n.stateChanges;const{shardSaveData:o,saveAllShards:l}=await Promise.resolve().then(t.bind(t,9808)),s=o(a);await l(s,r),console.log("[AIåŒå‘ç³»ç»Ÿ] âœ… å·²å°†å‘½ä»¤æ‰§è¡Œåçš„SaveDataåŒæ­¥åˆ°é…’é¦†åˆ†ç‰‡");const{useCharacterStore:d}=await Promise.resolve().then(t.bind(t,948)),m=d();await m.updateSaveDataDirectly(a),console.log("[AIåŒå‘ç³»ç»Ÿ] âœ… å·²å°†å‘½ä»¤æ‰§è¡Œåçš„SaveDataæ›´æ–°åˆ°Storeï¼ŒUIå°†å®æ—¶å“åº”")}else console.warn("[AIåŒå‘ç³»ç»Ÿ] æ— æ³•è·å–SaveDataï¼Œè·³è¿‡æŒ‡ä»¤æ‰§è¡Œ");const n=await this.captureCurrentState(r);c=this.generateStateChangeLogFromCommands(i.tavern_commands,l,n),console.log("[AIåŒå‘ç³»ç»Ÿ] ===== çŠ¶æ€å˜æ›´è¯¦æƒ… ====="),console.log("[AIåŒå‘ç³»ç»Ÿ] å‘½ä»¤æ•°é‡:",i.tavern_commands.length),console.log("[AIåŒå‘ç³»ç»Ÿ] æ£€æµ‹åˆ°çš„å˜æ›´æ•°é‡:",c.changes.length),console.log("[AIåŒå‘ç³»ç»Ÿ] å˜æ›´è¯¦æƒ…:",JSON.stringify(c.changes,null,2)),console.log("[AIåŒå‘ç³»ç»Ÿ] beforeState åˆ†ç‰‡æ•°:",Object.keys(l).length),console.log("[AIåŒå‘ç³»ç»Ÿ] afterState åˆ†ç‰‡æ•°:",Object.keys(n).length),console.log("[AIåŒå‘ç³»ç»Ÿ] ========================"),o?.onStateChange&amp;&amp;c.changes.length&gt;0&amp;&amp;o.onStateChange(n)}catch(e){console.error("[AIåŒå‘ç³»ç»Ÿ] æ‰§è¡ŒAIæŒ‡ä»¤å¤±è´¥:",e),d.o.warning(`éƒ¨åˆ†æŒ‡ä»¤æ‰§è¡Œå¤±è´¥: ${e instanceof Error?e.message:String(e)}`)}}const s=i.text;return o?.onStreamChunk?.(s),c&amp;&amp;(this.stateHistory.push(c),this.stateHistory.length&gt;50&amp;&amp;(this.stateHistory=this.stateHistory.slice(-30))),{finalContent:s,gmResponse:i,stateChanges:c}}async captureCurrentState(e){try{return await e.getVariables({type:"chat"})||{}}catch(e){return console.warn("[AIåŒå‘ç³»ç»Ÿ] è·å–çŠ¶æ€å¿«ç…§å¤±è´¥:",e),{}}}buildGameStateData(e,n,t){const a=(0,tn.useCharacterStore)(),o=a.activeSaveSlot?.å­˜æ¡£æ•°æ®;return{character:e,saveData:o,gameState:n,playerAction:t,timestamp:(new Date).toISOString()}}generateStateChangeLogFromCommands(e,n,t){const a=[];console.log("[çŠ¶æ€å˜æ›´] ===== å¼€å§‹ç”Ÿæˆå˜æ›´æ—¥å¿— ====="),console.log("[çŠ¶æ€å˜æ›´] æ€»å‘½ä»¤æ•°:",e.length);for(const o of e){if(!o||!o.action||!o.key){console.log("[çŠ¶æ€å˜æ›´] âš ï¸ è·³è¿‡æ— æ•ˆå‘½ä»¤:",o);continue}const e=o.key,r=o.action,l=this.getNestedValue(n,e),i=this.getNestedValue(t,e);console.log(`[çŠ¶æ€å˜æ›´] æ£€æŸ¥å‘½ä»¤: ${r} "${e}"`),console.log("[çŠ¶æ€å˜æ›´]   oldValue:",l),console.log("[çŠ¶æ€å˜æ›´]   newValue:",i),JSON.stringify(l)!==JSON.stringify(i)?(a.push({key:e,action:r,oldValue:l,newValue:i}),console.log("[çŠ¶æ€å˜æ›´]   âœ… æ£€æµ‹åˆ°å˜æ›´")):console.log("[çŠ¶æ€å˜æ›´]   â­ï¸ å€¼æœªå˜åŒ–ï¼Œè·³è¿‡")}return console.log("[çŠ¶æ€å˜æ›´] ===== å˜æ›´æ—¥å¿—ç”Ÿæˆå®Œæˆ ====="),console.log("[çŠ¶æ€å˜æ›´] æœ€ç»ˆå˜æ›´æ•°é‡:",a.length),{before:n,after:t,changes:a,timestamp:(new Date).toISOString()}}getNestedValue(e,n){if(!e||"object"!=typeof e)return;const t=n.split(".");let a=e;for(const e of t){if(!a||"object"!=typeof a||!(e in a))return;a=a[e]}return a}}const $v=_v,Iv={class:"formatted-text"},Tv={class:"card-icon"},jv={key:0,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},Mv={key:1,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},qv={key:2,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},Ov={class:"card-content"},Pv={class:"card-header"},Fv={class:"judgement-title"},Lv={class:"header-right"},Yv={class:"judgement-badge"},Rv={class:"card-body"},Uv={class:"stat-item"},Gv={class:"stat-info"},Wv={class:"stat-value"},Jv={key:0,class:"stat-item"},Hv={class:"stat-info"},Qv={class:"stat-value"},Kv={key:1,class:"stat-item"},Xv={class:"stat-info"},Zv={class:"stat-value"},eu={key:2,class:"stat-item"},nu={class:"stat-info"},tu={class:"stat-value"},au={key:3,class:"stat-item"},ou={class:"stat-info"},ru={class:"stat-value"},lu={key:4,class:"details-list"},iu=(0,a.defineComponent)({__name:"FormattedText",props:{text:{}},setup(e){const n=(0,a.ref)(!1),t=()=&gt;{n.value=!0},o=()=&gt;{n.value=!1},r=e,l=(0,a.computed)(()=&gt;{const e=[],n=r.text||"";if(!n.trim())return[{type:"normal",content:n}];let t=0;const a=n.replace(/\r\n/g,"\n").replace(/\r/g,"\n");for(;t<a.length;){const n="[],o=a.indexOf(&quot;ã€&quot;,t);if(-1!==o){const" e="a.indexOf(&quot;ã€‘&quot;,o+1);-1!==e&amp;&amp;n.push({start:o,end:e+1,type:&quot;environment&quot;,contentStart:o+1,contentEnd:e})}const" r="a.indexOf(&quot;`&quot;,t);if(-1!==r){const" l="a.indexOf(&#39;&quot;&#39;,t);if(-1!==l){const" i="a.indexOf(&quot;â€œ&quot;,t);if(-1!==i){const" c="a.indexOf(&quot;ã€Œ&quot;,t);if(-1!==c){const" s="a.indexOf(&quot;ã€–&quot;,t);if(-1!==s){const" d="n.filter(e=">e.start&gt;=t&amp;&amp;e.contentStart<e.contentend).sort((e,n)=>e.start-n.start);if(0===d.length){t<a.length&&e.push({type:"normal",content:a.slice(t)});break}const m="d[0];if(m.start">t){const n=a.slice(t,m.start);n&amp;&amp;e.push({type:"normal",content:n})}const p=a.slice(m.contentStart,m.contentEnd);if(p.trim())if("judgement"===m.type){const n=p.split(",").map(e=&gt;e.trim());if(n.length&gt;=1){const t=n[0].split(":");if(2===t.length){const a={title:t[0].trim(),result:t[1].trim(),dice:"æœªçŸ¥",attribute:"",details:[]};for(let e=1;e<n.length;e++){const t="n[e],[o,r]=t.split(&quot;:&quot;).map(e=">e.trim());o&amp;&amp;r&amp;&amp;(o.includes("éª°ç‚¹")||o.includes("éª°å­")?a.dice=r:o.includes("éš¾åº¦")?a.difficulty=r:o.includes("åŠ æˆ")?a.bonus=r:o.includes("æœ€ç»ˆå€¼")||o.includes("æ€»å€¼")?a.finalValue=r:o.match(/^[^\d\s]+$/)?a.attribute?a.details.push(`${o}:${r}`):a.attribute=`${o}:${r}`:a.details.push(t))}e.push({type:"judgement-card",content:a})}else e.push({type:"normal",content:`ã€–${p}ã€—`})}else e.push({type:"normal",content:`ã€–${p}ã€—`})}else e.push({type:m.type,content:a.slice(m.start,m.end)});t=m.end}return e.length&gt;0?e:[{type:"normal",content:n}]}),i=e=&gt;["æˆåŠŸ","å¤§æˆåŠŸ","å®Œç¾","é€šè¿‡"].includes(e),c=e=&gt;["å¤±è´¥","å¤§å¤±è´¥","å¤±è´¥æƒ¨é‡","æœªé€šè¿‡"].includes(e);return(e,r)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createElementVNode)("div",Iv,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(l.value,(e,n)=&gt;{return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:n},["judgement-card"!==e.type?((0,a.openBlock)(),(0,a.createElementBlock)("span",{key:0,class:(0,a.normalizeClass)((l=e.type,{"text-environment":"environment"===l,"text-psychology":"psychology"===l,"text-dialogue":"dialogue"===l,"text-quote":"quote"===l,"text-normal":"normal"===l}))},(0,a.toDisplayString)(e.content),3)):(o=e.content,"object"==typeof o&amp;&amp;null!==o&amp;&amp;"title"in o?((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:1,class:(0,a.normalizeClass)(["judgement-card",{"is-success":i(e.content.result),"is-failure":c(e.content.result),"is-great-success":e.content.result?.includes("å¤§æˆåŠŸ"),"is-great-failure":e.content.result?.includes("å¤§å¤±è´¥")}])},[(0,a.createElementVNode)("div",Tv,[i(e.content.result)?((0,a.openBlock)(),(0,a.createElementBlock)("svg",jv,r[1]||(r[1]=[(0,a.createElementVNode)("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},null,-1),(0,a.createElementVNode)("polyline",{points:"22 4 12 14.01 9 11.01"},null,-1)]))):c(e.content.result)?((0,a.openBlock)(),(0,a.createElementBlock)("svg",Mv,r[2]||(r[2]=[(0,a.createElementVNode)("circle",{cx:"12",cy:"12",r:"10"},null,-1),(0,a.createElementVNode)("line",{x1:"15",y1:"9",x2:"9",y2:"15"},null,-1),(0,a.createElementVNode)("line",{x1:"9",y1:"9",x2:"15",y2:"15"},null,-1)]))):((0,a.openBlock)(),(0,a.createElementBlock)("svg",qv,r[3]||(r[3]=[(0,a.createElementVNode)("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},null,-1),(0,a.createElementVNode)("line",{x1:"12",y1:"9",x2:"12",y2:"13"},null,-1),(0,a.createElementVNode)("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"},null,-1)])))]),(0,a.createElementVNode)("div",Ov,[(0,a.createElementVNode)("div",Pv,[(0,a.createElementVNode)("span",Fv,(0,a.toDisplayString)(e.content.title),1),(0,a.createElementVNode)("div",Lv,[(0,a.createElementVNode)("span",Yv,(0,a.toDisplayString)(e.content.result),1),(0,a.createElementVNode)("button",{class:"help-btn",onClick:(0,a.withModifiers)(t,["stop"]),title:"æŸ¥çœ‹åˆ¤å®šè§„åˆ™"},r[4]||(r[4]=[(0,a.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[(0,a.createElementVNode)("circle",{cx:"12",cy:"12",r:"10"}),(0,a.createElementVNode)("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),(0,a.createElementVNode)("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})],-1)]))])]),(0,a.createElementVNode)("div",Rv,[(0,a.createElementVNode)("div",Uv,[r[6]||(r[6]=(0,a.createElementVNode)("span",{class:"stat-icon"},"ğŸ²",-1)),(0,a.createElementVNode)("div",Gv,[r[5]||(r[5]=(0,a.createElementVNode)("span",{class:"stat-label"},"éª°ç‚¹",-1)),(0,a.createElementVNode)("span",Wv,(0,a.toDisplayString)(e.content.dice),1)])]),e.content.attribute&amp;&amp;"æœªçŸ¥å±æ€§"!==e.content.attribute?((0,a.openBlock)(),(0,a.createElementBlock)("div",Jv,[r[8]||(r[8]=(0,a.createElementVNode)("span",{class:"stat-icon"},"âš¡",-1)),(0,a.createElementVNode)("div",Hv,[r[7]||(r[7]=(0,a.createElementVNode)("span",{class:"stat-label"},"å±æ€§",-1)),(0,a.createElementVNode)("span",Qv,(0,a.toDisplayString)(e.content.attribute),1)])])):(0,a.createCommentVNode)("v-if",!0),e.content.bonus?((0,a.openBlock)(),(0,a.createElementBlock)("div",Kv,[r[10]||(r[10]=(0,a.createElementVNode)("span",{class:"stat-icon"},"â•",-1)),(0,a.createElementVNode)("div",Xv,[r[9]||(r[9]=(0,a.createElementVNode)("span",{class:"stat-label"},"åŠ æˆ",-1)),(0,a.createElementVNode)("span",Zv,(0,a.toDisplayString)(e.content.bonus),1)])])):(0,a.createCommentVNode)("v-if",!0),e.content.finalValue?((0,a.openBlock)(),(0,a.createElementBlock)("div",eu,[r[12]||(r[12]=(0,a.createElementVNode)("span",{class:"stat-icon"},"âœ¨",-1)),(0,a.createElementVNode)("div",nu,[r[11]||(r[11]=(0,a.createElementVNode)("span",{class:"stat-label"},"æœ€ç»ˆå€¼",-1)),(0,a.createElementVNode)("span",tu,(0,a.toDisplayString)(e.content.finalValue),1)])])):(0,a.createCommentVNode)("v-if",!0),e.content.difficulty?((0,a.openBlock)(),(0,a.createElementBlock)("div",au,[r[14]||(r[14]=(0,a.createElementVNode)("span",{class:"stat-icon"},"ğŸ¯",-1)),(0,a.createElementVNode)("div",ou,[r[13]||(r[13]=(0,a.createElementVNode)("span",{class:"stat-label"},"éš¾åº¦",-1)),(0,a.createElementVNode)("span",ru,(0,a.toDisplayString)(e.content.difficulty),1)])])):(0,a.createCommentVNode)("v-if",!0),e.content.details&amp;&amp;e.content.details.length&gt;0?((0,a.openBlock)(),(0,a.createElementBlock)("div",lu,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.content.details,(e,n)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",{class:"detail-item",key:n},(0,a.toDisplayString)(e),1))),128))])):(0,a.createCommentVNode)("v-if",!0)])])],2)):(0,a.createCommentVNode)("v-if",!0))],64);var o,l}),128))]),(0,a.createCommentVNode)(" åˆ¤å®šè§„åˆ™å¸®åŠ©å¼¹çª— "),((0,a.openBlock)(),(0,a.createBlock)(a.Teleport,{to:"body"},[n.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:0,class:"help-modal-overlay",onClick:o},[(0,a.createElementVNode)("div",{class:"help-modal",onClick:r[0]||(r[0]=(0,a.withModifiers)(()=&gt;{},["stop"]))},[(0,a.createElementVNode)("div",{class:"help-modal-header"},[r[16]||(r[16]=(0,a.createElementVNode)("h3",null,"ğŸ² åˆ¤å®šè§„åˆ™è¯´æ˜",-1)),(0,a.createElementVNode)("button",{class:"close-btn",onClick:o},r[15]||(r[15]=[(0,a.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[(0,a.createElementVNode)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,a.createElementVNode)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)]))]),r[17]||(r[17]=(0,a.createElementVNode)("div",{class:"help-modal-content"},[(0,a.createElementVNode)("div",{class:"help-section"},[(0,a.createElementVNode)("h4",null,"ğŸ“Š åˆ¤å®šè®¡ç®—å…¬å¼"),(0,a.createElementVNode)("div",{class:"formula-box"},[(0,a.createElementVNode)("strong",null,"åˆ¤å®šå€¼"),(0,a.createTextVNode)(" = (å…ˆå¤©å…­å¸Ã—100% + åå¤©å…­å¸Ã—20%) + ä¿®è¡ŒçŠ¶æ€ + å¢ƒç•ŒåŠ æˆ + è£…å¤‡ + åŠŸæ³• + çŠ¶æ€æ•ˆæœ ")]),(0,a.createElementVNode)("ol",null,[(0,a.createElementVNode)("li",null,[(0,a.createElementVNode)("strong",null,"å…ˆå¤©å…­å¸"),(0,a.createTextVNode)("ï¼šå¤©ç”Ÿèµ„è´¨ï¼Œæƒé‡100%ï¼ˆå›ºå®šæ— æ³•æ”¹å˜ï¼‰")]),(0,a.createElementVNode)("li",null,[(0,a.createElementVNode)("strong",null,"åå¤©å…­å¸"),(0,a.createTextVNode)("ï¼šä¿®ç‚¼æå‡ï¼Œæƒé‡ä»…20%ï¼ˆé¿å…è¿‡åº¦å¼ºåŒ–ï¼‰")]),(0,a.createElementVNode)("li",null,[(0,a.createElementVNode)("strong",null,"ä¿®è¡ŒçŠ¶æ€"),(0,a.createTextVNode)("ï¼šæ°”è¡€/çµæ°”/ç¥è¯†å½“å‰å€¼å½±å“åˆ¤å®š")]),(0,a.createElementVNode)("li",null,[(0,a.createElementVNode)("strong",null,"å¢ƒç•ŒåŠ æˆ"),(0,a.createTextVNode)("ï¼šç»ƒæ°”+10%ï¼Œç­‘åŸº+20%ï¼Œé‡‘ä¸¹+30%...")]),(0,a.createElementVNode)("li",null,[(0,a.createElementVNode)("strong",null,"è£…å¤‡/åŠŸæ³•"),(0,a.createTextVNode)("ï¼šæ³•å™¨å’ŒåŠŸæ³•ç†Ÿç»ƒåº¦æä¾›é¢å¤–åŠ æˆ")]),(0,a.createElementVNode)("li",null,[(0,a.createElementVNode)("strong",null,"çŠ¶æ€æ•ˆæœ"),(0,a.createTextVNode)("ï¼šbuffå¢å¼ºåˆ¤å®šï¼Œdebuffå‰Šå¼±åˆ¤å®š")])])]),(0,a.createElementVNode)("div",{class:"help-section"},[(0,a.createElementVNode)("h4",null,"ğŸ¯ åˆ¤å®šç»“æœ"),(0,a.createElementVNode)("div",{class:"formula-note"},[(0,a.createElementVNode)("strong",null,"è®¡ç®—å…¬å¼"),(0,a.createTextVNode)(": æœ€ç»ˆå€¼ = éª°ç‚¹(1d20) + å±æ€§å€¼ + åŠ æˆ ")]),(0,a.createElementVNode)("div",{class:"result-list"},[(0,a.createElementVNode)("div",{class:"result-item perfect"},[(0,a.createElementVNode)("span",{class:"result-label"},"å®Œç¾"),(0,a.createElementVNode)("span",{class:"result-desc"},"éª°ç‚¹19-20ï¼Œå¿…å®šæˆåŠŸä¸”é¢å¤–å¥–åŠ±")]),(0,a.createElementVNode)("div",{class:"result-item great-success"},[(0,a.createElementVNode)("span",{class:"result-label"},"å¤§æˆåŠŸ"),(0,a.createElementVNode)("span",{class:"result-desc"},"æœ€ç»ˆå€¼ â‰¥ éš¾åº¦+20ï¼Œæ˜¾è‘—æˆæœ")]),(0,a.createElementVNode)("div",{class:"result-item success"},[(0,a.createElementVNode)("span",{class:"result-label"},"æˆåŠŸ"),(0,a.createElementVNode)("span",{class:"result-desc"},"æœ€ç»ˆå€¼ â‰¥ éš¾åº¦ï¼Œè¾¾æˆç›®æ ‡")]),(0,a.createElementVNode)("div",{class:"result-item failure"},[(0,a.createElementVNode)("span",{class:"result-label"},"å¤±è´¥"),(0,a.createElementVNode)("span",{class:"result-desc"},"æœ€ç»ˆå€¼ &lt; éš¾åº¦ï¼Œæœªè¾¾æˆ")]),(0,a.createElementVNode)("div",{class:"result-item critical-failure"},[(0,a.createElementVNode)("span",{class:"result-label"},"å¤§å¤±è´¥"),(0,a.createElementVNode)("span",{class:"result-desc"},"éª°ç‚¹1-2ï¼Œå¿…å®šå¤±è´¥ä¸”è´Ÿé¢åæœ")])])]),(0,a.createElementVNode)("div",{class:"help-section"},[(0,a.createElementVNode)("h4",null,"âš”ï¸ åˆ¤å®šç±»å‹ä¸å±æ€§"),(0,a.createElementVNode)("div",{class:"judgement-types"},[(0,a.createElementVNode)("div",{class:"type-item"},[(0,a.createElementVNode)("span",{class:"type-name"},"æˆ˜æ–—åˆ¤å®š"),(0,a.createElementVNode)("span",{class:"type-attrs"},"æ ¹éª¨30% + çµæ€§40% + æ‚Ÿæ€§10% + å¿ƒæ€§10% + æ°”è¿10%")]),(0,a.createElementVNode)("div",{class:"type-item"},[(0,a.createElementVNode)("span",{class:"type-name"},"ä¿®ç‚¼åˆ¤å®š"),(0,a.createElementVNode)("span",{class:"type-attrs"},"çµæ€§20% + æ‚Ÿæ€§50% + æ ¹éª¨10% + å¿ƒæ€§10% + æ°”è¿10%")]),(0,a.createElementVNode)("div",{class:"type-item"},[(0,a.createElementVNode)("span",{class:"type-name"},"äº¤é™…åˆ¤å®š"),(0,a.createElementVNode)("span",{class:"type-attrs"},"é­…åŠ›20% + æ‚Ÿæ€§30% + çµæ€§20% + å¿ƒæ€§20% + æ°”è¿10%")]),(0,a.createElementVNode)("div",{class:"type-item"},[(0,a.createElementVNode)("span",{class:"type-name"},"æ¢ç´¢åˆ¤å®š"),(0,a.createElementVNode)("span",{class:"type-attrs"},"æ°”è¿30% + çµæ€§30% + æ‚Ÿæ€§20% + æ ¹éª¨10% + å¿ƒæ€§10%")])])]),(0,a.createElementVNode)("div",{class:"help-section"},[(0,a.createElementVNode)("h4",null,"ğŸ“– å…­å¸å±æ€§è¯´æ˜"),(0,a.createElementVNode)("div",{class:"attributes-desc"},[(0,a.createElementVNode)("div",{class:"attr-card"},[(0,a.createElementVNode)("div",{class:"attr-header"},[(0,a.createElementVNode)("span",{class:"attr-icon"},"ğŸ’ª"),(0,a.createElementVNode)("span",{class:"attr-name"},"æ ¹éª¨")]),(0,a.createElementVNode)("p",null,"å†³å®šæ°”è¡€ä¸Šé™ã€æ¢å¤é€Ÿåº¦ã€å¯¿å‘½ä¸Šé™ã€‚å½±å“ç‚¼ä½“ä¿®è¡Œã€æŠ—æ‰“å‡»èƒ½åŠ›ã€‚")]),(0,a.createElementVNode)("div",{class:"attr-card"},[(0,a.createElementVNode)("div",{class:"attr-header"},[(0,a.createElementVNode)("span",{class:"attr-icon"},"âœ¨"),(0,a.createElementVNode)("span",{class:"attr-name"},"çµæ€§")]),(0,a.createElementVNode)("p",null,"å†³å®šçµæ°”ä¸Šé™ã€å¸æ”¶æ•ˆç‡ã€‚å½±å“ä¿®ç‚¼é€Ÿåº¦ã€æ³•æœ¯å¨åŠ›ã€‚")]),(0,a.createElementVNode)("div",{class:"attr-card"},[(0,a.createElementVNode)("div",{class:"attr-header"},[(0,a.createElementVNode)("span",{class:"attr-icon"},"ğŸ§ "),(0,a.createElementVNode)("span",{class:"attr-name"},"æ‚Ÿæ€§")]),(0,a.createElementVNode)("p",null,"å†³å®šç¥è¯†ä¸Šé™ã€å­¦ä¹ æ•ˆç‡ã€‚å½±å“åŠŸæ³•é¢†æ‚Ÿã€æŠ€èƒ½æŒæ¡é€Ÿåº¦ã€‚")]),(0,a.createElementVNode)("div",{class:"attr-card"},[(0,a.createElementVNode)("div",{class:"attr-header"},[(0,a.createElementVNode)("span",{class:"attr-icon"},"ğŸ€"),(0,a.createElementVNode)("span",{class:"attr-name"},"æ°”è¿")]),(0,a.createElementVNode)("p",null,"å†³å®šå„ç§æ¦‚ç‡ã€ç‰©å“æ‰è½å“è´¨ã€‚å½±å“å¤©æåœ°å®è·å–ã€è´µäººç›¸åŠ©ã€‚")]),(0,a.createElementVNode)("div",{class:"attr-card"},[(0,a.createElementVNode)("div",{class:"attr-header"},[(0,a.createElementVNode)("span",{class:"attr-icon"},"ğŸŒº"),(0,a.createElementVNode)("span",{class:"attr-name"},"é­…åŠ›")]),(0,a.createElementVNode)("p",null,"å†³å®šåˆå§‹å¥½æ„Ÿåº¦ã€ç¤¾äº¤åŠ æˆã€‚å½±å“NPCäº’åŠ¨ã€é—¨æ´¾å£°æœ›è·å–ã€‚")]),(0,a.createElementVNode)("div",{class:"attr-card"},[(0,a.createElementVNode)("div",{class:"attr-header"},[(0,a.createElementVNode)("span",{class:"attr-icon"},"ğŸ’"),(0,a.createElementVNode)("span",{class:"attr-name"},"å¿ƒæ€§")]),(0,a.createElementVNode)("p",null,"å†³å®šå¿ƒé­”æŠ—æ€§ã€æ„å¿—åŠ›ã€‚å½±å“èµ°ç«å…¥é­”æŠµæŠ—ã€å…³é”®æŠ‰æ‹©ã€‚")])])]),(0,a.createElementVNode)("div",{class:"help-section"},[(0,a.createElementVNode)("h4",null,"ğŸ’¡ æå‡åˆ¤å®šæˆåŠŸç‡"),(0,a.createElementVNode)("ul",{class:"tips-list"},[(0,a.createElementVNode)("li",null,"æå‡å¯¹åº”å±æ€§ï¼šä¸åŒåˆ¤å®šä¾§é‡ä¸åŒçš„å…­å¸å±æ€§"),(0,a.createElementVNode)("li",null,"æå‡å¢ƒç•Œï¼šå¢ƒç•Œè¶Šé«˜ï¼Œåˆ¤å®šåŸºç¡€åŠ æˆè¶Šå¤§"),(0,a.createElementVNode)("li",null,"å­¦ä¹ åŠŸæ³•ï¼šç›¸å…³åŠŸæ³•å¯æä¾›ä¸“é¡¹åˆ¤å®šåŠ æˆ"),(0,a.createElementVNode)("li",null,"è£…å¤‡æ³•å™¨ï¼šåˆé€‚çš„è£…å¤‡èƒ½å¤§å¹…æå‡åˆ¤å®šå€¼"),(0,a.createElementVNode)("li",null,"å¤©èµ‹æ•ˆæœï¼šæŸäº›å¤©èµ‹åœ¨ç‰¹å®šåˆ¤å®šä¸­å‘æŒ¥å¥‡æ•ˆ")])])],-1))])])):(0,a.createCommentVNode)("v-if",!0)]))],64))}});var cu=t(8431),su={};su.styleTagTransform=A(),su.setAttributes=z(),su.insert=V().bind(null,"head"),su.domAPI=N(),su.insertStyleElement=B(),k()(cu.A,su),cu.A&amp;&amp;cu.A.locals&amp;&amp;cu.A.locals;const du=(0,j.A)(iu,[["__scopeId","data-v-176b782c"]]),mu={class:"main-game-panel"},pu={key:0,class:"memory-section"},vu={key:0,class:"memory-dropdown"},uu={class:"memory-content"},gu={key:0,class:"no-memory"},fu={class:"current-narrative"},bu={key:0,class:"ai-processing-display"},hu={key:0,class:"streaming-content"},yu={class:"narrative-meta streaming-meta"},xu={class:"narrative-time"},ku={class:"streaming-indicator"},wu={key:0,class:"streaming-text"},Nu={class:"narrative-text"},Eu={class:"waiting-for-stream"},Vu={class:"narrative-meta streaming-meta"},Cu={class:"narrative-time"},zu={key:0,class:"narrative-content"},Su={class:"narrative-meta"},Bu={class:"narrative-time"},Du={class:"meta-buttons"},Au=["disabled","title"],_u={class:"update-count"},$u={class:"narrative-text"},Iu={key:1,class:"empty-narrative"},Tu={class:"input-section"},ju={key:0,class:"action-queue-display"},Mu={class:"queue-actions"},qu={class:"action-text"},Ou={class:"action-controls"},Pu=["onClick","title"],Fu={class:"input-wrapper"},Lu=["disabled"],Yu=["disabled"],Ru={class:"input-container"},Uu={key:0,class:"image-preview-container"},Gu=["src","alt"],Wu=["onClick"],Ju=["placeholder","disabled"],Hu={class:"stream-toggle-inside"},Qu=["disabled"],Ku={class:"action-modal"},Xu={class:"action-grid"},Zu=["onClick"],eg={class:"action-icon"},ng={class:"action-text"},tg={class:"action-config-modal"},ag={class:"config-header"},og={class:"config-content"},rg={class:"action-description"},lg={key:0,class:"config-section"},ig={class:"time-selector"},cg=["onClick"],sg={class:"time-custom"},dg={key:1,class:"config-section"},mg={class:"action-options"},pg=["name","value"],vg=(0,a.defineComponent)({__name:"MainGamePanel",setup(e,{expose:n}){function o(e){if(!e)return"ã€æœªçŸ¥æ—¶é—´ã€‘";const n=e.åˆ†é’Ÿ??0;return`ã€ä»™é“${e.å¹´}å¹´${e.æœˆ}æœˆ${e.æ—¥}æ—¥ ${String(e.å°æ—¶).padStart(2,"0")}:${String(n).padStart(2,"0")}ã€‘`}const r=(0,a.computed)(()=&gt;j.value?.stateChanges?.changes||[]),l=(0,a.computed)({get:()=&gt;V.userInputText,set:e=&gt;{V.userInputText=e}}),i=(0,a.ref)(!1),c=(0,a.ref)(!1),s=(0,a.ref)(),m=(0,a.ref)(),p=(0,a.ref)(!1),v=(0,a.ref)(!0),u=()=&gt;{p.value=!p.value},g=()=&gt;{c.value?(sessionStorage.setItem("ai-processing-state","true"),sessionStorage.setItem("ai-processing-timestamp",Date.now().toString())):(sessionStorage.removeItem("ai-processing-state"),sessionStorage.removeItem("ai-processing-timestamp"))},f=()=&gt;{const e=sessionStorage.getItem("ai-processing-state"),n=sessionStorage.getItem("ai-processing-timestamp");"true"===e&amp;&amp;n&amp;&amp;(Date.now()-parseInt(n)&lt;3e4?(c.value=!0,console.log("[çŠ¶æ€æ¢å¤] æ¢å¤AIå¤„ç†çŠ¶æ€"),setTimeout(()=&gt;{c.value&amp;&amp;(console.log("[çŠ¶æ€æ¢å¤] AIå¤„ç†è¶…æ—¶ï¼Œè‡ªåŠ¨æ¸…é™¤çŠ¶æ€"),b())},3e4)):(console.log("[çŠ¶æ€æ¢å¤] AIå¤„ç†çŠ¶æ€å·²è¶…æ—¶ï¼Œæ¸…é™¤çŠ¶æ€"),sessionStorage.removeItem("ai-processing-state"),sessionStorage.removeItem("ai-processing-timestamp"),c.value=!1))};(0,a.watch)(c,g);const b=()=&gt;{console.log("[å¼ºåˆ¶é‡ç½®] æ¸…é™¤AIå¤„ç†çŠ¶æ€å’Œä¼šè¯å­˜å‚¨"),c.value=!1,sessionStorage.removeItem("ai-processing-state"),sessionStorage.removeItem("ai-processing-timestamp"),S.value=null,B.value="",d.o.info("AIå¤„ç†çŠ¶æ€å·²é‡ç½®")};"undefined"!=typeof window&amp;&amp;(window.forceResetAIState=b,window.debugMemory=async()=&gt;{const e=N.activeSaveSlot,n=e?.å­˜æ¡£æ•°æ®;console.log("[è°ƒè¯•] å½“å‰å­˜æ¡£æ•°æ®:",e),console.log("[è°ƒè¯•] å­˜æ¡£ä¸­çŸ­æœŸè®°å¿†:",n?.è®°å¿†?.çŸ­æœŸè®°å¿†),console.log("[è°ƒè¯•] å­˜æ¡£ä¸­ä¸­æœŸè®°å¿†:",n?.è®°å¿†?.ä¸­æœŸè®°å¿†),console.log("[è°ƒè¯•] å­˜æ¡£ä¸­é•¿æœŸè®°å¿†:",n?.è®°å¿†?.é•¿æœŸè®°å¿†);const t=localStorage.getItem("characterStoreV3");console.log("[è°ƒè¯•] LocalStorageåŸå§‹æ•°æ®é•¿åº¦:",t?.length);try{const e=(0,an.getTavernHelper)();if(e){const n=await e.getVariables({type:"chat"});console.log("[è°ƒè¯•] é…’é¦†Chatå˜é‡:",n),console.log("[è°ƒè¯•] é…’é¦†ä¸­çš„character.saveData:",n["character.saveData"]),console.log("[è°ƒè¯•] é…’é¦†ä¸­çš„çŸ­æœŸè®°å¿†:",n["character.saveData"]?.è®°å¿†?.çŸ­æœŸè®°å¿†)}else console.warn("[è°ƒè¯•] æ— æ³•è·å–é…’é¦†Helper")}catch(e){console.error("[è°ƒè¯•] æ£€æŸ¥é…’é¦†å˜é‡å¤±è´¥:",e)}return{å­˜æ¡£:e,å­˜æ¡£ä¸­çŸ­æœŸè®°å¿†:n?.è®°å¿†?.çŸ­æœŸè®°å¿†,å­˜æ¡£ä¸­ä¸­æœŸè®°å¿†:n?.è®°å¿†?.ä¸­æœŸè®°å¿†,å­˜æ¡£ä¸­é•¿æœŸè®°å¿†:n?.è®°å¿†?.é•¿æœŸè®°å¿†,æœ¬åœ°å­˜å‚¨å¯ç”¨:!!t}},window.testAddMemory=async e=&gt;{console.log("[æµ‹è¯•] æ‰‹åŠ¨æ·»åŠ è®°å¿†:",e),await re(e,"assistant"),console.log("[æµ‹è¯•] è®°å¿†æ·»åŠ å®Œæˆï¼Œæ£€æŸ¥æŒä¹…åŒ–..."),await N.syncToTavernAndSave(),console.log("[æµ‹è¯•] æŒä¹…åŒ–å®Œæˆ")},window.debugAIResponse=async()=&gt;{console.log("[è°ƒè¯•AIå“åº”] å¼€å§‹æ£€æŸ¥AIå“åº”å­˜å‚¨æµç¨‹...");const e=N.activeSaveSlot,n=e?.å­˜æ¡£æ•°æ®;console.log("[è°ƒè¯•AIå“åº”] å½“å‰å­˜æ¡£:",e),console.log("[è°ƒè¯•AIå“åº”] çŸ­æœŸè®°å¿†:",n?.è®°å¿†?.çŸ­æœŸè®°å¿†);try{const e=(0,an.getTavernHelper)();if(e){const t=(await e.getVariables({type:"chat"}))["character.saveData"];console.log("[è°ƒè¯•AIå“åº”] é…’é¦†saveData:",t),console.log("[è°ƒè¯•AIå“åº”] é…’é¦†çŸ­æœŸè®°å¿†:",t?.è®°å¿†?.çŸ­æœŸè®°å¿†);const a=n?.è®°å¿†?.çŸ­æœŸè®°å¿†?.length||0,o=t?.è®°å¿†?.çŸ­æœŸè®°å¿†?.length||0;console.log("[è°ƒè¯•AIå“åº”] æœ¬åœ°çŸ­æœŸè®°å¿†æ•°é‡:",a),console.log("[è°ƒè¯•AIå“åº”] é…’é¦†çŸ­æœŸè®°å¿†æ•°é‡:",o),a!==o&amp;&amp;console.error("[è°ƒè¯•AIå“åº”] ğŸš¨ æ•°æ®åŒæ­¥é—®é¢˜ï¼šæœ¬åœ°å’Œé…’é¦†è®°å¿†æ•°é‡ä¸ä¸€è‡´ï¼")}}catch(e){console.error("[è°ƒè¯•AIå“åº”] æ£€æŸ¥é…’é¦†å˜é‡å¤±è´¥:",e)}console.log("[è°ƒè¯•AIå“åº”] æœ¬åœ°çŸ­æœŸè®°å¿†:",n?.è®°å¿†?.çŸ­æœŸè®°å¿†),console.log("[è°ƒè¯•AIå“åº”] å­˜æ¡£çŠ¶æ€:",!!e),console.log("[è°ƒè¯•AIå“åº”] æ•°æ®å®Œæ•´æ€§:",!!n)});const h=(0,a.ref)(!1),y=(0,a.ref)(null),x=(0,a.ref)(1),k=(0,a.ref)(1),w=(0,a.ref)(""),N=(0,tn.useCharacterStore)(),E=(0,Sv.useActionQueueStore)(),V=(0,q.useUIStore)(),C=Bv.getInstance(),z=$v.getInstance(),S=(0,a.ref)(null),B=(0,a.ref)(""),D=(0,a.ref)(!0),A=(0,a.computed)(()=&gt;B.value.length),_=(0,a.ref)([]),$=(0,a.ref)(),I=()=&gt;{$.value?.click()},T=e=&gt;{const n=e.target;if(n.files&amp;&amp;n.files.length&gt;0){const e=Array.from(n.files);_.value.push(...e),console.log("[å›¾ç‰‡ä¸Šä¼ ] å·²é€‰æ‹©å›¾ç‰‡:",e.length,"å¼ "),d.o.success(`å·²é€‰æ‹© ${e.length} å¼ å›¾ç‰‡`)}},j=(0,a.ref)(null),M=(0,a.ref)(null),O=(0,a.ref)(3),P=(0,a.ref)(25),F=(0,a.ref)(8);n({updateMemorySettings:(e,n)=&gt;{void 0!==e&amp;&amp;e&gt;0&amp;&amp;(O.value=e),void 0!==n&amp;&amp;n&gt;0&amp;&amp;(P.value=n),(()=&gt;{try{const e={maxShortTerm:O.value,maxMidTerm:P.value};localStorage.setItem("memory-settings",JSON.stringify(e)),console.log("[è®°å¿†è®¾ç½®] å·²ä¿å­˜é…ç½®:",e)}catch(e){console.warn("[è®°å¿†è®¾ç½®] ä¿å­˜é…ç½®å¤±è´¥:",e)}})(),console.log("[è®°å¿†è®¾ç½®] é…ç½®å·²æ›´æ–°:",{çŸ­æœŸè®°å¿†ä¸Šé™:O.value,ä¸­æœŸè®°å¿†ä¸Šé™:P.value})},getMemorySettings:()=&gt;({maxShortTerm:O.value,maxMidTerm:P.value})});const L=(0,a.computed)(()=&gt;{const e=N.activeCharacterProfile;return console.log("[ä¸»é¢æ¿] æ¿€æ´»è§’è‰²æ£€æŸ¥:",{hasProfile:!!e,profileName:e?.è§’è‰²åŸºç¡€ä¿¡æ¯?.åå­—,activeSlot:N.rootState.å½“å‰æ¿€æ´»å­˜æ¡£}),!!e}),Y=(0,a.computed)(()=&gt;N.activeCharacterProfile?.è§’è‰²åŸºç¡€ä¿¡æ¯?.åå­—||"æ— åé“å‹"),R=(0,a.computed)(()=&gt;{const e=N.activeCharacterProfile;if(!e||"å•æœº"!==e.æ¨¡å¼)return!1;const n=e.å­˜æ¡£åˆ—è¡¨?.["ä¸Šæ¬¡å¯¹è¯"];return null!=n?.å­˜æ¡£æ•°æ®}),U=async()=&gt;{R.value?V.showRetryDialog({title:"å›æ»šç¡®è®¤",message:"ç¡®å®šè¦å›æ»šåˆ°ä¸Šæ¬¡å¯¹è¯å‰çš„çŠ¶æ€å—ï¼Ÿå½“å‰è¿›åº¦å°†è¢«æ›¿æ¢ã€‚",confirmText:"ç¡®è®¤å›æ»š",cancelText:"å–æ¶ˆ",onConfirm:async()=&gt;{try{await N.rollbackToLastConversation(),d.o.success("å·²å›æ»šåˆ°ä¸Šæ¬¡å¯¹è¯å‰çš„çŠ¶æ€")}catch(e){console.error("å›æ»šå¤±è´¥:",e),d.o.error(`å›æ»šå¤±è´¥: ${e instanceof Error?e.message:"æœªçŸ¥é”™è¯¯"}`)}},onCancel:()=&gt;{}}):d.o.warning("æ²¡æœ‰å¯å›æ»šçš„å­˜æ¡£")},G=(0,a.computed)(()=&gt;{const e=[];return J.value.forEach(n=&gt;{e.push(...n.actions)}),e}),W=(0,a.ref)([{label:"1å¤©",value:1},{label:"3å¤©",value:3},{label:"7å¤©",value:7},{label:"30å¤©",value:30}]),J=(0,a.ref)([{name:"ä¿®ç‚¼",icon:"ğŸ§˜",actions:[{name:"åŸºç¡€ä¿®ç‚¼",icon:"âš¡",type:"cultivation",description:"è¿›è¡ŒåŸºç¡€çš„ä¿®ä¸ºä¿®ç‚¼ï¼Œæå‡å¢ƒç•Œ",timeRequired:!0},{name:"ç‚¼ä½“",icon:"ğŸ’ª",type:"cultivation",description:"é”»ç‚¼è‚‰èº«ï¼Œå¢å¼ºä½“è´¨",timeRequired:!0},{name:"å†¥æƒ³",icon:"ğŸŒŸ",type:"cultivation",description:"é™å¿ƒå†¥æƒ³ï¼Œç¨³å›ºå¿ƒå¢ƒ",timeRequired:!0}]},{name:"æ¢ç´¢",icon:"ğŸ—ºï¸",actions:[{name:"é‡å¤–æ¢ç´¢",icon:"ğŸŒ²",type:"exploration",description:"å‰å¾€é‡å¤–æ¢ç´¢ï¼Œå¯»æ‰¾æœºç¼˜",options:[{key:"nearby",label:"é™„è¿‘åŒºåŸŸ"},{key:"far",label:"è¿œæ–¹åŒºåŸŸ"},{key:"dangerous",label:"å±é™©åŒºåŸŸ"}]},{name:"åŸé•‡é€›è¡—",icon:"ğŸ›ï¸",type:"exploration",description:"åœ¨åŸé•‡ä¸­é—²é€›ï¼Œäº†è§£ä¿¡æ¯",options:[{key:"market",label:"é›†å¸‚"},{key:"tavern",label:"é…’æ¥¼"},{key:"shop",label:"å•†é“º"}]}]},{name:"äº¤æµ",icon:"ğŸ’¬",actions:[{name:"æ‹œè®¿æœ‹å‹",icon:"ğŸ‘¥",type:"social",description:"æ‹œè®¿è®¤è¯†çš„æœ‹å‹",options:[{key:"random",label:"éšæœºæ‹œè®¿"},{key:"close",label:"äº²å¯†æœ‹å‹"}]},{name:"ç»“äº¤æ–°å‹",icon:"ğŸ¤",type:"social",description:"ä¸»åŠ¨ç»“äº¤æ–°çš„æœ‹å‹"}]},{name:"å…¶ä»–",icon:"âš™ï¸",actions:[{name:"ä¼‘æ¯",icon:"ğŸ˜´",type:"other",description:"å¥½å¥½ä¼‘æ¯ï¼Œæ¢å¤ç²¾ç¥",timeRequired:!0},{name:"æŸ¥çœ‹çŠ¶æ€",icon:"ğŸ“Š",type:"other",description:"æŸ¥çœ‹å½“å‰çš„è¯¦ç»†çŠ¶æ€"}]}]),H=()=&gt;{h.value=!0},Q=()=&gt;{h.value=!1},K=()=&gt;{y.value=null,x.value=1,k.value=1,w.value=""},X=()=&gt;{if(!y.value)return;let e=y.value.name;if(y.value.timeRequired&amp;&amp;(e+=`ï¼ˆ${k.value&gt;0?k.value:x.value}å¤©ï¼‰`),w.value&amp;&amp;y.value.options){const n=y.value.options.find(e=&gt;e.key===w.value);n&amp;&amp;(e+=`ï¼ˆ${n.label}ï¼‰`)}l.value=e,K(),(0,a.nextTick)(()=&gt;{s.value?.focus()})},Z=(0,a.computed)(()=&gt;{try{console.log("[çŸ­æœŸè®°å¿†] å¼€å§‹è·å–çŸ­æœŸè®°å¿†æ•°æ®...");const e=N.activeSaveSlot,n=e?.å­˜æ¡£æ•°æ®;if(n?.è®°å¿†?.çŸ­æœŸè®°å¿†){const e=n.è®°å¿†.çŸ­æœŸè®°å¿†.slice(0,O.value);return console.log("[çŸ­æœŸè®°å¿†] ä»å­˜æ¡£æ•°æ®è·å–:",e.length,"æ¡è®°å¿†"),e}return console.log("[çŸ­æœŸè®°å¿†] å­˜æ¡£ä¸­æœªæ‰¾åˆ°çŸ­æœŸè®°å¿†æ•°æ®"),[]}catch(e){return console.warn("[çŸ­æœŸè®°å¿†] è·å–çŸ­æœŸè®°å¿†å¤±è´¥:",e),[]}}),ee=e=&gt;{const n=[];if(!e)return n.push("AIå“åº”ä¸ºç©º"),{isValid:!1,errors:n};const t=e;return t.text&amp;&amp;"string"==typeof t.text||n.push("ç¼ºå°‘æœ‰æ•ˆçš„textå­—æ®µ"),t.mid_term_memory&amp;&amp;"string"==typeof t.mid_term_memory?0===t.mid_term_memory.trim().length&amp;&amp;n.push("mid_term_memoryå­—æ®µä¸èƒ½ä¸ºç©º"):n.push("ç¼ºå°‘å¿…è¦çš„mid_term_memoryå­—æ®µï¼ˆä¸­æœŸè®°å¿†æ€»ç»“ï¼‰"),t.tavern_commands&amp;&amp;(Array.isArray(t.tavern_commands)?t.tavern_commands.forEach((e,t)=&gt;{const a=e;e&amp;&amp;"object"==typeof e?a.action&amp;&amp;a.key||n.push(`tavern_commands[${t}]ç¼ºå°‘å¿…è¦å­—æ®µ(action/key)`):n.push(`tavern_commands[${t}]ä¸æ˜¯æœ‰æ•ˆå¯¹è±¡`)}):n.push("tavern_commandså­—æ®µå¿…é¡»æ˜¯æ•°ç»„")),{isValid:0===n.length,errors:n}},ne=e=&gt;{null!==S.value&amp;&amp;(B.value+=e,(0,a.nextTick)(()=&gt;{m.value&amp;&amp;(m.value.scrollTop=m.value.scrollHeight)}))},te=e=&gt;!!e.type&amp;&amp;(!["npc_trade","npc_request","npc_steal"].includes(e.type)&amp;&amp;["equip","unequip","use","cultivate"].includes(e.type)),ae=async()=&gt;{E.clearActions(),d.o.success("æ“ä½œè®°å½•å·²æ¸…ç©º")},oe=async()=&gt;{if(!l.value.trim())return;if(c.value)return void d.o.warning("AIæ­£åœ¨å¤„ç†ä¸­ï¼Œè¯·ç¨ç­‰...");if(!L.value)return void d.o.error("è¯·å…ˆé€‰æ‹©æˆ–åˆ›å»ºè§’è‰²");const e=N.activeSaveSlot?.å­˜æ¡£æ•°æ®;if(e){const n=(0,ev.Q3)(e);if(n.isDead)return d.o.error(`è§’è‰²å·²æ­»äº¡ï¼š${n.deathReason}ã€‚æ— æ³•ç»§ç»­æ¸¸æˆï¼Œè¯·é‡æ–°å¼€å§‹æˆ–å¤æ´»è§’è‰²ã€‚`),void(j.value={type:"system",content:`ã€æ­»äº¡æç¤ºã€‘${Y.value}å·²ç»æ­»äº¡ï¼ˆ${n.deathReason}ï¼‰ï¼Œä¿®ä»™ä¹‹è·¯æˆ›ç„¶è€Œæ­¢ã€‚è‹¥è¦ç»§ç»­æ¸¸æˆï¼Œè¯·é€‰æ‹©å…¶ä»–è§’è‰²æˆ–é‡æ–°å¼€å§‹ã€‚`,time:ce(),stateChanges:{changes:[]}})}const n=l.value.trim();try{const e=N.activeCharacterProfile;if("å•æœº"===e?.æ¨¡å¼&amp;&amp;e.å­˜æ¡£åˆ—è¡¨){const n=N.activeSaveSlot;if(n?.å­˜æ¡£æ•°æ®){const t=(new Date).toISOString();e.å­˜æ¡£åˆ—è¡¨["ä¸Šæ¬¡å¯¹è¯"]={å­˜æ¡£å:"ä¸Šæ¬¡å¯¹è¯",ä¿å­˜æ—¶é—´:e.å­˜æ¡£åˆ—è¡¨["ä¸Šæ¬¡å¯¹è¯"]?.ä¿å­˜æ—¶é—´||t,æœ€åä¿å­˜æ—¶é—´:t,æ¸¸æˆå†…æ—¶é—´:n.æ¸¸æˆå†…æ—¶é—´,è§’è‰²åå­—:n.è§’è‰²åå­—,å¢ƒç•Œ:n.å¢ƒç•Œ,ä½ç½®:n.ä½ç½®,ä¿®ä¸ºè¿›åº¦:n.ä¿®ä¸ºè¿›åº¦,ä¸–ç•Œåœ°å›¾:n.ä¸–ç•Œåœ°å›¾,å­˜æ¡£æ•°æ®:JSON.parse(JSON.stringify(n.å­˜æ¡£æ•°æ®))},await N.commitToStorage(),console.log("[ä¸Šæ¬¡å¯¹è¯] å·²å¤‡ä»½å½“å‰çŠ¶æ€ï¼Œæ—¶é—´:",t)}}}catch(e){console.warn("[ä¸Šæ¬¡å¯¹è¯] å¤‡ä»½å¤±è´¥ï¼ˆéè‡´å‘½ï¼‰:",e)}const r=E.getActionPrompt(),i=n?`&lt;ç”¨æˆ·è¡ŒåŠ¨è¶‹å‘&gt;${n}<!--ç”¨æˆ·è¡ŒåŠ¨è¶‹å‘-->`:"",s=r?`${i}${r}`:i;r&amp;&amp;E.clearActions(),(0,a.nextTick)(()=&gt;{de()}),c.value=!0,j.value=null,B.value="",S.value=1;try{const e=N.activeCharacterProfile;if(!e)throw new Error("è§’è‰²æ•°æ®ç¼ºå¤±");j.value={type:"ai",content:"",time:ce(),stateChanges:{changes:[]}};let n=null;try{const a={onProgressUpdate:e=&gt;{console.log("[AIè¿›åº¦]",e)}};D.value&amp;&amp;(a.onStreamChunk=ne,a.useStreaming=!0),_.value.length&gt;0&amp;&amp;(a.image=_.value,console.log("[å›¾ç‰‡ä¸Šä¼ ] å°†å‘é€",_.value.length,"å¼ å›¾ç‰‡"));const r=e.è§’è‰²åŸºç¡€ä¿¡æ¯,l=N.activeSaveSlot?.å­˜æ¡£æ•°æ®;if(l&amp;&amp;r){const{syncHeavenlyPrecalcToTavern:e}=await Promise.resolve().then(t.bind(t,4986));await e(l,r),console.log("[å¤©é“ç³»ç»Ÿ] å·²åŒæ­¥é¢„è®¡ç®—æ•°æ®åˆ°é…’é¦†")}if(n=await z.processPlayerAction(s,e,{},a),n.gmResponse){const t=ee(n.gmResponse);if(!t.isValid){console.warn("[AIå“åº”éªŒè¯] ç»“æ„éªŒè¯å¤±è´¥:",t.errors),d.o.warning("AIå“åº”æ ¼å¼ä¸æ­£ç¡®ï¼Œæ­£åœ¨é‡è¯•...");const a=await(async(e,n,t,a,o=2)=&gt;{console.log("[AIå“åº”é‡è¯•] å¼€å§‹é‡è¯•ï¼Œä¹‹å‰çš„é”™è¯¯:",a);for(let r=1;r&lt;=o;r++)try{console.log(`[AIå“åº”é‡è¯•] ç¬¬${r}æ¬¡å°è¯•`);const o=`${e}\n\n## è¾“å‡ºæ ¼å¼ï¼ˆå¿…é¡»ä¸¥æ ¼éµå®ˆï¼‰\n\n**âš ï¸ é‡è¦ï¼šä»¥ä¸‹3ä¸ªå­—æ®µéƒ½æ˜¯å¿…éœ€çš„ï¼Œç¼ºä¸€ä¸å¯ï¼**\n\n{\n  "text": "Narrative text(ä¸­æ–‡ç®€ä½“ï¼Œå­—æ•°è¶Šå¤šè¶Šå¥½1000-3000ï¼Œå¾€ç”¨æˆ·è¶‹å‘å»å°è¯•è¡ŒåŠ¨)",\n  "mid_term_memory": "Brief summary",\n  "tavern_commands": [{"action": "Action", "key": "key.path", "value": Value/List}]\n}\n\nä¸‹é¢ä¸ºtavern_commandsçš„è¡ŒåŠ¨å‘½ä»¤ç±»å‹\n\n# ğŸ¯ Action Types\n\n| Action | Purpose | Example |\n|--------|---------|---------|\n| set | Replace/Set | Update state |\n| add | Increase/Decrease | Change numerical values |\n| push | Add to array | Record history |\n| delete | Remove field | Clear data |\n| pull | Remove from array | Remove array element |\n\n---\n\n\nä¸Šæ¬¡å“åº”çš„é—®é¢˜ï¼š${a.join(", ")}\nè¯·ä¿®æ­£è¿™äº›é—®é¢˜å¹¶ç¡®ä¿ç»“æ„æ­£ç¡®ã€‚`,l=await z.processPlayerAction(o,n,t,{onProgressUpdate:e=&gt;{console.log("[AIé‡è¯•è¿›åº¦]",e)}});if(l.gmResponse){const e=ee(l.gmResponse);if(e.isValid)return console.log(`[AIå“åº”é‡è¯•] ç¬¬${r}æ¬¡å°è¯•æˆåŠŸ`),l;console.warn(`[AIå“åº”é‡è¯•] ç¬¬${r}æ¬¡å°è¯•éªŒè¯å¤±è´¥:`,e.errors),a=e.errors}}catch(e){console.error(`[AIå“åº”é‡è¯•] ç¬¬${r}æ¬¡å°è¯•å‡ºé”™:`,e)}return console.error("[AIå“åº”é‡è¯•] æ‰€æœ‰é‡è¯•å°è¯•éƒ½å¤±è´¥äº†"),null})(s,e,{},t.errors);if(!a)throw new Error("AIå“åº”æ ¼å¼é”™è¯¯ï¼Œä¸”å¤šæ¬¡é‡è¯•å¤±è´¥");n=a,console.log("[AIå“åº”éªŒè¯] é‡è¯•æˆåŠŸ")}}console.log("[æµå¼è¾“å‡º] å®Œæˆï¼Œæ¸…é™¤æµå¼çŠ¶æ€"),S.value=null,B.value="";let i="";const c=n.gmResponse;if(console.log("[AIå“åº”å¤„ç†] å¼€å§‹å¤„ç†AIå“åº”æ–‡æœ¬"),console.log("[AIå“åº”å¤„ç†] aiResponse:",n),console.log("[AIå“åº”å¤„ç†] gmResp:",c),console.log("[AIå“åº”å¤„ç†] streamingContent:",B.value),c?.text&amp;&amp;"string"==typeof c.text?(i=c.text,console.log("[AIå“åº”å¤„ç†] ä½¿ç”¨ gmResponse.text ä½œä¸ºæœ€ç»ˆæ–‡æœ¬ï¼Œé•¿åº¦:",i.length)):n.finalContent&amp;&amp;"string"==typeof n.finalContent?(i=n.finalContent,console.log("[AIå“åº”å¤„ç†] ä½¿ç”¨ aiResponse.finalContent ä½œä¸ºæœ€ç»ˆæ–‡æœ¬ï¼Œé•¿åº¦:",i.length)):B.value?(i=B.value,console.log("[AIå“åº”å¤„ç†] ä½¿ç”¨ streamingContent ä½œä¸ºæœ€ç»ˆæ–‡æœ¬ï¼Œé•¿åº¦:",i.length)):console.warn("[AIå“åº”å¤„ç†] æœªæ‰¾åˆ°ä»»ä½•æœ‰æ•ˆçš„æ–‡æœ¬å†…å®¹"),console.log("[AIå“åº”å¤„ç†] æœ€ç»ˆæ–‡æœ¬å†…å®¹é¢„è§ˆ:",i.substring(0,100)+"..."),i){console.log("[AIå“åº”å¤„ç†] å¼€å§‹å¤„ç†æœ€ç»ˆæ–‡æœ¬..."),M.value=c?.text||null;const e=N.activeSaveSlot?.å­˜æ¡£æ•°æ®,n=e?.æ¸¸æˆæ—¶é—´,t=o(n),a=i.startsWith("ã€ä»™é“")||i.startsWith("ã€æœªçŸ¥æ—¶é—´ã€‘")?i:`${t}${i}`;j.value&amp;&amp;(j.value.content=a,console.log("[AIå“åº”å¤„ç†] å·²æ›´æ–°UIæ˜¾ç¤ºï¼ˆä½¿ç”¨å¸¦å‰ç¼€å†…å®¹ï¼‰")),console.log("[AIå“åº”å¤„ç†] å‡†å¤‡å°†æ–‡æœ¬æ·»åŠ åˆ°çŸ­æœŸè®°å¿†...");const r=c?.mid_term_memory&amp;&amp;"string"==typeof c.mid_term_memory?c.mid_term_memory:void 0;await re(a,"assistant",r),console.log("[AIå“åº”å¤„ç†] æœ€ç»ˆæ–‡æœ¬å·²æ·»åŠ åˆ°çŸ­æœŸè®°å¿†ï¼Œæ–‡æœ¬é•¿åº¦:",a.length)}else M.value=null,console.error("[AIå“åº”å¤„ç†] æ²¡æœ‰æ‰¾åˆ°æœ‰æ•ˆçš„æ–‡æœ¬å†…å®¹ï¼Œè·³è¿‡è®°å¿†ä¿å­˜");console.log("[æ•°æ®åŒæ­¥] âš ï¸ è·³è¿‡ syncFromTavernï¼ˆå‘½ä»¤å·²åœ¨processGmResponseä¸­åŒæ­¥ï¼‰");const m=N.activeSaveSlot?.å­˜æ¡£æ•°æ®;if(m?.è®°å¿†){const e=(0,an.getTavernHelper)();if(e){const{deepCleanForClone:n}=await Promise.resolve().then(t.bind(t,3098));await e.setVariable("è®°å¿†_çŸ­æœŸ",n(m.è®°å¿†.çŸ­æœŸè®°å¿†),{type:"chat"}),await e.setVariable("è®°å¿†_ä¸­æœŸ",n(m.è®°å¿†.ä¸­æœŸè®°å¿†),{type:"chat"}),await e.setVariable("è®°å¿†_é•¿æœŸ",n(m.è®°å¿†.é•¿æœŸè®°å¿†),{type:"chat"}),console.log("[è®°å¿†åŒæ­¥] âœ… è®°å¿†å·²åŒæ­¥åˆ°Tavernåˆ†ç‰‡")}}if(n&amp;&amp;n.stateChanges){V.clearCurrentMessageStateChanges(),console.log("[æ—¥å¿—æ¸…ç©º] æ”¶åˆ°æ–°å“åº”ï¼Œå·²æ¸…ç©ºä¸Šä¸€æ¡æ¶ˆæ¯çš„çŠ¶æ€å˜æ›´æ—¥å¿—");const e=n.stateChanges&amp;&amp;"object"==typeof n.stateChanges&amp;&amp;"changes"in n.stateChanges?n.stateChanges:{changes:[]};if(await N.updateCharacterData(e),j.value){j.value.stateChanges=n.stateChanges;const e=N.activeSaveSlot?.å­˜æ¡£æ•°æ®;if(e){e.å™äº‹å†å²||(e.å™äº‹å†å²=[]);const n={type:j.value.type,content:j.value.content,time:j.value.time,stateChanges:j.value.stateChanges};e.å™äº‹å†å².unshift(n),console.log("[ä¸»é¢æ¿-è°ƒè¯•] ä¿å­˜å™äº‹å†å²:",{å™äº‹ç±»å‹:n.type,å†…å®¹é•¿åº¦:n.content.length,changesæ•°é‡:n.stateChanges?.changes?.length||0,å†å²æ€»æ•°:e.å™äº‹å†å².length}),e.å™äº‹å†å².length&gt;100&amp;&amp;(e.å™äº‹å†å²=e.å™äº‹å†å².slice(0,100)),N.saveCurrentGame()}}V.setCurrentMessageStateChanges(n.stateChanges),console.log("[æ—¥å¿—é¢æ¿] State changes received and stored in memory:",n.stateChanges);const t=N.activeSaveSlot?.å­˜æ¡£æ•°æ®;if(t){const e=(0,ev.Q3)(t);e.isDead&amp;&amp;(j.value={type:"system",content:`ğŸ’€ã€æ­»äº¡é€šçŸ¥ã€‘${Y.value}åœ¨æ­¤æ¬¡è¡ŒåŠ¨ä¸­ä¸å¹¸æ­»äº¡ï¼ˆ${e.deathReason}ï¼‰ã€‚ä¿®ä»™è·¯æ–­ï¼Œç”Ÿå‘½å·²é€ã€‚`,time:ce(),stateChanges:{changes:[]}},d.o.error(`è§’è‰²å·²æ­»äº¡ï¼š${e.deathReason}`))}}else n&amp;&amp;console.log("[æ—¥å¿—é¢æ¿] No state changes received in this response.")}catch(e){console.error("[AIå¤„ç†å¤±è´¥]",e),S.value=null,B.value="",c.value=!1,g();const t=e instanceof Error?e.message:"æœªçŸ¥é”™è¯¯";d.o.error(`AIç”Ÿæˆå¤±è´¥ï¼š${t}`,{duration:5e3}),j.value={type:"system",content:"ã€ç”Ÿæˆå¤±è´¥ã€‘å¤©é“æ„Ÿåº”ä¸­æ–­ï¼Œæœªèƒ½ç”Ÿæˆæœ‰æ•ˆå›åº”ã€‚åŸæœ‰æ¸¸æˆçŠ¶æ€æœªå‘ç”Ÿä»»ä½•å˜åŒ–ï¼Œè¯·é‡æ–°å°è¯•ã€‚",time:ce(),stateChanges:{changes:[]}},n=null}if(n&amp;&amp;n.systemMessages&amp;&amp;Array.isArray(n.systemMessages)&amp;&amp;n.systemMessages.length&gt;0&amp;&amp;(j.value={type:"system",content:n.systemMessages.join("\n"),time:ce(),stateChanges:{changes:[]}}),n){d.o.success("å¤©æœºé‡ç°"),_.value=[],$.value&amp;&amp;($.value.value="");try{console.log("[AIå“åº”å¤„ç†] ä¿å­˜æ‰€æœ‰æ•°æ®åˆ°æœ¬åœ°å’Œé…’é¦†..."),await N.syncToTavernAndSave(),console.log("[AIå“åº”å¤„ç†] æ•°æ®ä¿å­˜å®Œæˆ")}catch(e){console.error("[AIå“åº”å¤„ç†] æ•°æ®ä¿å­˜å¤±è´¥:",e),d.o.error("æ•°æ®ä¿å­˜å¤±è´¥ï¼Œè¯·å°è¯•æ‰‹åŠ¨ä¿å­˜æ¸¸æˆ")}console.log("[AIå“åº”å¤„ç†] æˆåŠŸå®Œæˆ,æ¸…é™¤AIå¤„ç†çŠ¶æ€"),c.value=!1,g()}}catch(e){console.error("[AIäº¤äº’] å¤„ç†å¤±è´¥:",e),S.value=null,B.value="",j.value={type:"system",content:`ã€å¤©é“æ— åº”ã€‘${e instanceof Error?e.message:"ä¿®ä»™è·¯ä¸Šé‡åˆ°äº†æœªçŸ¥é˜»ç¢"}`,time:ce(),stateChanges:{changes:[]}},d.o.error("å¤©é“æ— åº”ï¼Œè¯·ç¨åå†è¯•")}finally{c.value=!1,g()}},re=async(e,n="assistant",t)=&gt;{try{console.log(`[è®°å¿†ç®¡ç†] å¼€å§‹æ·»åŠ  ${n} æ¶ˆæ¯åˆ°çŸ­æœŸè®°å¿†`),console.log(`[è®°å¿†ç®¡ç†] å†…å®¹é•¿åº¦: ${e.length}`),console.log("[è®°å¿†ç®¡ç†] ä¸­æœŸè®°å¿†æ€»ç»“:",t||"æ— ");const a=N.activeSaveSlot,r=a?.å­˜æ¡£æ•°æ®;if(!r)return void console.warn("[è®°å¿†ç®¡ç†] å­˜æ¡£æ•°æ®ä¸å¯ç”¨ï¼Œæ— æ³•å­˜å‚¨çŸ­æœŸè®°å¿†");r.è®°å¿†||(console.log("[è®°å¿†ç®¡ç†] åˆå§‹åŒ–è®°å¿†ç»“æ„"),r.è®°å¿†={çŸ­æœŸè®°å¿†:[],ä¸­æœŸè®°å¿†:[],é•¿æœŸè®°å¿†:[],éšå¼ä¸­æœŸè®°å¿†:[]}),Array.isArray(r.è®°å¿†.çŸ­æœŸè®°å¿†)||(console.log("[è®°å¿†ç®¡ç†] åˆå§‹åŒ–çŸ­æœŸè®°å¿†æ•°ç»„"),r.è®°å¿†.çŸ­æœŸè®°å¿†=[]),Array.isArray(r.è®°å¿†.éšå¼ä¸­æœŸè®°å¿†)||(console.log("[è®°å¿†ç®¡ç†] åˆå§‹åŒ–éšå¼ä¸­æœŸè®°å¿†æ•°ç»„"),r.è®°å¿†.éšå¼ä¸­æœŸè®°å¿†=[]),console.log(`[è®°å¿†ç®¡ç†] æ·»åŠ å‰çŸ­æœŸè®°å¿†æ•°é‡: ${r.è®°å¿†.çŸ­æœŸè®°å¿†.length}`),console.log(`[è®°å¿†ç®¡ç†] æ·»åŠ å‰éšå¼ä¸­æœŸè®°å¿†æ•°é‡: ${r.è®°å¿†.éšå¼ä¸­æœŸè®°å¿†.length}`);const l=e.startsWith("ã€ä»™é“")||e.startsWith("ã€æœªçŸ¥æ—¶é—´ã€‘")||e.startsWith("ã€ä»™å†");let i=e;if(l)console.log("[è®°å¿†ç®¡ç†] contentå·²åŒ…å«æ—¶é—´å‰ç¼€ï¼Œè·³è¿‡æ·»åŠ ");else{i=`${o(r.æ¸¸æˆæ—¶é—´)}${e}`,console.log("[è®°å¿†ç®¡ç†] ä¸ºcontentæ·»åŠ æ—¶é—´å‰ç¼€")}if(r.è®°å¿†.çŸ­æœŸè®°å¿†.unshift(i),t&amp;&amp;t.trim()){const e=`${o(r.æ¸¸æˆæ—¶é—´)}${t}`;r.è®°å¿†.éšå¼ä¸­æœŸè®°å¿†.unshift(e),console.log(`[è®°å¿†ç®¡ç†] âœ… å·²åŒæ—¶æ·»åŠ éšå¼ä¸­æœŸè®°å¿†: ${e.substring(0,50)}...`)}else{const n=o(r.æ¸¸æˆæ—¶é—´),t=l?e.substring(e.indexOf("ã€‘")+1):e,a=`${n}${t.length&gt;100?t.substring(0,100)+"...":t}`;r.è®°å¿†.éšå¼ä¸­æœŸè®°å¿†.unshift(a),console.log("[è®°å¿†ç®¡ç†] âš ï¸ AIæœªè¿”å›mid_term_memoryï¼Œè‡ªåŠ¨ç”Ÿæˆéšå¼ä¸­æœŸè®°å¿†")}if(console.log(`[è®°å¿†ç®¡ç†] çŸ­æœŸè®°å¿†å·²æ·»åŠ ï¼Œå½“å‰æ•°é‡: ${r.è®°å¿†.çŸ­æœŸè®°å¿†.length}`),console.log(`[è®°å¿†ç®¡ç†] éšå¼ä¸­æœŸè®°å¿†å·²æ·»åŠ ï¼Œå½“å‰æ•°é‡: ${r.è®°å¿†.éšå¼ä¸­æœŸè®°å¿†.length}`),r.è®°å¿†.çŸ­æœŸè®°å¿†.length&gt;O.value){console.log(`[è®°å¿†ç®¡ç†] çŸ­æœŸè®°å¿†è¶…å‡ºé™åˆ¶ï¼ˆ${O.value}ï¼‰ï¼Œå¼€å§‹è§¦å‘æº¢å‡ºå¤„ç†`),r.è®°å¿†.ä¸­æœŸè®°å¿†||(r.è®°å¿†.ä¸­æœŸè®°å¿†=[]);const e=r.è®°å¿†.çŸ­æœŸè®°å¿†.length-O.value;console.log(`[è®°å¿†ç®¡ç†] éœ€è¦ç§»é™¤ ${e} æ¡çŸ­æœŸè®°å¿†`);for(let n=0;n<e;n++){const e="r.è®°å¿†.çŸ­æœŸè®°å¿†.pop();if(e&amp;&amp;console.log(`[è®°å¿†ç®¡ç†]" ç§»é™¤çŸ­æœŸè®°å¿†="" #${n+1}:="" ${e.substring(0,50)}...`),r.è®°å¿†.éšå¼ä¸­æœŸè®°å¿†.length="">0){const e=r.è®°å¿†.éšå¼ä¸­æœŸè®°å¿†.pop();e&amp;&amp;(r.è®°å¿†.ä¸­æœŸè®°å¿†.some(n=&gt;n===e)?console.log("[è®°å¿†ç®¡ç†] âš ï¸ è·³è¿‡é‡å¤çš„ä¸­æœŸè®°å¿†"):(r.è®°å¿†.ä¸­æœŸè®°å¿†.unshift(e),console.log(`[è®°å¿†ç®¡ç†] è½¬ç§»éšå¼ä¸­æœŸè®°å¿†åˆ°ä¸­æœŸè®°å¿† #${n+1}: ${e.substring(0,50)}...`)))}else console.log(`[è®°å¿†ç®¡ç†] âš ï¸ éšå¼ä¸­æœŸè®°å¿†ä¸è¶³ï¼Œæ— æ³•åŒæ­¥è½¬ç§»ç¬¬ ${n+1} æ¡`)}console.log("[è®°å¿†ç®¡ç†] âœ… å®Œæˆè®°å¿†è½¬ç§»"),console.log(`[è®°å¿†ç®¡ç†] ğŸ“ çŸ­æœŸè®°å¿†å‰©ä½™: ${r.è®°å¿†.çŸ­æœŸè®°å¿†.length}`),console.log(`[è®°å¿†ç®¡ç†] ğŸ”„ éšå¼ä¸­æœŸè®°å¿†å‰©ä½™: ${r.è®°å¿†.éšå¼ä¸­æœŸè®°å¿†.length}`),console.log(`[è®°å¿†ç®¡ç†] ğŸ’­ ä¸­æœŸè®°å¿†å½“å‰: ${r.è®°å¿†.ä¸­æœŸè®°å¿†.length}`),r.è®°å¿†.ä¸­æœŸè®°å¿†.length&gt;P.value&amp;&amp;await le()}console.log("[è®°å¿†ç®¡ç†] âœ… è®°å¿†ä¿å­˜å®Œæˆ"),console.log(`[è®°å¿†ç®¡ç†] ğŸ“ å½“å‰çŸ­æœŸè®°å¿†æ€»æ•°: ${r.è®°å¿†.çŸ­æœŸè®°å¿†.length}`),console.log(`[è®°å¿†ç®¡ç†] ğŸ”„ å½“å‰éšå¼ä¸­æœŸè®°å¿†æ€»æ•°: ${r.è®°å¿†.éšå¼ä¸­æœŸè®°å¿†.length}`),console.log(`[è®°å¿†ç®¡ç†] ğŸ’­ å½“å‰ä¸­æœŸè®°å¿†æ€»æ•°: ${r.è®°å¿†.ä¸­æœŸè®°å¿†?.length||0}`),console.log("[è®°å¿†ç®¡ç†] æ•°æ®å·²æ›´æ–°åˆ°å†…å­˜ï¼Œç­‰å¾…ä¸»æµç¨‹ç»Ÿä¸€ä¿å­˜")}catch(e){console.error("[è®°å¿†ç®¡ç†] æ·»åŠ çŸ­æœŸè®°å¿†æˆ–è½¬ç§»ä¸­æœŸè®°å¿†å¤±è´¥:",e)}},le=async()=&gt;{try{console.log("[è®°å¿†ç®¡ç†] å¼€å§‹è½¬ç§»åˆ°é•¿æœŸè®°å¿†");const e=N.activeSaveSlot,n=e?.å­˜æ¡£æ•°æ®;if(!n?.è®°å¿†?.ä¸­æœŸè®°å¿†)return void console.warn("[è®°å¿†ç®¡ç†] å­˜æ¡£æˆ–ä¸­æœŸè®°å¿†æ•°æ®ä¸å¯ç”¨ï¼Œæ— æ³•å¤„ç†é•¿æœŸè®°å¿†è½¬ç§»");const t=n.è®°å¿†.ä¸­æœŸè®°å¿†.length-F.value;if(t&gt;0){const e=n.è®°å¿†.ä¸­æœŸè®°å¿†.splice(0,t);console.log(`[è®°å¿†ç®¡ç†] æå–äº† ${e.length} æ¡ä¸­æœŸè®°å¿†è¿›è¡Œæ€»ç»“ã€‚å‰©ä½™ä¸­æœŸè®°å¿†: ${n.è®°å¿†.ä¸­æœŸè®°å¿†.length} æ¡`);const a=await ie(e);if(a){n.è®°å¿†.é•¿æœŸè®°å¿†||(n.è®°å¿†.é•¿æœŸè®°å¿†=[]),n.è®°å¿†.é•¿æœŸè®°å¿†.unshift(a),console.log(`[è®°å¿†ç®¡ç†] âœ… æˆåŠŸæ€»ç»“å¹¶æ·»åŠ åˆ°é•¿æœŸè®°å¿†ã€‚é•¿æœŸè®°å¿†æ€»æ•°: ${n.è®°å¿†.é•¿æœŸè®°å¿†.length} æ¡`),console.log("[è®°å¿†ç®¡ç†] é•¿æœŸè®°å¿†å†…å®¹é¢„è§ˆ:",a.substring(0,100)),console.log("[è®°å¿†ç®¡ç†] å®Œæ•´é•¿æœŸè®°å¿†æ•°ç»„:",n.è®°å¿†.é•¿æœŸè®°å¿†),await N.syncToTavernAndSave({fullSync:!0}),console.log("[è®°å¿†ç®¡ç†] âœ… å·²ä¿å­˜ä¸­æœŸè®°å¿†åˆ é™¤å’Œé•¿æœŸè®°å¿†æ–°å¢åˆ°é…’é¦†");const e=N.activeSaveSlot;e?.å­˜æ¡£æ•°æ®?.è®°å¿†?.é•¿æœŸè®°å¿†&amp;&amp;console.log(`[è®°å¿†ç®¡ç†] éªŒè¯ï¼šå­˜æ¡£ä¸­çš„é•¿æœŸè®°å¿†æ•°é‡ = ${e.å­˜æ¡£æ•°æ®.è®°å¿†.é•¿æœŸè®°å¿†.length}`)}else console.warn("[è®°å¿†ç®¡ç†] âš ï¸ ç”Ÿæˆé•¿æœŸè®°å¿†æ€»ç»“å¤±è´¥ï¼Œè¢«ç§»é™¤çš„ä¸­æœŸè®°å¿†å·²ä¸¢å¤±:",e)}}catch(e){console.warn("[è®°å¿†ç®¡ç†] è½¬ç§»é•¿æœŸè®°å¿†å¤±è´¥:",e)}},ie=async e=&gt;{try{const n=(0,an.getTavernHelper)();if(!n)return null;const t=e.join("\n\n"),a=await n.generateRaw({ordered_prompts:[{role:"system",content:"ä½ æ˜¯è®°å¿†æ•´ç†åŠ©æ‰‹ã€‚å°†æä¾›çš„å¤šæ¡è®°å¿†æ•´ç†æˆä¸€æ®µè¿è´¯çš„æ€»ç»“ã€‚åªè¾“å‡ºæ€»ç»“å†…å®¹ï¼Œä¸è¦ä»»ä½•å‰è¨€ã€åè¯­æˆ–é¢å¤–è¯´æ˜ã€‚"},{role:"user",content:`è¯·å°†ä»¥ä¸‹è®°å¿†æ€»ç»“æˆä¸€æ®µè¿è´¯çš„æ–‡æœ¬ï¼š\n\n${t}`}],use_world_info:!1,should_stream:!1});return("string"==typeof a?a.trim():null)||null}catch(e){return console.warn("[è®°å¿†ç®¡ç†] ç”Ÿæˆé•¿æœŸè®°å¿†æ€»ç»“å¤±è´¥:",e),null}},ce=()=&gt;{const e=new Date;return`${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}`},se=e=&gt;{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),oe())},de=()=&gt;{const e=s.value;if(e){const n=36.16;e.style.height=`${n}px`;const t=e.scrollHeight,a=120;if(t&gt;n){const n=Math.min(t,a);e.style.height=`${n}px`}e.style.overflowY=t&gt;a?"auto":"hidden"}},me=()=&gt;{(0,a.nextTick)(()=&gt;{de()})},pe=async()=&gt;{console.log("[ä¸»é¢æ¿] ä¸ºå½“å‰å­˜æ¡£åˆå§‹åŒ–é¢æ¿ (æ–°é€»è¾‘)...");try{if(L.value){const e=N.activeSaveSlot?.å­˜æ¡£æ•°æ®,n=e?.è®°å¿†?.çŸ­æœŸè®°å¿†;if(console.log("[ä¸»é¢æ¿-è°ƒè¯•] å­˜æ¡£æ•°æ®æ£€æŸ¥:",{æœ‰å­˜æ¡£æ•°æ®:!!e,æœ‰å™äº‹å†å²:!!e?.å™äº‹å†å²,å™äº‹å†å²é•¿åº¦:e?.å™äº‹å†å²?.length||0,æœ‰çŸ­æœŸè®°å¿†:!!n,çŸ­æœŸè®°å¿†é•¿åº¦:n?.length||0}),e?.å™äº‹å†å²&amp;&amp;e.å™äº‹å†å².length&gt;0){const n=e.å™äº‹å†å²[0];console.log("[ä¸»é¢æ¿] ä»å™äº‹å†å²æ¢å¤æœ€æ–°å™è¿°ï¼ˆå«çŠ¶æ€å˜æ›´æ—¥å¿—ï¼‰"),console.log("[ä¸»é¢æ¿-è°ƒè¯•] å™äº‹å†å²ç¬¬ä¸€æ¡:",{type:n.type,å†…å®¹é•¿åº¦:n.content?.length||0,æœ‰stateChanges:!!n.stateChanges,changesæ•°é‡:n.stateChanges?.changes?.length||0}),j.value={type:n.type,content:n.content,time:n.time,stateChanges:n.stateChanges||{changes:[]}}}else if(n&amp;&amp;n.length&gt;0){const e=n[0];console.log("[ä¸»é¢æ¿] ä»å­˜æ¡£åŠ è½½æœ€æ–°å™è¿°:",e.substring(0,100));const t=N.consumeInitialCreationStateChanges();j.value={type:"gm",content:e,time:ce(),stateChanges:t||{changes:[]}},t&amp;&amp;console.log("[ä¸»é¢æ¿] å·²åŠ è½½å¹¶æ¶ˆè´¹è§’è‰²åˆ›å»ºæ—¶çš„åˆå§‹çŠ¶æ€å˜æ›´ã€‚")}else{console.log("[ä¸»é¢æ¿] æœªæ‰¾åˆ°å™äº‹è®°å½•ï¼Œæ˜¾ç¤ºæ¬¢è¿ä¿¡æ¯");const e=N.activeSaveSlot?.å­˜æ¡£æ•°æ®?.è§’è‰²åŸºç¡€ä¿¡æ¯?.åå­—||"ä¿®è¡Œè€…";j.value={type:"system",content:`ã€æ¬¢è¿ã€‘${e}ï¼Œä½ çš„ä¿®ä»™ä¹‹æ—…å³å°†å¼€å§‹ã€‚è¯·è¾“å…¥ä½ çš„è¡ŒåŠ¨ã€‚`,time:ce(),stateChanges:{changes:[]}}}await ue()}else j.value={type:"system",content:"ã€æç¤ºã€‘è¯·å…ˆé€‰æ‹©æˆ–åˆ›å»ºè§’è‰²å¼€å§‹æ¸¸æˆã€‚",time:ce(),stateChanges:{changes:[]}};(0,a.nextTick)(()=&gt;{m.value&amp;&amp;(m.value.scrollTop=m.value.scrollHeight)})}catch(e){console.error("[ä¸»é¢æ¿] åˆå§‹åŒ–å­˜æ¡£æ•°æ®å¤±è´¥:",e),j.value={type:"system",content:"ã€ç³»ç»Ÿã€‘åŠ è½½å­˜æ¡£æ•°æ®æ—¶é‡åˆ°é—®é¢˜ã€‚",time:ce(),stateChanges:{changes:[]}}}};(0,a.watch)(()=&gt;N.rootState.å½“å‰æ¿€æ´»å­˜æ¡£,async(e,n)=&gt;{e&amp;&amp;e!==n&amp;&amp;(console.log(`[ä¸»é¢æ¿] å­˜æ¡£å·²åˆ‡æ¢: ä» ${n||"æ— "} åˆ° ${e}`),console.log("[ä¸»é¢æ¿] æ£€æµ‹åˆ°å­˜æ¡£åˆ‡æ¢ï¼Œæ­£åœ¨é‡ç½®é¢æ¿çŠ¶æ€..."),E.clearActions(),j.value=null,l.value="",M.value=null,c.value=!1,g(),await pe())}),(0,a.watch)(()=&gt;N.activeSaveSlot?.å­˜æ¡£æ•°æ®?.è®°å¿†?.çŸ­æœŸè®°å¿†,e=&gt;{if(!c.value&amp;&amp;e&amp;&amp;e.length&gt;0){const n=e[0];j.value&amp;&amp;j.value.content===n||(console.log("[ä¸»é¢æ¿] æ£€æµ‹åˆ°çŸ­æœŸè®°å¿†å˜æ›´ï¼ŒåŒæ­¥æ›´æ–°æ˜¾ç¤ºã€‚"),j.value={type:"ai",content:n,time:ce(),stateChanges:{changes:[]}})}},{deep:!0}),(0,a.onMounted)(async()=&gt;{try{(async()=&gt;{try{const e=(0,an.getTavernHelper)();if(e)try{const n=await e.getVariable("character.memorySettings",{type:"chat"});if(n&amp;&amp;"object"==typeof n){const e=n;return"number"==typeof e.shortTermLimit&amp;&amp;(O.value=e.shortTermLimit),"number"==typeof e.midTermTrigger&amp;&amp;(P.value=e.midTermTrigger),"number"==typeof e.midTermKeep&amp;&amp;(F.value=e.midTermKeep),void console.log("[è®°å¿†è®¾ç½®] å·²ä»é…’é¦†å˜é‡åŠ è½½é…ç½®:",{çŸ­æœŸè®°å¿†ä¸Šé™:O.value,ä¸­æœŸè®°å¿†è§¦å‘é˜ˆå€¼:P.value,ä¸­æœŸè®°å¿†ä¿ç•™æ•°é‡:F.value})}}catch{console.log("[è®°å¿†è®¾ç½®] æœªæ‰¾åˆ°é…’é¦†å˜é‡é…ç½®ï¼Œå°è¯•ä»localStorageè¯»å–")}const n=localStorage.getItem("memory-settings");if(n){const e=JSON.parse(n);e.maxShortTerm&amp;&amp;(O.value=e.maxShortTerm),e.maxMidTerm&amp;&amp;(P.value=e.maxMidTerm),e.midTermKeep&amp;&amp;(F.value=e.midTermKeep),console.log("[è®°å¿†è®¾ç½®] å·²ä»localStorageåŠ è½½é…ç½®:",{çŸ­æœŸè®°å¿†ä¸Šé™:O.value,ä¸­æœŸè®°å¿†è§¦å‘é˜ˆå€¼:P.value,ä¸­æœŸè®°å¿†ä¿ç•™æ•°é‡:F.value})}}catch(e){console.warn("[è®°å¿†è®¾ç½®] åŠ è½½é…ç½®å¤±è´¥ï¼Œä½¿ç”¨é»˜è®¤å€¼:",e)}})(),f(),await ve(),(0,a.nextTick)(de),await pe(),Oi.on("memory-settings-updated",e=&gt;{if(console.log("[è®°å¿†è®¾ç½®] æ¥æ”¶åˆ°é…ç½®æ›´æ–°äº‹ä»¶:",e),e&amp;&amp;"object"==typeof e){const n=e;"number"==typeof n.shortTermLimit&amp;&amp;(O.value=n.shortTermLimit,console.log(`[è®°å¿†è®¾ç½®] çŸ­æœŸè®°å¿†ä¸Šé™å·²æ›´æ–°ä¸º: ${O.value}`)),"number"==typeof n.midTermTrigger&amp;&amp;(P.value=n.midTermTrigger,console.log(`[è®°å¿†è®¾ç½®] ä¸­æœŸè®°å¿†è§¦å‘é˜ˆå€¼å·²æ›´æ–°ä¸º: ${P.value}`)),"number"==typeof n.midTermKeep&amp;&amp;(F.value=n.midTermKeep,console.log(`[è®°å¿†è®¾ç½®] ä¸­æœŸè®°å¿†ä¿ç•™æ•°é‡å·²æ›´æ–°ä¸º: ${F.value}`))}});const e=(0,an.getTavernHelper)();e&amp;&amp;e.registerSlashCommand&amp;&amp;(console.log("[ä¸»é¢æ¿] æ³¨å†Œ AI ç”Ÿæˆå®Œæˆç›‘å¬"),e.registerSlashCommand("event-emit",async e=&gt;{const n=e,t=n?.event;"MESSAGE_GENERATED"!==t&amp;&amp;"GENERATION_COMPLETED"!==t||(console.log("[ä¸»é¢æ¿] æ£€æµ‹åˆ° AI ç”Ÿæˆå®Œæˆäº‹ä»¶"),c.value&amp;&amp;(console.log("[ä¸»é¢æ¿] è‡ªåŠ¨æ¸…é™¤ AI å¤„ç†çŠ¶æ€"),c.value=!1,g()))}))}catch(e){console.error("[ä¸»é¢æ¿] é¦–æ¬¡æŒ‚è½½å¤±è´¥:",e),j.value={type:"system",content:"ã€ç³»ç»Ÿã€‘åˆå§‹åŒ–é‡åˆ°é—®é¢˜ï¼Œè¯·åˆ·æ–°é¡µé¢é‡è¯•ã€‚",time:ce(),stateChanges:{changes:[]}}}}),(0,a.onActivated)(()=&gt;{console.log("[ä¸»é¢æ¿] ç»„ä»¶æ¿€æ´»ï¼Œæ¢å¤AIå¤„ç†çŠ¶æ€"),f()});const ve=async()=&gt;{try{console.log("[ä¸»é¢æ¿] åˆå§‹åŒ–ç³»ç»Ÿè¿æ¥..."),console.log("[ä¸»é¢æ¿] ç³»ç»Ÿè¿æ¥åˆå§‹åŒ–å®Œæˆ")}catch(e){console.error("[ä¸»é¢æ¿] ç³»ç»Ÿè¿æ¥åˆå§‹åŒ–å¤±è´¥:",e)}},ue=async()=&gt;{try{if(!N.activeCharacterProfile)return;console.log("[ä¸»é¢æ¿] æ¸¸æˆçŠ¶æ€åŒæ­¥å®Œæˆ")}catch(e){console.error("[ä¸»é¢æ¿] æ¸¸æˆçŠ¶æ€åŒæ­¥å¤±è´¥:",e)}};return(e,n)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",mu,[(0,a.createCommentVNode)(" çŸ­æœŸè®°å¿†åŒºåŸŸ "),v.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",pu,[(0,a.createElementVNode)("div",{class:"memory-header",onClick:u},[n[7]||(n[7]=(0,a.createElementVNode)("span",{class:"memory-title"},"ğŸ“ çŸ­æœŸè®°å¿†",-1)),p.value?((0,a.openBlock)(),(0,a.createBlock)((0,a.unref)(Ev),{key:0,size:16,class:"memory-icon"})):((0,a.openBlock)(),(0,a.createBlock)((0,a.unref)(rc),{key:1,size:16,class:"memory-icon"}))]),(0,a.createCommentVNode)(" ä¸‹æ‹‰æ‚¬æµ®çš„è®°å¿†å†…å®¹ "),(0,a.createVNode)(a.Transition,{name:"memory-dropdown"},{default:(0,a.withCtx)(()=&gt;[p.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",vu,[(0,a.createElementVNode)("div",uu,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(Z.value,(e,n)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:n,class:"memory-item"},(0,a.toDisplayString)(e),1))),128)),0===Z.value.length?((0,a.openBlock)(),(0,a.createElementBlock)("div",gu," è„‘æµ·ä¸­ä¸€ç‰‡æ¸…å‡€ï¼Œå°šæœªç•™ä¸‹ä¿®è¡Œç—•è¿¹... ")):(0,a.createCommentVNode)("v-if",!0)])])):(0,a.createCommentVNode)("v-if",!0)]),_:1})])):(0,a.createCommentVNode)("v-if",!0),(0,a.createCommentVNode)(" æ–‡æœ¬æ˜¾ç¤ºåŒºåŸŸ - å½“å‰AIå›å¤ "),(0,a.createElementVNode)("div",{class:"content-area",ref_key:"contentAreaRef",ref:m},[(0,a.createCommentVNode)(" å·¦ä¾§ï¼šå½“å‰å™è¿° "),(0,a.createElementVNode)("div",fu,[(0,a.createCommentVNode)(" AIå¤„ç†æ—¶æ˜¾ç¤º "),c.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",bu,[(0,a.createCommentVNode)(" å¦‚æœæœ‰æµå¼å†…å®¹åˆ™æ˜¾ç¤º "),D.value&amp;&amp;B.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",hu,[(0,a.createElementVNode)("div",yu,[(0,a.createElementVNode)("span",xu,(0,a.toDisplayString)(ce()),1),(0,a.createElementVNode)("div",ku,[n[8]||(n[8]=(0,a.createElementVNode)("span",{class:"streaming-dot"},null,-1)),B.value?((0,a.openBlock)(),(0,a.createElementBlock)("span",wu,(0,a.toDisplayString)(A.value)+" å­—",1)):(0,a.createCommentVNode)("v-if",!0)]),(0,a.createCommentVNode)(" é‡ç½®æŒ‰é’® - å³ä¾§ "),(0,a.createElementVNode)("button",{onClick:b,class:"reset-state-btn",title:"å¦‚æœé•¿æ—¶é—´æ— å“åº”ï¼Œç‚¹å‡»æ­¤å¤„é‡ç½®çŠ¶æ€"},[(0,a.createVNode)((0,a.unref)(Vv),{size:16})])]),(0,a.createElementVNode)("div",Nu,[(0,a.createVNode)(du,{text:B.value},null,8,["text"])])])):((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:1},[(0,a.createCommentVNode)(" ç­‰å¾…å“åº”çš„åŠ è½½åŠ¨ç”» "),(0,a.createElementVNode)("div",Eu,[(0,a.createElementVNode)("div",Vu,[(0,a.createElementVNode)("span",Cu,(0,a.toDisplayString)(ce()),1),n[9]||(n[9]=(0,a.createElementVNode)("div",{class:"streaming-indicator"},[(0,a.createElementVNode)("span",{class:"streaming-dot"}),(0,a.createElementVNode)("span",{class:"streaming-text"},"å¤©é“æ„Ÿåº”ä¸­...")],-1)),(0,a.createCommentVNode)(" é‡ç½®æŒ‰é’® - å³ä¾§ "),(0,a.createElementVNode)("button",{onClick:b,class:"reset-state-btn",title:"å¦‚æœé•¿æ—¶é—´æ— å“åº”ï¼Œç‚¹å‡»æ­¤å¤„é‡ç½®çŠ¶æ€"},[(0,a.createVNode)((0,a.unref)(Vv),{size:16})])]),n[10]||(n[10]=(0,a.createStaticVNode)('<div class="narrative-text" data-v-b63a96a6=""><div class="waiting-animation" data-v-b63a96a6=""><div class="thinking-dots" data-v-b63a96a6=""><div class="dot" data-v-b63a96a6=""></div><div class="dot" data-v-b63a96a6=""></div><div class="dot" data-v-b63a96a6=""></div></div></div></div>',1))])],2112))])):((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:1},[(0,a.createCommentVNode)(" éAIå¤„ç†æ—¶æ˜¾ç¤º "),j.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",zu,[(0,a.createElementVNode)("div",Su,[(0,a.createElementVNode)("span",Bu,(0,a.toDisplayString)(j.value.time),1),(0,a.createElementVNode)("div",Du,[(0,a.createCommentVNode)(" å›æ»šæŒ‰é’® "),R.value?((0,a.openBlock)(),(0,a.createElementBlock)("button",{key:0,onClick:U,class:"header-action-btn rollback-btn",title:"å›æ»šåˆ°ä¸Šæ¬¡å¯¹è¯å‰çš„çŠ¶æ€"},[(0,a.createVNode)((0,a.unref)(Vv),{size:24})])):(0,a.createCommentVNode)("v-if",!0),(0,a.createCommentVNode)(" å‘½ä»¤æ—¥å¿—æŒ‰é’® "),(0,a.createElementVNode)("button",{onClick:n[0]||(n[0]=e=&gt;{var n;(n=j.value.stateChanges)&amp;&amp;n.changes&amp;&amp;0!==n.changes.length?V.openStateChangeViewer(n):d.o.info("æœ¬æ¬¡å¯¹è¯æ— å˜æ›´è®°å½•")}),class:(0,a.normalizeClass)(["variable-updates-toggle",{disabled:0===r.value.length}]),disabled:0===r.value.length,title:r.value.length&gt;0?"æŸ¥çœ‹æœ¬æ¬¡å¯¹è¯çš„å˜æ›´æ—¥å¿—":"æœ¬æ¬¡å¯¹è¯æ— å˜æ›´è®°å½•"},[(0,a.createVNode)((0,a.unref)(we),{size:16}),(0,a.createElementVNode)("span",_u,(0,a.toDisplayString)(r.value.length),1)],10,Au)])]),(0,a.createElementVNode)("div",$u,[(0,a.createVNode)(du,{text:j.value.content},null,8,["text"])])])):((0,a.openBlock)(),(0,a.createElementBlock)("div",Iu," é™å¾…å¤©æœºå˜åŒ–... "))],64))])],512),(0,a.createCommentVNode)(" è¾“å…¥åŒºåŸŸ "),(0,a.createElementVNode)("div",Tu,[(0,a.createCommentVNode)(" åŠ¨ä½œé˜Ÿåˆ—æ˜¾ç¤ºåŒºåŸŸ "),(0,a.unref)(E).pendingActions.length&gt;0?((0,a.openBlock)(),(0,a.createElementBlock)("div",ju,[(0,a.createElementVNode)("div",{class:"queue-header"},[n[12]||(n[12]=(0,a.createElementVNode)("span",{class:"queue-title"},"ğŸ“ æœ€è¿‘æ“ä½œ",-1)),(0,a.createElementVNode)("button",{onClick:ae,class:"clear-queue-btn",title:"æ¸…ç©ºè®°å½•"},n[11]||(n[11]=[(0,a.createElementVNode)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[(0,a.createElementVNode)("path",{d:"M18 6L6 18M6 6l12 12"})],-1)]))]),(0,a.createElementVNode)("div",Mu,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)((0,a.unref)(E).pendingActions,(e,n)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:e.id,class:"queue-action-item"},[(0,a.createElementVNode)("span",qu,(0,a.toDisplayString)(e.description),1),(0,a.createElementVNode)("div",Ou,[(0,a.createElementVNode)("button",{onClick:e=&gt;(async e=&gt;{if(e&gt;=0&amp;&amp;e<e.pendingactions.length){const n="E.pendingActions[e],t=[&quot;npc_trade&quot;,&quot;npc_request&quot;,&quot;npc_steal&quot;];if(n.type&amp;&amp;t.includes(n.type))return" e.removeaction(n.id),void="" d.o.success("å·²ç§»é™¤npcäº¤äº’åŠ¨ä½œ");if(n.type&&["equip","unequip","use","cultivate"].includes(n.type)&&n.itemname&&await="" c.undobyitemname(n.type,n.itemname))return="" void="" d.o.success("å·²æ’¤å›å¹¶æ¢å¤");e.removeaction(n.id),d.o.success("å·²ç§»é™¤åŠ¨ä½œ")}})(n),class:"remove-action-btn",title:te(e)?"æ’¤å›å¹¶æ¢å¤":"åˆ é™¤æ­¤åŠ¨ä½œ"},"="" Ã—="" ",8,pu)])]))),128))])])):(0,a.createcommentvnode)("v-if",!0),(0,a.createelementvnode)("div",fu,[(0,a.createcommentvnode)("="" éšè—çš„æ–‡ä»¶é€‰æ‹©å™¨="" "),(0,a.createelementvnode)("input",{type:"file",ref_key:"imageinputref",ref:$,onchange:t,multiple:"",accept:"image="" *",style:{display:"none"}},null,544),(0,a.createcommentvnode)("="" å›¾ç‰‡ä¸Šä¼ æŒ‰é’®="" "),(0,a.createelementvnode)("button",{onclick:i,class:"action-selector-btn="" image-upload-btn",disabled:!l.value,title:"ä¸Šä¼ å›¾ç‰‡"},n[13]||(n[13]="[(0,a.createElementVNode)(&quot;svg&quot;,{width:&quot;16&quot;,height:&quot;16&quot;,viewBox:&quot;0" 0="" 24="" 24",fill:"none",stroke:"currentcolor","stroke-width":"2"},[(0,a.createelementvnode)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),(0,a.createelementvnode)("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),(0,a.createelementvnode)("polyline",{points:"21="" 15="" 16="" 10="" 5="" 21"})],-1)]),8,lu),(0,a.createelementvnode)("button",{onclick:h,class:"action-selector-btn",disabled:!l.value,title:"å¿«æ·è¡ŒåŠ¨"},[(0,a.createvnode)((0,a.unref)(ev),{size:16})],8,yu),(0,a.createelementvnode)("div",ru,[(0,a.createcommentvnode)("="" å›¾ç‰‡é¢„è§ˆåŒºåŸŸ="" "),_.value.length="">0?((0,a.openBlock)(),(0,a.createElementBlock)("div",Uu,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(_.value,(e,t)=&gt;{return(0,a.openBlock)(),(0,a.createElementBlock)("div",{key:t,class:"image-preview-item"},[(0,a.createElementVNode)("img",{src:(o=e,URL.createObjectURL(o)),alt:e.name},null,8,Gu),(0,a.createElementVNode)("button",{onClick:e=&gt;(e=&gt;{_.value.splice(e,1),d.o.info("å·²ç§»é™¤å›¾ç‰‡")})(t),class:"remove-image-btn",title:"ç§»é™¤å›¾ç‰‡"},n[14]||(n[14]=[(0,a.createElementVNode)("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[(0,a.createElementVNode)("path",{d:"M18 6L6 18M6 6l12 12"})],-1)]),8,Wu)]);var o}),128))])):(0,a.createCommentVNode)("v-if",!0),(0,a.withDirectives)((0,a.createElementVNode)("textarea",{"onUpdate:modelValue":n[1]||(n[1]=e=&gt;l.value=e),onFocus:n[2]||(n[2]=e=&gt;i.value=!0),onBlur:n[3]||(n[3]=e=&gt;i.value=!1),onKeydown:se,onInput:me,placeholder:L.value?"è¯·è¾“å…¥æ‚¨çš„é€‰æ‹©æˆ–è¡ŒåŠ¨...":"è¯·å…ˆé€‰æ‹©è§’è‰²...",class:"game-input",ref_key:"inputRef",ref:s,rows:"1",wrap:"soft",disabled:!L.value||c.value},null,40,Ju),[[a.vModelText,l.value]]),(0,a.createCommentVNode)(" æµå¼ä¼ è¾“é€‰é¡¹åœ¨è¾“å…¥æ¡†å†…éƒ¨å³ä¾§ "),(0,a.createElementVNode)("label",Hu,[(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"checkbox","onUpdate:modelValue":n[4]||(n[4]=e=&gt;D.value=e)},null,512),[[a.vModelCheckbox,D.value]]),n[15]||(n[15]=(0,a.createElementVNode)("span",{class:"label-text"},"æµå¼",-1))])]),(0,a.createElementVNode)("button",{onClick:oe,disabled:!l.value.trim()||c.value||!L.value,class:"send-button"},[c.value?((0,a.openBlock)(),(0,a.createBlock)((0,a.unref)(Cv),{key:0,size:16,class:"animate-spin"})):((0,a.openBlock)(),(0,a.createBlock)((0,a.unref)(zv),{key:1,size:16}))],8,Qu)]),(0,a.createCommentVNode)(" è¡ŒåŠ¨é€‰æ‹©å¼¹çª— "),h.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:1,class:"action-modal-overlay",onClick:(0,a.withModifiers)(Q,["self"])},[(0,a.createElementVNode)("div",Ku,[(0,a.createElementVNode)("div",{class:"modal-header"},[n[17]||(n[17]=(0,a.createElementVNode)("h3",null,"ğŸ¯ å¿«æ·è¡ŒåŠ¨",-1)),(0,a.createElementVNode)("button",{onClick:Q,class:"close-btn"},n[16]||(n[16]=[(0,a.createElementVNode)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[(0,a.createElementVNode)("path",{d:"M18 6L6 18M6 6l12 12"})],-1)]))]),(0,a.createElementVNode)("div",Xu,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(G.value,e=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("button",{key:e.name,onClick:n=&gt;(e=&gt;{y.value=e,h.value=!1,x.value=1,k.value=1,w.value="",e.timeRequired||e.options||X()})(e),class:(0,a.normalizeClass)(["quick-action-btn",e.type])},[(0,a.createElementVNode)("div",eg,(0,a.toDisplayString)(e.icon),1),(0,a.createElementVNode)("div",ng,(0,a.toDisplayString)(e.name),1)],10,Zu))),128))])])])):(0,a.createCommentVNode)("v-if",!0),(0,a.createCommentVNode)(" è¡ŒåŠ¨é…ç½®å¼¹çª— "),y.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:2,class:"action-config-overlay",onClick:(0,a.withModifiers)(K,["self"])},[(0,a.createElementVNode)("div",tg,[(0,a.createElementVNode)("div",ag,[(0,a.createElementVNode)("h3",null,(0,a.toDisplayString)(y.value.icon)+" "+(0,a.toDisplayString)(y.value.name),1),(0,a.createElementVNode)("button",{onClick:K,class:"close-btn"},"Ã—")]),(0,a.createElementVNode)("div",og,[(0,a.createElementVNode)("p",rg,(0,a.toDisplayString)(y.value.description),1),(0,a.createCommentVNode)(" æ—¶é—´é…ç½® "),y.value.timeRequired?((0,a.openBlock)(),(0,a.createElementBlock)("div",lg,[n[20]||(n[20]=(0,a.createElementVNode)("label",{class:"config-label"},"ä¿®ç‚¼æ—¶é—´",-1)),(0,a.createElementVNode)("div",ig,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(W.value,e=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("button",{key:e.value,onClick:n=&gt;x.value=e.value,class:(0,a.normalizeClass)(["time-btn",{active:x.value===e.value}])},(0,a.toDisplayString)(e.label),11,cg))),128))]),(0,a.createElementVNode)("div",sg,[n[18]||(n[18]=(0,a.createElementVNode)("label",null,"è‡ªå®šä¹‰ï¼š",-1)),(0,a.withDirectives)((0,a.createElementVNode)("input",{"onUpdate:modelValue":n[5]||(n[5]=e=&gt;k.value=e),type:"number",min:"1",max:"365",class:"time-input"},null,512),[[a.vModelText,k.value,void 0,{number:!0}]]),n[19]||(n[19]=(0,a.createTextVNode)(" å¤© ",-1))])])):(0,a.createCommentVNode)("v-if",!0),(0,a.createCommentVNode)(" å…¶ä»–é…ç½®é€‰é¡¹ "),y.value.options?((0,a.openBlock)(),(0,a.createElementBlock)("div",dg,[n[21]||(n[21]=(0,a.createElementVNode)("label",{class:"config-label"},"é€‰é¡¹",-1)),(0,a.createElementVNode)("div",mg,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(y.value.options,e=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("label",{key:e.key,class:"option-item"},[(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"radio",name:"option-"+y.value.name,value:e.key,"onUpdate:modelValue":n[6]||(n[6]=e=&gt;w.value=e)},null,8,pg),[[a.vModelRadio,w.value]]),(0,a.createElementVNode)("span",null,(0,a.toDisplayString)(e.label),1)]))),128))])])):(0,a.createCommentVNode)("v-if",!0)]),(0,a.createElementVNode)("div",{class:"config-actions"},[(0,a.createElementVNode)("button",{onClick:K,class:"cancel-btn"},"å–æ¶ˆ"),(0,a.createElementVNode)("button",{onClick:X,class:"confirm-btn"},"ç¡®è®¤")])])])):(0,a.createCommentVNode)("v-if",!0)])]))}});var ug=t(1214),gg={};gg.styleTagTransform=A(),gg.setAttributes=z(),gg.insert=V().bind(null,"head"),gg.domAPI=N(),gg.insertStyleElement=B(),k()(ug.A,gg),ug.A&amp;&amp;ug.A.locals&amp;&amp;ug.A.locals;const fg=(0,j.A)(vg,[["__scopeId","data-v-b63a96a6"]]);var bg=t(3302);const hg={class:"memory-center-panel game-panel"},yg={class:"filter-section"},xg={class:"filter-tabs"},kg=["onClick"],wg={class:"tab-icon"},Ng={class:"tab-name"},Eg={class:"tab-count"},Vg={key:0,class:"settings-section"},Cg={class:"settings-header"},zg={class:"header-actions"},Sg={class:"settings-content"},Bg={class:"setting-item"},Dg={class:"setting-item"},Ag={class:"setting-item"},_g={class:"setting-item"},$g={class:"setting-label"},Ig={class:"setting-item"},Tg={class:"setting-item"},jg={class:"manual-summary-section"},Mg={class:"summary-info"},qg={class:"info-text"},Og={class:"info-hint"},Pg=["disabled","title"],Fg={key:1,class:"panel-content"},Lg={key:0,class:"loading-state"},Yg={key:1,class:"empty-state"},Rg={class:"empty-text"},Ug={key:2,class:"memory-list"},Gg={class:"memory-header"},Wg={class:"memory-actions"},Jg=["onClick"],Hg={class:"memory-time"},Qg={class:"memory-content"},Kg={key:0,class:"structured-memory"},Xg={key:0,class:"memory-title"},Zg={key:0,class:"memory-section-group"},ef={class:"memory-section"},nf={class:"memory-icon"},tf={class:"memory-section-title"},af={key:1,class:"memory-item"},of={key:1,class:"memory-section-group"},rf={key:1,class:"memory-item"},lf={key:1,class:"simple-memory"},cf=(0,a.defineComponent)({__name:"MemoryCenterPanel",setup(e){const{characterData:n,saveData:o}=(0,Li.useUnifiedCharacterData)(),r=(0,a.ref)(!1),l=(0,a.ref)("all"),i=(0,a.ref)(!1),c=(0,a.ref)({shortTermLimit:3,midTermTrigger:25,midTermKeep:8,autoSummaryEnabled:!0,midTermFormat:"",longTermFormat:""}),s=(0,a.ref)([]),m=(0,a.ref)([]),p=(0,a.ref)([]),v=(0,a.computed)(()=&gt;[...p.value,...m.value,...s.value].sort((e,n)=&gt;new Date(n.time).getTime()-new Date(e.time).getTime())),u=[{key:"all",name:"å…¨éƒ¨",icon:"ğŸ§ "},{key:"short",name:"çŸ­æœŸ",icon:"âš¡"},{key:"medium",name:"ä¸­æœŸ",icon:"ğŸ’­"},{key:"long",name:"é•¿æœŸ",icon:"ğŸ’¾"}],g=(0,a.computed)(()=&gt;{if("all"===l.value)return v.value;switch(l.value){case"short":return s.value;case"medium":return m.value;case"long":return p.value;default:return v.value}}),f=(0,a.computed)(()=&gt;s.value.length+m.value.length+p.value.length),b=e=&gt;{if("all"===e)return f.value;switch(e){case"short":return s.value.length;case"medium":return m.value.length;case"long":return p.value.length;default:return 0}},h=()=&gt;{if("all"===l.value)return"å¿ƒå¢ƒç©ºæ˜å¦‚é•œï¼Œå°šæœªè®°å½•ä¿®è¡Œæ„Ÿæ‚Ÿ";const e=u.find(e=&gt;e.key===l.value);return`æš‚æ— ${e?.name}è®°å¿†`},y=e=&gt;({short:"çŸ­æœŸè®°å¿†",medium:"ä¸­æœŸè®°å¿†",long:"é•¿æœŸè®°å¿†"}[e]||"æœªçŸ¥"),x=e=&gt;{const n=new Date(e);return`${n.getMonth()+1}/${n.getDate()} ${n.getHours()}:${n.getMinutes().toString().padStart(2,"0")}`},k=async()=&gt;{try{const e=(0,an.getTavernHelper)();if(!e)return void bg.Yz.warn("è®°å¿†ä¸­å¿ƒ","æ— æ³•è¿æ¥åˆ°é…’é¦†åŠ©æ‰‹ï¼Œè·³è¿‡AIæ€»ç»“");const n=m.value.length,t=c.value.midTermKeep||8,a=Math.max(0,n-t);if(a&lt;=0)return void bg.Yz.log("è®°å¿†ä¸­å¿ƒ","ä¸­æœŸè®°å¿†æ•°é‡æœªè¶…è¿‡ä¿ç•™é˜ˆå€¼ï¼Œæ— éœ€æ€»ç»“");bg.Yz.log("è®°å¿†ä¸­å¿ƒ",`å¼€å§‹AIæ€»ç»“ï¼šå°†æ€»ç»“ ${a} æ¡ä¸­æœŸè®°å¿†ï¼Œä¿ç•™æœ€æ–° ${t} æ¡`);const o=m.value.slice(0,a).map((e,n)=&gt;`${n+1}. ${e.parsedContent?`${e.parsedContent.äº‹ä»¶}ï¼ˆ${e.parsedContent.æ—¶é—´}ï¼‰`:e.content}`).join("\n"),r='ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„è®°å¿†æ€»ç»“åŠ©æ‰‹ï¼Œæ“…é•¿å°†ä¸­æœŸè®°å¿†æ•´åˆä¸ºè¯¦ç»†çš„é•¿æœŸè®°å¿†æ¡£æ¡ˆã€‚\n\næ€»ç»“è¦æ±‚ï¼š\n1. å¿…é¡»åŒ…å«æ—¶é—´çº¿ç´¢ã€å…³é”®äº‹ä»¶ã€äººç‰©å…³ç³»å˜åŒ–ã€æƒ…æ„Ÿæ³¢åŠ¨\n2. ä½¿ç”¨ç¬¬ä¸€äººç§°ï¼ˆ"æˆ‘"ï¼‰çš„è§†è§’æè¿°\n3. æŒ‰æ—¶é—´é¡ºåºæ¢³ç†äº‹ä»¶è„‰ç»œï¼Œçªå‡ºå› æœå…³ç³»\n4. ä¿ç•™é‡è¦ç»†èŠ‚ï¼Œåˆå¹¶çç¢ä¿¡æ¯\n5. å­—æ•°æ§åˆ¶åœ¨200-350å­—ï¼Œç¡®ä¿ä¿¡æ¯å®Œæ•´è¯¦å®\n6. ä½¿ç”¨ä¿®ä»™å°è¯´çš„è¯­è¨€é£æ ¼\n7. åªè¿”å›æ€»ç»“å†…å®¹ï¼Œä¸è¦æœ‰ä»»ä½•å‰ç¼€ã€åç¼€æˆ–æ ‡é¢˜',l=c.value.longTermFormat||r,i=`è¯·å°†ä»¥ä¸‹ä¸­æœŸè®°å¿†æ€»ç»“æˆè¯¦ç»†çš„é•¿æœŸè®°å¿†æ¡£æ¡ˆï¼š\n\n${o}`,s=await e.generateRaw({ordered_prompts:[{role:"system",content:l},{role:"user",content:i}],should_stream:!1});if(!s||"string"!=typeof s)throw new Error("AIå“åº”æ ¼å¼é”™è¯¯");const v=s.trim();if(!v)throw new Error("æ€»ç»“å†…å®¹ä¸ºç©º");const u={type:"long",content:v,time:`æ€»ç»“äº${x(Date.now())}`,importance:8,parsedContent:{äº‹ä»¶:v,æ—¶é—´:`æ€»ç»“äº${x(Date.now())}`,åœ°ç‚¹:"ç»¼åˆ",äººç‰©:"ç»¼åˆ",å½±å“:"è®°å¿†æ€»ç»“",sections:{}},isConverted:!0,isSummarized:!0};p.value.push(u),m.value.splice(0,a),bg.Yz.log("è®°å¿†ä¸­å¿ƒ",`âœ… AIæ€»ç»“å®Œæˆï¼šå·²å°† ${a} æ¡ä¸­æœŸè®°å¿†æ€»ç»“ä¸º1æ¡é•¿æœŸè®°å¿†`),d.o.success(`å·²å°† ${a} æ¡ä¸­æœŸè®°å¿†æ€»ç»“ä¸ºé•¿æœŸè®°å¿†`),await w()}catch(e){bg.Yz.error("è®°å¿†ä¸­å¿ƒ","AIæ€»ç»“å¤±è´¥:",e);const n=e instanceof Error?e.message:"æœªçŸ¥é”™è¯¯";throw d.o.error(`è®°å¿†æ€»ç»“å¤±è´¥: ${n}`),e}},w=async()=&gt;{try{const{useCharacterStore:e}=await Promise.resolve().then(t.bind(t,948)),n=e(),a=n.activeSaveSlot?.å­˜æ¡£æ•°æ®;if(!a||!a.è®°å¿†)return void bg.Yz.warn("è®°å¿†ä¸­å¿ƒ","å­˜æ¡£æ•°æ®ä¸å­˜åœ¨ï¼Œæ— æ³•ä¿å­˜è®°å¿†");a.è®°å¿†.çŸ­æœŸè®°å¿†=s.value.map(e=&gt;e.content),a.è®°å¿†.ä¸­æœŸè®°å¿†=m.value.map(e=&gt;e.content),a.è®°å¿†.é•¿æœŸè®°å¿†=p.value.map(e=&gt;e.content),await n.syncToTavernAndSave({fullSync:!0}),bg.Yz.log("è®°å¿†ä¸­å¿ƒ","è®°å¿†æ•°æ®å·²ä¿å­˜åˆ°å­˜æ¡£")}catch(e){throw bg.Yz.error("è®°å¿†ä¸­å¿ƒ","ä¿å­˜è®°å¿†æ•°æ®åˆ°å­˜æ¡£å¤±è´¥:",e),e}},N=(0,q.useUIStore)(),E=async()=&gt;{try{bg.Yz.log("è®°å¿†ä¸­å¿ƒ","å¼€å§‹åŠ è½½è®°å¿†æ•°æ®");const e=[],t=[],a=[],o=n.value?.è®°å¿†;o?(bg.Yz.log("è®°å¿†ä¸­å¿ƒ","ä»å­˜æ¡£æ•°æ®åŠ è½½è®°å¿†:",Object.keys(o)),Array.isArray(o.çŸ­æœŸè®°å¿†)&amp;&amp;o.çŸ­æœŸè®°å¿†.forEach((n,t)=&gt;{if(n&amp;&amp;"string"==typeof n){const a={type:"short",content:n,time:x(Date.now()-3e5*t),importance:5};e.push(a)}}),Array.isArray(o.ä¸­æœŸè®°å¿†)&amp;&amp;o.ä¸­æœŸè®°å¿†.forEach((e,n)=&gt;{if(e&amp;&amp;"string"==typeof e){const a={type:"medium",content:e,time:x(Date.now()-36e5*n),importance:7};t.push(a)}}),Array.isArray(o.é•¿æœŸè®°å¿†)?(bg.Yz.log("è®°å¿†ä¸­å¿ƒ",`å‘ç°é•¿æœŸè®°å¿†æ•°ç»„ï¼Œé•¿åº¦: ${o.é•¿æœŸè®°å¿†.length}`),bg.Yz.log("è®°å¿†ä¸­å¿ƒ","é•¿æœŸè®°å¿†åŸå§‹æ•°æ®:",o.é•¿æœŸè®°å¿†),o.é•¿æœŸè®°å¿†.forEach((e,n)=&gt;{if(e&amp;&amp;"string"==typeof e){const t={type:"long",content:e,time:x(Date.now()-864e5*n),importance:9};a.push(t),bg.Yz.log("è®°å¿†ä¸­å¿ƒ",`åŠ è½½é•¿æœŸè®°å¿† #${n}:`,e.substring(0,50))}})):bg.Yz.warn("è®°å¿†ä¸­å¿ƒ","é•¿æœŸè®°å¿†ä¸æ˜¯æ•°ç»„æˆ–ä¸å­˜åœ¨:",o.é•¿æœŸè®°å¿†),bg.Yz.log("è®°å¿†ä¸­å¿ƒ",`è®°å¿†åŠ è½½å®Œæˆ: çŸ­æœŸ${e.length}, ä¸­æœŸ${t.length}, é•¿æœŸ${a.length}`)):bg.Yz.warn("è®°å¿†ä¸­å¿ƒ","æœªæ‰¾åˆ°å­˜æ¡£è®°å¿†æ•°æ®"),s.value=e,m.value=t,p.value=a;const r=e.length+t.length+a.length;bg.Yz.log("è®°å¿†ä¸­å¿ƒ",`è®°å¿†åŠ è½½å®Œæˆï¼šæ€»è®¡ ${r} æ¡è®°å¿†`)}catch(e){bg.Yz.error("è®°å¿†ä¸­å¿ƒ","åŠ è½½è®°å¿†æ•°æ®å¤±è´¥",e),d.o.error("åŠ è½½è®°å¿†æ•°æ®å¤±è´¥")}},V=async()=&gt;{try{const e=(0,an.getTavernHelper)();if(!e)throw new Error("æ— æ³•è·å–TavernåŠ©æ‰‹");{const{deepCleanForClone:n}=await Promise.resolve().then(t.bind(t,3098)),a=n(c.value);await e.setVariable("character.memorySettings",a,{type:"chat"}),Oi.emit("memory-settings-updated",a),d.o.success("è®°å¿†ç³»ç»Ÿé…ç½®å·²ä¿å­˜"),bg.Yz.log("è®°å¿†ä¸­å¿ƒ","é…ç½®å·²ä¿å­˜å¹¶åŒæ­¥:",a)}}catch(e){bg.Yz.error("è®°å¿†ä¸­å¿ƒ","ä¿å­˜é…ç½®å¤±è´¥:",e),d.o.error("ä¿å­˜é…ç½®å¤±è´¥")}},C=()=&gt;{c.value={shortTermLimit:3,midTermTrigger:20,midTermKeep:8,autoSummaryEnabled:!0,midTermFormat:"",longTermFormat:""},d.o.success("é…ç½®å·²é‡ç½®ä¸ºé»˜è®¤å€¼")},z=async()=&gt;{const e=c.value.midTermKeep+5;if(m.value.length<e)d.o.warning(`ä¸­æœŸè®°å¿†ä¸è¶³ï¼Œè‡³å°‘éœ€è¦ ${e}="" æ¡æ‰èƒ½æ€»ç»“`);else="" try{d.o.loading("æ­£åœ¨è°ƒç”¨aiæ€»ç»“ä¸­æœŸè®°å¿†...",{id:"manual-summary"}),await="" k(),d.o.success("æ‰‹åŠ¨æ€»ç»“å®Œæˆï¼",{id:"manual-summary"})}catch(e){const="" n="e" instanceof="" error?e.message:"æœªçŸ¥é”™è¯¯";d.o.error(`æ‰‹åŠ¨æ€»ç»“å¤±è´¥:="" ${n}`,{id:"manual-summary"})}};(0,a.onmounted)(async()="">{await E(),await(async()=&gt;{try{const e=(0,an.getTavernHelper)();if(e){const n=await e.getVariable("character.memorySettings",{type:"chat"});if(n&amp;&amp;"object"==typeof n)return c.value={...c.value,...n},void bg.Yz.log("è®°å¿†ä¸­å¿ƒ","å·²ä»é…’é¦†å˜é‡åŠ è½½é…ç½®",n)}bg.Yz.log("è®°å¿†ä¸­å¿ƒ","æœªæ‰¾åˆ°é…’é¦†é…ç½®ï¼Œä½¿ç”¨é»˜è®¤å€¼")}catch(e){bg.Yz.error("è®°å¿†ä¸­å¿ƒ","åŠ è½½è®°å¿†é…ç½®å¤±è´¥:",e)}})(),Oi.on("refresh",async()=&gt;{r.value=!0;try{await E()}finally{r.value=!1}}),Oi.on("test",()=&gt;{((e,n,t=5,a)=&gt;{const o={type:e,content:n,time:x(Date.now()),importance:t,parsedContent:a};switch(e){case"short":s.value.push(o);break;case"medium":m.value.push(o);break;case"long":p.value.push(o)}(()=&gt;{let e=!1;if(s.value.length&gt;=3){bg.Yz.log("è®°å¿†ä¸­å¿ƒ","çŸ­æœŸè®°å¿†è¾¾åˆ°ä¸Šé™ï¼Œå¼€å§‹è½¬åŒ–ä¸ºä¸­æœŸè®°å¿†");const n=s.value.shift();if(n){const t={...n,type:"medium",time:`è½¬åŒ–äº${x(Date.now())}`,isConverted:!0};m.value.push(t),e=!0}}if(m.value.length&gt;=25)if(bg.Yz.log("è®°å¿†ä¸­å¿ƒ","ä¸­æœŸè®°å¿†è¾¾åˆ°ä¸Šé™ï¼Œå‡†å¤‡è½¬åŒ–ä¸ºé•¿æœŸè®°å¿†"),c.value.autoSummaryEnabled)bg.Yz.log("è®°å¿†ä¸­å¿ƒ","è‡ªåŠ¨æ€»ç»“å·²å¯ç”¨ï¼Œå°†åœ¨åå°è§¦å‘AIæ€»ç»“"),k().catch(e=&gt;{bg.Yz.error("è®°å¿†ä¸­å¿ƒ","è‡ªåŠ¨æ€»ç»“å¤±è´¥:",e)});else{const n=m.value.shift();if(n){const t={...n,type:"long",time:`å½’æ¡£äº${x(Date.now())}`,importance:Math.max(n.importance||5,7),isConverted:!0};p.value.push(t),e=!0}}if(p.value.length&gt;50){p.value.sort((e,n)=&gt;(n.importance||5)-(e.importance||5));const e=p.value.splice(50);bg.Yz.log("è®°å¿†ä¸­å¿ƒ",`é•¿æœŸè®°å¿†è¶…é™ï¼Œç§»é™¤${e.length}æ¡ä½é‡è¦æ€§è®°å¿†`)}e&amp;&amp;d.o.success("è®°å¿†å·²é‡æ–°æ•´ç†ï¼Œæ—§è®°å¿†å·²è½¬åŒ–")})()})("short","ã€æµ‹è¯•è®°å¿†ã€‘ç”¨äºæ£€éªŒè½¬åŒ–ä¸æ¸²æŸ“ã€‚")}),Oi.on("clear",async()=&gt;{await(async()=&gt;{N.showRetryDialog({title:"æ¸…ç†è®°å¿†",message:"ç¡®å®šè¦æ¸…ç†æ‰€æœ‰è®°å¿†å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ’¤é”€ï¼Œå°†åŒæ­¥æ¸…ç†é…’é¦†æ•°æ®ã€‚",confirmText:"ç¡®è®¤æ¸…ç†",cancelText:"å–æ¶ˆ",onConfirm:async()=&gt;{try{if(s.value=[],m.value=[],p.value=[],o.value){n.value?.è®°å¿†&amp;&amp;(n.value.è®°å¿†.çŸ­æœŸè®°å¿†=[],n.value.è®°å¿†.ä¸­æœŸè®°å¿†=[],n.value.è®°å¿†.é•¿æœŸè®°å¿†=[]);const e=(0,an.getTavernHelper)();if(e){const{shardSaveData:n,saveAllShards:a}=await Promise.resolve().then(t.bind(t,9808)),r=n(o.value);await a(r,e),console.log("[è®°å¿†ä¸­å¿ƒ] å·²åŒæ­¥æ¸…ç†é…’é¦†è®°å¿†æ•°æ®")}}d.o.success("è®°å¿†å·²æ¸…ç†å¹¶åŒæ­¥åˆ°é…’é¦†")}catch(e){console.error("[è®°å¿†ä¸­å¿ƒ] æ¸…ç†è®°å¿†å¤±è´¥:",e),d.o.error("æ¸…ç†è®°å¿†å¤±è´¥ï¼Œè¯·é‡è¯•")}},onCancel:()=&gt;{}})})()})});const S=async()=&gt;{try{const e={content:`æµ‹è¯•é•¿æœŸè®°å¿† ${Date.now()} - è¿™æ˜¯ä¸€æ¡ç”¨äºæµ‹è¯•çš„é•¿æœŸè®°å¿†è®°å½•ã€‚`,time:x(Date.now()),type:"long",isConverted:!1,isSummarized:!1,parsedContent:{å½±å“:"æµ‹è¯•",sections:{}}};p.value.push(e),await w(),d.o.success(`âœ… æµ‹è¯•è®°å¿†å·²æ·»åŠ ï¼å½“å‰é•¿æœŸè®°å¿†: ${p.value.length} æ¡`),bg.Yz.log("è®°å¿†ä¸­å¿ƒ","æ·»åŠ æµ‹è¯•é•¿æœŸè®°å¿†æˆåŠŸ",e)}catch(e){bg.Yz.error("è®°å¿†ä¸­å¿ƒ","æ·»åŠ æµ‹è¯•è®°å¿†å¤±è´¥",e),d.o.error("æ·»åŠ æµ‹è¯•è®°å¿†å¤±è´¥")}};return(e,n)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",hg,[(0,a.createCommentVNode)(" è®°å¿†ç±»å‹ç­›é€‰ "),(0,a.createElementVNode)("div",yg,[(0,a.createElementVNode)("div",xg,[((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(u,e=&gt;(0,a.createElementVNode)("button",{key:e.key,class:(0,a.normalizeClass)(["filter-tab",{active:l.value===e.key}]),onClick:n=&gt;{return t=e.key,void(l.value=t);var t}},[(0,a.createElementVNode)("span",wg,(0,a.toDisplayString)(e.icon),1),(0,a.createElementVNode)("span",Ng,(0,a.toDisplayString)(e.name),1),(0,a.createElementVNode)("span",Eg,(0,a.toDisplayString)(b(e.key)),1)],10,kg)),64)),(0,a.createElementVNode)("button",{class:(0,a.normalizeClass)(["settings-toggle-btn",{active:i.value}]),onClick:n[0]||(n[0]=e=&gt;i.value=!i.value),title:"è®°å¿†ç³»ç»Ÿè®¾ç½®"},[(0,a.createVNode)((0,a.unref)(Wn),{size:16})],2)])]),(0,a.createCommentVNode)(" è®°å¿†ç³»ç»Ÿè®¾ç½® "),i.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",Vg,[(0,a.createElementVNode)("div",Cg,[n[8]||(n[8]=(0,a.createElementVNode)("span",{class:"settings-title"},"âš™ï¸ è®°å¿†ç³»ç»Ÿé…ç½®",-1)),(0,a.createElementVNode)("div",zg,[(0,a.createElementVNode)("button",{class:"test-btn",onClick:S,title:"æ·»åŠ æµ‹è¯•é•¿æœŸè®°å¿†"}," ğŸ§ª æµ‹è¯• "),(0,a.createElementVNode)("button",{class:"settings-close-btn",onClick:n[1]||(n[1]=e=&gt;i.value=!1)},"âœ•")])]),(0,a.createElementVNode)("div",Sg,[(0,a.createElementVNode)("div",Bg,[n[9]||(n[9]=(0,a.createElementVNode)("label",{class:"setting-label"},"çŸ­æœŸè®°å¿†é™åˆ¶ (æ¡):",-1)),(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"number","onUpdate:modelValue":n[2]||(n[2]=e=&gt;c.value.shortTermLimit=e),min:"3",max:"10",class:"setting-input"},null,512),[[a.vModelText,c.value.shortTermLimit,void 0,{number:!0}]]),n[10]||(n[10]=(0,a.createElementVNode)("span",{class:"setting-hint"},"é»˜è®¤: 3",-1))]),(0,a.createElementVNode)("div",Dg,[n[11]||(n[11]=(0,a.createElementVNode)("label",{class:"setting-label"},"ä¸­æœŸè®°å¿†è½¬åŒ–é˜ˆå€¼ (æ¡):",-1)),(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"number","onUpdate:modelValue":n[3]||(n[3]=e=&gt;c.value.midTermTrigger=e),min:"10",max:"50",class:"setting-input"},null,512),[[a.vModelText,c.value.midTermTrigger,void 0,{number:!0}]]),n[12]||(n[12]=(0,a.createElementVNode)("span",{class:"setting-hint"},"ä¸­æœŸè®°å¿†ç§¯ç´¯è¾¾åˆ°æ­¤æ•°é‡æ—¶è½¬åŒ–ä¸ºé•¿æœŸè®°å¿†ï¼Œé»˜è®¤: 25",-1))]),(0,a.createElementVNode)("div",Ag,[n[13]||(n[13]=(0,a.createElementVNode)("label",{class:"setting-label"},"ä¸­æœŸè®°å¿†ä¿ç•™æ•°é‡ (æ¡):",-1)),(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"number","onUpdate:modelValue":n[4]||(n[4]=e=&gt;c.value.midTermKeep=e),min:"5",max:"15",class:"setting-input"},null,512),[[a.vModelText,c.value.midTermKeep,void 0,{number:!0}]]),n[14]||(n[14]=(0,a.createElementVNode)("span",{class:"setting-hint"},"è½¬åŒ–ä¸ºé•¿æœŸè®°å¿†æ—¶ä¿ç•™æœ€æ–°çš„ä¸­æœŸè®°å¿†æ•°é‡ï¼Œé»˜è®¤: 8",-1))]),(0,a.createElementVNode)("div",_g,[(0,a.createElementVNode)("label",$g,[(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"checkbox","onUpdate:modelValue":n[5]||(n[5]=e=&gt;c.value.autoSummaryEnabled=e),class:"setting-checkbox"},null,512),[[a.vModelCheckbox,c.value.autoSummaryEnabled]]),n[15]||(n[15]=(0,a.createTextVNode)(" å¯ç”¨è‡ªåŠ¨è®°å¿†è½¬åŒ– ",-1))]),n[16]||(n[16]=(0,a.createElementVNode)("span",{class:"setting-hint"},"å¼€å¯åè‡ªåŠ¨å°†ä¸­æœŸè®°å¿†è½¬åŒ–ä¸ºé•¿æœŸè®°å¿†ï¼Œå…³é—­åˆ™ä¸è¿›è¡Œè½¬åŒ–",-1))]),(0,a.createElementVNode)("div",Ig,[n[17]||(n[17]=(0,a.createElementVNode)("label",{class:"setting-label"},"ä¸­æœŸè®°å¿†è‡ªå®šä¹‰æ ¼å¼:",-1)),(0,a.withDirectives)((0,a.createElementVNode)("textarea",{"onUpdate:modelValue":n[6]||(n[6]=e=&gt;c.value.midTermFormat=e),class:"setting-textarea",placeholder:"ç•™ç©ºä½¿ç”¨é»˜è®¤æ ¼å¼ã€‚å¯è‡ªå®šä¹‰AIæç¤ºè¯æ¥æ§åˆ¶ä¸­æœŸè®°å¿†çš„ç”Ÿæˆæ ¼å¼...",rows:"4"},null,512),[[a.vModelText,c.value.midTermFormat]]),n[18]||(n[18]=(0,a.createElementVNode)("span",{class:"setting-hint"},"è‡ªå®šä¹‰ä¸­æœŸè®°å¿†çš„AIæç¤ºè¯æ ¼å¼ï¼Œç•™ç©ºä½¿ç”¨ç³»ç»Ÿé»˜è®¤",-1))]),(0,a.createElementVNode)("div",Tg,[n[19]||(n[19]=(0,a.createElementVNode)("label",{class:"setting-label"},"é•¿æœŸè®°å¿†è‡ªå®šä¹‰æ ¼å¼:",-1)),(0,a.withDirectives)((0,a.createElementVNode)("textarea",{"onUpdate:modelValue":n[7]||(n[7]=e=&gt;c.value.longTermFormat=e),class:"setting-textarea",placeholder:"ç•™ç©ºä½¿ç”¨é»˜è®¤æ ¼å¼ã€‚å¯è‡ªå®šä¹‰AIæç¤ºè¯æ¥æ§åˆ¶é•¿æœŸè®°å¿†çš„ç”Ÿæˆæ ¼å¼...",rows:"4"},null,512),[[a.vModelText,c.value.longTermFormat]]),n[20]||(n[20]=(0,a.createElementVNode)("span",{class:"setting-hint"},"è‡ªå®šä¹‰é•¿æœŸè®°å¿†çš„AIæç¤ºè¯æ ¼å¼ï¼Œç•™ç©ºä½¿ç”¨ç³»ç»Ÿé»˜è®¤",-1))]),(0,a.createElementVNode)("div",{class:"settings-actions"},[(0,a.createElementVNode)("button",{class:"action-btn success",onClick:V}," ğŸ’¾ ä¿å­˜é…ç½® "),(0,a.createElementVNode)("button",{class:"action-btn info",onClick:C}," é‡ç½®é»˜è®¤ ")]),(0,a.createCommentVNode)(" æ‰‹åŠ¨æ€»ç»“è§¦å‘ "),(0,a.createElementVNode)("div",jg,[(0,a.createElementVNode)("div",Mg,[(0,a.createElementVNode)("span",qg,"å½“å‰ä¸­æœŸè®°å¿†: "+(0,a.toDisplayString)(m.value.length)+" æ¡",1),(0,a.createElementVNode)("span",Og,"ï¼ˆè¾¾åˆ° "+(0,a.toDisplayString)(c.value.midTermTrigger)+" æ¡æ—¶è‡ªåŠ¨è§¦å‘æ€»ç»“ï¼‰",1)]),(0,a.createElementVNode)("button",{class:"action-btn warning",onClick:z,disabled:m.value.length<c.value.midtermkeep+5,title:m.value.length<c.value.midtermkeep+5?`è‡³å°‘éœ€è¦ ${c.value.midtermkeep+5}="" æ¡ä¸­æœŸè®°å¿†æ‰èƒ½æ€»ç»“`:"æ‰‹åŠ¨è§¦å‘aiæ€»ç»“"},"="" ğŸ“="" æ‰‹åŠ¨æ€»ç»“ä¸­æœŸè®°å¿†="" ",8,pg)])])])):(0,a.createcommentvnode)("v-if",!0),(0,a.createcommentvnode)("="" è®°å¿†åˆ—è¡¨="" "),i.value?(0,a.createcommentvnode)("v-if",!0):((0,a.openblock)(),(0,a.createelementblock)("div",fg,[r.value?((0,a.openblock)(),(0,a.createelementblock)("div",lg,n[21]||(n[21]="[(0,a.createElementVNode)(&quot;div&quot;,{class:&quot;loading-spinner&quot;},&quot;â³&quot;,-1),(0,a.createElementVNode)(&quot;div&quot;,{class:&quot;loading-text&quot;},&quot;æ­£åœ¨è¯»å–è®°å¿†...&quot;,-1)]))):0===g.value.length?((0,a.openBlock)(),(0,a.createElementBlock)(&quot;div&quot;,Yg,[n[22]||(n[22]=(0,a.createElementVNode)(&quot;div&quot;,{class:&quot;empty-icon&quot;},&quot;ğŸ§ &quot;,-1)),(0,a.createElementVNode)(&quot;div&quot;,Rg,(0,a.toDisplayString)(h()),1)])):((0,a.openBlock)(),(0,a.createElementBlock)(&quot;div&quot;,Ug,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(g.value,(e,o)=">{return(0,a.openBlock)(),(0,a.createElementBlock)("div",{key:o,class:(0,a.normalizeClass)(["memory-card",`memory-${e.type}`])},[(0,a.createElementVNode)("div",Gg,[(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["memory-type-badge",`badge-${e.type}`])},(0,a.toDisplayString)((r=e.type,{short:"âš¡",medium:"ğŸ’­",long:"ğŸ’¾"}[r]||"ğŸ§ "))+" "+(0,a.toDisplayString)(y(e.type)),3),(0,a.createElementVNode)("div",Wg,[(0,a.createElementVNode)("button",{class:"delete-memory-btn",onClick:(0,a.withModifiers)(n=&gt;(async e=&gt;{N.showRetryDialog({title:"åˆ é™¤è®°å¿†",message:`ç¡®å®šè¦åˆ é™¤è¿™æ¡${y(e.type)}å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ’¤é”€ã€‚\n\nå†…å®¹ï¼š${e.content.substring(0,50)}...`,confirmText:"åˆ é™¤",cancelText:"å–æ¶ˆ",onConfirm:async()=&gt;{try{let n=-1;switch(e.type){case"short":n=s.value.findIndex(n=&gt;n===e),-1!==n&amp;&amp;s.value.splice(n,1);break;case"medium":n=m.value.findIndex(n=&gt;n===e),-1!==n&amp;&amp;m.value.splice(n,1);break;case"long":n=p.value.findIndex(n=&gt;n===e),-1!==n&amp;&amp;p.value.splice(n,1)}if(-1===n)return void d.o.error("æ‰¾ä¸åˆ°è¦åˆ é™¤çš„è®°å¿†");const{useCharacterStore:a}=await Promise.resolve().then(t.bind(t,948));a(),await w(),bg.Yz.log("è®°å¿†ä¸­å¿ƒ",`âœ… å·²åˆ é™¤${y(e.type)}å¹¶åŒæ­¥åˆ°å­˜æ¡£å’Œé…’é¦†`),d.o.success(`å·²åˆ é™¤${y(e.type)}å¹¶åŒæ­¥åˆ°é…’é¦†`)}catch(e){bg.Yz.error("è®°å¿†ä¸­å¿ƒ","åˆ é™¤è®°å¿†å¤±è´¥:",e);const n=e instanceof Error?e.message:"æœªçŸ¥é”™è¯¯";d.o.error(`åˆ é™¤å¤±è´¥: ${n}`)}},onCancel:()=&gt;{}})})(e),["stop"]),title:"åˆ é™¤æ­¤è®°å¿†"}," ğŸ—‘ï¸ ",8,Jg),(0,a.createElementVNode)("div",Hg,(0,a.toDisplayString)(e.time),1)])]),(0,a.createElementVNode)("div",Qg,[e.parsedContent&amp;&amp;e.parsedContent.format?((0,a.openBlock)(),(0,a.createElementBlock)("div",Kg,[e.parsedContent.title?((0,a.openBlock)(),(0,a.createElementBlock)("div",Xg," ã€"+(0,a.toDisplayString)(e.parsedContent.title)+"ã€‘ ",1)):(0,a.createCommentVNode)("v-if",!0),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.parsedContent.format.sections,n=&gt;((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:n.key},[e.parsedContent.sections&amp;&amp;e.parsedContent.sections[n.key]?((0,a.openBlock)(),(0,a.createElementBlock)("div",Zg,[(0,a.createElementVNode)("div",ef,[(0,a.createElementVNode)("span",nf,(0,a.toDisplayString)(n.icon),1),(0,a.createElementVNode)("span",tf,(0,a.toDisplayString)(n.title),1)]),(0,a.createCommentVNode)(" ç¡®ä¿åªåœ¨æ•°ç»„æ—¶æ‰éå†ï¼Œå­—ç¬¦ä¸²ç›´æ¥æ˜¾ç¤º "),Array.isArray(e.parsedContent.sections[n.key])?((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,{key:0},(0,a.renderList)(e.parsedContent.sections[n.key],e=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:e,class:"memory-item"},(0,a.toDisplayString)(e),1))),128)):((0,a.openBlock)(),(0,a.createElementBlock)("div",af,(0,a.toDisplayString)(e.parsedContent.sections[n.key]),1))])):(0,a.createCommentVNode)("v-if",!0)],64))),128)),(0,a.createCommentVNode)(" æœªè¯†åˆ«çš„é€šç”¨å†…å®¹ "),e.parsedContent.sections.general?((0,a.openBlock)(),(0,a.createElementBlock)("div",of,[n[23]||(n[23]=(0,a.createElementVNode)("div",{class:"memory-section"},[(0,a.createElementVNode)("span",{class:"memory-icon"},"ğŸ“"),(0,a.createElementVNode)("span",{class:"memory-section-title"},"å…¶ä»–è®°å½•")],-1)),(0,a.createCommentVNode)(" ç¡®ä¿åªåœ¨æ•°ç»„æ—¶æ‰éå†ï¼Œå­—ç¬¦ä¸²ç›´æ¥æ˜¾ç¤º "),Array.isArray(e.parsedContent.sections.general)?((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,{key:0},(0,a.renderList)(e.parsedContent.sections.general,e=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:e,class:"memory-item"},(0,a.toDisplayString)(e),1))),128)):((0,a.openBlock)(),(0,a.createElementBlock)("div",rf,(0,a.toDisplayString)(e.parsedContent.sections.general),1))])):(0,a.createCommentVNode)("v-if",!0)])):((0,a.openBlock)(),(0,a.createElementBlock)("div",lf,(0,a.toDisplayString)(e.content),1))])],2);var r}),128))]))]))]))}});var sf=t(1524),df={};df.styleTagTransform=A(),df.setAttributes=z(),df.insert=V().bind(null,"head"),df.domAPI=N(),df.insertStyleElement=B(),k()(sf.A,df),sf.A&amp;&amp;sf.A.locals&amp;&amp;sf.A.locals;const mf=(0,j.A)(cf,[["__scopeId","data-v-722c190a"]]);var pf=t(6728),vf=t(3943);const uf=(0,c.A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),gf=(0,c.A)("mountain",[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]]),ff=(0,c.A)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),bf=(0,c.A)("sprout",[["path",{d:"M14 9.536V7a4 4 0 0 1 4-4h1.5a.5.5 0 0 1 .5.5V5a4 4 0 0 1-4 4 4 4 0 0 0-4 4c0 2 1 3 1 5a5 5 0 0 1-1 3",key:"139s4v"}],["path",{d:"M4 9a5 5 0 0 1 8 4 5 5 0 0 1-8-4",key:"1dlkgp"}],["path",{d:"M5 21h14",key:"11awu3"}]]),hf=(0,c.A)("bird",[["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M3.4 18H12a8 8 0 0 0 8-8V7a4 4 0 0 0-7.28-2.3L2 20",key:"oj1oa8"}],["path",{d:"m20 7 2 .5-2 .5",key:"12nv4d"}],["path",{d:"M10 18v3",key:"1yea0a"}],["path",{d:"M14 17.75V21",key:"1pymcb"}],["path",{d:"M7 18a6 6 0 0 0 3.84-10.61",key:"1npnn0"}]]),yf=(0,c.A)("handshake",[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]]),xf=(0,c.A)("backpack",[["path",{d:"M4 10a4 4 0 0 1 4-4h8a4 4 0 0 1 4 4v10a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2z",key:"1ol0lm"}],["path",{d:"M8 10h8",key:"c7uz4u"}],["path",{d:"M8 18h8",key:"1no2b1"}],["path",{d:"M8 22v-6a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v6",key:"1fr6do"}],["path",{d:"M9 6V4a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v2",key:"donm21"}]]),kf={class:"character-details-wrapper"},wf={key:0,class:"loading-container"},Nf={key:1,class:"error-container"},Ef={class:"error-icon"},Vf={key:2,class:"character-details-content"},Cf={class:"character-header-card"},zf={class:"header-content"},Sf={class:"profile-section"},Bf={class:"avatar-wrapper"},Df=["title"],Af={class:"avatar-text"},_f={class:"identity-info"},$f={class:"character-title"},If={class:"character-subtitle"},Tf={class:"subtitle-item race-text"},jf={class:"subtitle-item age-text"},Mf={class:"subtitle-item origin-text"},qf={class:"core-stats-grid"},Of={class:"stat-card realm-card"},Pf={class:"card-icon"},Ff={class:"card-content"},Lf={class:"card-value realm-value"},Yf={key:0,class:"stat-card spirit-card"},Rf={class:"card-icon"},Uf={class:"card-content"},Gf={class:"card-value spirit-value"},Wf=["title"],Jf={class:"card-icon"},Hf={class:"card-content"},Qf={class:"card-value location-value"},Kf=["title"],Xf={class:"card-icon"},Zf={class:"card-content"},eb={class:"card-value origin-value"},nb={key:3,class:"stat-card reputation-card"},tb={class:"card-icon"},ab={class:"card-content"},ob={class:"card-value reputation-value"},rb={class:"cultivation-section"},lb={key:0,class:"cultivation-status mortal-status"},ib={class:"status-text"},cb={key:1,class:"cultivation-progress-card"},sb={class:"progress-header"},db={class:"progress-percentage"},mb={class:"progress-bar-container"},pb={class:"progress-bar-bg"},vb={class:"progress-text"},ub={key:2,class:"cultivation-status waiting-status"},gb={class:"content-grid"},fb={class:"info-section"},bb={class:"section-title"},hb={class:"title-icon"},yb={class:"vitals-grid"},xb={class:"vital-label"},kb={class:"vital-bar"},wb={class:"bar-container"},Nb={class:"vital-text"},Eb={class:"vital-item reputation-item"},Vb={class:"reputation-display"},Cb={class:"reputation-value"},zb={class:"info-section"},Sb={class:"section-title"},Bb={class:"title-icon"},Db={class:"basic-info-grid"},Ab={class:"basic-info-item"},_b={class:"info-value realm"},$b={key:0,class:"basic-info-item"},Ib={class:"basic-info-item"},Tb={class:"basic-info-item"},jb={class:"info-value"},Mb={key:1,class:"basic-info-item"},qb={class:"info-value location"},Ob={key:2,class:"basic-info-item"},Pb={class:"info-value world"},Fb={class:"info-section"},Lb={class:"section-title"},Yb={class:"title-icon"},Rb={class:"talent-content"},Ub={class:"talent-tier-card"},Gb={class:"tier-value-display"},Wb={key:0,class:"tier-description"},Jb={class:"root-main-info"},Hb={class:"property-badges"},Qb={class:"prop-badge speed-badge"},Kb={key:0,class:"root-description"},Xb={key:1,class:"root-effects"},Zb={class:"effects-tags"},eh={class:"talents-card"},nh={class:"talents-header"},th={key:0,class:"talents-count"},ah={key:0,class:"talents-container"},oh=["title"],rh={class:"talent-name"},lh={key:0,class:"talent-description-display"},ih={key:1,class:"talents-container no-talents"},ch={class:"info-section"},sh={class:"section-title"},dh={class:"title-icon"},mh={key:0,class:"empty-state"},ph={class:"empty-icon"},vh={key:1,class:"effects-list"},uh={class:"effect-header"},gh={class:"effect-name"},fh=["onClick"],bh={class:"effect-description"},hh={class:"effect-time-info"},yh={class:"effect-created"},xh={class:"effect-remaining"},kh={class:"info-section"},wh={class:"section-title"},Nh={class:"title-icon"},Eh={class:"attributes-display"},Vh={class:"final-attributes"},Ch={class:"attributes-grid"},zh={class:"attr-name"},Sh={class:"attr-value"},Bh={class:"attribute-breakdown"},Dh={class:"innate-attrs"},Ah={class:"attributes-grid compact"},_h={class:"attr-name"},$h={class:"attr-value"},Ih={class:"acquired-attrs"},Th={class:"attributes-grid compact"},jh={class:"attr-name"},Mh={class:"attr-value"},qh={key:0,class:"info-section"},Oh={class:"section-title"},Ph={class:"title-icon"},Fh={class:"body-parts-list"},Lh={class:"part-header"},Yh={class:"part-name"},Rh={key:0,class:"part-level"},Uh={class:"part-description"},Gh={class:"info-section"},Wh={class:"section-title"},Jh={class:"title-icon"},Hh={key:0,class:"empty-state"},Qh={class:"empty-icon"},Kh={key:1,class:"cultivation-display"},Xh={class:"technique-info"},Zh={class:"technique-main"},ey={class:"technique-quality"},ny={class:"technique-toggle"},ty={class:"technique-details"},ay={class:"technique-description"},oy={key:0,class:"technique-effects"},ry={class:"effects-list"},ly={key:0,class:"effect-item"},iy={class:"effect-value"},cy={key:1,class:"effect-item"},sy={class:"attribute-bonuses"},dy={key:1,class:"technique-effects no-effects"},my={class:"technique-progress"},py={key:0,class:"progress-item"},vy={class:"progress-bar"},uy={class:"progress-text"},gy={class:"progress-item"},fy={class:"progress-bar"},by={class:"progress-text"},hy={key:0,class:"learned-skills"},yy={class:"skills-count"},xy={class:"skills-preview"},ky={class:"skills-list-compact"},wy={key:0,class:"more-skills"},Ny={class:"skills-details"},Ey={key:0,class:"skill-category"},Vy={class:"skills-grid"},Cy=["onClick"],zy={class:"skill-name"},Sy={class:"skill-type"},By={class:"skill-source"},Dy={class:"skill-proficiency-mini"},Ay={class:"skill-status"},_y={key:1,class:"skill-category"},$y={class:"skills-grid"},Iy=["onClick"],Ty={class:"skill-name"},jy={class:"skill-type"},My={class:"skill-unlock"},qy={class:"info-section"},Oy={class:"section-title"},Py={class:"title-icon"},Fy={key:0,class:"empty-state"},Ly={class:"empty-icon"},Yy={key:1,class:"dao-list"},Ry={class:"dao-header-section"},Uy={class:"dao-summary"},Gy={class:"dao-count"},Wy={class:"dao-preview"},Jy=["onClick"],Hy={class:"dao-header"},Qy={class:"dao-name"},Ky={class:"dao-stage"},Xy={class:"dao-progress"},Zy={class:"progress-bar small"},ex={class:"progress-text small"},nx={key:0,class:"more-dao"},tx={class:"dao-details"},ax=["onClick"],ox={class:"dao-header"},rx={class:"dao-name"},lx={class:"dao-stage"},ix={class:"dao-progress"},cx={class:"progress-bar small"},sx={class:"progress-text small"},dx={class:"dao-stats"},mx={class:"stat-item"},px={class:"stat-value"},vx={class:"stat-item"},ux={class:"stat-value"},gx={class:"info-section"},fx={class:"section-title"},bx={class:"title-icon"},hx={key:0,class:"empty-state"},yx={class:"empty-icon"},xx={key:1,class:"relationships-summary"},kx={class:"relationship-stats"},wx={class:"stat-item"},Nx={class:"stat-value"},Ex={class:"stat-item"},Vx={class:"stat-value"},Cx={class:"info-section"},zx={class:"section-title"},Sx={class:"title-icon"},Bx={class:"inventory-summary"},Dx={class:"inventory-stats"},Ax={class:"stat-group"},_x={class:"stat-item"},$x={class:"stat-value"},Ix={class:"stat-item"},Tx={class:"stat-value"},jx={class:"stat-item"},Mx={class:"stat-value"},qx={class:"spirit-stones"},Ox={class:"stones-grid"},Px={class:"stone-name"},Fx={class:"stone-count"},Lx={key:1,class:"info-section"},Yx={class:"section-title"},Rx={class:"title-icon"},Ux={class:"sect-info"},Gx={class:"sect-header"},Wx={class:"sect-name"},Jx={class:"sect-type"},Hx={class:"sect-details"},Qx={class:"detail-row"},Kx={class:"detail-value"},Xx={class:"detail-row"},Zx={class:"detail-value"},ek={class:"detail-row"},nk={class:"modal-header"},tk={class:"modal-content"},ak={class:"skill-detail-grid"},ok={class:"skill-detail-item"},rk={class:"detail-value"},lk={class:"skill-detail-item"},ik={class:"skill-detail-item"},ck={class:"detail-value"},sk={class:"skill-detail-item"},dk={class:"detail-value"},mk={class:"skill-detail-item"},pk={class:"detail-value"},vk={class:"skill-description"},uk={class:"modal-header"},gk={class:"modal-content"},fk={class:"dao-progress-section"},bk={class:"dao-stage-info"},hk={class:"stage-value"},yk={class:"dao-progress-bar"},xk={class:"progress-bar-bg"},kk={class:"progress-text"},wk={class:"dao-stats-grid"},Nk={class:"dao-stat-item"},Ek={class:"stat-value"},Vk={class:"dao-stat-item"},Ck={class:"stat-value"},zk={class:"dao-description"},Sk={class:"modal-header"},Bk={class:"modal-content"},Dk={class:"spirit-root-detail-grid"},Ak={class:"detail-card"},_k={class:"detail-card"},$k={class:"detail-card"},Ik={class:"detail-value speed-value"},Tk={key:0,class:"spirit-root-effects-section"},jk={class:"effects-grid"},Mk={key:1,class:"advanced-details"},qk={class:"advanced-grid"},Ok={key:0,class:"advanced-item"},Pk={class:"advanced-value"},Fk={key:1,class:"advanced-item"},Lk={class:"advanced-value"},Yk=(0,a.defineComponent)({__name:"CharacterDetailsPanel",setup(e){const{saveData:n}=(0,Li.useUnifiedCharacterData)(),t=(0,q.useUIStore)(),o=(0,tn.useCharacterStore)(),r=(0,a.ref)(!1),l=(0,a.ref)(!1),i=(0,a.ref)(!1),c=(0,a.ref)(!1),s=(0,a.ref)(!1),d=(0,a.ref)(!1),m=(0,a.ref)(!1),p=(0,a.ref)(null),v=(0,a.ref)(null),u=(0,a.computed)(()=&gt;n.value?.è§’è‰²åŸºç¡€ä¿¡æ¯),g=(0,a.computed)(()=&gt;{const e=String(u.value?.åå­—||"").trim();return e?e.charAt(0):"?"}),f=(0,a.computed)(()=&gt;n.value?.ç©å®¶è§’è‰²çŠ¶æ€),b=(0,a.computed)(()=&gt;{const e=u.value?.å‡ºç”Ÿæ—¥æœŸ,t=n.value?.æ¸¸æˆæ—¶é—´;return e&amp;&amp;t?(0,Uc.R)(e,t):u.value?.å¹´é¾„||f.value?.å¯¿å‘½?.å½“å‰||0}),h=(0,a.computed)(()=&gt;n.value?.ä¿®ç‚¼åŠŸæ³•),y=(0,a.computed)(()=&gt;n.value?.ä¸‰åƒå¤§é“),x=(0,a.computed)(()=&gt;y.value?.å¤§é“åˆ—è¡¨?Object.values(y.value.å¤§é“åˆ—è¡¨).filter(e=&gt;e.æ˜¯å¦è§£é”):[]),k=(0,a.computed)(()=&gt;{if(!f.value)return[];const e=e=&gt;("number"==typeof e?e:Number(e||0))||0,n=e=&gt;{const n="number"==typeof e?e:Number(e||0);return isNaN(n)?0:Math.max(0,n)};return[{label:"æ°”è¡€",current:e(f.value.æ°”è¡€?.å½“å‰),max:n(f.value.æ°”è¡€?.ä¸Šé™),color:"red"},{label:"çµæ°”",current:e(f.value.çµæ°”?.å½“å‰),max:n(f.value.çµæ°”?.ä¸Šé™),color:"blue"},{label:"ç¥è¯†",current:e(f.value.ç¥è¯†?.å½“å‰),max:n(f.value.ç¥è¯†?.ä¸Šé™),color:"gold"}]}),w=e=&gt;{const n="number"==typeof e?e:Number(e||0);return isNaN(n)?0:Math.max(0,Math.min(10,Math.round(n)))},N=(0,a.computed)(()=&gt;{const e=u.value?.å…ˆå¤©å…­å¸||{};return{æ ¹éª¨:w(e.æ ¹éª¨),çµæ€§:w(e.çµæ€§),æ‚Ÿæ€§:w(e.æ‚Ÿæ€§),æ°”è¿:w(e.æ°”è¿),é­…åŠ›:w(e.é­…åŠ›),å¿ƒæ€§:w(e.å¿ƒæ€§)}}),E=(0,a.computed)(()=&gt;{if(!n.value)return N.value;const e=(0,pf.MH)(N.value,n.value);return e?.æœ€ç»ˆå…­å¸||N.value}),V=((0,a.computed)(()=&gt;{const e=n.value?.è®°å¿†;return e&amp;&amp;e.çŸ­æœŸè®°å¿†&amp;&amp;Array.isArray(e.çŸ­æœŸè®°å¿†)?e.çŸ­æœŸè®°å¿†.slice(-3).reverse().map((e,n)=&gt;({æ—¶é—´:"æœ€è¿‘",äº‹ä»¶:e})):[]}),(0,a.computed)(()=&gt;{const e={æ ¹éª¨:0,çµæ€§:0,æ‚Ÿæ€§:0,æ°”è¿:0,é­…åŠ›:0,å¿ƒæ€§:0};if(!n.value)return e;const t=(0,pf.MH)(N.value,n.value);return t?.åå¤©å…­å¸||e})),C=(0,a.computed)(()=&gt;{const e=n.value?.èº«ä½“éƒ¨ä½å¼€å‘;return e&amp;&amp;"object"==typeof e?Object.entries(e).filter(([,e])=&gt;e&amp;&amp;"object"==typeof e).map(([e,n])=&gt;({name:e,description:n.æè¿°||"æš‚æ— æè¿°",level:n.å¼€å‘ç­‰çº§||0})):[]}),z=(0,a.computed)(()=&gt;{const e=h.value?.åŠŸæ³•æ•ˆæœ;if(!e)return!1;const n=e.ä¿®ç‚¼é€Ÿåº¦åŠ æˆ&amp;&amp;e.ä¿®ç‚¼é€Ÿåº¦åŠ æˆ&gt;0,t=e.å±æ€§åŠ æˆ&amp;&amp;Object.keys(e.å±æ€§åŠ æˆ).length&gt;0;return n||t}),S=(0,a.computed)(()=&gt;{const e=h.value;if(!e?.åŠŸæ³•æŠ€èƒ½)return[];const n=[];return Object.entries(e.åŠŸæ³•æŠ€èƒ½).forEach(([t,a])=&gt;{const o=(e.å·²è§£é”æŠ€èƒ½||[]).includes(t),r=a;n.push({name:t,description:r?.æŠ€èƒ½æè¿°||"",type:"åŠŸæ³•æŠ€èƒ½",unlockCondition:"ä¿®ç‚¼è§£é”",unlocked:o})}),n}),B=(0,a.computed)(()=&gt;{const e=n.value?.æŒæ¡æŠ€èƒ½||[],t=(h.value?.å·²è§£é”æŠ€èƒ½||[]).map(e=&gt;{const n=h.value?.åŠŸæ³•æŠ€èƒ½?.[e];return{name:e,proficiency:te(e,"technique"),source:h.value?.åç§°||"åŠŸæ³•",type:"åŠŸæ³•æŠ€èƒ½",description:n?.æŠ€èƒ½æè¿°||"é€šè¿‡åŠŸæ³•ä¿®ç‚¼æŒæ¡",unlocked:!0}}),a=[...e.map(e=&gt;({name:e.æŠ€èƒ½åç§°,proficiency:e.ç†Ÿç»ƒåº¦,source:e.æ¥æº,type:"æŒæ¡æŠ€èƒ½",description:e.æŠ€èƒ½æè¿°,unlocked:!0})),...t],o=new Map;return a.forEach(e=&gt;{o.has(e.name)||o.set(e.name,e)}),Array.from(o.values())}),D=(0,a.computed)(()=&gt;B.value.length),A=(0,a.computed)(()=&gt;{const e=n.value?.äººç‰©å…³ç³»||{};return Object.values(e).filter(e=&gt;e&amp;&amp;e.åå­—).length}),_=(0,a.computed)(()=&gt;{const e=Object.values(n.value?.äººç‰©å…³ç³»||{}).filter(e=&gt;e&amp;&amp;e.åå­—);if(0===e.length)return 0;const t=e.reduce((e,n)=&gt;e+(n.å¥½æ„Ÿåº¦||0),0);return Math.round(t/e.length)}),$=(0,a.computed)(()=&gt;{const e=n.value?.èƒŒåŒ…?.ç‰©å“||{};return Object.entries(e).filter(([e,n])=&gt;!String(e).startsWith("_")&amp;&amp;n&amp;&amp;"object"==typeof n&amp;&amp;"string"==typeof n.åç§°).length}),I=[{name:"ä¸‹å“",class:"grade-common"},{name:"ä¸­å“",class:"grade-rare"},{name:"ä¸Šå“",class:"grade-epic"},{name:"æå“",class:"grade-legend"}],T=()=&gt;{const e=f.value?.å¢ƒç•Œ?.åç§°;switch(e){case"å‡¡äºº":case"æ™®é€šäºº":return"ç­‰å¾…ä»™ç¼˜";case"è›®å…½":case"çµå…½":return"é‡æ€§æœ¬èƒ½";case"åŠ¨ç‰©":return"è‡ªç„¶çŠ¶æ€";default:return"ç­‰å¾…è§‰é†’"}},j=()=&gt;{const e=f.value?.å¢ƒç•Œ?.å½“å‰è¿›åº¦,n=f.value?.å¢ƒç•Œ?.ä¸‹ä¸€çº§æ‰€éœ€;return"number"==typeof e&amp;&amp;"number"==typeof n&amp;&amp;n&gt;0},M=()=&gt;{const e=f.value?.å¢ƒç•Œ?.å½“å‰è¿›åº¦||0,n=f.value?.å¢ƒç•Œ?.ä¸‹ä¸€çº§æ‰€éœ€||100;if(n&gt;=1e4){const t=Math.floor(e/1e3),a=Math.floor(n/1e3);if(t&gt;0&amp;&amp;a&gt;0)return`${t}k/${a}k`}return`${e}/${n}`},O=e=&gt;{if(e&amp;&amp;"object"==typeof e)return Yi({name:e.åç§°||"",é˜¶æ®µ:e.é˜¶æ®µ||"",å½“å‰è¿›åº¦:e.å½“å‰è¿›åº¦,ä¸‹ä¸€çº§æ‰€éœ€:e.ä¸‹ä¸€çº§æ‰€éœ€});const n="string"==typeof e?e:void 0,t=f.value?.å¢ƒç•Œ?.å½“å‰è¿›åº¦,a=f.value?.å¢ƒç•Œ?.ä¸‹ä¸€çº§æ‰€éœ€,o=f.value?.å¢ƒç•Œ?.é˜¶æ®µ;return Yi({name:n,é˜¶æ®µ:o,å½“å‰è¿›åº¦:t,ä¸‹ä¸€çº§æ‰€éœ€:a})},P=()=&gt;{const e=f.value?.å¢ƒç•Œ?.å½“å‰è¿›åº¦||0,n=f.value?.å¢ƒç•Œ?.ä¸‹ä¸€çº§æ‰€éœ€||100;return Math.round(e/n*100)},F=e=&gt;e?"object"==typeof e&amp;&amp;null!==e&amp;&amp;"åç§°"in e?{name:e.åç§°||"æœªçŸ¥",description:e.æè¿°||""}:"string"==typeof e?{name:e,description:""}:{name:"æœªçŸ¥",description:""}:{name:"æœªçŸ¥",description:""},L=e=&gt;F(e).name,Y=e=&gt;F(e).description,R=e=&gt;e&amp;&amp;Array.isArray(e)?e.map(e=&gt;"string"==typeof e?{åç§°:e,æè¿°:`å¤©èµ‹ã€Š${e}ã€‹çš„è¯¦ç»†æè¿°æš‚æœªå¼€æ”¾ï¼Œè¯·æœŸå¾…åç»­æ›´æ–°ã€‚`}:{åç§°:e.åç§°,æè¿°:e.æè¿°||`å¤©èµ‹ã€Š${e.åç§°}ã€‹çš„è¯¦ç»†æè¿°æš‚æœªå¼€æ”¾ï¼Œè¯·æœŸå¾…åç»­æ›´æ–°ã€‚`}):[],U=(e,n="border")=&gt;e?`${n}-quality-${e.å“è´¨?.quality||"æœªçŸ¥"}`:"",G=e=&gt;y.value?.å¤§é“åˆ—è¡¨?.[e],W=e=&gt;G(e)?.å½“å‰é˜¶æ®µ||0,J=e=&gt;{const n=G(e);if(!n)return 0;const t=n.å½“å‰é˜¶æ®µ||0,a=n.é˜¶æ®µåˆ—è¡¨?.[t];if(!a)return 0;const o=a.çªç ´ç»éªŒ;return o&lt;=0?100:Math.min(100,Math.round(n.å½“å‰ç»éªŒ/o*100))},H=e=&gt;G(e)?.å½“å‰ç»éªŒ||0,Q=e=&gt;G(e)?.æ€»ç»éªŒ||0,K=e=&gt;{const t=n.value?.èƒŒåŒ…?.ç‰©å“||{};return Object.entries(t).filter(([e,n])=&gt;!String(e).startsWith("_")&amp;&amp;n&amp;&amp;"object"==typeof n).map(([,e])=&gt;e).filter(n=&gt;n.ç±»å‹===e).length},X=e=&gt;n.value?.èƒŒåŒ…?.çµçŸ³?.[e]||0,Z=e=&gt;{if(!e||!e.çŠ¶æ€æè¿°)return"";let n=e.çŠ¶æ€æè¿°;const t=e.æ—¶é—´;return t&amp;&amp;n.includes(t)&amp;&amp;(n=n.replace(new RegExp(`[^ã€‚]*${t}[^ã€‚]*ã€‚`,"g"),"").replace(new RegExp(`æŒç»­æ—¶é—´[ï¼š][^ã€‚]*${t}[^ã€‚]*ã€‚`,"g"),"").replace(new RegExp(`å‰©ä½™æ—¶é—´[ï¼š][^ã€‚]*${t}[^ã€‚]*ã€‚`,"g"),"").replace(new RegExp(`æ—¶é—´[ï¼š][^ã€‚]*${t}[^ã€‚]*ã€‚`,"g"),"").trim()),n||"æ— æè¿°"},ee=e=&gt;{if(!e.ç”Ÿæˆæ—¶é—´)return"æœªçŸ¥";const{å¹´:n,æœˆ:t,æ—¥:a,å°æ—¶:o,åˆ†é’Ÿ:r}=e.ç”Ÿæˆæ—¶é—´;return`${n}å¹´${t}æœˆ${a}æ—¥ ${o||0}:${String(r??0).padStart(2,"0")}`},ne=e=&gt;{if(!n.value?.æ¸¸æˆæ—¶é—´)return"æœªçŸ¥";const t=(0,vf.E0)(e,n.value.æ¸¸æˆæ—¶é—´);return(0,vf.QS)(t)},te=(e,n)=&gt;30+(e.split("").reduce((e,n)=&gt;e+n.charCodeAt(0),0)+n.length)%66,ae=()=&gt;{l.value=!l.value},oe=()=&gt;{i.value=!i.value},re=()=&gt;{c.value=!c.value},le=e=&gt;{v.value=e,d.value=!0},ie=e=&gt;{p.value=e,s.value=!0},ce=()=&gt;{m.value=!0},se=()=&gt;{s.value=!1,d.value=!1,m.value=!1,p.value=null,v.value=null},de=()=&gt;{if(!v.value)return null;const e=G(v.value);if(!e)return{name:v.value,stage:"åˆå§‹é˜¶æ®µ",currentExp:0,totalExp:0,progressPercent:0,description:"æ­¤å¤§é“å·²è§£é”ï¼Œä½†å°šæœªå¼€å§‹ä¿®ç‚¼"};const n=e.å½“å‰é˜¶æ®µ||0,t=e.å½“å‰ç»éªŒ||0,a=e.æ€»ç»éªŒ||0,o=J(v.value);return{name:v.value,stage:`ç¬¬${n}é˜¶æ®µ`,currentExp:t,totalExp:a,progressPercent:o,description:e.æè¿°||"æ­¤é“æ·±å¥¥ç„å¦™ï¼Œéœ€æŒä¹‹ä»¥æ’æ–¹èƒ½æœ‰æ‰€æˆå°±"}},me=()=&gt;{if(!p.value)return null;if("object"==typeof p.value&amp;&amp;"proficiency"in p.value){const e=p.value;return{name:e.name,type:e.type,status:"å·²è§£é”",condition:"å·²æŒæ¡",description:e.description,source:e.source,proficiency:e.proficiency}}if("string"==typeof p.value)return{name:p.value,type:"åŠŸæ³•æŠ€èƒ½",status:"å·²è§£é”",condition:"ä¿®ç‚¼å®Œæˆ",description:"é€šè¿‡ä¿®ç‚¼åŠŸæ³•è·å¾—çš„æŠ€èƒ½",source:"åŠŸæ³•ä¿®ç‚¼"};const e=p.value;return{name:e.name,type:e.type,status:e.unlocked?"å·²è§£é”":"æœªè§£é”",condition:e.unlocked?"ä¿®ç‚¼å®Œæˆ":e.unlockCondition,description:e.description,source:"åŠŸæ³•ä¼ æ‰¿"}},pe=async()=&gt;{r.value=!0,r.value=!1};(0,a.onMounted)(async()=&gt;{bg.Yz.log("äººç‰©è¯¦æƒ…","ç»„ä»¶æŒ‚è½½ï¼ŒåŒæ­¥æ•°æ®"),await pe()});const ve=e=&gt;e?"string"==typeof e?e:"object"==typeof e&amp;&amp;null!==e&amp;&amp;"åç§°"in e?e.åç§°||"å¾…å®š":"æ ¼å¼é”™è¯¯":"å¾…å®š",ue=e=&gt;{if(!e)return{name:"æœªçŸ¥",grade:"å‡¡å“",description:"æš‚æ— çµæ ¹ä¿¡æ¯"};if("object"==typeof e&amp;&amp;null!==e&amp;&amp;"åç§°"in e)return{name:e.åç§°||"æœªçŸ¥",grade:e.å“çº§||"å‡¡å“",description:e.æè¿°||`å…³äº${e.åç§°}çš„è¯¦ç»†æè¿°æš‚æœªå¼€æ”¾ã€‚`};if("string"==typeof e){const n=e.match(/(ä¸‹å“|ä¸­å“|ä¸Šå“|æå“|ç¥å“|ç‰¹æ®Š|å‡¡å“)/),t=n?n[1]:"å‡¡å“";return{name:n?e.replace(n[1],"").trim():e,grade:t,description:`ä¸€ç§${t}çµæ ¹ã€‚`}}return{name:"æœªçŸ¥",grade:"å‡¡å“",description:"çµæ ¹ä¿¡æ¯æ ¼å¼æ— æ³•è¯†åˆ«"}},ge=e=&gt;{const n=ue(e);return n.name&amp;&amp;"æœªçŸ¥"!==n.name?n.grade&amp;&amp;"æœªçŸ¥"!==n.grade&amp;&amp;"å‡¡å“"!==n.grade?`${n.name}(${n.grade})`:n.name:"æœªçŸ¥"},fe=e=&gt;{const n=ue(e);return n.name&amp;&amp;"æœªçŸ¥"!==n.name?n.name:"æœªçŸ¥"},be=e=&gt;ue(e).grade||"å‡¡å“",he=e=&gt;ue(e).description||"æœªçŸ¥",ye=e=&gt;{const n=ue(e),t=n.grade?.toLowerCase()||"";return t.includes("ç¥å“")?"spirit-divine":t.includes("æå“")?"spirit-supreme":t.includes("ä¸Šå“")?"spirit-superior":t.includes("ä¸­å“")?"spirit-medium":t.includes("ä¸‹å“")?"spirit-inferior":t.includes("å‡¡å“")?"spirit-common":"spirit-unknown"},xe=e=&gt;{const n=e?.çµæ ¹;if(n&amp;&amp;"object"==typeof n){if("base_multiplier"in n&amp;&amp;n.base_multiplier)return`${n.base_multiplier}x`;if("cultivation_speed"in n&amp;&amp;n.cultivation_speed)return n.cultivation_speed}return{å‡¡å“:"1.0x",ä¸‹å“:"1.1x",ä¸­å“:"1.3x",ä¸Šå“:"1.6x",æå“:"2.0x",ç¥å“:"2.8x",ç‰¹æ®Š:"ç‰¹æ®Š"}[ue(n).grade||""]||"1.0x"},ke=e=&gt;{const n=e?.çµæ ¹;return n&amp;&amp;"object"==typeof n&amp;&amp;"special_effects"in n&amp;&amp;Array.isArray(n.special_effects)?n.special_effects:[]};return(e,p)=&gt;{return(0,a.openBlock)(),(0,a.createElementBlock)("div",kf,[r.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",wf,p[4]||(p[4]=[(0,a.createElementVNode)("div",{class:"loading-spinner"},null,-1),(0,a.createElementVNode)("p",null,"åŠ è½½è§’è‰²æ•°æ®..",-1)]))):u.value&amp;&amp;(0,a.unref)(n)?u.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",Vf,[(0,a.createCommentVNode)(" é¡¶éƒ¨è§’è‰²ä¿¡æ¯å¡ç‰‡ - å…¨æ–°è®¾è®¡ "),(0,a.createElementVNode)("div",Cf,[(0,a.createCommentVNode)(" èƒŒæ™¯è£…é¥° "),p[19]||(p[19]=(0,a.createElementVNode)("div",{class:"header-bg-decoration"},null,-1)),(0,a.createCommentVNode)(" ä¸»è¦ä¿¡æ¯åŒº "),(0,a.createElementVNode)("div",zf,[(0,a.createCommentVNode)(" å·¦ä¾§ï¼šå¤´åƒå’ŒåŸºç¡€ä¿¡æ¯ "),(0,a.createElementVNode)("div",Sf,[(0,a.createElementVNode)("div",Bf,[(0,a.createElementVNode)("div",{class:"avatar-circle",title:u.value.åå­—},[(0,a.createElementVNode)("span",Af,(0,a.toDisplayString)(g.value),1)],8,Df),p[6]||(p[6]=(0,a.createElementVNode)("div",{class:"avatar-glow"},null,-1))]),(0,a.createElementVNode)("div",_f,[(0,a.createElementVNode)("h1",$f,(0,a.toDisplayString)(u.value.åå­—),1),(0,a.createElementVNode)("div",If,[u.value.æ€§åˆ«?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[(0,a.createElementVNode)("span",{class:(0,a.normalizeClass)(["subtitle-item",`gender-badge gender-${u.value.æ€§åˆ«}`])},(0,a.toDisplayString)(("ç”·"===u.value.æ€§åˆ«?"â™‚":"â™€")+" "+u.value.æ€§åˆ«),3),p[7]||(p[7]=(0,a.createElementVNode)("span",{class:"subtitle-divider"},"Â·",-1))],64)):(0,a.createCommentVNode)("v-if",!0),(0,a.createElementVNode)("span",Tf,(0,a.toDisplayString)(u.value.ç§æ—||"äººæ—"),1),p[8]||(p[8]=(0,a.createElementVNode)("span",{class:"subtitle-divider"},"Â·",-1)),(0,a.createElementVNode)("span",jf,(0,a.toDisplayString)(b.value)+"å²",1),p[9]||(p[9]=(0,a.createElementVNode)("span",{class:"subtitle-divider"},"Â·",-1)),(0,a.createElementVNode)("span",Mf,(0,a.toDisplayString)(ve(u.value.å‡ºç”Ÿ)),1)])])]),(0,a.createCommentVNode)(" ä¸­é—´ï¼šæ ¸å¿ƒæ•°æ®å¡ç‰‡ç»„ "),(0,a.createElementVNode)("div",qf,[(0,a.createCommentVNode)(" å¢ƒç•Œå¡ç‰‡ "),(0,a.createElementVNode)("div",Of,[(0,a.createElementVNode)("div",Pf,[(0,a.createVNode)((0,a.unref)(gf),{size:20})]),(0,a.createElementVNode)("div",Ff,[p[10]||(p[10]=(0,a.createElementVNode)("div",{class:"card-label"},"å¢ƒç•Œ",-1)),(0,a.createElementVNode)("div",Lf,(0,a.toDisplayString)(O(f.value?.å¢ƒç•Œ?.åç§°)||"å‡¡äºº"),1)])]),(0,a.createCommentVNode)(" çµæ ¹å¡ç‰‡ "),u.value.çµæ ¹?((0,a.openBlock)(),(0,a.createElementBlock)("div",Yf,[(0,a.createElementVNode)("div",Rf,[(0,a.createVNode)((0,a.unref)(Lc),{size:20})]),(0,a.createElementVNode)("div",Uf,[p[11]||(p[11]=(0,a.createElementVNode)("div",{class:"card-label"},"çµæ ¹",-1)),(0,a.createElementVNode)("div",Gf,(0,a.toDisplayString)(fe(u.value.çµæ ¹)),1)])])):(0,a.createCommentVNode)("v-if",!0),(0,a.createCommentVNode)(" ä½ç½®å¡ç‰‡ "),f.value?.ä½ç½®?.æè¿°?((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:1,class:"stat-card location-card",title:f.value.ä½ç½®.æè¿°},[(0,a.createElementVNode)("div",Jf,[(0,a.createVNode)((0,a.unref)(ff),{size:20})]),(0,a.createElementVNode)("div",Hf,[p[12]||(p[12]=(0,a.createElementVNode)("div",{class:"card-label"},"ä½ç½®",-1)),(0,a.createElementVNode)("div",Qf,(0,a.toDisplayString)(f.value.ä½ç½®.æè¿°),1)])],8,Wf)):(0,a.createCommentVNode)("v-if",!0),(0,a.createCommentVNode)(" å‡ºç”Ÿå¡ç‰‡ "),u.value.å‡ºç”Ÿ?((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:2,class:"stat-card origin-card clickable",onClick:p[0]||(p[0]=e=&gt;(e=&gt;{if(e&amp;&amp;"object"==typeof e&amp;&amp;null!==e&amp;&amp;"åç§°"in e&amp;&amp;"æè¿°"in e){const n=e;t.showDetailModal({title:`å‡ºèº«èƒŒæ™¯: ${n.åç§°}`,content:n.æè¿°})}})(u.value.å‡ºç”Ÿ)),title:"object"==typeof u.value.å‡ºç”Ÿ?"ç‚¹å‡»æŸ¥çœ‹è¯¦æƒ…":""},[(0,a.createElementVNode)("div",Xf,[(0,a.createVNode)((0,a.unref)(bf),{size:20})]),(0,a.createElementVNode)("div",Zf,[p[13]||(p[13]=(0,a.createElementVNode)("div",{class:"card-label"},"å‡ºç”Ÿ",-1)),(0,a.createElementVNode)("div",eb,(0,a.toDisplayString)(ve(u.value.å‡ºç”Ÿ)),1)])],8,Kf)):(0,a.createCommentVNode)("v-if",!0),(0,a.createCommentVNode)(" å£°æœ›å¡ç‰‡ "),f.value?.å£°æœ›?((0,a.openBlock)(),(0,a.createElementBlock)("div",nb,[(0,a.createElementVNode)("div",tb,[(0,a.createVNode)((0,a.unref)(Rc),{size:20})]),(0,a.createElementVNode)("div",ab,[p[14]||(p[14]=(0,a.createElementVNode)("div",{class:"card-label"},"å£°æœ›",-1)),(0,a.createElementVNode)("div",ob,(0,a.toDisplayString)(f.value.å£°æœ›),1)])])):(0,a.createCommentVNode)("v-if",!0)]),(0,a.createCommentVNode)(" å³ä¾§ï¼šä¿®ä¸ºè¿›åº¦ "),(0,a.createElementVNode)("div",rb,[(v=f.value?.å¢ƒç•Œ?.åç§°,!v||["å‡¡äºº","è›®å…½","çµå…½","åŠ¨ç‰©","å‡¡ç‰©","æ™®é€šäºº"].includes(v)?((0,a.openBlock)(),(0,a.createElementBlock)("div",lb,[p[15]||(p[15]=(0,a.createElementVNode)("div",{class:"status-icon"},"ğŸŒ±",-1)),(0,a.createElementVNode)("div",ib,(0,a.toDisplayString)(T()),1)])):j()?((0,a.openBlock)(),(0,a.createElementBlock)("div",cb,[(0,a.createElementVNode)("div",sb,[p[16]||(p[16]=(0,a.createElementVNode)("span",{class:"progress-label"},"ä¿®ä¸ºè¿›åº¦",-1)),(0,a.createElementVNode)("span",db,(0,a.toDisplayString)(P())+"%",1)]),(0,a.createElementVNode)("div",mb,[(0,a.createElementVNode)("div",pb,[(0,a.createElementVNode)("div",{class:"progress-bar-fill",style:(0,a.normalizeStyle)({width:P()+"%"})},p[17]||(p[17]=[(0,a.createElementVNode)("div",{class:"progress-bar-shine"},null,-1)]),4)])]),(0,a.createElementVNode)("div",vb,(0,a.toDisplayString)(M()),1)])):((0,a.openBlock)(),(0,a.createElementBlock)("div",ub,p[18]||(p[18]=[(0,a.createElementVNode)("div",{class:"status-icon"},"âœ¨",-1),(0,a.createElementVNode)("div",{class:"status-text"},"ç­‰å¾…ä»™ç¼˜",-1)]))))])])]),(0,a.createCommentVNode)(" ä¸»è¦å†…å®¹åŒºåŸŸ "),(0,a.createElementVNode)("div",gb,[(0,a.createCommentVNode)(" ç”Ÿå‘½çŠ¶æ€ "),(0,a.createElementVNode)("div",fb,[(0,a.createElementVNode)("h3",bb,[(0,a.createElementVNode)("div",hb,[(0,a.createVNode)((0,a.unref)(Pc),{size:18})]),p[20]||(p[20]=(0,a.createTextVNode)(" ç”Ÿå‘½çŠ¶æ€ ",-1))]),(0,a.createElementVNode)("div",yb,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(k.value,e=&gt;{return(0,a.openBlock)(),(0,a.createElementBlock)("div",{class:"vital-item",key:e.label},[(0,a.createElementVNode)("div",xb,(0,a.toDisplayString)(e.label),1),(0,a.createElementVNode)("div",kb,[(0,a.createElementVNode)("div",wb,[(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["bar-fill",`bar-${e.color}`]),style:(0,a.normalizeStyle)({width:(n=e.current,t=e.max,Math.round(n/t*100)+"%")})},null,6)]),(0,a.createElementVNode)("div",Nb,(0,a.toDisplayString)(e.current)+"/"+(0,a.toDisplayString)(e.max),1)])]);var n,t}),128)),(0,a.createCommentVNode)(" å£°æœ›æ˜¾ç¤º "),(0,a.createElementVNode)("div",Eb,[p[21]||(p[21]=(0,a.createElementVNode)("div",{class:"vital-label"},"å£°æœ›",-1)),(0,a.createElementVNode)("div",Vb,[(0,a.createElementVNode)("span",Cb,(0,a.toDisplayString)(f.value?.å£°æœ›||"ç±ç±æ— å"),1)])])])]),(0,a.createCommentVNode)(" è§’è‰²åŸºç¡€ä¿¡æ¯ "),(0,a.createElementVNode)("div",zb,[(0,a.createElementVNode)("h3",Sb,[(0,a.createElementVNode)("div",Bb,[(0,a.createVNode)((0,a.unref)(zi),{size:18})]),p[22]||(p[22]=(0,a.createTextVNode)(" è§’è‰²èƒŒæ™¯ ",-1))]),(0,a.createElementVNode)("div",Db,[(0,a.createElementVNode)("div",Ab,[p[23]||(p[23]=(0,a.createElementVNode)("span",{class:"info-label"},"å¢ƒç•Œ",-1)),(0,a.createElementVNode)("span",_b,(0,a.toDisplayString)(O(f.value?.å¢ƒç•Œ)),1)]),u.value.æ€§åˆ«?((0,a.openBlock)(),(0,a.createElementBlock)("div",$b,[p[24]||(p[24]=(0,a.createElementVNode)("span",{class:"info-label"},"æ€§åˆ«",-1)),(0,a.createElementVNode)("span",{class:(0,a.normalizeClass)(["info-value gender",`gender-${u.value.æ€§åˆ«}`])},(0,a.toDisplayString)(u.value.æ€§åˆ«),3)])):(0,a.createCommentVNode)("v-if",!0),(0,a.createElementVNode)("div",Ib,[p[25]||(p[25]=(0,a.createElementVNode)("span",{class:"info-label"},"çµæ ¹",-1)),(0,a.createElementVNode)("span",{class:(0,a.normalizeClass)(["info-value spirit-root",`root-${ye(u.value.çµæ ¹)}`])},(0,a.toDisplayString)(ge(u.value.çµæ ¹)),3)]),(0,a.createElementVNode)("div",Tb,[p[26]||(p[26]=(0,a.createElementVNode)("span",{class:"info-label"},"å¹´é¾„",-1)),(0,a.createElementVNode)("span",jb,(0,a.toDisplayString)(b.value)+"å²",1)]),f.value?.ä½ç½®?.æè¿°?((0,a.openBlock)(),(0,a.createElementBlock)("div",Mb,[p[27]||(p[27]=(0,a.createElementVNode)("span",{class:"info-label"},"ä½ç½®",-1)),(0,a.createElementVNode)("span",qb,(0,a.toDisplayString)(f.value.ä½ç½®.æè¿°),1)])):u.value.ä¸–ç•Œ?((0,a.openBlock)(),(0,a.createElementBlock)("div",Ob,[p[28]||(p[28]=(0,a.createElementVNode)("span",{class:"info-label"},"ä¸–ç•Œ",-1)),(0,a.createElementVNode)("span",Pb,(0,a.toDisplayString)(u.value.ä¸–ç•Œ),1)])):(0,a.createCommentVNode)("v-if",!0)])]),(0,a.createCommentVNode)(" å¤©èµ‹ä¸çµæ ¹ "),(0,a.createElementVNode)("div",Fb,[(0,a.createElementVNode)("h3",Lb,[(0,a.createElementVNode)("div",Yb,[(0,a.createVNode)((0,a.unref)(Lc),{size:18})]),p[29]||(p[29]=(0,a.createTextVNode)(" å¤©èµ‹ä¸çµæ ¹ ",-1))]),(0,a.createElementVNode)("div",Rb,[(0,a.createCommentVNode)(" å¤©èµ„ç­‰çº§å¡ç‰‡ "),(0,a.createElementVNode)("div",Ub,[p[30]||(p[30]=(0,a.createElementVNode)("div",{class:"tier-header"},[(0,a.createElementVNode)("div",{class:"tier-icon"},"ğŸŒŸ"),(0,a.createElementVNode)("span",{class:"tier-label"},"å¤©èµ„ç­‰çº§")],-1)),(0,a.createElementVNode)("div",Gb,[(0,a.createElementVNode)("span",{class:(0,a.normalizeClass)(["tier-value",`tier-${L(u.value.å¤©èµ„)}`])},(0,a.toDisplayString)(L(u.value.å¤©èµ„)),3)]),Y(u.value.å¤©èµ„)?((0,a.openBlock)(),(0,a.createElementBlock)("div",Wb,(0,a.toDisplayString)(Y(u.value.å¤©èµ„)),1)):(0,a.createCommentVNode)("v-if",!0)]),(0,a.createCommentVNode)(" çµæ ¹å±æ€§å¡ç‰‡ (Re-designed) "),(0,a.createElementVNode)("div",{class:"spirit-root-card",onClick:ce},[p[31]||(p[31]=(0,a.createElementVNode)("div",{class:"root-header"},[(0,a.createElementVNode)("div",{class:"root-icon"},"âš¡"),(0,a.createElementVNode)("span",{class:"root-label"},"çµæ ¹å±æ€§"),(0,a.createElementVNode)("span",{class:"click-hint"},"ç‚¹å‡»æŸ¥çœ‹è¯¦æƒ…")],-1)),(0,a.createElementVNode)("div",Jb,[(0,a.createElementVNode)("span",{class:(0,a.normalizeClass)(["root-name",`root-${ye(u.value.çµæ ¹)}`])},(0,a.toDisplayString)(ge(u.value.çµæ ¹)),3),(0,a.createElementVNode)("div",Hb,[(0,a.createElementVNode)("span",{class:(0,a.normalizeClass)(["prop-badge grade-badge",`grade-${be(u.value.çµæ ¹)||"å‡¡å“"}`])},(0,a.toDisplayString)(be(u.value.çµæ ¹)||"å‡¡å“"),3),(0,a.createElementVNode)("span",Qb,(0,a.toDisplayString)(xe(u.value)),1)])]),he(u.value.çµæ ¹)?((0,a.openBlock)(),(0,a.createElementBlock)("div",Kb,(0,a.toDisplayString)(he(u.value.çµæ ¹)),1)):(0,a.createCommentVNode)("v-if",!0),ke(u.value).length&gt;0?((0,a.openBlock)(),(0,a.createElementBlock)("div",Xb,[(0,a.createElementVNode)("div",Zb,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(ke(u.value),e=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("span",{key:e,class:"effect-tag"},(0,a.toDisplayString)(e),1))),128))])])):(0,a.createCommentVNode)("v-if",!0)]),(0,a.createCommentVNode)(" å¤©èµ‹åˆ—è¡¨å¡ç‰‡ "),(0,a.createElementVNode)("div",eh,[(0,a.createElementVNode)("div",nh,[p[32]||(p[32]=(0,a.createElementVNode)("div",{class:"talents-icon"},"âœ¨",-1)),p[33]||(p[33]=(0,a.createElementVNode)("span",{class:"talents-label"},"å¤©èµ‹ç‰¹è´¨",-1)),R(u.value.å¤©èµ‹)?.length?((0,a.openBlock)(),(0,a.createElementBlock)("span",th,"("+(0,a.toDisplayString)(R(u.value.å¤©èµ‹).length)+")",1)):(0,a.createCommentVNode)("v-if",!0)]),R(u.value.å¤©èµ‹)?.length?((0,a.openBlock)(),(0,a.createElementBlock)("div",ah,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(R(u.value.å¤©èµ‹),e=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:e.åç§°,class:"talent-item",title:e.æè¿°},[(0,a.createElementVNode)("div",rh,(0,a.toDisplayString)(e.åç§°),1),e.æè¿°?((0,a.openBlock)(),(0,a.createElementBlock)("div",lh,(0,a.toDisplayString)(e.æè¿°),1)):(0,a.createCommentVNode)("v-if",!0)],8,oh))),128))])):((0,a.openBlock)(),(0,a.createElementBlock)("div",ih,p[34]||(p[34]=[(0,a.createElementVNode)("div",{class:"talent-item no-talent"},[(0,a.createElementVNode)("div",{class:"talent-name"},"æ— ")],-1)])))])])]),(0,a.createCommentVNode)(" çŠ¶æ€æ•ˆæœ "),(0,a.createElementVNode)("div",ch,[(0,a.createElementVNode)("h3",sh,[(0,a.createElementVNode)("div",dh,[(0,a.createVNode)((0,a.unref)(Rc),{size:18})]),p[35]||(p[35]=(0,a.createTextVNode)(" çŠ¶æ€æ•ˆæœ ",-1))]),f.value?.çŠ¶æ€æ•ˆæœ?.length?((0,a.openBlock)(),(0,a.createElementBlock)("div",vh,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(f.value.çŠ¶æ€æ•ˆæœ,e=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:e.çŠ¶æ€åç§°,class:(0,a.normalizeClass)(["effect-item",`effect-${e.ç±»å‹}`])},[(0,a.createElementVNode)("div",uh,[(0,a.createElementVNode)("span",gh,(0,a.toDisplayString)(e.çŠ¶æ€åç§°),1),(0,a.createElementVNode)("button",{class:"effect-remove-btn",onClick:t=&gt;(async e=&gt;{if(n.value&amp;&amp;confirm(`ç¡®å®šè¦ç§»é™¤çŠ¶æ€æ•ˆæœ"${e}"å—ï¼Ÿ`))try{(0,vf.wG)(n.value,e)?(await o.syncFromTavern(),bg.Yz.log("è§’è‰²è¯¦æƒ…é¢æ¿",`å·²ç§»é™¤çŠ¶æ€æ•ˆæœ: ${e}`)):bg.Yz.warn("è§’è‰²è¯¦æƒ…é¢æ¿",`ç§»é™¤çŠ¶æ€æ•ˆæœå¤±è´¥: ${e}`)}catch(e){bg.Yz.error("è§’è‰²è¯¦æƒ…é¢æ¿","ç§»é™¤çŠ¶æ€æ•ˆæœå¤±è´¥:",e)}})(e.çŠ¶æ€åç§°),title:"ç§»é™¤çŠ¶æ€æ•ˆæœ"},[(0,a.createVNode)((0,a.unref)(Ne),{size:14})],8,fh)]),(0,a.createElementVNode)("div",bh,(0,a.toDisplayString)(Z(e)),1),(0,a.createElementVNode)("div",hh,[(0,a.createElementVNode)("span",yh,"ç”Ÿæˆ: "+(0,a.toDisplayString)(ee(e)),1),(0,a.createElementVNode)("span",xh,"å‰©ä½™: "+(0,a.toDisplayString)(ne(e)),1)])],2))),128))])):((0,a.openBlock)(),(0,a.createElementBlock)("div",mh,[(0,a.createElementVNode)("div",ph,[(0,a.createVNode)((0,a.unref)(hf),{size:32})]),p[36]||(p[36]=(0,a.createElementVNode)("span",null,"å½“å‰æ— çŠ¶æ€æ•ˆæœ",-1))]))]),(0,a.createCommentVNode)(" å…­å¸å±æ€§ "),(0,a.createElementVNode)("div",kh,[(0,a.createElementVNode)("h3",wh,[(0,a.createElementVNode)("div",Nh,[(0,a.createVNode)((0,a.unref)(Mi),{size:18})]),p[37]||(p[37]=(0,a.createTextVNode)(" å…­å¸å±æ€§ ",-1))]),(0,a.createElementVNode)("div",Eh,[(0,a.createCommentVNode)(" æœ€ç»ˆå±æ€§ "),(0,a.createElementVNode)("div",Vh,[p[38]||(p[38]=(0,a.createElementVNode)("h4",{class:"attribute-group-title"},"æœ€ç»ˆå…­å¸",-1)),(0,a.createElementVNode)("div",Ch,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(E.value,(e,n)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:n,class:"attribute-item final"},[(0,a.createElementVNode)("span",zh,(0,a.toDisplayString)(n),1),(0,a.createElementVNode)("span",Sh,(0,a.toDisplayString)(e),1)]))),128))])]),(0,a.createCommentVNode)(" å±æ€§è¯¦ï¿½?"),(0,a.createElementVNode)("div",Bh,[(0,a.createElementVNode)("div",Dh,[p[39]||(p[39]=(0,a.createElementVNode)("h4",{class:"attribute-group-title"},"å…ˆå¤©å…­å¸",-1)),(0,a.createElementVNode)("div",Ah,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(N.value,(e,n)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:n,class:"attribute-item innate"},[(0,a.createElementVNode)("span",_h,(0,a.toDisplayString)(n),1),(0,a.createElementVNode)("span",$h,(0,a.toDisplayString)(e),1)]))),128))])]),(0,a.createElementVNode)("div",Ih,[p[40]||(p[40]=(0,a.createElementVNode)("h4",{class:"attribute-group-title"},"åå¤©å…­å¸",-1)),(0,a.createElementVNode)("div",Th,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(V.value,(e,n)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:n,class:(0,a.normalizeClass)(["attribute-item acquired",{"has-bonus":e&gt;0}])},[(0,a.createElementVNode)("span",jh,(0,a.toDisplayString)(n),1),(0,a.createElementVNode)("span",Mh,(0,a.toDisplayString)(e&gt;0?`+${e}`:e),1)],2))),128))])])])])]),(0,a.createCommentVNode)(" èº«ä½“éƒ¨ä½å¼€å‘ "),C.value.length?((0,a.openBlock)(),(0,a.createElementBlock)("div",qh,[(0,a.createElementVNode)("h3",Oh,[(0,a.createElementVNode)("div",Ph,[(0,a.createVNode)((0,a.unref)(Lc),{size:18})]),p[41]||(p[41]=(0,a.createTextVNode)(" èº«ä½“éƒ¨ä½å¼€å‘ ",-1))]),(0,a.createElementVNode)("div",Fh,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(C.value,e=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:e.name,class:"body-part-item"},[(0,a.createElementVNode)("div",Lh,[(0,a.createElementVNode)("span",Yh,(0,a.toDisplayString)(e.name),1),e.level&gt;0?((0,a.openBlock)(),(0,a.createElementBlock)("span",Rh,"Lv."+(0,a.toDisplayString)(e.level),1)):(0,a.createCommentVNode)("v-if",!0)]),(0,a.createElementVNode)("div",Uh,(0,a.toDisplayString)(e.description),1)]))),128))])])):(0,a.createCommentVNode)("v-if",!0),(0,a.createCommentVNode)(" ä¿®ç‚¼åŠŸæ³• "),(0,a.createElementVNode)("div",Gh,[(0,a.createElementVNode)("h3",Wh,[(0,a.createElementVNode)("div",Jh,[(0,a.createVNode)((0,a.unref)(Si),{size:18})]),p[42]||(p[42]=(0,a.createTextVNode)(" ä¿®ç‚¼åŠŸæ³• ",-1))]),h.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",Kh,[(0,a.createElementVNode)("div",Xh,[(0,a.createElementVNode)("div",{class:"technique-header",onClick:ae},[(0,a.createElementVNode)("div",Zh,[(0,a.createElementVNode)("h4",{class:(0,a.normalizeClass)(["technique-name",U(h.value,"text")])},(0,a.toDisplayString)(h.value?.åç§°),3),(0,a.createElementVNode)("div",ey,(0,a.toDisplayString)(h.value?.å“è´¨?.quality||"æœªçŸ¥")+"å“"+(0,a.toDisplayString)(h.value?.å“è´¨?.grade||0)+"é˜¶",1)]),(0,a.createElementVNode)("div",ny,[(0,a.createVNode)((0,a.unref)(Ev),{size:16,class:(0,a.normalizeClass)([{rotated:l.value},"toggle-icon"])},null,8,["class"])])]),(0,a.createCommentVNode)(" åŠŸæ³•è¯¦æƒ…ï¼ˆå¯æŠ˜å ï¿½?"),(0,a.withDirectives)((0,a.createElementVNode)("div",ty,[(0,a.createElementVNode)("div",ay,[(0,a.createElementVNode)("p",null,(0,a.toDisplayString)(h.value?.æè¿°||"æ­¤åŠŸæ³•å¥¥å¦™æ— ç©·ï¼Œéšä¿®ç‚¼åŠ æ·±æ–¹å¯é¢†æ‚Ÿå…¶çœŸæ„ã€‚"),1)]),z.value&amp;&amp;h.value?.åŠŸæ³•æ•ˆæœ?((0,a.openBlock)(),(0,a.createElementBlock)("div",oy,[p[46]||(p[46]=(0,a.createElementVNode)("h5",{class:"effects-title"},"åŠŸæ³•æ•ˆæœ",-1)),(0,a.createElementVNode)("div",ry,[h.value.åŠŸæ³•æ•ˆæœ.ä¿®ç‚¼é€Ÿåº¦åŠ æˆ?((0,a.openBlock)(),(0,a.createElementBlock)("div",ly,[p[44]||(p[44]=(0,a.createElementVNode)("span",{class:"effect-label"},"ä¿®ç‚¼åŠ æˆï¼š",-1)),(0,a.createElementVNode)("span",iy,(0,a.toDisplayString)((100*h.value.åŠŸæ³•æ•ˆæœ.ä¿®ç‚¼é€Ÿåº¦åŠ æˆ).toFixed(0))+"%",1)])):(0,a.createCommentVNode)("v-if",!0),h.value.åŠŸæ³•æ•ˆæœ.å±æ€§åŠ æˆ?((0,a.openBlock)(),(0,a.createElementBlock)("div",cy,[p[45]||(p[45]=(0,a.createElementVNode)("span",{class:"effect-label"},"å±æ€§æå‡ï¼š",-1)),(0,a.createElementVNode)("div",sy,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(h.value.åŠŸæ³•æ•ˆæœ.å±æ€§åŠ æˆ,(e,n)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("span",{key:n,class:"bonus-tag"},(0,a.toDisplayString)(n)+" +"+(0,a.toDisplayString)(e),1))),128))])])):(0,a.createCommentVNode)("v-if",!0)])])):h.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",dy,p[47]||(p[47]=[(0,a.createElementVNode)("h5",{class:"effects-title"},"åŠŸæ³•æ•ˆæœ",-1),(0,a.createElementVNode)("p",{class:"no-effects-text"},"æ­¤åŠŸæ³•æ— ç‰¹æ®Šæ•ˆæœ",-1)]))):(0,a.createCommentVNode)("v-if",!0)],512),[[a.vShow,l.value]]),(0,a.createElementVNode)("div",my,[h.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",py,[p[48]||(p[48]=(0,a.createElementVNode)("span",{class:"progress-label"},"ä¿®ç‚¼è¿›åº¦",-1)),(0,a.createElementVNode)("div",vy,[(0,a.createElementVNode)("div",{class:"progress-fill",style:(0,a.normalizeStyle)({width:Math.max(2,h.value.ä¿®ç‚¼è¿›åº¦||0)+"%"})},null,4)]),(0,a.createElementVNode)("span",uy,(0,a.toDisplayString)(h.value.ä¿®ç‚¼è¿›åº¦||0)+"%",1)])):(0,a.createCommentVNode)("v-if",!0),(0,a.createElementVNode)("div",gy,[p[49]||(p[49]=(0,a.createElementVNode)("span",{class:"progress-label"},"ç†Ÿç»ƒåº¦",-1)),(0,a.createElementVNode)("div",fy,[(0,a.createElementVNode)("div",{class:"progress-fill",style:(0,a.normalizeStyle)({width:Math.max(2,h.value.ç†Ÿç»ƒåº¦||0)+"%"})},null,4)]),(0,a.createElementVNode)("span",by,(0,a.toDisplayString)(h.value.ç†Ÿç»ƒåº¦||0)+"%",1)])])]),(0,a.createCommentVNode)(" å·²å­¦æŠ€èƒ½ "),B.value.length?((0,a.openBlock)(),(0,a.createElementBlock)("div",hy,[(0,a.createElementVNode)("div",{class:"skills-header",onClick:oe},[p[50]||(p[50]=(0,a.createElementVNode)("h4",{class:"skills-title"},"å·²æŒæ¡æŠ€èƒ½",-1)),(0,a.createElementVNode)("div",yy,"("+(0,a.toDisplayString)(D.value)+"ä¸ª)",1),(0,a.createVNode)((0,a.unref)(Ev),{size:14,class:(0,a.normalizeClass)([{rotated:i.value},"toggle-icon"])},null,8,["class"])]),(0,a.withDirectives)((0,a.createElementVNode)("div",xy,[(0,a.createElementVNode)("div",ky,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(B.value.slice(0,3),e=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("span",{key:e.name,class:"skill-tag compact"},(0,a.toDisplayString)(e.name),1))),128)),D.value&gt;3?((0,a.openBlock)(),(0,a.createElementBlock)("span",wy,"...")):(0,a.createCommentVNode)("v-if",!0)])],512),[[a.vShow,!i.value]]),(0,a.withDirectives)((0,a.createElementVNode)("div",Ny,[(0,a.createCommentVNode)(" æ‰€æœ‰å·²æŒæ¡çš„æŠ€ï¿½?"),B.value.length?((0,a.openBlock)(),(0,a.createElementBlock)("div",Ey,[p[51]||(p[51]=(0,a.createElementVNode)("h5",{class:"category-title"},"æ‰€æœ‰æŠ€èƒ½",-1)),(0,a.createElementVNode)("div",Vy,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(B.value,e=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:e.name,class:"skill-card",onClick:n=&gt;ie(e)},[(0,a.createElementVNode)("div",zy,(0,a.toDisplayString)(e.name),1),(0,a.createElementVNode)("div",Sy,(0,a.toDisplayString)(e.type),1),(0,a.createElementVNode)("div",By,(0,a.toDisplayString)(e.source),1),(0,a.createElementVNode)("div",Dy," ç†Ÿç»ƒåº¦ "+(0,a.toDisplayString)(e.proficiency)+"% ",1),(0,a.createElementVNode)("div",Ay,[(0,a.createVNode)((0,a.unref)(Rc),{size:12,class:"unlock-icon"})])],8,Cy))),128))])])):(0,a.createCommentVNode)("v-if",!0),(0,a.createCommentVNode)(" æœªè§£é”çš„åŠŸæ³•æŠ€èƒ½ "),S.value.some(e=&gt;!e.unlocked)?((0,a.openBlock)(),(0,a.createElementBlock)("div",_y,[p[52]||(p[52]=(0,a.createElementVNode)("h5",{class:"category-title"},"æœªè§£é”æŠ€èƒ½",-1)),(0,a.createElementVNode)("div",$y,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(S.value.filter(e=&gt;!e.unlocked),e=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:e.name,class:"skill-card skill-locked",onClick:n=&gt;ie(e)},[(0,a.createElementVNode)("div",Ty,(0,a.toDisplayString)(e.name),1),(0,a.createElementVNode)("div",jy,(0,a.toDisplayString)(e.type),1),(0,a.createElementVNode)("div",My,(0,a.toDisplayString)(e.unlockCondition),1)],8,Iy))),128))])])):(0,a.createCommentVNode)("v-if",!0)],512),[[a.vShow,i.value]])])):(0,a.createCommentVNode)("v-if",!0)])):((0,a.openBlock)(),(0,a.createElementBlock)("div",Hh,[(0,a.createElementVNode)("div",Qh,[(0,a.createVNode)((0,a.unref)(Si),{size:32})]),p[43]||(p[43]=(0,a.createElementVNode)("span",null,"å°šæœªä¿®ç‚¼åŠŸæ³•",-1))]))]),(0,a.createCommentVNode)(" ä¸‰åƒå¤§é“ "),(0,a.createElementVNode)("div",qy,[(0,a.createElementVNode)("h3",Oy,[(0,a.createElementVNode)("div",Py,[(0,a.createVNode)((0,a.unref)(Bi),{size:18})]),p[53]||(p[53]=(0,a.createTextVNode)(" ä¸‰åƒå¤§é“ ",-1))]),x.value.length?((0,a.openBlock)(),(0,a.createElementBlock)("div",Yy,[(0,a.createElementVNode)("div",Ry,[(0,a.createElementVNode)("div",Uy,[(0,a.createElementVNode)("span",Gy,"å·²è§£ "+(0,a.toDisplayString)(x.value.length)+" æ¡å¤§é“",1),(0,a.createElementVNode)("button",{class:"dao-expand-btn",onClick:re},[(0,a.createElementVNode)("span",null,(0,a.toDisplayString)(c.value?"æ”¶èµ·":"å±•å¼€"),1),(0,a.createVNode)((0,a.unref)(Ev),{size:14,class:(0,a.normalizeClass)([{rotated:c.value},"toggle-icon"])},null,8,["class"])])])]),(0,a.withDirectives)((0,a.createElementVNode)("div",Wy,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(x.value.slice(0,2).map(e=&gt;e.é“å),e=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:e,class:"dao-item compact",onClick:n=&gt;le(e)},[(0,a.createElementVNode)("div",Hy,[(0,a.createElementVNode)("span",Qy,(0,a.toDisplayString)(e),1),(0,a.createElementVNode)("span",Ky,"ç¬¬"+(0,a.toDisplayString)(W(e))+"é˜¶æ®µ",1)]),(0,a.createElementVNode)("div",Xy,[(0,a.createElementVNode)("div",Zy,[(0,a.createElementVNode)("div",{class:"progress-fill",style:(0,a.normalizeStyle)({width:J(e)+"%"})},null,4)]),(0,a.createElementVNode)("span",ex,(0,a.toDisplayString)(J(e))+"%",1)])],8,Jy))),128)),x.value.length&gt;2?((0,a.openBlock)(),(0,a.createElementBlock)("div",nx," è¿˜æœ‰ "+(0,a.toDisplayString)(x.value.length-2)+" æ¡å¤§é“.. ",1)):(0,a.createCommentVNode)("v-if",!0)],512),[[a.vShow,!c.value]]),(0,a.withDirectives)((0,a.createElementVNode)("div",tx,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(x.value.map(e=&gt;e.é“å),e=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:e,class:"dao-item detailed",onClick:n=&gt;le(e)},[(0,a.createElementVNode)("div",ox,[(0,a.createElementVNode)("span",rx,(0,a.toDisplayString)(e),1),(0,a.createElementVNode)("span",lx,"ç¬¬"+(0,a.toDisplayString)(W(e))+"é˜¶æ®µ",1)]),(0,a.createElementVNode)("div",ix,[(0,a.createElementVNode)("div",cx,[(0,a.createElementVNode)("div",{class:"progress-fill",style:(0,a.normalizeStyle)({width:J(e)+"%"})},null,4)]),(0,a.createElementVNode)("span",sx,(0,a.toDisplayString)(J(e))+"%",1)]),(0,a.createElementVNode)("div",dx,[(0,a.createElementVNode)("div",mx,[p[55]||(p[55]=(0,a.createElementVNode)("span",{class:"stat-label"},"å½“å‰ç»éªŒ",-1)),(0,a.createElementVNode)("span",px,(0,a.toDisplayString)(H(e)),1)]),(0,a.createElementVNode)("div",vx,[p[56]||(p[56]=(0,a.createElementVNode)("span",{class:"stat-label"},"æ€»ç»éªŒ",-1)),(0,a.createElementVNode)("span",ux,(0,a.toDisplayString)(Q(e)),1)])])],8,ax))),128))],512),[[a.vShow,c.value]])])):((0,a.openBlock)(),(0,a.createElementBlock)("div",Fy,[(0,a.createElementVNode)("div",Ly,[(0,a.createVNode)((0,a.unref)(bf),{size:32})]),p[54]||(p[54]=(0,a.createElementVNode)("span",null,"å°šæœªè§£é”å¤§é“",-1))]))]),(0,a.createCommentVNode)(" äººé™…å…³ç³» "),(0,a.createElementVNode)("div",gx,[(0,a.createElementVNode)("h3",fx,[(0,a.createElementVNode)("div",bx,[(0,a.createVNode)((0,a.unref)(zi),{size:18})]),p[57]||(p[57]=(0,a.createTextVNode)(" äººé™…å…³ç³» ",-1))]),A.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",xx,[(0,a.createElementVNode)("div",kx,[(0,a.createElementVNode)("div",wx,[p[59]||(p[59]=(0,a.createElementVNode)("span",{class:"stat-label"},"æ€»äººæ•°",-1)),(0,a.createElementVNode)("span",Nx,(0,a.toDisplayString)(A.value),1)]),(0,a.createElementVNode)("div",Ex,[p[60]||(p[60]=(0,a.createElementVNode)("span",{class:"stat-label"},"å¹³å‡å¥½æ„Ÿ",-1)),(0,a.createElementVNode)("span",Vx,(0,a.toDisplayString)(_.value)+"%",1)])])])):((0,a.openBlock)(),(0,a.createElementBlock)("div",hx,[(0,a.createElementVNode)("div",yx,[(0,a.createVNode)((0,a.unref)(yf),{size:32})]),p[58]||(p[58]=(0,a.createElementVNode)("span",null,"æš‚æ— äººé™…å…³ç³»",-1))]))]),(0,a.createCommentVNode)(" èƒŒåŒ…æ¦‚è§ˆ "),(0,a.createElementVNode)("div",Cx,[(0,a.createElementVNode)("h3",zx,[(0,a.createElementVNode)("div",Sx,[(0,a.createVNode)((0,a.unref)(xf),{size:18})]),p[61]||(p[61]=(0,a.createTextVNode)(" èƒŒåŒ…æ¦‚è§ˆ ",-1))]),(0,a.createElementVNode)("div",Bx,[(0,a.createElementVNode)("div",Dx,[(0,a.createElementVNode)("div",Ax,[(0,a.createElementVNode)("div",_x,[p[62]||(p[62]=(0,a.createElementVNode)("span",{class:"stat-label"},"ç‰©å“æ€»æ•°",-1)),(0,a.createElementVNode)("span",$x,(0,a.toDisplayString)($.value),1)]),(0,a.createElementVNode)("div",Ix,[p[63]||(p[63]=(0,a.createElementVNode)("span",{class:"stat-label"},"æ³•å®æ•°é‡",-1)),(0,a.createElementVNode)("span",Tx,(0,a.toDisplayString)(K("æ³•å®")),1)]),(0,a.createElementVNode)("div",jx,[p[64]||(p[64]=(0,a.createElementVNode)("span",{class:"stat-label"},"åŠŸæ³•æ•°é‡",-1)),(0,a.createElementVNode)("span",Mx,(0,a.toDisplayString)(K("åŠŸæ³•")),1)])])]),(0,a.createElementVNode)("div",qx,[p[65]||(p[65]=(0,a.createElementVNode)("h4",{class:"stones-title"},"çµçŸ³å‚¨å¤‡",-1)),(0,a.createElementVNode)("div",Ox,[((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(I,e=&gt;(0,a.createElementVNode)("div",{key:e.name,class:(0,a.normalizeClass)(["stone-item",e.class])},[(0,a.createElementVNode)("span",Px,(0,a.toDisplayString)(e.name),1),(0,a.createElementVNode)("span",Fx,(0,a.toDisplayString)(X(e.name)),1)],2)),64))])])])]),(0,a.createCommentVNode)(" å®—é—¨ä¿¡æ¯ "),f.value?.å®—é—¨ä¿¡æ¯?((0,a.openBlock)(),(0,a.createElementBlock)("div",Lx,[(0,a.createElementVNode)("h3",Yx,[(0,a.createElementVNode)("div",Rx,[(0,a.createVNode)((0,a.unref)(gf),{size:18})]),p[66]||(p[66]=(0,a.createTextVNode)(" å®—é—¨ä¿¡æ¯ ",-1))]),(0,a.createElementVNode)("div",Ux,[(0,a.createElementVNode)("div",Gx,[(0,a.createElementVNode)("h4",Wx,(0,a.toDisplayString)(f.value?.å®—é—¨ä¿¡æ¯?.sectName),1),(0,a.createElementVNode)("span",Jx,(0,a.toDisplayString)(f.value?.å®—é—¨ä¿¡æ¯?.sectType),1)]),(0,a.createElementVNode)("div",Hx,[(0,a.createElementVNode)("div",Qx,[p[67]||(p[67]=(0,a.createElementVNode)("span",{class:"detail-label"},"èŒä½",-1)),(0,a.createElementVNode)("span",Kx,(0,a.toDisplayString)(f.value?.å®—é—¨ä¿¡æ¯?.position),1)]),(0,a.createElementVNode)("div",Xx,[p[68]||(p[68]=(0,a.createElementVNode)("span",{class:"detail-label"},"è´¡çŒ®å€¼",-1)),(0,a.createElementVNode)("span",Zx,(0,a.toDisplayString)(f.value?.å®—é—¨ä¿¡æ¯?.contribution),1)]),(0,a.createElementVNode)("div",ek,[p[69]||(p[69]=(0,a.createElementVNode)("span",{class:"detail-label"},"å…³ç³»",-1)),(0,a.createElementVNode)("span",{class:(0,a.normalizeClass)(["detail-value",`relationship-${f.value?.å®—é—¨ä¿¡æ¯?.relationship}`])},(0,a.toDisplayString)(f.value?.å®—é—¨ä¿¡æ¯?.relationship),3)])])])])):(0,a.createCommentVNode)("v-if",!0)]),(0,a.createCommentVNode)(" æŠ€èƒ½è¯¦æƒ…å¼¹çª— "),s.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:0,class:"modal-overlay",onClick:se},[(0,a.createElementVNode)("div",{class:"skill-modal",onClick:p[1]||(p[1]=(0,a.withModifiers)(()=&gt;{},["stop"]))},[(0,a.createElementVNode)("div",nk,[(0,a.createElementVNode)("h3",null,(0,a.toDisplayString)(me()?.name),1),(0,a.createElementVNode)("button",{class:"modal-close-btn",onClick:se},[(0,a.createVNode)((0,a.unref)(Ne),{size:20})])]),(0,a.createElementVNode)("div",tk,[(0,a.createElementVNode)("div",ak,[(0,a.createElementVNode)("div",ok,[p[70]||(p[70]=(0,a.createElementVNode)("span",{class:"detail-label"},"ç±»å‹",-1)),(0,a.createElementVNode)("span",rk,(0,a.toDisplayString)(me()?.type),1)]),(0,a.createElementVNode)("div",lk,[p[71]||(p[71]=(0,a.createElementVNode)("span",{class:"detail-label"},"çŠ¶æ€",-1)),(0,a.createElementVNode)("span",{class:(0,a.normalizeClass)(["detail-value","status-"+("å·²è§£é”"===me()?.status?"unlocked":"locked")])},(0,a.toDisplayString)(me()?.status),3)]),(0,a.createElementVNode)("div",ik,[p[72]||(p[72]=(0,a.createElementVNode)("span",{class:"detail-label"},"ç†Ÿç»ƒåº¦",-1)),(0,a.createElementVNode)("span",ck,(0,a.toDisplayString)(me()?.proficiency?me()?.proficiency+"%":"æœªçŸ¥"),1)]),(0,a.createElementVNode)("div",sk,[p[73]||(p[73]=(0,a.createElementVNode)("span",{class:"detail-label"},"è§£é”æ¡ä»¶",-1)),(0,a.createElementVNode)("span",dk,(0,a.toDisplayString)(me()?.condition),1)]),(0,a.createElementVNode)("div",mk,[p[74]||(p[74]=(0,a.createElementVNode)("span",{class:"detail-label"},"æŠ€èƒ½æ¥æº",-1)),(0,a.createElementVNode)("span",pk,(0,a.toDisplayString)(me()?.source),1)])]),(0,a.createElementVNode)("div",vk,[p[75]||(p[75]=(0,a.createElementVNode)("h4",null,"æŠ€èƒ½æè¿°",-1)),(0,a.createElementVNode)("p",null,(0,a.toDisplayString)(me()?.description),1)])])])])):(0,a.createCommentVNode)("v-if",!0),(0,a.createCommentVNode)(" å¤§é“è¯¦æƒ…å¼¹çª— "),d.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:1,class:"modal-overlay",onClick:se},[(0,a.createElementVNode)("div",{class:"dao-modal",onClick:p[2]||(p[2]=(0,a.withModifiers)(()=&gt;{},["stop"]))},[(0,a.createElementVNode)("div",uk,[(0,a.createElementVNode)("h3",null,(0,a.toDisplayString)(de()?.name),1),(0,a.createElementVNode)("button",{class:"modal-close-btn",onClick:se},[(0,a.createVNode)((0,a.unref)(Ne),{size:20})])]),(0,a.createElementVNode)("div",gk,[(0,a.createElementVNode)("div",fk,[(0,a.createElementVNode)("div",bk,[p[76]||(p[76]=(0,a.createElementVNode)("span",{class:"stage-label"},"å½“å‰é˜¶æ®µ",-1)),(0,a.createElementVNode)("span",hk,(0,a.toDisplayString)(de()?.stage),1)]),(0,a.createElementVNode)("div",yk,[(0,a.createElementVNode)("div",xk,[(0,a.createElementVNode)("div",{class:"progress-bar-fill",style:(0,a.normalizeStyle)({width:(de()?.progressPercent||0)+"%"})},null,4)]),(0,a.createElementVNode)("span",kk,(0,a.toDisplayString)(de()?.progressPercent)+"%",1)])]),(0,a.createElementVNode)("div",wk,[(0,a.createElementVNode)("div",Nk,[p[77]||(p[77]=(0,a.createElementVNode)("span",{class:"stat-label"},"å½“å‰ç»éªŒ",-1)),(0,a.createElementVNode)("span",Ek,(0,a.toDisplayString)(de()?.currentExp),1)]),(0,a.createElementVNode)("div",Vk,[p[78]||(p[78]=(0,a.createElementVNode)("span",{class:"stat-label"},"æ€»ç»éªŒ",-1)),(0,a.createElementVNode)("span",Ck,(0,a.toDisplayString)(de()?.totalExp),1)])]),(0,a.createElementVNode)("div",zk,[p[79]||(p[79]=(0,a.createElementVNode)("h4",null,"ä¿®ç‚¼æ„Ÿæ‚Ÿ",-1)),(0,a.createElementVNode)("p",null,(0,a.toDisplayString)(de()?.description),1)])])])])):(0,a.createCommentVNode)("v-if",!0),(0,a.createCommentVNode)(" çµæ ¹è¯¦æƒ…å¼¹çª— (Re-designed) "),m.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:2,class:"modal-overlay",onClick:se},[(0,a.createElementVNode)("div",{class:"spirit-root-modal",onClick:p[3]||(p[3]=(0,a.withModifiers)(()=&gt;{},["stop"]))},[(0,a.createElementVNode)("div",Sk,[(0,a.createElementVNode)("h3",null,(0,a.toDisplayString)(ge(u.value.çµæ ¹))+" è¯¦æƒ…",1),(0,a.createElementVNode)("button",{class:"modal-close-btn",onClick:se},[(0,a.createVNode)((0,a.unref)(Ne),{size:20})])]),(0,a.createElementVNode)("div",Bk,[(0,a.createElementVNode)("div",Dk,[(0,a.createElementVNode)("div",Ak,[p[80]||(p[80]=(0,a.createElementVNode)("div",{class:"detail-header"},[(0,a.createElementVNode)("span",{class:"detail-icon"},"âš¡"),(0,a.createElementVNode)("span",{class:"detail-title"},"çµæ ¹ç±»å‹")],-1)),(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["detail-value type-value",`root-${ye(u.value.çµæ ¹)}`])},(0,a.toDisplayString)(ge(u.value.çµæ ¹)),3)]),(0,a.createElementVNode)("div",_k,[p[81]||(p[81]=(0,a.createElementVNode)("div",{class:"detail-header"},[(0,a.createElementVNode)("span",{class:"detail-icon"},"â­"),(0,a.createElementVNode)("span",{class:"detail-title"},"çµæ ¹å“çº§")],-1)),(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["detail-value grade-value",`grade-${be(u.value.çµæ ¹)||"å‡¡å“"}`])},(0,a.toDisplayString)(be(u.value.çµæ ¹)||"å‡¡å“"),3)]),(0,a.createElementVNode)("div",$k,[p[82]||(p[82]=(0,a.createElementVNode)("div",{class:"detail-header"},[(0,a.createElementVNode)("span",{class:"detail-icon"},"ğŸš€"),(0,a.createElementVNode)("span",{class:"detail-title"},"ä¿®ç‚¼é€Ÿåº¦")],-1)),(0,a.createElementVNode)("div",Ik,(0,a.toDisplayString)(xe(u.value)),1)])]),ke(u.value).length&gt;0?((0,a.openBlock)(),(0,a.createElementBlock)("div",Tk,[p[83]||(p[83]=(0,a.createElementVNode)("h4",null,"ç‰¹æ®Šæ•ˆæœ",-1)),(0,a.createElementVNode)("div",jk,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(ke(u.value),e=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("span",{key:e,class:"effect-tag-modal"},(0,a.toDisplayString)(e),1))),128))])])):(0,a.createCommentVNode)("v-if",!0),"object"==typeof u.value.çµæ ¹&amp;&amp;u.value.çµæ ¹?((0,a.openBlock)(),(0,a.createElementBlock)("div",Mk,[p[86]||(p[86]=(0,a.createElementVNode)("h4",null,"è¯¦ç»†ä¿¡æ¯",-1)),(0,a.createElementVNode)("div",qk,[u.value.çµæ ¹.base_multiplier?((0,a.openBlock)(),(0,a.createElementBlock)("div",Ok,[p[84]||(p[84]=(0,a.createElementVNode)("span",{class:"advanced-label"},"åŸºç¡€å€ç‡:",-1)),(0,a.createElementVNode)("span",Pk,(0,a.toDisplayString)(u.value.çµæ ¹.base_multiplier)+"x",1)])):(0,a.createCommentVNode)("v-if",!0),u.value.çµæ ¹.cultivation_speed?((0,a.openBlock)(),(0,a.createElementBlock)("div",Fk,[p[85]||(p[85]=(0,a.createElementVNode)("span",{class:"advanced-label"},"ä¿®ç‚¼é€Ÿåº¦:",-1)),(0,a.createElementVNode)("span",Lk,(0,a.toDisplayString)(u.value.çµæ ¹.cultivation_speed),1)])):(0,a.createCommentVNode)("v-if",!0)])])):(0,a.createCommentVNode)("v-if",!0)])])])):(0,a.createCommentVNode)("v-if",!0)])):(0,a.createCommentVNode)("v-if",!0):((0,a.openBlock)(),(0,a.createElementBlock)("div",Nf,[(0,a.createElementVNode)("div",Ef,[(0,a.createVNode)((0,a.unref)(uf),{size:48})]),p[5]||(p[5]=(0,a.createElementVNode)("p",null,"æ— æ³•åŠ è½½è§’è‰²æ•°æ®",-1)),(0,a.createElementVNode)("button",{class:"retry-btn",onClick:pe},"é‡è¯•")]))]);var v}}});var Rk=t(1932),Uk={};Uk.styleTagTransform=A(),Uk.setAttributes=z(),Uk.insert=V().bind(null,"head"),Uk.domAPI=N(),Uk.insertStyleElement=B(),k()(Rk.A,Uk),Rk.A&amp;&amp;Rk.A.locals&amp;&amp;Rk.A.locals;const Gk=(0,j.A)(Yk,[["__scopeId","data-v-5ffd8816"]]),Wk=(0,c.A)("sword",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]]),Jk=(0,c.A)("gem",[["path",{d:"M10.5 3 8 9l4 13 4-13-2.5-6",key:"b3dvk1"}],["path",{d:"M17 3a2 2 0 0 1 1.6.8l3 4a2 2 0 0 1 .013 2.382l-7.99 10.986a2 2 0 0 1-3.247 0l-7.99-10.986A2 2 0 0 1 2.4 7.8l2.998-3.997A2 2 0 0 1 7 3z",key:"7w4byz"}],["path",{d:"M2 9h20",key:"16fsjt"}]]),Hk=(0,c.A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),Qk=(0,c.A)("square-dashed",[["path",{d:"M5 3a2 2 0 0 0-2 2",key:"y57alp"}],["path",{d:"M19 3a2 2 0 0 1 2 2",key:"18rm91"}],["path",{d:"M21 19a2 2 0 0 1-2 2",key:"1j7049"}],["path",{d:"M5 21a2 2 0 0 1-2-2",key:"sbafld"}],["path",{d:"M9 3h1",key:"1yesri"}],["path",{d:"M9 21h1",key:"15o7lz"}],["path",{d:"M14 3h1",key:"1ec4yj"}],["path",{d:"M14 21h1",key:"v9vybs"}],["path",{d:"M3 9v1",key:"1r0deq"}],["path",{d:"M21 9v1",key:"mxsmne"}],["path",{d:"M3 14v1",key:"vnatye"}],["path",{d:"M21 14v1",key:"169vum"}]]);var Kk=t(3098);const Xk={class:"modal-header"},Zk={class:"modal-body"},ew={class:"item-info"},nw={class:"item-icon"},tw={class:"item-details"},aw={class:"item-name"},ow={class:"item-type"},rw={class:"available-quantity"},lw={key:0,class:"item-description"},iw={class:"quantity-selector"},cw={for:"quantity"},sw={class:"quantity-controls"},dw=["disabled"],mw=["max"],pw=["disabled"],vw={class:"quantity-shortcuts"},uw=["onClick","disabled"],gw={class:"modal-footer"},fw=["disabled"],bw=(0,a.defineComponent)({__name:"QuantitySelectModal",props:{visible:{type:Boolean},item:{},title:{},actionLabel:{},actionType:{},confirmText:{},description:{}},emits:["close","confirm"],setup(e,{emit:n}){const t=e,o=n,r=(0,a.ref)(1),l=(0,a.computed)(()=&gt;{const e=t.item?.æ•°é‡||1;return[{label:"1ä¸ª",value:1},{label:"5ä¸ª",value:5},{label:"10ä¸ª",value:10},{label:"å…¨éƒ¨",value:e}].filter(n=&gt;n.value&lt;=e)});function i(){r.value&lt;(t.item?.æ•°é‡||1)&amp;&amp;r.value++}function c(){r.value&gt;1&amp;&amp;r.value--}function s(){r.value&gt;0&amp;&amp;r.value&lt;=(t.item?.æ•°é‡||1)&amp;&amp;o("confirm",r.value)}function d(){o("close")}return(0,a.watch)(()=&gt;t.item,e=&gt;{e&amp;&amp;(r.value=1)}),(e,n)=&gt;{return e.visible?((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:0,class:"quantity-modal-overlay",onClick:d},[(0,a.createElementVNode)("div",{class:"quantity-modal",onClick:n[3]||(n[3]=(0,a.withModifiers)(()=&gt;{},["stop"]))},[(0,a.createElementVNode)("div",Xk,[(0,a.createElementVNode)("h3",null,(0,a.toDisplayString)(e.title||"é€‰æ‹©æ•°é‡"),1),(0,a.createElementVNode)("button",{class:"close-btn",onClick:n[0]||(n[0]=n=&gt;e.$emit("close"))},"Ã—")]),(0,a.createElementVNode)("div",Zk,[(0,a.createElementVNode)("div",ew,[(0,a.createElementVNode)("div",nw,(0,a.toDisplayString)((o=e.item?.ç±»å‹,{è£…å¤‡:"âš”ï¸",åŠŸæ³•:"ğŸ“œ",å…¶ä»–:"ğŸ“¦"}[o||"å…¶ä»–"]||"ğŸ“¦")),1),(0,a.createElementVNode)("div",tw,[(0,a.createElementVNode)("div",aw,(0,a.toDisplayString)(e.item?.åç§°),1),(0,a.createElementVNode)("div",ow,(0,a.toDisplayString)(e.item?.ç±»å‹),1),(0,a.createElementVNode)("div",rw,"å¯ç”¨æ•°é‡ï¼š"+(0,a.toDisplayString)(e.item?.æ•°é‡||0),1),e.description?((0,a.openBlock)(),(0,a.createElementBlock)("div",lw,(0,a.toDisplayString)(e.description),1)):(0,a.createCommentVNode)("v-if",!0)])]),(0,a.createElementVNode)("div",iw,[(0,a.createElementVNode)("label",cw,(0,a.toDisplayString)(e.actionLabel||"é€‰æ‹©æ•°é‡")+"ï¼š",1),(0,a.createElementVNode)("div",sw,[(0,a.createElementVNode)("button",{class:"quantity-btn",onClick:c,disabled:r.value&lt;=1}," - ",8,dw),(0,a.withDirectives)((0,a.createElementVNode)("input",{id:"quantity","onUpdate:modelValue":n[1]||(n[1]=e=&gt;r.value=e),type:"number",min:1,max:e.item?.æ•°é‡||1,class:"quantity-input"},null,8,mw),[[a.vModelText,r.value,void 0,{number:!0}]]),(0,a.createElementVNode)("button",{class:"quantity-btn",onClick:i,disabled:r.value&gt;=(e.item?.æ•°é‡||1)}," + ",8,pw)])]),(0,a.createElementVNode)("div",vw,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(l.value,n=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("button",{key:n.value,class:"preset-btn",onClick:e=&gt;{return a=n.value,void(r.value=Math.min(a,t.item?.æ•°é‡||1));var a},disabled:n.value&gt;(e.item?.æ•°é‡||1)},(0,a.toDisplayString)(n.label),9,uw))),128))])]),(0,a.createElementVNode)("div",gw,[(0,a.createElementVNode)("button",{class:"cancel-btn",onClick:n[2]||(n[2]=n=&gt;e.$emit("close"))},"å–æ¶ˆ"),(0,a.createElementVNode)("button",{class:(0,a.normalizeClass)(["confirm-btn","discard"===e.actionType?"discard-confirm":""]),onClick:s,disabled:r.value&lt;=0},(0,a.toDisplayString)(e.confirmText||"ç¡®å®š"),11,fw)])])])):(0,a.createCommentVNode)("v-if",!0);var o}}});var hw=t(7393),yw={};yw.styleTagTransform=A(),yw.setAttributes=z(),yw.insert=V().bind(null,"head"),yw.domAPI=N(),yw.insertStyleElement=B(),k()(hw.A,yw),hw.A&amp;&amp;hw.A.locals&amp;&amp;hw.A.locals;const xw=(0,j.A)(bw,[["__scopeId","data-v-8f332e7a"]]),kw={class:"inventory-content"},ww={class:"tabs-header"},Nw={class:"tabs-nav"},Ew=["onClick"],Vw={key:0,class:"tools-section"},Cw={class:"search-box"},zw=["placeholder"],Sw={class:"filter-buttons"},Bw=["value"],Dw=["disabled"],Aw={class:"tab-content"},_w={key:0,class:"items-tab"},$w={class:"confirm-header"},Iw={class:"confirm-content"},Tw={class:"confirm-actions"},jw={class:"modal-header"},Mw={class:"modal-content"},qw={class:"item-type-text"},Ow={class:"modal-info"},Pw={class:"modal-meta"},Fw={class:"modal-description"},Lw={key:0,class:"modal-attributes"},Yw={class:"attribute-text"},Rw={class:"modal-actions"},Uw=["disabled"],Gw=["disabled"],Ww={class:"items-grid"},Jw={key:0,class:"grid-placeholder"},Hw={key:1,class:"grid-placeholder"},Qw={key:0},Kw={key:1},Xw={key:2},Zw={key:3},eN={key:4},nN={key:5,class:"filter-tip"},tN=["onClick"],aN={class:"item-top-section"},oN={class:"item-type-icon"},rN={key:0,class:"item-quantity-display"},lN={class:"item-name-section"},iN=["title"],cN={class:"item-bottom-section"},sN={class:"item-type-label"},dN={key:2,class:"item-details-sidebar"},mN={key:0,class:"details-content"},pN={class:"details-header"},vN={class:"item-type-text-large"},uN={class:"details-title-area"},gN={class:"details-meta"},fN={class:"details-body"},bN={class:"details-description"},hN={key:0,class:"details-attributes"},yN={class:"skill-effects"},xN={key:0,class:"effect-item"},kN={class:"effect-value"},wN={key:1,class:"effect-item"},NN={class:"effect-value"},EN={key:2,class:"effect-item"},VN={class:"special-abilities"},CN={key:1,class:"details-attributes"},zN={class:"technique-skills"},SN={class:"skill-header"},BN={class:"skill-name"},DN={key:0,class:"skill-unlock-requirement"},AN={class:"skill-description"},_N={key:0,class:"skill-cost"},$N={key:1,class:"details-attributes"},IN={class:"attribute-text"},TN={class:"details-actions"},jN=["disabled"],MN=["disabled"],qN={key:1,class:"details-placeholder"},ON={key:1,class:"equipment-tab"},PN={class:"equipment-content"},FN={class:"equipment-grid"},LN={class:"slot-header"},YN={class:"slot-name"},RN={key:0,class:"slot-actions"},UN=["disabled","onClick"],GN={class:"item-info"},WN=["title"],JN={class:"item-quality"},HN=["title"],QN={key:1,class:"item-effects"},KN={class:"effects-text"},XN={key:1,class:"empty-equipment-slot"},ZN={class:"empty-icon"},eE={key:2,class:"currency-tab"},nE={class:"currency-grid"},tE={class:"currency-card-top"},aE={class:"currency-info"},oE={class:"currency-amount"},rE={class:"currency-label"},lE={key:0,class:"currency-exchange"},iE=["onClick","disabled","title"],cE=["onClick","disabled","title"],sE=(0,a.defineComponent)({__name:"InventoryPanel",setup(e){const{characterData:n,saveData:o}=(0,Li.useUnifiedCharacterData)(),r=(0,Sv.useActionQueueStore)(),l=Bv.getInstance(),i=(0,a.ref)(!1),c=(0,a.ref)(!1),s=(0,a.ref)(null),m=(0,a.ref)(""),p=(0,a.ref)("all"),v=(0,a.ref)("default"),u=(0,a.ref)("items"),g=(0,a.ref)(!1),f=(0,a.ref)(""),b=(0,a.ref)(""),h=(0,a.ref)(!1),y=(0,a.ref)(null),x=(0,a.ref)(""),k=(0,a.ref)(""),w=(0,a.ref)("use"),N=(0,a.ref)(""),E=(0,a.ref)(""),V=(0,a.ref)(null),C=(0,a.ref)(!1),z=(0,a.ref)(null),S=(0,a.ref)(!1),B=(0,a.ref)(!1),D=(0,a.computed)(()=&gt;window.innerWidth&lt;=768),A=(0,a.computed)(()=&gt;[{id:"items",label:"ç‰©å“",icon:Ei},{id:"equipment",label:"è£…å¤‡",icon:Wk},{id:"currency",label:"çµçŸ³",icon:Jk}]);(0,a.onMounted)(async()=&gt;{try{const e=o.value;if(e){const n=(0,Kk.qj)(e);if(n.ä¿®ç‚¼åŠŸæ³•&amp;&amp;(void 0===n.ä¿®ç‚¼åŠŸæ³•.æ­£åœ¨ä¿®ç‚¼&amp;&amp;(n.ä¿®ç‚¼åŠŸæ³•.æ­£åœ¨ä¿®ç‚¼=!0),void 0===n.ä¿®ç‚¼åŠŸæ³•.ä¿®ç‚¼è¿›åº¦&amp;&amp;(n.ä¿®ç‚¼åŠŸæ³•.ä¿®ç‚¼è¿›åº¦=0)),JSON.stringify(n)!==JSON.stringify(e)){const{useCharacterStore:e}=await Promise.resolve().then(t.bind(t,948)),a=e();a.activeSaveSlot.å­˜æ¡£æ•°æ®=n,await a.syncToTavernAndSave(),bg.Yz.log("èƒŒåŒ…é¢æ¿","å·²è¿ç§»æ—§æ•°æ®ç»“æ„å¹¶ä¿å­˜")}}}catch(e){bg.Yz.warn("èƒŒåŒ…é¢æ¿","é¢æ¿åˆå§‹åŒ–è¿ç§»å¤±è´¥",e)}});const _=(0,a.computed)(()=&gt;{const e=n.value?.è£…å¤‡æ ,t=["è£…å¤‡1","è£…å¤‡2","è£…å¤‡3","è£…å¤‡4","è£…å¤‡5","è£…å¤‡6"];return e?t.map(t=&gt;{const a=e[t];let o=null;if(a&amp;&amp;"object"==typeof a&amp;&amp;"ç‰©å“ID"in a&amp;&amp;"åç§°"in a){const e=a.ç‰©å“ID,t=(n.value?.èƒŒåŒ…_ç‰©å“||{})[e];o=t&amp;&amp;"object"==typeof t?t:{ç‰©å“ID:e,åç§°:a.åç§°,ç±»å‹:"è£…å¤‡",å“è´¨:{quality:"å‡¡",grade:1},æè¿°:"è£…å¤‡æ•°æ®ç¼ºå¤±",æ•°é‡:1,å·²è£…å¤‡:!0}}else o=null;return{name:t,item:o}}):t.map(e=&gt;({name:e,item:null}))}),$=(0,a.computed)(()=&gt;{const e=n.value?.èƒŒåŒ…_ç‰©å“||{};return Object.entries(e).filter(([e,n])=&gt;!e.startsWith("_")&amp;&amp;n&amp;&amp;"object"==typeof n).map(([,e])=&gt;{const n=e;return n.å“è´¨||"åŠŸæ³•"!==n.ç±»å‹&amp;&amp;"è£…å¤‡"!==n.ç±»å‹||console.warn("[èƒŒåŒ…é¢æ¿-è­¦å‘Š] ç‰©å“ç¼ºå°‘å“è´¨æ•°æ®:",{ç‰©å“ID:n.ç‰©å“ID,åç§°:n.åç§°,ç±»å‹:n.ç±»å‹,å®Œæ•´æ•°æ®:n}),{...n,ç‰©å“ID:String(n.ç‰©å“ID||""),åç§°:String(n.åç§°||""),ç±»å‹:String(n.ç±»å‹||"å…¶ä»–"),å“è´¨:n.å“è´¨||{quality:"å‡¡",grade:1},æè¿°:String(n.æè¿°||""),æ•°é‡:Number(n.æ•°é‡||1)}}).filter(e=&gt;e.åç§°&amp;&amp;e.ç±»å‹)}),I=(0,a.computed)(()=&gt;["è£…å¤‡","åŠŸæ³•","å…¶ä»–"]),T={å‡¡:1,å‡¡é˜¶:1,é»„:2,é»„é˜¶:2,ç„:3,ç„é˜¶:3,åœ°:4,åœ°é˜¶:4,å¤©:5,å¤©é˜¶:5,ä»™:6,ä»™é˜¶:6,ç¥:7,ç¥é˜¶:7},j=(0,a.computed)(()=&gt;{let e=[...$.value];if(e=e.map(e=&gt;{const n="è£…å¤‡"===e.ç±»å‹||"åŠŸæ³•"===e.ç±»å‹?e.ç±»å‹:"å…¶ä»–";let t=e.å“è´¨;return t&amp;&amp;"object"==typeof t?(t.quality&amp;&amp;["å‡¡","é»„","ç„","åœ°","å¤©","ä»™","ç¥"].includes(t.quality)||(t.quality="å‡¡"),("number"!=typeof t.grade||t.grade&lt;0||t.grade&gt;10)&amp;&amp;(t.grade=1)):t={quality:"å‡¡",grade:1},{...e,ç±»å‹:n,å“è´¨:t}}),m.value&amp;&amp;(e=e.filter(e=&gt;e.åç§°.includes(m.value))),"all"!==p.value&amp;&amp;(e=e.filter(e=&gt;("è£…å¤‡"===e.ç±»å‹||"åŠŸæ³•"===e.ç±»å‹?e.ç±»å‹:"å…¶ä»–")===p.value)),"quality"===v.value){const n=e=&gt;T[String(e??"å‡¡")]||0;e.sort((e,t)=&gt;n(t.å“è´¨?.quality)-n(e.å“è´¨?.quality))}else"name"===v.value&amp;&amp;e.sort((e,n)=&gt;e.åç§°.localeCompare(n.åç§°));return e}),M=e=&gt;{if(!e||"object"!=typeof e)return"æ— ç‰¹æ®Šå±æ€§";const n=[];for(const[t,a]of Object.entries(e))if(null!=a)if("object"!=typeof a||Array.isArray(a))n.push(`${t}+${a}`);else{const e=Object.entries(a).filter(([,e])=&gt;"number"==typeof e||"string"==typeof e).map(([e,n])=&gt;`${e}+${n}`).join("ã€");e&amp;&amp;n.push(`${t}(${e})`)}return n.length?n.join("ã€"):"æ— ç‰¹æ®Šå±æ€§"},q=e=&gt;{if(!e||"object"!=typeof e)return"æ— å±æ€§åŠ æˆ";const n=[];for(const[t,a]of Object.entries(e))a&amp;&amp;"number"==typeof a&amp;&amp;n.push(`${t}+${a}`);return n.length&gt;0?n.join("ã€"):"æ— å±æ€§åŠ æˆ"},O=e=&gt;0===e?"æ®‹ç¼º":e&gt;=1&amp;&amp;e&lt;=3?"ä¸‹å“":e&gt;=4&amp;&amp;e&lt;=6?"ä¸­å“":e&gt;=7&amp;&amp;e&lt;=9?"ä¸Šå“":10===e?"æå“":"æœªçŸ¥",P=e=&gt;0===e?"grade-broken":e&gt;=1&amp;&amp;e&lt;=3?"grade-low":e&gt;=4&amp;&amp;e&lt;=6?"grade-mid":e&gt;=7&amp;&amp;e&lt;=9?"grade-high":10===e?"grade-perfect":"grade-unknown",F=async e=&gt;{if(!B.value)if("åŠŸæ³•"===e.ç±»å‹){B.value=!0;try{Q(e)?await l.stopCultivation(e):await l.cultivateItem(e)}finally{B.value=!1}}else d.o.error("åªæœ‰åŠŸæ³•æ‰èƒ½ä¿®ç‚¼")},L=async e=&gt;{if(e){if(bg.Yz.log("èƒŒåŒ…é¢æ¿","ä½¿ç”¨ç‰©å“",e.åç§°),e.æ•°é‡&gt;1)return y.value=e,x.value="ä½¿ç”¨ç‰©å“",k.value="ä½¿ç”¨æ•°é‡",w.value="use",N.value="ç¡®å®šä½¿ç”¨",E.value=("å…¶ä»–"===e.ç±»å‹?e.ä½¿ç”¨æ•ˆæœ:"")||"æš‚æ— ç‰¹æ®Šæ•ˆæœ",V.value=n=&gt;Y(e,n),void(h.value=!0);await Y(e,1)}},Y=async(e,n)=&gt;{try{if("å…¶ä»–"!==e.ç±»å‹)return void d.o.error("è¯¥ç‰©å“æ— æ³•ç›´æ¥ä½¿ç”¨");await l.useItem(e,n),D.value&amp;&amp;(C.value=!1),s.value=null,bg.Yz.log("èƒŒåŒ…é¢æ¿","ä½¿ç”¨ç‰©å“æˆåŠŸ",e.åç§°)}catch(e){bg.Yz.error("èƒŒåŒ…é¢æ¿","ä½¿ç”¨ç‰©å“å¤±è´¥",e),d.o.error("ä½¿ç”¨ç‰©å“å¤±è´¥")}},R=async e=&gt;{V.value&amp;&amp;await V.value(e),U()},U=()=&gt;{h.value=!1,y.value=null,x.value="",k.value="",w.value="use",N.value="",E.value="",V.value=null},G=async e=&gt;{if(!e)return;if(e.æ•°é‡&gt;1){const n=e.å“è´¨?.quality||"å‡¡",t="å‡¡"===n?"":`ã€${n}ã€‘`;return y.value=e,x.value="ä¸¢å¼ƒç‰©å“",k.value="ä¸¢å¼ƒæ•°é‡",w.value="discard",N.value="ç¡®å®šä¸¢å¼ƒ",E.value=`${t}${e.åç§°} - æ­¤æ“ä½œä¸å¯æ’¤é”€ï¼`,V.value=n=&gt;W(e,n),void(h.value=!0)}const n=e.å“è´¨?.quality||"å‡¡",t="å‡¡"===n?"":`ã€${n}ã€‘`;f.value="ä¸¢å¼ƒç‰©å“",b.value=`ç¡®å®šè¦ä¸¢å¼ƒ ${t}${e.åç§°} å—ï¼Ÿ\n\næ­¤æ“ä½œä¸å¯æ’¤é”€ï¼`,z.value=async()=&gt;{await W(e,1)},g.value=!0},W=async(e,a)=&gt;{bg.Yz.log("èƒŒåŒ…é¢æ¿","ä¸¢å¼ƒç‰©å“",{ç‰©å“åç§°:e.åç§°,æ•°é‡:a});try{if(a&gt;=e.æ•°é‡)await(async e=&gt;{const a=n.value?.èƒŒåŒ…_ç‰©å“;if(!a||"object"!=typeof a)throw new Error("èƒŒåŒ…æ•°æ®ä¸å­˜åœ¨æˆ–æ ¼å¼ä¸æ­£ç¡®");delete a[e.ç‰©å“ID];const{useCharacterStore:o}=await Promise.resolve().then(t.bind(t,948)),r=o();await r.syncToTavernAndSave({fullSync:!0}),bg.Yz.log("èƒŒåŒ…é¢æ¿","ç‰©å“ç§»é™¤æˆåŠŸ",e.åç§°),s.value?.ç‰©å“ID===e.ç‰©å“ID&amp;&amp;(s.value=null),D.value&amp;&amp;(C.value=!1)})(e),d.o.success(`å·²ä¸¢å¼ƒã€Š${e.åç§°}ã€‹`);else{const o={...e,æ•°é‡:e.æ•°é‡-a};await(async e=&gt;{const a=n.value?.èƒŒåŒ…_ç‰©å“;if(!a||"object"!=typeof a)throw new Error("èƒŒåŒ…æ•°æ®ä¸å­˜åœ¨æˆ–æ ¼å¼ä¸æ­£ç¡®");if(!a[e.ç‰©å“ID])throw new Error(`å°è¯•æ›´æ–°ä¸€ä¸ªä¸å­˜åœ¨äºèƒŒåŒ…çš„ç‰©å“: ${e.åç§°}`);{a[e.ç‰©å“ID]=e;const{useCharacterStore:n}=await Promise.resolve().then(t.bind(t,948)),o=n();await o.syncToTavernAndSave({fullSync:!0}),bg.Yz.log("èƒŒåŒ…é¢æ¿","ç‰©å“æ›´æ–°æˆåŠŸ",e.åç§°)}s.value?.ç‰©å“ID===e.ç‰©å“ID&amp;&amp;(s.value=e)})(o),d.o.success(`å·²ä¸¢å¼ƒ ${a} ä¸ªã€Š${e.åç§°}ã€‹`)}D.value&amp;&amp;(C.value=!1),s.value=null}catch(e){bg.Yz.error("èƒŒåŒ…é¢æ¿","ä¸¢å¼ƒå¤±è´¥",e),d.o.error("ä¸¢å¼ƒç‰©å“å¤±è´¥")}},J=async e=&gt;{if(e&amp;&amp;!S.value)if("è£…å¤‡"===e.ç±»å‹){S.value=!0;try{H(e)?await l.unequipItem(e):await l.equipItem(e)}catch(e){console.error("è£…å¤‡åˆ‡æ¢å¤±è´¥:",e),d.o.error("è£…å¤‡æ“ä½œå¤±è´¥ï¼Œè¯·ç¨åé‡è¯•")}finally{S.value=!1}}else d.o.error("åªæœ‰è£…å¤‡æ‰èƒ½ç©¿æˆ´")},H=e=&gt;{if(!e||!e.ç‰©å“ID)return!1;const t=n.value?.èƒŒåŒ…_ç‰©å“;if(!t)return!1;const a=t[e.ç‰©å“ID];return!!a&amp;&amp;!0===a.å·²è£…å¤‡},Q=e=&gt;{if(!e||!e.ç‰©å“ID)return!1;const t=n.value?.èƒŒåŒ…_ç‰©å“;if(t){const n=t[e.ç‰©å“ID];if(n&amp;&amp;!0===n.å·²è£…å¤‡)return!0}const a=n.value?.ä¿®ç‚¼åŠŸæ³•;return!(!a||a.ç‰©å“ID!==e.ç‰©å“ID)&amp;&amp;!1!==a.æ­£åœ¨ä¿®ç‚¼},K=(e,n="border")=&gt;{if(!e)return"";const t=(e=&gt;{const n=String(e||"").trim();if(!n)return"æœªçŸ¥";const t=n.endsWith("é˜¶")?n.slice(0,-1):n;return["å‡¡","é»„","ç„","åœ°","å¤©","ä»™","ç¥"].includes(t)?t:"æœªçŸ¥"})(e.å“è´¨?.quality);return"æœªçŸ¥"===t?"":`${n}-quality-${t}`},X=[{name:"æå“",colorClass:"grade-legend",canExchange:!1,canExchangeDown:!0,exchangeDown:"ä¸Šå“"},{name:"ä¸Šå“",colorClass:"grade-epic",canExchange:!0,canExchangeDown:!0,exchangeUp:"æå“",exchangeDown:"ä¸­å“"},{name:"ä¸­å“",colorClass:"grade-rare",canExchange:!0,canExchangeDown:!0,exchangeUp:"ä¸Šå“",exchangeDown:"ä¸‹å“"},{name:"ä¸‹å“",colorClass:"grade-common",canExchange:!0,canExchangeDown:!1,exchangeUp:"ä¸­å“"}],Z=()=&gt;{z.value&amp;&amp;z.value(),g.value=!1},ee=()=&gt;{C.value=!1},ne=async(e,a)=&gt;{const o=X.find(n=&gt;n.name===e);if(o)if("up"===a&amp;&amp;o.canExchange&amp;&amp;o.exchangeUp){const a=n.value?.èƒŒåŒ…_çµçŸ³?.[e]||0;if(a&gt;=100&amp;&amp;n.value?.èƒŒåŒ…_çµçŸ³){n.value.èƒŒåŒ…_çµçŸ³[e]=a-100;const r=o.exchangeUp,l=n.value.èƒŒåŒ…_çµçŸ³[r]||0;n.value.èƒŒåŒ…_çµçŸ³[r]=l+1;const{useCharacterStore:i}=await Promise.resolve().then(t.bind(t,948)),c=i();await c.syncToTavernAndSave()}}else if("down"===a&amp;&amp;o.canExchangeDown&amp;&amp;o.exchangeDown){const a=n.value?.èƒŒåŒ…_çµçŸ³?.[e]||0;if(a&gt;=1&amp;&amp;n.value?.èƒŒåŒ…_çµçŸ³){n.value.èƒŒåŒ…_çµçŸ³[e]=a-1;const r=o.exchangeDown,l=n.value.èƒŒåŒ…_çµçŸ³[r]||0;n.value.èƒŒåŒ…_çµçŸ³[r]=l+100;const{useCharacterStore:i}=await Promise.resolve().then(t.bind(t,948)),c=i();await c.syncToTavernAndSave()}}},te=async()=&gt;{if(!c.value){c.value=!0;try{bg.Yz.log("èƒŒåŒ…é¢æ¿","æ‰‹åŠ¨åˆ·æ–°é…’é¦†æ•°æ®");const{useCharacterStore:e}=await Promise.resolve().then(t.bind(t,948)),n=e();await n.syncFromTavern()}catch(e){bg.Yz.error("èƒŒåŒ…é¢æ¿","åˆ·æ–°æ•°æ®å¤±è´¥",e)}finally{c.value=!1}}};return(e,l)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createCommentVNode)(" ç§»é™¤å®¹å™¨ï¼Œè®©å†…å®¹ç›´æ¥å¡«å……GameViewæä¾›çš„panel-contentåŒºåŸŸ "),(0,a.createElementVNode)("div",kw,[(0,a.createCommentVNode)(" æ ‡ç­¾é¡µå¯¼èˆª "),(0,a.createElementVNode)("div",ww,[(0,a.createElementVNode)("div",Nw,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(A.value,e=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("button",{key:e.id,class:(0,a.normalizeClass)(["tab-btn",{active:u.value===e.id}]),onClick:n=&gt;u.value=e.id},[((0,a.openBlock)(),(0,a.createBlock)((0,a.resolveDynamicComponent)(e.icon),{size:16})),(0,a.createElementVNode)("span",null,(0,a.toDisplayString)(e.label),1)],10,Ew))),128))]),(0,a.createCommentVNode)(" æœç´¢å’Œç­›é€‰åŒºåŸŸ "),"items"===u.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",Vw,[(0,a.createElementVNode)("div",Cw,[(0,a.createVNode)((0,a.unref)(Hk),{size:16,class:"search-icon"}),(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"text","onUpdate:modelValue":l[0]||(l[0]=e=&gt;m.value=e),placeholder:D.value?"æœç´¢...":"æœç´¢ç‰©å“..."},null,8,zw),[[a.vModelText,m.value]])]),(0,a.createElementVNode)("div",Sw,[(0,a.withDirectives)((0,a.createElementVNode)("select",{"onUpdate:modelValue":l[1]||(l[1]=e=&gt;p.value=e),class:"filter-select"},[l[20]||(l[20]=(0,a.createElementVNode)("option",{value:"all"},"å…¨éƒ¨ç‰©å“",-1)),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(I.value,e=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("option",{key:e,value:e},(0,a.toDisplayString)(e),9,Bw))),128))],512),[[a.vModelSelect,p.value]]),(0,a.withDirectives)((0,a.createElementVNode)("select",{"onUpdate:modelValue":l[2]||(l[2]=e=&gt;v.value=e),class:"filter-select"},l[21]||(l[21]=[(0,a.createElementVNode)("option",{value:"default"},"é»˜è®¤æ’åº",-1),(0,a.createElementVNode)("option",{value:"quality"},"å“è´¨æ’åº",-1),(0,a.createElementVNode)("option",{value:"name"},"åç§°æ’åº",-1)]),512),[[a.vModelSelect,v.value]]),(0,a.createElementVNode)("button",{class:"refresh-btn",onClick:te,disabled:c.value,title:"ä»é…’é¦†åŒæ­¥æœ€æ–°æ•°æ®"},[(0,a.createVNode)((0,a.unref)(Vv),{size:16,class:(0,a.normalizeClass)({spinning:c.value})},null,8,["class"])],8,Dw)])])):(0,a.createCommentVNode)("v-if",!0)]),(0,a.createCommentVNode)(" æ ‡ç­¾å†…å®¹ "),(0,a.createElementVNode)("div",Aw,[(0,a.createCommentVNode)(" ç‰©å“æ ‡ç­¾ "),"items"===u.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",_w,[(0,a.createCommentVNode)(" è‡ªå®šä¹‰ç¡®è®¤å¼¹çª— "),g.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:0,class:"custom-confirm-overlay",onClick:l[6]||(l[6]=e=&gt;g.value=!1)},[(0,a.createElementVNode)("div",{class:"custom-confirm-modal",onClick:l[5]||(l[5]=(0,a.withModifiers)(()=&gt;{},["stop"]))},[(0,a.createElementVNode)("div",$w,[(0,a.createElementVNode)("h3",null,(0,a.toDisplayString)(f.value),1),(0,a.createElementVNode)("button",{class:"confirm-close-btn",onClick:l[3]||(l[3]=e=&gt;g.value=!1)},[(0,a.createVNode)((0,a.unref)(Ne),{size:20})])]),(0,a.createElementVNode)("div",Iw,[(0,a.createElementVNode)("p",null,(0,a.toDisplayString)(b.value),1)]),(0,a.createElementVNode)("div",Tw,[(0,a.createElementVNode)("button",{class:"confirm-btn cancel-btn",onClick:l[4]||(l[4]=e=&gt;g.value=!1)}," å–æ¶ˆ "),(0,a.createElementVNode)("button",{class:"confirm-btn confirm-btn",onClick:Z},"ç¡®å®š")])])])):(0,a.createCommentVNode)("v-if",!0),(0,a.createCommentVNode)(" ç§»åŠ¨ç«¯ï¼šæ¨¡æ€æ¡†è¯¦æƒ… "),C.value&amp;&amp;D.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:1,class:"item-modal-overlay",onClick:ee},[(0,a.createElementVNode)("div",{class:"item-modal",onClick:l[13]||(l[13]=(0,a.withModifiers)(()=&gt;{},["stop"]))},[(0,a.createElementVNode)("div",jw,[(0,a.createElementVNode)("h3",{class:(0,a.normalizeClass)(K(s.value,"text"))},(0,a.toDisplayString)(s.value?.åç§°),3),(0,a.createElementVNode)("button",{class:"modal-close-btn",onClick:ee},[(0,a.createVNode)((0,a.unref)(Ne),{size:20})])]),(0,a.createElementVNode)("div",Mw,[(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["modal-icon-simple",K(s.value)])},[(0,a.createElementVNode)("div",qw,(0,a.toDisplayString)(s.value?.ç±»å‹),1)],2),(0,a.createElementVNode)("div",Ow,[(0,a.createElementVNode)("div",Pw,[(0,a.createTextVNode)((0,a.toDisplayString)(s.value?.ç±»å‹)+" / "+(0,a.toDisplayString)(s.value?.å“è´¨?.quality||"æœªçŸ¥")+" ",1),void 0!==s.value?.å“è´¨?.grade?((0,a.openBlock)(),(0,a.createElementBlock)("span",{key:0,class:(0,a.normalizeClass)(["grade-display",P(s.value.å“è´¨.grade)])},(0,a.toDisplayString)(O(s.value.å“è´¨.grade))+"("+(0,a.toDisplayString)(s.value.å“è´¨.grade)+") ",3)):(0,a.createCommentVNode)("v-if",!0)]),(0,a.createElementVNode)("p",Fw,(0,a.toDisplayString)(s.value?.æè¿°),1),"è£…å¤‡"===s.value?.ç±»å‹&amp;&amp;s.value?.è£…å¤‡å¢å¹…?((0,a.openBlock)(),(0,a.createElementBlock)("div",Lw,[l[22]||(l[22]=(0,a.createElementVNode)("h4",null,"è£…å¤‡å¢å¹…:",-1)),(0,a.createElementVNode)("div",Yw,(0,a.toDisplayString)(M(s.value.è£…å¤‡å¢å¹…)),1)])):(0,a.createCommentVNode)("v-if",!0)])]),(0,a.createElementVNode)("div",Rw,[(0,a.createCommentVNode)(" è£…å¤‡ï¼šè£…å¤‡å’Œä¸¢å¼ƒ "),"è£…å¤‡"===s.value?.ç±»å‹?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[(0,a.createElementVNode)("button",{class:(0,a.normalizeClass)(["action-btn",H(s.value)?"unequip-btn":"equip-btn"]),disabled:S.value,onClick:l[7]||(l[7]=e=&gt;J(s.value))},(0,a.toDisplayString)(H(s.value)?"å¸ä¸‹":"è£…å¤‡"),11,Uw),(0,a.createElementVNode)("button",{class:"action-btn discard-btn",onClick:l[8]||(l[8]=e=&gt;G(s.value))}," ä¸¢å¼ƒ ")],64)):"åŠŸæ³•"===s.value?.ç±»å‹?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:1},[(0,a.createCommentVNode)(" åŠŸæ³•ï¼šä¿®ç‚¼å’Œä¸¢å¼ƒ "),(0,a.createElementVNode)("button",{class:(0,a.normalizeClass)(["action-btn",Q(s.value)?"stop-cultivate-btn":"cultivate-btn"]),disabled:B.value,onClick:l[9]||(l[9]=e=&gt;F(s.value))},(0,a.toDisplayString)(Q(s.value)?"åœæ­¢ä¿®ç‚¼":"ä¿®ç‚¼"),11,Gw),(0,a.createElementVNode)("button",{class:"action-btn discard-btn",onClick:l[10]||(l[10]=e=&gt;G(s.value))}," ä¸¢å¼ƒ ")],64)):s.value?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:2},[(0,a.createCommentVNode)(" å…¶ä»–ç‰©å“ï¼šä½¿ç”¨å’Œä¸¢å¼ƒ "),(0,a.createElementVNode)("button",{class:"action-btn use-btn",onClick:l[11]||(l[11]=e=&gt;L(s.value))},"ä½¿ç”¨"),(0,a.createElementVNode)("button",{class:"action-btn discard-btn",onClick:l[12]||(l[12]=e=&gt;G(s.value))}," ä¸¢å¼ƒ ")],64)):(0,a.createCommentVNode)("v-if",!0)])])])):(0,a.createCommentVNode)("v-if",!0),(0,a.createElementVNode)("div",Ww,[i.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",Jw,l[23]||(l[23]=[(0,a.createElementVNode)("div",{class:"loading-spinner"},null,-1),(0,a.createElementVNode)("p",null,"åŠ è½½ä¸­...",-1)]))):0===j.value.length?((0,a.openBlock)(),(0,a.createElementBlock)("div",Hw,[(0,a.createVNode)((0,a.unref)(Qk),{size:48}),"all"===p.value?((0,a.openBlock)(),(0,a.createElementBlock)("p",Qw,"ç©ºç©ºå¦‚ä¹Ÿ")):"è£…å¤‡"===p.value?((0,a.openBlock)(),(0,a.createElementBlock)("p",Kw,"æš‚æ— è£…å¤‡")):"åŠŸæ³•"===p.value?((0,a.openBlock)(),(0,a.createElementBlock)("p",Xw,"æš‚æ— åŠŸæ³•")):"å…¶ä»–"===p.value?((0,a.openBlock)(),(0,a.createElementBlock)("p",Zw,"æš‚æ— å…¶ä»–ç‰©å“")):((0,a.openBlock)(),(0,a.createElementBlock)("p",eN,"æš‚æ— "+(0,a.toDisplayString)(p.value),1)),"all"!==p.value?((0,a.openBlock)(),(0,a.createElementBlock)("span",nN," å¯ä»¥è¯•è¯•æœç´¢å…¶ä»–åˆ†ç±» ")):(0,a.createCommentVNode)("v-if",!0)])):((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,{key:2},(0,a.renderList)(j.value,e=&gt;{return(0,a.openBlock)(),(0,a.createElementBlock)("div",{key:e.ç‰©å“ID,class:(0,a.normalizeClass)(["item-card",K(e,"card")]),onClick:n=&gt;(e=&gt;{s.value=e,D.value&amp;&amp;(C.value=!0)})(e)},[(0,a.createCommentVNode)(" ç‰©å“å›¾æ ‡å’Œå“è´¨ "),(0,a.createElementVNode)("div",aN,[(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["item-icon-area",K(e,"border")])},[(0,a.createElementVNode)("div",oN,(0,a.toDisplayString)((n=e.ç±»å‹,{è£…å¤‡:"âš”ï¸",åŠŸæ³•:"ğŸ“œ",å…¶ä»–:"ğŸ“¦"}[n]||"ğŸ“¦")),1),(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["item-quality-badge",K(e,"text")])},(0,a.toDisplayString)(e.å“è´¨?.quality||"æœªçŸ¥"),3)],2)]),(0,a.createCommentVNode)(" æ•°é‡æ˜¾ç¤º "),e.æ•°é‡&gt;1?((0,a.openBlock)(),(0,a.createElementBlock)("div",rN,"Ã—"+(0,a.toDisplayString)(e.æ•°é‡),1)):(0,a.createCommentVNode)("v-if",!0),(0,a.createCommentVNode)(" ç‰©å“åç§° "),(0,a.createElementVNode)("div",lN,[(0,a.createElementVNode)("div",{class:"item-name",title:e.åç§°},(0,a.toDisplayString)(e.åç§°),9,iN)]),(0,a.createCommentVNode)(" åº•éƒ¨ä¿¡æ¯ï¼šç±»å‹å’Œå“çº§ "),(0,a.createElementVNode)("div",cN,[(0,a.createElementVNode)("div",sN,(0,a.toDisplayString)(e.ç±»å‹),1),void 0!==e.å“è´¨?.grade?((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:0,class:(0,a.normalizeClass)(["item-grade-info",P(e.å“è´¨.grade)])},(0,a.toDisplayString)(O(e.å“è´¨.grade))+"("+(0,a.toDisplayString)(e.å“è´¨.grade)+") ",3)):(0,a.createCommentVNode)("v-if",!0)])],10,tN);var n}),128))]),(0,a.createCommentVNode)(" æ¡Œé¢ç«¯ç‰©å“è¯¦æƒ…ä¾§è¾¹æ  "),D.value?(0,a.createCommentVNode)("v-if",!0):((0,a.openBlock)(),(0,a.createElementBlock)("div",dN,[s.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",mN,[(0,a.createElementVNode)("div",pN,[(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["details-icon-large",K(s.value)])},[(0,a.createElementVNode)("div",vN,(0,a.toDisplayString)(s.value.ç±»å‹),1)],2),(0,a.createElementVNode)("div",uN,[(0,a.createElementVNode)("h3",null,(0,a.toDisplayString)(s.value.åç§°),1),(0,a.createElementVNode)("div",gN,[(0,a.createTextVNode)((0,a.toDisplayString)(s.value.ç±»å‹)+" / "+(0,a.toDisplayString)(s.value.å“è´¨?.quality||"æœªçŸ¥")+" ",1),void 0!==s.value.å“è´¨?.grade?((0,a.openBlock)(),(0,a.createElementBlock)("span",{key:0,class:(0,a.normalizeClass)(["grade-display",P(s.value.å“è´¨.grade)])},(0,a.toDisplayString)(O(s.value.å“è´¨.grade))+"("+(0,a.toDisplayString)(s.value.å“è´¨.grade)+") ",3)):(0,a.createCommentVNode)("v-if",!0)])])]),(0,a.createElementVNode)("div",fN,[(0,a.createElementVNode)("p",bN,(0,a.toDisplayString)(s.value.æè¿°),1),(0,a.createCommentVNode)(" åŠŸæ³•ç‰¹æœ‰å±æ€§ "),"åŠŸæ³•"===s.value.ç±»å‹?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[(0,a.createCommentVNode)(" åŠŸæ³•æ•ˆæœ "),s.value.åŠŸæ³•æ•ˆæœ?((0,a.openBlock)(),(0,a.createElementBlock)("div",hN,[l[27]||(l[27]=(0,a.createElementVNode)("h4",null,"åŠŸæ³•æ•ˆæœ:",-1)),(0,a.createElementVNode)("div",yN,[s.value.åŠŸæ³•æ•ˆæœ.ä¿®ç‚¼é€Ÿåº¦åŠ æˆ?((0,a.openBlock)(),(0,a.createElementBlock)("div",xN,[l[24]||(l[24]=(0,a.createElementVNode)("span",{class:"effect-label"},"ä¿®ç‚¼é€Ÿåº¦:",-1)),(0,a.createElementVNode)("span",kN,"+"+(0,a.toDisplayString)((100*s.value.åŠŸæ³•æ•ˆæœ.ä¿®ç‚¼é€Ÿåº¦åŠ æˆ).toFixed(0))+"%",1)])):(0,a.createCommentVNode)("v-if",!0),s.value.åŠŸæ³•æ•ˆæœ.å±æ€§åŠ æˆ?((0,a.openBlock)(),(0,a.createElementBlock)("div",wN,[l[25]||(l[25]=(0,a.createElementVNode)("span",{class:"effect-label"},"å±æ€§åŠ æˆ:",-1)),(0,a.createElementVNode)("span",NN,(0,a.toDisplayString)(q(s.value.åŠŸæ³•æ•ˆæœ.å±æ€§åŠ æˆ)),1)])):(0,a.createCommentVNode)("v-if",!0),s.value.åŠŸæ³•æ•ˆæœ.ç‰¹æ®Šèƒ½åŠ›?.length?((0,a.openBlock)(),(0,a.createElementBlock)("div",EN,[l[26]||(l[26]=(0,a.createElementVNode)("span",{class:"effect-label"},"ç‰¹æ®Šèƒ½åŠ›:",-1)),(0,a.createElementVNode)("div",VN,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(s.value.åŠŸæ³•æ•ˆæœ.ç‰¹æ®Šèƒ½åŠ›,e=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("span",{key:e,class:"ability-tag"},(0,a.toDisplayString)(e),1))),128))])])):(0,a.createCommentVNode)("v-if",!0)])])):(0,a.createCommentVNode)("v-if",!0),(0,a.createCommentVNode)(" åŠŸæ³•æŠ€èƒ½ "),s.value.åŠŸæ³•æŠ€èƒ½&amp;&amp;Array.isArray(s.value.åŠŸæ³•æŠ€èƒ½)&amp;&amp;s.value.åŠŸæ³•æŠ€èƒ½.length&gt;0?((0,a.openBlock)(),(0,a.createElementBlock)("div",CN,[l[28]||(l[28]=(0,a.createElementVNode)("h4",null,"åŠŸæ³•æŠ€èƒ½:",-1)),(0,a.createElementVNode)("div",zN,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(s.value.åŠŸæ³•æŠ€èƒ½,(e,n)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:n,class:"skill-item"},[(0,a.createElementVNode)("div",SN,[(0,a.createElementVNode)("span",BN,(0,a.toDisplayString)(e.æŠ€èƒ½åç§°),1),e.è§£é”éœ€è¦ç†Ÿç»ƒåº¦?((0,a.openBlock)(),(0,a.createElementBlock)("span",DN," éœ€è¦: "+(0,a.toDisplayString)(e.è§£é”éœ€è¦ç†Ÿç»ƒåº¦)+"% ",1)):(0,a.createCommentVNode)("v-if",!0)]),(0,a.createElementVNode)("div",AN,(0,a.toDisplayString)(e.æŠ€èƒ½æè¿°),1),e.æ¶ˆè€—?((0,a.openBlock)(),(0,a.createElementBlock)("div",_N,"æ¶ˆè€—: "+(0,a.toDisplayString)(e.æ¶ˆè€—),1)):(0,a.createCommentVNode)("v-if",!0)]))),128))])])):(0,a.createCommentVNode)("v-if",!0)],64)):(0,a.createCommentVNode)("v-if",!0),(0,a.createCommentVNode)(" è£…å¤‡è£…å¤‡å¢å¹… "),"è£…å¤‡"===s.value.ç±»å‹&amp;&amp;s.value.è£…å¤‡å¢å¹…?((0,a.openBlock)(),(0,a.createElementBlock)("div",$N,[l[29]||(l[29]=(0,a.createElementVNode)("h4",null,"è£…å¤‡å¢å¹…:",-1)),(0,a.createElementVNode)("div",IN,(0,a.toDisplayString)(M(s.value.è£…å¤‡å¢å¹…)),1)])):(0,a.createCommentVNode)("v-if",!0)]),(0,a.createElementVNode)("div",TN,[(0,a.createCommentVNode)(" è£…å¤‡ï¼šè£…å¤‡å’Œä¸¢å¼ƒ "),"è£…å¤‡"===s.value?.ç±»å‹?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[(0,a.createElementVNode)("button",{class:(0,a.normalizeClass)(["action-btn",H(s.value)?"unequip-btn":"equip-btn"]),disabled:S.value,onClick:l[14]||(l[14]=e=&gt;J(s.value))},(0,a.toDisplayString)(H(s.value)?"å¸ä¸‹":"è£…å¤‡"),11,jN),(0,a.createElementVNode)("button",{class:"action-btn discard-btn",onClick:l[15]||(l[15]=e=&gt;G(s.value))}," ä¸¢å¼ƒ ")],64)):"åŠŸæ³•"===s.value?.ç±»å‹?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:1},[(0,a.createCommentVNode)(" åŠŸæ³•ï¼šä¿®ç‚¼å’Œä¸¢å¼ƒ "),(0,a.createElementVNode)("button",{class:(0,a.normalizeClass)(["action-btn",Q(s.value)?"stop-cultivate-btn":"cultivate-btn"]),disabled:B.value,onClick:l[16]||(l[16]=e=&gt;F(s.value))},(0,a.toDisplayString)(Q(s.value)?"åœæ­¢ä¿®ç‚¼":"ä¿®ç‚¼"),11,MN),(0,a.createElementVNode)("button",{class:"action-btn discard-btn",onClick:l[17]||(l[17]=e=&gt;G(s.value))}," ä¸¢å¼ƒ ")],64)):((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:2},[(0,a.createCommentVNode)(" å…¶ä»–ç‰©å“ï¼šä½¿ç”¨å’Œä¸¢å¼ƒ "),(0,a.createElementVNode)("button",{class:"action-btn use-btn",onClick:l[18]||(l[18]=e=&gt;L(s.value))},"ä½¿ç”¨"),(0,a.createElementVNode)("button",{class:"action-btn discard-btn",onClick:l[19]||(l[19]=e=&gt;G(s.value))}," ä¸¢å¼ƒ ")],64))])])):((0,a.openBlock)(),(0,a.createElementBlock)("div",qN,[(0,a.createVNode)((0,a.unref)(Qk),{size:48}),l[30]||(l[30]=(0,a.createElementVNode)("p",null,"é€‰æ‹©ç‰©å“æŸ¥çœ‹è¯¦æƒ…",-1))]))]))])):(0,a.createCommentVNode)("v-if",!0),(0,a.createCommentVNode)(" è£…å¤‡æ ‡ç­¾ "),"equipment"===u.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",ON,[(0,a.createElementVNode)("div",PN,[(0,a.createElementVNode)("div",FN,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(_.value,(e,i)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:i,class:(0,a.normalizeClass)(["equipment-slot",{"has-equipment":e.item,"empty-slot":!e.item}])},[(0,a.createElementVNode)("div",LN,[(0,a.createElementVNode)("div",YN,(0,a.toDisplayString)(e.name),1),e.item?((0,a.openBlock)(),(0,a.createElementBlock)("div",RN,[(0,a.createElementVNode)("button",{class:"action-btn unequip-btn",disabled:S.value,onClick:a=&gt;(async e=&gt;{if(S.value)return;if(!e.item)return;S.value=!0;const a=e.item;bg.Yz.log("èƒŒåŒ…é¢æ¿","å¸ä¸‹è£…å¤‡",a.åç§°);try{if(!n.value?.è£…å¤‡æ )return void d.o.error("è£…å¤‡æ æ•°æ®ä¸å­˜åœ¨");if(!n.value?.èƒŒåŒ…_ç‰©å“)return void d.o.error("èƒŒåŒ…æ•°æ®ä¸å­˜åœ¨");n.value.è£…å¤‡æ [e.name]=null;const l=n.value.èƒŒåŒ…_ç‰©å“?.[a.ç‰©å“ID];l&amp;&amp;(l.å·²è£…å¤‡=!1);const{useCharacterStore:i}=await Promise.resolve().then(t.bind(t,948)),c=i();await c.syncToTavernAndSave(),await(async()=&gt;{try{const e=(0,an.getTavernHelper)();if(!e)return void bg.Yz.warn("èƒŒåŒ…é¢æ¿","é…’é¦†ç¯å¢ƒä¸å¯ç”¨ï¼Œè·³è¿‡åŒæ­¥");await(0,Kk.aD)(e);const n=o.value;if(!n)return void bg.Yz.warn("èƒŒåŒ…é¢æ¿","å­˜æ¡£æ•°æ®ä¸å­˜åœ¨ï¼Œè·³è¿‡åŒæ­¥");(0,Kk.qj)(n),bg.Yz.log("èƒŒåŒ…é¢æ¿","æ•°æ®å·²åŒæ­¥åˆ°é…’é¦†å˜é‡")}catch(e){bg.Yz.error("èƒŒåŒ…é¢æ¿","åŒæ­¥é…’é¦†å˜é‡å¤±è´¥",e)}})(),r.addAction({type:"unequip",itemName:a.åç§°,itemType:a.ç±»å‹,description:`å¸ä¸‹äº†ã€Š${a.åç§°}ã€‹è£…å¤‡`}),d.o.success(`å·²å¸ä¸‹ã€Š${a.åç§°}ã€‹`),bg.Yz.log("èƒŒåŒ…é¢æ¿","è£…å¤‡å¸ä¸‹æˆåŠŸ",a.åç§°)}catch(e){bg.Yz.error("èƒŒåŒ…é¢æ¿","å¸ä¸‹è£…å¤‡å¤±è´¥",e),d.o.error("å¸ä¸‹è£…å¤‡å¤±è´¥")}finally{S.value=!1}})(e),title:"å¸ä¸‹è£…å¤‡"},[(0,a.createVNode)((0,a.unref)(Ne),{size:12})],8,UN)])):(0,a.createCommentVNode)("v-if",!0)]),e.item?((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:0,class:(0,a.normalizeClass)(["equipment-item",K(e.item)])},[(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["item-icon",K(e.item,"border")])},l[31]||(l[31]=[(0,a.createElementVNode)("div",{class:"item-type-text"},"è£…å¤‡",-1)]),2),(0,a.createElementVNode)("div",GN,[(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["item-name",K(e.item,"text")]),title:e.item.åç§°},(0,a.toDisplayString)(e.item.åç§°),11,WN),(0,a.createElementVNode)("div",JN,[(0,a.createTextVNode)((0,a.toDisplayString)(e.item.å“è´¨?.quality||"ï¼Ÿ")+"å“ ",1),void 0!==e.item.å“è´¨?.grade?((0,a.openBlock)(),(0,a.createElementBlock)("span",{key:0,class:(0,a.normalizeClass)(["item-grade",P(e.item.å“è´¨.grade)])},(0,a.toDisplayString)(O(e.item.å“è´¨.grade))+"("+(0,a.toDisplayString)(e.item.å“è´¨.grade)+") ",3)):(0,a.createCommentVNode)("v-if",!0)]),e.item.æè¿°?((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:0,class:"item-description",title:e.item.æè¿°},(0,a.toDisplayString)(e.item.æè¿°),9,HN)):(0,a.createCommentVNode)("v-if",!0),"è£…å¤‡"===e.item.ç±»å‹&amp;&amp;e.item.è£…å¤‡å¢å¹…?((0,a.openBlock)(),(0,a.createElementBlock)("div",QN,[l[32]||(l[32]=(0,a.createElementVNode)("div",{class:"effects-title"},"å¢å¹…æ•ˆæœï¼š",-1)),(0,a.createElementVNode)("div",KN,(0,a.toDisplayString)(M(e.item.è£…å¤‡å¢å¹…)),1)])):(0,a.createCommentVNode)("v-if",!0)])],2)):((0,a.openBlock)(),(0,a.createElementBlock)("div",XN,[(0,a.createElementVNode)("div",ZN,[(0,a.createVNode)((0,a.unref)(Ei),{size:24})]),l[33]||(l[33]=(0,a.createElementVNode)("div",{class:"empty-text"},"ç©ºæ§½ä½",-1)),l[34]||(l[34]=(0,a.createElementVNode)("div",{class:"empty-hint"},"å¯è£…å¤‡è£…å¤‡",-1))]))],2))),128))])])])):(0,a.createCommentVNode)("v-if",!0),(0,a.createCommentVNode)(" çµçŸ³æ ‡ç­¾ "),"currency"===u.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",eE,[(0,a.createElementVNode)("div",nE,[((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(X,e=&gt;(0,a.createElementVNode)("div",{key:e.name,class:(0,a.normalizeClass)(["currency-card",e.colorClass])},[(0,a.createElementVNode)("div",tE,[(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["currency-icon",`icon-${e.colorClass}`])},[(0,a.createVNode)((0,a.unref)(Jk),{size:D.value?32:40},null,8,["size"])],2),(0,a.createElementVNode)("div",aE,[(0,a.createElementVNode)("div",oE,(0,a.toDisplayString)((0,a.unref)(n)?.èƒŒåŒ…_çµçŸ³?.[e.name]||0),1),(0,a.createElementVNode)("div",rE,(0,a.toDisplayString)(e.name)+"çµçŸ³",1)])]),e.canExchange||e.canExchangeDown?((0,a.openBlock)(),(0,a.createElementBlock)("div",lE,[e.canExchange?((0,a.openBlock)(),(0,a.createElementBlock)("button",{key:0,class:"exchange-btn",onClick:n=&gt;ne(e.name,"up"),disabled:((0,a.unref)(n)?.èƒŒåŒ…_çµçŸ³?.[e.name]||0)&lt;100,title:`å…‘æ¢ä¸º${e.exchangeUp}çµçŸ³ (100:1)`}," â†‘ å…‘æ¢ ",8,iE)):(0,a.createCommentVNode)("v-if",!0),e.canExchangeDown?((0,a.openBlock)(),(0,a.createElementBlock)("button",{key:1,class:"exchange-btn down",onClick:n=&gt;ne(e.name,"down"),disabled:((0,a.unref)(n)?.èƒŒåŒ…_çµçŸ³?.[e.name]||0)&lt;1,title:`åˆ†è§£ä¸º${e.exchangeDown}çµçŸ³ (1:100)`}," â†“ åˆ†è§£ ",8,cE)):(0,a.createCommentVNode)("v-if",!0)])):(0,a.createCommentVNode)("v-if",!0)],2)),64))])])):(0,a.createCommentVNode)("v-if",!0)])]),(0,a.createCommentVNode)(" æ•°é‡é€‰æ‹©å¼¹çª— "),(0,a.createVNode)(xw,{visible:h.value,item:y.value,title:x.value,"action-label":k.value,"action-type":w.value,"confirm-text":N.value,description:E.value,onClose:U,onConfirm:R},null,8,["visible","item","title","action-label","action-type","confirm-text","description"])],64))}});var dE=t(7280),mE={};mE.styleTagTransform=A(),mE.setAttributes=z(),mE.insert=V().bind(null,"head"),mE.domAPI=N(),mE.insertStyleElement=B(),k()(dE.A,mE),dE.A&amp;&amp;dE.A.locals&amp;&amp;dE.A.locals;const pE=(0,j.A)(sE,[["__scopeId","data-v-61146166"]]),vE=(0,c.A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),uE=(0,c.A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),gE=(0,c.A)("arrow-right-left",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]),fE={class:"relationship-network-panel"},bE={class:"panel-content"},hE={class:"relationship-list"},yE={class:"list-header"},xE={class:"search-bar"},kE={class:"list-content"},wE={key:0,class:"loading-state"},NE={key:1,class:"empty-state"},EE={key:2,class:"person-list"},VE=["onClick"],CE={class:"person-avatar"},zE={class:"avatar-text"},SE={class:"person-info"},BE={class:"person-name"},DE={class:"person-meta"},AE={class:"relationship-type"},_E={class:"card-actions"},$E=["onClick","title"],IE=["onClick"],TE={key:0,class:"person-realm"},jE={class:"realm-value"},ME={class:"intimacy-info"},qE={class:"intimacy-bar"},OE={class:"intimacy-value"},PE={class:"relationship-detail"},FE={class:"detail-header"},LE={class:"detail-avatar"},YE={class:"avatar-text"},RE={class:"detail-info"},UE={class:"name-and-actions"},GE={class:"detail-name"},WE={class:"detail-badges"},JE={class:"relationship-badge"},HE={class:"race-badge"},QE={key:0,class:"faction-badge"},KE={class:"detail-body"},XE={class:"detail-tabs"},ZE=["onClick"],eV={class:"tab-content"},nV={class:"tab-panel"},tV={class:"detail-section"},aV={class:"info-grid-responsive"},oV={class:"info-item-row"},rV={class:"info-value"},lV={class:"info-item-row"},iV={class:"info-value"},cV={class:"info-item-row"},sV={class:"info-value"},dV={class:"info-item-row"},mV={class:"info-value"},pV={key:0,class:"info-item-row"},vV={class:"info-value"},uV={key:1,class:"info-item-row"},gV={class:"info-value"},fV={key:0,class:"detail-section"},bV={key:0,class:"appearance-description"},hV={class:"description-text"},yV={key:1,class:"talents-grid",style:{"margin-top":"1rem"}},xV={key:1,class:"detail-section"},kV={key:0},wV={class:"talents-grid"},NV=["title"],EV={key:1,style:{"margin-top":"1rem"}},VV={class:"attributes-grid"},CV={class:"attribute-item"},zV={class:"attr-value"},SV={class:"attribute-item"},BV={class:"attr-value"},DV={class:"attribute-item"},AV={class:"attr-value"},_V={class:"attribute-item"},$V={class:"attr-value"},IV={class:"attribute-item"},TV={class:"attr-value"},jV={class:"attribute-item"},MV={class:"attr-value"},qV={key:2,class:"detail-section"},OV={class:"npc-memories-list"},PV={class:"npc-memory-content"},FV={class:"detail-section personality-section"},LV={class:"personality-bottomlines"},YV={key:0,class:"bottomline-tags"},RV={key:1,class:"bottomline-empty"},UV={class:"tab-panel"},GV={class:"detail-section highlight-section"},WV={class:"realtime-status"},JV={class:"status-item"},HV={class:"status-content"},QV={class:"status-text"},KV={class:"status-item"},XV={class:"status-content"},ZV={class:"status-text"},eC={key:0,class:"tab-panel"},nC={class:"detail-section nsfw-section"},tC={class:"nsfw-subsection"},aC={class:"info-grid"},oC={class:"info-item"},rC={class:"info-item"},lC={class:"info-value"},iC={class:"dev-bar-item",style:{"margin-top":"0.5rem"}},cC={class:"dev-bar-track"},sC={class:"nsfw-subsection"},dC={class:"info-grid"},mC={class:"info-item"},pC={class:"info-value"},vC={class:"info-item"},uC={class:"info-value"},gC={class:"info-item"},fC={class:"info-value"},bC={key:0,class:"partner-list"},hC={class:"mini-label"},yC={class:"talents-grid"},xC={class:"nsfw-subsection"},kC={class:"experience-grid"},wC={class:"exp-item"},NC={class:"exp-content"},EC={class:"exp-value"},VC={class:"exp-item"},CC={class:"exp-content"},zC={class:"exp-value"},SC={key:0,class:"last-time-info"},BC={class:"last-time-value"},DC={key:0,class:"nsfw-subsection"},AC={class:"body-parts-list"},_C={class:"part-header"},$C={class:"part-name"},IC={key:0,class:"part-mark"},TC={key:0,class:"part-description"},jC={class:"part-stats"},MC={class:"part-stat"},qC={class:"stat-bar-mini"},OC={class:"stat-value"},PC={class:"part-stat"},FC={class:"stat-bar-mini"},LC={class:"stat-value"},YC={key:1,class:"nsfw-subsection"},RC={class:"fluid-status"},UC={key:2,class:"nsfw-subsection"},GC={key:0,style:{"margin-bottom":"0.75rem"}},WC={class:"talents-grid"},JC={key:1},HC={class:"talents-grid"},QC={class:"tab-panel"},KC={key:0,class:"detail-section"},XC={class:"memory-header"},ZC={class:"memory-actions-header"},ez={key:0,class:"memory-count"},nz={key:1,class:"summarize-controls"},tz=["max"],az=["disabled"],oz={key:0,class:"memory-summary-list"},rz={class:"summary-text"},lz={key:1,class:"memory-list"},iz={class:"memory-content"},cz={class:"memory-time"},sz={class:"memory-event"},dz={class:"memory-actions"},mz=["onClick"],pz=["onClick"],vz={key:2,class:"memory-pagination"},uz=["disabled"],gz={class:"pagination-info"},fz=["disabled"],bz={key:3,class:"empty-state-small"},hz={class:"detail-section"},yz={class:"raw-data-container"},xz={class:"tab-panel"},kz={class:"detail-section"},wz={key:0,class:"spirit-stones-grid"},Nz={class:"spirit-stone-item"},Ez={class:"spirit-stone-item"},Vz={class:"spirit-stone-item"},Cz={class:"spirit-stone-item"},zz={class:"npc-inventory",style:{"margin-top":"1rem"}},Sz={key:0,class:"npc-items-grid"},Bz={class:"item-header"},Dz={class:"item-name"},Az={class:"item-type"},_z={key:0,class:"item-quality"},$z={class:"quality-text"},Iz={key:1,class:"item-quantity"},Tz={key:2,class:"item-description"},jz={class:"item-actions"},Mz=["onClick"],qz=["onClick"],Oz=["onClick"],Pz={key:1,class:"empty-inventory"},Fz={key:1,class:"no-selection"},Lz=(0,a.defineComponent)({__name:"RelationshipNetworkPanel",setup(e){const{characterData:n}=(0,Li.useUnifiedCharacterData)(),o=(0,Sv.useActionQueueStore)(),r=(0,q.useUIStore)(),l=(0,tn.useCharacterStore)(),i=(0,a.ref)(!1),c=(0,a.ref)(null),s=(0,a.ref)(""),m=(0,a.ref)(!1),p=(0,a.ref)("basic"),v=(0,a.computed)(()=&gt;{const e=[{id:"basic",label:"åŸºæœ¬ä¿¡æ¯",icon:"ğŸ“‹"},{id:"status",label:"å®æ—¶çŠ¶æ€",icon:"ğŸ’­"}];return c.value?.ç§å¯†ä¿¡æ¯&amp;&amp;e.push({id:"nsfw",label:"ç§å¯†èµ„æ–™",icon:"ğŸ”"}),e.push({id:"memory",label:"è®°å¿†æ¡£æ¡ˆ",icon:"ğŸ“"}),e.push({id:"inventory",label:"èƒŒåŒ…",icon:"ğŸ’"}),e}),u=(0,a.ref)(!1),g=(0,a.ref)(10),f=(0,a.ref)(5),b=(0,a.ref)(1),h=(0,a.computed)(()=&gt;{if(!c.value?.è®°å¿†?.length)return[];const e=c.value.è®°å¿†,n=(b.value-1)*f.value,t=n+f.value;return e.slice(n,t)}),y=(0,a.computed)(()=&gt;c.value?.è®°å¿†?.length?Math.ceil(c.value.è®°å¿†.length/f.value):0),x=e=&gt;{e&gt;=1&amp;&amp;e&lt;=y.value&amp;&amp;(b.value=e)},k=()=&gt;{b.value=1},w=e=&gt;"string"==typeof e?"æœªçŸ¥æ—¶é—´":e&amp;&amp;"object"==typeof e&amp;&amp;e.æ—¶é—´||"æœªçŸ¥æ—¶é—´",N=e=&gt;"string"==typeof e?e:e&amp;&amp;"object"==typeof e&amp;&amp;e.äº‹ä»¶||"",E=e=&gt;{const n=e.å¢ƒç•Œ;if(!n)return"æœªçŸ¥";if("object"==typeof n&amp;&amp;null!==n){const e=n.åç§°||"",t=n.é˜¶æ®µ||"";if(e)return t?`${e}${t}`:e}return"string"==typeof n?n:"æœªçŸ¥"},V=e=&gt;e.è®°å¿†&amp;&amp;Array.isArray(e.è®°å¿†)?e.è®°å¿†.slice(-3).reverse().map(e=&gt;"string"==typeof e?e:"object"==typeof e&amp;&amp;e.äº‹ä»¶?e.äº‹ä»¶:"").filter(e=&gt;e.length&gt;0):[],C=e=&gt;{if(!e)return"æœªçŸ¥";if("string"==typeof e)return e;if("object"==typeof e){if(e.åç§°&amp;&amp;e.å“çº§)return`${e.åç§°}(${e.å“çº§})`;if(e.åç§°)return`${e.åç§°}(æœªçŸ¥å“çº§)`}return"æ ¼å¼é”™è¯¯"},z=e=&gt;{if(!e||"object"!=typeof e)return!1;const n=e,t="string"==typeof n.åå­—&amp;&amp;n.åå­—.length&gt;0;return t||console.warn("[äººè„‰ç³»ç»Ÿ] æ£€æµ‹åˆ°æ— æ•ˆçš„äººç‰©å…³ç³»æ¡ç›®ï¼Œå·²è‡ªåŠ¨è¿‡æ»¤:",e),t},S=(0,a.computed)(()=&gt;n.value?.äººç‰©å…³ç³»&amp;&amp;"object"==typeof n.value.äººç‰©å…³ç³»?Object.values(n.value.äººç‰©å…³ç³»).filter(z):[]),B=(0,a.computed)(()=&gt;{let e=[...S.value];if(s.value.trim()){const n=s.value.toLowerCase();e=e.filter(e=&gt;e.åå­—.toLowerCase().includes(n)||(e.ä¸ç©å®¶å…³ç³»||"").toLowerCase().includes(n))}return e.sort((e,n)=&gt;(n.å¥½æ„Ÿåº¦||0)-(e.å¥½æ„Ÿåº¦||0))}),D=e=&gt;`intimacy-${(e=&gt;{const n=e||0;return n&gt;=80?"high":n&gt;=60?"good":n&gt;=40?"medium":n&gt;=20?"low":n&gt;=0?"neutral":n&gt;=-20?"dislike":n&gt;=-40?"hostile":"enemy"})(e)}`;(0,a.watch)(c,e=&gt;{e&amp;&amp;k()}),(0,a.onMounted)(async()=&gt;{console.log("[äººè„‰ç³»ç»Ÿ] äººç‰©å…³ç³»é¢æ¿å·²è½½å…¥ï¼Œå¼€å§‹åŒæ­¥æ•°æ®"),i.value=!0;try{B.value.length&gt;0&amp;&amp;(c.value=B.value[0])}catch(e){console.error("[äººè„‰ç³»ç»Ÿ] åŒæ­¥æ•°æ®å¤±è´¥:",e),d.o.error("äººè„‰æ•°æ®åŒæ­¥å¤±è´¥")}finally{i.value=!1}});const A=e=&gt;n.value?.äººç‰©å…³ç³»&amp;&amp;Object.keys(n.value.äººç‰©å…³ç³»).find(t=&gt;n.value.äººç‰©å…³ç³»[t]?.åå­—===e)||null,_=e=&gt;{const n=e.èƒŒåŒ…?.ç‰©å“;return!!n&amp;&amp;Object.keys(n).length&gt;0},$=e=&gt;e.å®æ—¶å…³æ³¨||!1,I=async()=&gt;{if(!c.value)return;const e=c.value.åå­—;u.value=!0;try{const a=(0,an.getTavernHelper)();if(!a)throw new Error("æ— æ³•è¿æ¥åˆ°é…’é¦†åŠ©æ‰‹");const o=c.value.è®°å¿†||[];if(0===o.length)throw new Error("æ²¡æœ‰è®°å¿†å¯ä»¥æ€»ç»“");const r=Math.min(Math.max(3,g.value||10),o.length),l=o.slice(0,r).map((e,n)=&gt;`${n+1}. [${w(e)}] ${N(e)}`).join("\n"),i=`ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„è®°å¿†æ€»ç»“åŠ©æ‰‹ï¼Œæ“…é•¿å°†NPCçš„è®°å¿†æ€»ç»“ä¸ºè¯¦ç»†çš„æ¡£æ¡ˆã€‚\n\næ€»ç»“è¦æ±‚ï¼š\n1. å¿…é¡»åŒ…å«å°è¯´å…­è¦ç´ ï¼šæ—¶é—´ã€åœ°ç‚¹ã€äººç‰©ã€äº‹ä»¶ã€åŸå› ã€ç»“æœ\n2. ç”¨ç¬¬ä¸‰äººç§°æè¿°ï¼Œä»¥ã€Œ${e}ã€ä¸ºä¸»è§†è§’\n3. å®Œæ•´è®°å½•æ‰€æœ‰å…³é”®äº‹ä»¶ã€äººç‰©å…³ç³»å˜åŒ–ã€æƒ…æ„Ÿæ³¢åŠ¨\n4. æŒ‰æ—¶é—´é¡ºåºæ¢³ç†äº‹ä»¶è„‰ç»œ\n5. å­—æ•°æ§åˆ¶åœ¨200-300å­—ï¼Œç¡®ä¿ä¿¡æ¯å®Œæ•´è¯¦å®\n6. ä½¿ç”¨ä¿®ä»™å°è¯´çš„è¯­è¨€é£æ ¼\n7. åªè¿”å›æ€»ç»“å†…å®¹ï¼Œä¸è¦æœ‰ä»»ä½•å‰ç¼€ã€åç¼€æˆ–æ ‡é¢˜`,s=`è¯·å°†ä»¥ä¸‹NPCã€Œ${e}ã€çš„è®°å¿†æ€»ç»“æˆè¯¦ç»†çš„æ¡£æ¡ˆï¼ŒåŠ¡å¿…åŒ…å«æ—¶é—´ã€åœ°ç‚¹ã€äººç‰©ã€äº‹ä»¶ã€åŸå› ã€ç»“æœå…­è¦ç´ ï¼š\n\n${l}`,m=await a.generateRaw({ordered_prompts:[{role:"system",content:i},{role:"user",content:s}],should_stream:!1});if(!m||"string"!=typeof m)throw new Error("AIå“åº”æ ¼å¼é”™è¯¯");const p=m.trim();if(!p)throw new Error("æ€»ç»“å†…å®¹ä¸ºç©º");if(!n.value?.äººç‰©å…³ç³»)throw new Error("å­˜æ¡£æ•°æ®ä¸å­˜åœ¨");const v=Object.keys(n.value.äººç‰©å…³ç³»).find(t=&gt;n.value.äººç‰©å…³ç³»[t]?.åå­—===e);if(!v)throw new Error(`æ‰¾ä¸åˆ°NPC: ${e}`);n.value.äººç‰©å…³ç³»[v].è®°å¿†æ€»ç»“||(n.value.äººç‰©å…³ç³»[v].è®°å¿†æ€»ç»“=[]),n.value.äººç‰©å…³ç³»[v].è®°å¿†æ€»ç»“.push(p),n.value.äººç‰©å…³ç³»[v].è®°å¿†=o.slice(r);const{useCharacterStore:u}=await Promise.resolve().then(t.bind(t,948)),f=u();await f.syncToTavernAndSave({fullSync:!0}),c.value={...n.value.äººç‰©å…³ç³»[v]},d.o.success(`å·²å°† ${e} æœ€æ—§çš„ ${r} æ¡è®°å¿†æ€»ç»“å¹¶åŒæ­¥åˆ°é…’é¦†`)}catch(e){const n=e instanceof Error?e.message:"æœªçŸ¥é”™è¯¯";d.o.error(`è®°å¿†æ€»ç»“å¤±è´¥: ${n}`)}finally{u.value=!1}},T=e=&gt;{e&amp;&amp;r.showRetryDialog({title:"åˆ é™¤äººç‰©",message:`ä½ ç¡®å®šè¦ä»è¿™ä¸ªä¸–ç•Œä¸­æ°¸ä¹…åˆ é™¤ã€${e.åå­—}ã€‘å—ï¼Ÿæ­¤æ“ä½œæ— æ³•æ’¤é”€ï¼Œæ‰€æœ‰ä¸è¯¥äººç‰©ç›¸å…³çš„æ•°æ®éƒ½å°†æ¶ˆå¤±ã€‚`,confirmText:"ç¡®è®¤åˆ é™¤",cancelText:"å–æ¶ˆ",onConfirm:async()=&gt;{const n=e.åå­—,t=c.value?.åå­—===n;t&amp;&amp;(c.value=null,m.value=!1);try{await l.deleteNpc(n)}catch(e){const a=e instanceof Error?e.message:"æœªçŸ¥é”™è¯¯";if(d.o.error(`åˆ é™¤å¤±è´¥: ${a}`),console.error("åˆ é™¤NPCå¤±è´¥:",e),t){const e=S.value.find(e=&gt;e.åå­—===n);e&amp;&amp;(c.value=e,m.value=!0)}}},onCancel:()=&gt;{}})};return(e,z)=&gt;{return(0,a.openBlock)(),(0,a.createElementBlock)("div",fE,[(0,a.createElementVNode)("div",bE,[(0,a.createCommentVNode)(" äººç‰©å…³ç³»åˆ—è¡¨ "),(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["relationships-container",{"details-active":m.value}])},[(0,a.createCommentVNode)(" å·¦ä¾§ï¼šäººç‰©åˆ—è¡¨ "),(0,a.createElementVNode)("div",hE,[(0,a.createElementVNode)("div",yE,[z[6]||(z[6]=(0,a.createElementVNode)("h3",{class:"panel-title"},"äººç‰©å…³ç³»",-1)),(0,a.createElementVNode)("div",xE,[(0,a.createVNode)((0,a.unref)(Hk),{size:16}),(0,a.withDirectives)((0,a.createElementVNode)("input",{"onUpdate:modelValue":z[0]||(z[0]=e=&gt;s.value=e),placeholder:"æœç´¢äººç‰©...",class:"search-input"},null,512),[[a.vModelText,s.value]])])]),(0,a.createElementVNode)("div",kE,[i.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",wE,[(0,a.createVNode)((0,a.unref)(Cv),{size:32,class:"animate-spin"}),z[7]||(z[7]=(0,a.createElementVNode)("p",null,"æ­£åœ¨è¯»å–äººé™…å…³ç³»...",-1))])):0===B.value.length?((0,a.openBlock)(),(0,a.createElementBlock)("div",NE,[(0,a.createVNode)((0,a.unref)(qi),{size:48,class:"empty-icon"}),z[8]||(z[8]=(0,a.createElementVNode)("p",{class:"empty-text"},"å°šæœªå»ºç«‹äººé™…å…³ç³»",-1)),z[9]||(z[9]=(0,a.createElementVNode)("p",{class:"empty-hint"},"åœ¨æ¸¸æˆä¸­ä¸æ›´å¤šäººç‰©äº’åŠ¨å»ºç«‹å…³ç³»",-1))])):((0,a.openBlock)(),(0,a.createElementBlock)("div",EE,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(B.value,e=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:e.åå­—,class:(0,a.normalizeClass)(["person-card",{selected:c.value?.åå­—===e.åå­—}]),onClick:n=&gt;(e=&gt;{const n=c.value?.åå­—!==e.åå­—;c.value=c.value?.åå­—===e.åå­—?null:e,n&amp;&amp;c.value&amp;&amp;(k(),p.value="basic"),c.value?m.value=!0:m.value=!1})(e)},[(0,a.createElementVNode)("div",CE,[(0,a.createElementVNode)("span",zE,(0,a.toDisplayString)(e.åå­—.charAt(0)),1)]),(0,a.createElementVNode)("div",SE,[(0,a.createElementVNode)("div",BE,(0,a.toDisplayString)(e.åå­—),1),(0,a.createElementVNode)("div",DE,[(0,a.createElementVNode)("span",AE,(0,a.toDisplayString)(e.ä¸ç©å®¶å…³ç³»||"ç›¸è¯†"),1),(0,a.createElementVNode)("div",_E,[(0,a.createElementVNode)("button",{class:"attention-toggle",onClick:(0,a.withModifiers)(n=&gt;(async e=&gt;{const n=e.åå­—,t=l.activeSaveSlot;if(!t?.å­˜æ¡£æ•°æ®?.äººç‰©å…³ç³»)return void d.o.error("äººç‰©å…³ç³»æ•°æ®ä¸å­˜åœ¨");const a=Object.keys(t.å­˜æ¡£æ•°æ®.äººç‰©å…³ç³»).find(e=&gt;t.å­˜æ¡£æ•°æ®.äººç‰©å…³ç³»[e]?.åå­—===n);if(a)try{const e=!t.å­˜æ¡£æ•°æ®.äººç‰©å…³ç³»[a].å®æ—¶å…³æ³¨;t.å­˜æ¡£æ•°æ®.äººç‰©å…³ç³»[a].å®æ—¶å…³æ³¨=e,await l.syncToTavernAndSave({changedPaths:[`äººç‰©å…³ç³».${a}.å®æ—¶å…³æ³¨`]}),d.o.success(e?`å·²å…³æ³¨ ${n}`:`å·²å–æ¶ˆå…³æ³¨ ${n}`),c.value?.åå­—===n&amp;&amp;(c.value={...t.å­˜æ¡£æ•°æ®.äººç‰©å…³ç³»[a]})}catch(e){const n=e instanceof Error?e.message:"æœªçŸ¥é”™è¯¯";d.o.error(`æ“ä½œå¤±è´¥: ${n}`)}else d.o.error(`æ‰¾ä¸åˆ°åä¸º ${n} çš„äººç‰©`)})(e),["stop","prevent"]),title:$(e)?"å–æ¶ˆå…³æ³¨":"æ·»åŠ å…³æ³¨"},[$(e)?((0,a.openBlock)(),(0,a.createBlock)((0,a.unref)(vE),{key:0,size:14,class:"attention-icon active"})):((0,a.openBlock)(),(0,a.createBlock)((0,a.unref)(uE),{key:1,size:14,class:"attention-icon inactive"}))],8,$E),(0,a.createElementVNode)("button",{onClick:(0,a.withModifiers)(n=&gt;T(e),["stop"]),class:"delete-btn-card",title:"åˆ é™¤äººç‰©"},[(0,a.createVNode)((0,a.unref)(Gn.A),{size:14})],8,IE)])]),"æœªçŸ¥"!==E(e)?((0,a.openBlock)(),(0,a.createElementBlock)("div",TE,[z[10]||(z[10]=(0,a.createElementVNode)("span",{class:"realm-label"},"å¢ƒç•Œ:",-1)),(0,a.createElementVNode)("span",jE,(0,a.toDisplayString)(E(e)),1)])):(0,a.createCommentVNode)("v-if",!0),(0,a.createElementVNode)("div",ME,[(0,a.createElementVNode)("div",qE,[(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["intimacy-fill",D(e.å¥½æ„Ÿåº¦)]),style:(0,a.normalizeStyle)({width:Math.max(5,Math.abs(e.å¥½æ„Ÿåº¦||0))+"%"})},null,6)]),(0,a.createElementVNode)("span",OE,(0,a.toDisplayString)(e.å¥½æ„Ÿåº¦||0),1)])]),(0,a.createVNode)((0,a.unref)(rc),{size:16,class:"arrow-icon"})],10,VE))),128))]))])]),(0,a.createCommentVNode)(" å³ä¾§ï¼šäººç‰©è¯¦æƒ… "),(0,a.createElementVNode)("div",PE,[c.value?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[(0,a.createCommentVNode)(" è¯¦æƒ…å¤´éƒ¨ "),(0,a.createElementVNode)("div",FE,[(0,a.createElementVNode)("button",{onClick:z[1]||(z[1]=e=&gt;m.value=!1),class:"back-to-list-btn"},[(0,a.createVNode)((0,a.unref)(ud),{size:20})]),(0,a.createElementVNode)("div",LE,[(0,a.createElementVNode)("span",YE,(0,a.toDisplayString)(c.value.åå­—.charAt(0)),1)]),(0,a.createElementVNode)("div",RE,[(0,a.createElementVNode)("div",UE,[(0,a.createElementVNode)("h3",GE,(0,a.toDisplayString)(c.value.åå­—),1),c.value?((0,a.openBlock)(),(0,a.createElementBlock)("button",{key:0,onClick:z[2]||(z[2]=e=&gt;T(c.value)),class:"delete-npc-btn",title:"åˆ é™¤æ­¤äººç‰©"},[(0,a.createVNode)((0,a.unref)(Gn.A),{size:16})])):(0,a.createCommentVNode)("v-if",!0)]),(0,a.createElementVNode)("div",WE,[(0,a.createElementVNode)("span",JE,(0,a.toDisplayString)(c.value.ä¸ç©å®¶å…³ç³»||"ç›¸è¯†"),1),(0,a.createElementVNode)("span",{class:(0,a.normalizeClass)(["intimacy-badge",D(c.value.å¥½æ„Ÿåº¦)])}," å¥½æ„Ÿ "+(0,a.toDisplayString)(c.value.å¥½æ„Ÿåº¦||0),3),(0,a.createElementVNode)("span",HE,(0,a.toDisplayString)(c.value.ç§æ—||"äººæ—"),1),c.value.åŠ¿åŠ›å½’å±?((0,a.openBlock)(),(0,a.createElementBlock)("span",QE,(0,a.toDisplayString)(c.value.åŠ¿åŠ›å½’å±),1)):(0,a.createCommentVNode)("v-if",!0)])])]),(0,a.createCommentVNode)(" è¯¦æƒ…ä¸»ä½“ "),(0,a.createElementVNode)("div",KE,[(0,a.createCommentVNode)(" é€‰é¡¹å¡å¯¼èˆª "),(0,a.createElementVNode)("div",XE,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(v.value,e=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("button",{key:e.id,class:(0,a.normalizeClass)(["tab-btn",{active:p.value===e.id}]),onClick:n=&gt;p.value=e.id},(0,a.toDisplayString)(e.icon)+" "+(0,a.toDisplayString)(e.label),11,ZE))),128))]),(0,a.createCommentVNode)(" é€‰é¡¹å¡å†…å®¹ "),(0,a.createElementVNode)("div",eV,[(0,a.createCommentVNode)(" Tab 1: åŸºæœ¬ä¿¡æ¯ "),(0,a.withDirectives)((0,a.createElementVNode)("div",nV,[(0,a.createCommentVNode)(" åŸºç¡€æ¡£æ¡ˆ "),(0,a.createElementVNode)("div",tV,[z[17]||(z[17]=(0,a.createElementVNode)("h5",{class:"section-title"},"åŸºç¡€æ¡£æ¡ˆ",-1)),(0,a.createElementVNode)("div",aV,[(0,a.createElementVNode)("div",oV,[z[11]||(z[11]=(0,a.createElementVNode)("span",{class:"info-label"},"å¢ƒç•Œ",-1)),(0,a.createElementVNode)("span",rV,(0,a.toDisplayString)(E(c.value)),1)]),(0,a.createElementVNode)("div",lV,[z[12]||(z[12]=(0,a.createElementVNode)("span",{class:"info-label"},"æ€§åˆ«",-1)),(0,a.createElementVNode)("span",iV,(0,a.toDisplayString)(c.value.æ€§åˆ«||"æœªçŸ¥"),1)]),(0,a.createElementVNode)("div",cV,[z[13]||(z[13]=(0,a.createElementVNode)("span",{class:"info-label"},"å¹´é¾„",-1)),(0,a.createElementVNode)("span",sV,(0,a.toDisplayString)(c.value.å¹´é¾„?`${c.value.å¹´é¾„}å²`:"æœªçŸ¥"),1)]),(0,a.createElementVNode)("div",dV,[z[14]||(z[14]=(0,a.createElementVNode)("span",{class:"info-label"},"çµæ ¹",-1)),(0,a.createElementVNode)("span",mV,(0,a.toDisplayString)((j=c.value,C(j.çµæ ¹))),1)]),c.value.å½“å‰ä½ç½®?((0,a.openBlock)(),(0,a.createElementBlock)("div",pV,[z[15]||(z[15]=(0,a.createElementVNode)("span",{class:"info-label"},"ä½ç½®",-1)),(0,a.createElementVNode)("span",vV,(0,a.toDisplayString)(c.value.å½“å‰ä½ç½®.æè¿°),1)])):(0,a.createCommentVNode)("v-if",!0),c.value.å‡ºç”Ÿ?((0,a.openBlock)(),(0,a.createElementBlock)("div",uV,[z[16]||(z[16]=(0,a.createElementVNode)("span",{class:"info-label"},"å‡ºç”Ÿ",-1)),(0,a.createElementVNode)("span",gV,(0,a.toDisplayString)((S=c.value.å‡ºç”Ÿ,S?"string"==typeof S?S:"object"==typeof S&amp;&amp;(S.æè¿°||S.name)||"æœªçŸ¥":"æœªçŸ¥")),1)])):(0,a.createCommentVNode)("v-if",!0)])]),(0,a.createCommentVNode)(" å¤–è²Œä¸æ€§æ ¼ "),c.value.å¤–è²Œæè¿°||c.value.æ€§æ ¼ç‰¹å¾?.length?((0,a.openBlock)(),(0,a.createElementBlock)("div",fV,[z[18]||(z[18]=(0,a.createElementVNode)("h5",{class:"section-title"},"å¤–è²Œä¸æ€§æ ¼",-1)),c.value.å¤–è²Œæè¿°?((0,a.openBlock)(),(0,a.createElementBlock)("div",bV,[(0,a.createElementVNode)("p",hV,(0,a.toDisplayString)(c.value.å¤–è²Œæè¿°),1)])):(0,a.createCommentVNode)("v-if",!0),c.value.æ€§æ ¼ç‰¹å¾?.length?((0,a.openBlock)(),(0,a.createElementBlock)("div",yV,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(c.value.æ€§æ ¼ç‰¹å¾,e=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("span",{key:e,class:"talent-tag"},(0,a.toDisplayString)(e),1))),128))])):(0,a.createCommentVNode)("v-if",!0)])):(0,a.createCommentVNode)("v-if",!0),(0,a.createCommentVNode)(" å¤©èµ‹ä¸å…­å¸ "),c.value.å¤©èµ‹?.length||c.value.å…ˆå¤©å…­å¸?((0,a.openBlock)(),(0,a.createElementBlock)("div",xV,[z[27]||(z[27]=(0,a.createElementVNode)("h5",{class:"section-title"},"å¤©èµ‹ä¸å…­å¸",-1)),c.value.å¤©èµ‹?.length?((0,a.openBlock)(),(0,a.createElementBlock)("div",kV,[z[19]||(z[19]=(0,a.createElementVNode)("h6",{class:"subsection-title"},"å¤©èµ‹èƒ½åŠ›",-1)),(0,a.createElementVNode)("div",wV,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(c.value.å¤©èµ‹,e=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("span",{key:e.åç§°,class:"talent-tag",title:e.æè¿°},(0,a.toDisplayString)(e.åç§°),9,NV))),128))])])):(0,a.createCommentVNode)("v-if",!0),c.value.å…ˆå¤©å…­å¸?((0,a.openBlock)(),(0,a.createElementBlock)("div",EV,[z[26]||(z[26]=(0,a.createElementVNode)("h6",{class:"subsection-title"},"å…ˆå¤©å…­å¸",-1)),(0,a.createElementVNode)("div",VV,[(0,a.createElementVNode)("div",CV,[z[20]||(z[20]=(0,a.createElementVNode)("span",{class:"attr-label"},"æ ¹éª¨",-1)),(0,a.createElementVNode)("span",zV,(0,a.toDisplayString)(c.value.å…ˆå¤©å…­å¸.æ ¹éª¨||0),1)]),(0,a.createElementVNode)("div",SV,[z[21]||(z[21]=(0,a.createElementVNode)("span",{class:"attr-label"},"çµæ€§",-1)),(0,a.createElementVNode)("span",BV,(0,a.toDisplayString)(c.value.å…ˆå¤©å…­å¸.çµæ€§||0),1)]),(0,a.createElementVNode)("div",DV,[z[22]||(z[22]=(0,a.createElementVNode)("span",{class:"attr-label"},"æ‚Ÿæ€§",-1)),(0,a.createElementVNode)("span",AV,(0,a.toDisplayString)(c.value.å…ˆå¤©å…­å¸.æ‚Ÿæ€§||0),1)]),(0,a.createElementVNode)("div",_V,[z[23]||(z[23]=(0,a.createElementVNode)("span",{class:"attr-label"},"æ°”è¿",-1)),(0,a.createElementVNode)("span",$V,(0,a.toDisplayString)(c.value.å…ˆå¤©å…­å¸.æ°”è¿||0),1)]),(0,a.createElementVNode)("div",IV,[z[24]||(z[24]=(0,a.createElementVNode)("span",{class:"attr-label"},"é­…åŠ›",-1)),(0,a.createElementVNode)("span",TV,(0,a.toDisplayString)(c.value.å…ˆå¤©å…­å¸.é­…åŠ›||0),1)]),(0,a.createElementVNode)("div",jV,[z[25]||(z[25]=(0,a.createElementVNode)("span",{class:"attr-label"},"å¿ƒæ€§",-1)),(0,a.createElementVNode)("span",MV,(0,a.toDisplayString)(c.value.å…ˆå¤©å…­å¸.å¿ƒæ€§||0),1)])])])):(0,a.createCommentVNode)("v-if",!0)])):(0,a.createCommentVNode)("v-if",!0),(0,a.createCommentVNode)(" æœ€è¿‘è®°å¿† "),V(c.value).length&gt;0?((0,a.openBlock)(),(0,a.createElementBlock)("div",qV,[z[28]||(z[28]=(0,a.createElementVNode)("h5",{class:"section-title"},"ğŸ“ æœ€è¿‘è®°å¿†",-1)),(0,a.createElementVNode)("div",OV,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(V(c.value),(e,n)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:n,class:"npc-memory-item"},[(0,a.createElementVNode)("div",PV,(0,a.toDisplayString)(e),1)]))),128))])])):(0,a.createCommentVNode)("v-if",!0),(0,a.createCommentVNode)(" äººæ ¼åº•çº¿ï¼ˆæ‰€æœ‰NPCéƒ½æœ‰ï¼‰"),(0,a.createElementVNode)("div",FV,[z[29]||(z[29]=(0,a.createElementVNode)("h5",{class:"section-title"},"âš ï¸ äººæ ¼åº•çº¿",-1)),(0,a.createElementVNode)("div",LV,[c.value.äººæ ¼åº•çº¿?.length?((0,a.openBlock)(),(0,a.createElementBlock)("div",YV,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(c.value.äººæ ¼åº•çº¿,(e,n)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("span",{key:n,class:"bottomline-tag"},(0,a.toDisplayString)(e),1))),128))])):((0,a.openBlock)(),(0,a.createElementBlock)("div",RV,"æœªè®°å½•äººæ ¼åº•çº¿"))]),z[30]||(z[30]=(0,a.createElementVNode)("div",{class:"bottomline-warning"},[(0,a.createElementVNode)("span",{class:"warning-icon"},"âš¡"),(0,a.createElementVNode)("span",{class:"warning-text"},"è§¦çŠ¯äººæ ¼åº•çº¿å°†å¯¼è‡´å¥½æ„Ÿåº¦æ–­å´–å¼ä¸‹è·Œï¼ˆ-30 ~ -60ï¼‰ï¼Œå…³ç³»ç ´è£‚ä¸”æéš¾ä¿®å¤")],-1))])],512),[[a.vShow,"basic"===p.value]]),(0,a.createCommentVNode)(" Tab 2: å®æ—¶çŠ¶æ€ "),(0,a.withDirectives)((0,a.createElementVNode)("div",UV,[(0,a.createElementVNode)("div",GV,[z[35]||(z[35]=(0,a.createElementVNode)("h5",{class:"section-title"},"ğŸ’­ å½“å‰çŠ¶æ€ï¼ˆå®æ—¶ï¼‰",-1)),(0,a.createElementVNode)("div",WV,[(0,a.createElementVNode)("div",JV,[z[32]||(z[32]=(0,a.createElementVNode)("span",{class:"status-icon"},"ğŸ˜¶",-1)),(0,a.createElementVNode)("div",HV,[z[31]||(z[31]=(0,a.createElementVNode)("div",{class:"status-label"},"å¤–è²ŒçŠ¶æ€",-1)),(0,a.createElementVNode)("div",QV,(0,a.toDisplayString)(c.value.å½“å‰å¤–è²ŒçŠ¶æ€||"ç¥æ€è‡ªç„¶ï¼Œè¡£è¡«æ•´æ´"),1)])]),(0,a.createElementVNode)("div",KV,[z[34]||(z[34]=(0,a.createElementVNode)("span",{class:"status-icon"},"ğŸ’­",-1)),(0,a.createElementVNode)("div",XV,[z[33]||(z[33]=(0,a.createElementVNode)("div",{class:"status-label"},"å†…å¿ƒæƒ³æ³•",-1)),(0,a.createElementVNode)("div",ZV,(0,a.toDisplayString)(c.value.å½“å‰å†…å¿ƒæƒ³æ³•||"å¿ƒå¦‚æ­¢æ°´ï¼Œå¹³é™æ— æ³¢"),1)])])])])],512),[[a.vShow,"status"===p.value]]),(0,a.createCommentVNode)(" Tab 3: ç§å¯†èµ„æ–™ (NSFW) "),c.value.ç§å¯†ä¿¡æ¯?(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createElementBlock)("div",eC,[(0,a.createElementVNode)("div",nC,[z[56]||(z[56]=(0,a.createElementVNode)("h5",{class:"section-title"},"ğŸ” ç§å¯†ä¿¡æ¯",-1)),(0,a.createCommentVNode)(" æ€§æ¬²ä¸çŠ¶æ€ "),(0,a.createElementVNode)("div",tC,[z[38]||(z[38]=(0,a.createElementVNode)("h6",{class:"subsection-title"},"çŠ¶æ€ä¸æ¬²æœ›",-1)),(0,a.createElementVNode)("div",aC,[(0,a.createElementVNode)("div",oC,[z[36]||(z[36]=(0,a.createElementVNode)("span",{class:"info-label"},"æ€§çŠ¶æ€",-1)),(0,a.createElementVNode)("span",{class:(0,a.normalizeClass)(["info-value status-badge","status-"+c.value.ç§å¯†ä¿¡æ¯.å½“å‰æ€§çŠ¶æ€])},(0,a.toDisplayString)(c.value.ç§å¯†ä¿¡æ¯.å½“å‰æ€§çŠ¶æ€),3)]),(0,a.createElementVNode)("div",rC,[z[37]||(z[37]=(0,a.createElementVNode)("span",{class:"info-label"},"æ€§æ¸´æœ›",-1)),(0,a.createElementVNode)("span",lC,(0,a.toDisplayString)(c.value.ç§å¯†ä¿¡æ¯.æ€§æ¸´æœ›ç¨‹åº¦||0)+"%",1)])]),(0,a.createElementVNode)("div",iC,[(0,a.createElementVNode)("div",cC,[(0,a.createElementVNode)("div",{class:"dev-bar-fill desire-fill",style:(0,a.normalizeStyle)({width:(c.value.ç§å¯†ä¿¡æ¯.æ€§æ¸´æœ›ç¨‹åº¦||0)+"%"})},null,4)])])]),(0,a.createCommentVNode)(" åŸºç¡€ä¿¡æ¯ "),(0,a.createElementVNode)("div",sC,[z[42]||(z[42]=(0,a.createElementVNode)("h6",{class:"subsection-title"},"åŸºç¡€ä¿¡æ¯",-1)),(0,a.createElementVNode)("div",dC,[(0,a.createElementVNode)("div",mC,[z[39]||(z[39]=(0,a.createElementVNode)("span",{class:"info-label"},"è´æ´",-1)),(0,a.createElementVNode)("span",pC,(0,a.toDisplayString)("å¥³"===c.value.æ€§åˆ«||"å…¶ä»–"===c.value.æ€§åˆ«?c.value.ç§å¯†ä¿¡æ¯.æ˜¯å¦ä¸ºå¤„å¥³?"âœ“ å¤„å¥³":"âœ— éå¤„":c.value.ç§å¯†ä¿¡æ¯.æ˜¯å¦ä¸ºå¤„ç”·?"âœ“ å¤„ç”·":"âœ— éå¤„"),1)]),(0,a.createElementVNode)("div",vC,[z[40]||(z[40]=(0,a.createElementVNode)("span",{class:"info-label"},"æ€§æ ¼å€¾å‘",-1)),(0,a.createElementVNode)("span",uC,(0,a.toDisplayString)(c.value.ç§å¯†ä¿¡æ¯.æ€§æ ¼å€¾å‘||"æœªçŸ¥"),1)]),(0,a.createElementVNode)("div",gC,[z[41]||(z[41]=(0,a.createElementVNode)("span",{class:"info-label"},"æ€§å–å‘",-1)),(0,a.createElementVNode)("span",fC,(0,a.toDisplayString)(c.value.ç§å¯†ä¿¡æ¯.æ€§å–å‘||"å¼‚æ€§æ‹"),1)])]),(0,a.createCommentVNode)(" æ€§ä¼´ä¾£åå• "),c.value.ç§å¯†ä¿¡æ¯.æ€§ä¼´ä¾£åå•?.length?((0,a.openBlock)(),(0,a.createElementBlock)("div",bC,[(0,a.createElementVNode)("div",hC,"æ€§ä¼´ä¾£åå• ("+(0,a.toDisplayString)(c.value.ç§å¯†ä¿¡æ¯.æ€§ä¼´ä¾£æ•°é‡||0)+"äºº)",1),(0,a.createElementVNode)("div",yC,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)([...new Set(c.value.ç§å¯†ä¿¡æ¯.æ€§ä¼´ä¾£åå•)],(e,n)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("span",{key:n,class:"partner-tag"},(0,a.toDisplayString)(e),1))),128))])])):(0,a.createCommentVNode)("v-if",!0)]),(0,a.createCommentVNode)(" æ€§ç»éªŒç»Ÿè®¡ "),(0,a.createElementVNode)("div",xC,[z[48]||(z[48]=(0,a.createElementVNode)("h6",{class:"subsection-title"},"æ€§ç»éªŒç»Ÿè®¡",-1)),(0,a.createElementVNode)("div",kC,[(0,a.createElementVNode)("div",wC,[z[44]||(z[44]=(0,a.createElementVNode)("div",{class:"exp-icon"},"ğŸ’•",-1)),(0,a.createElementVNode)("div",NC,[z[43]||(z[43]=(0,a.createElementVNode)("div",{class:"exp-label"},"æ€§äº¤æ€»æ¬¡æ•°",-1)),(0,a.createElementVNode)("div",EC,(0,a.toDisplayString)(c.value.ç§å¯†ä¿¡æ¯.æ€§äº¤æ€»æ¬¡æ•°||0)+"æ¬¡",1)])]),(0,a.createElementVNode)("div",VC,[z[46]||(z[46]=(0,a.createElementVNode)("div",{class:"exp-icon"},"ğŸ‘¥",-1)),(0,a.createElementVNode)("div",CC,[z[45]||(z[45]=(0,a.createElementVNode)("div",{class:"exp-label"},"æ€§ä¼´ä¾£æ•°é‡",-1)),(0,a.createElementVNode)("div",zC,(0,a.toDisplayString)(c.value.ç§å¯†ä¿¡æ¯.æ€§ä¼´ä¾£æ•°é‡||0)+"äºº",1)])])]),c.value.ç§å¯†ä¿¡æ¯.æœ€è¿‘ä¸€æ¬¡æ€§è¡Œä¸ºæ—¶é—´?((0,a.openBlock)(),(0,a.createElementBlock)("div",SC,[z[47]||(z[47]=(0,a.createElementVNode)("span",{class:"last-time-label"},"æœ€è¿‘ä¸€æ¬¡ï¼š",-1)),(0,a.createElementVNode)("span",BC,(0,a.toDisplayString)(c.value.ç§å¯†ä¿¡æ¯.æœ€è¿‘ä¸€æ¬¡æ€§è¡Œä¸ºæ—¶é—´),1)])):(0,a.createCommentVNode)("v-if",!0)]),(0,a.createCommentVNode)(" èº«ä½“éƒ¨ä½å¼€å‘ "),c.value.ç§å¯†ä¿¡æ¯.èº«ä½“éƒ¨ä½?.length?((0,a.openBlock)(),(0,a.createElementBlock)("div",DC,[z[51]||(z[51]=(0,a.createElementVNode)("h6",{class:"subsection-title"},"èº«ä½“éƒ¨ä½å¼€å‘",-1)),(0,a.createElementVNode)("div",AC,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(c.value.ç§å¯†ä¿¡æ¯.èº«ä½“éƒ¨ä½,e=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:e.éƒ¨ä½åç§°,class:"body-part-item"},[(0,a.createElementVNode)("div",_C,[(0,a.createElementVNode)("span",$C,(0,a.toDisplayString)(e.éƒ¨ä½åç§°),1),e.ç‰¹æ®Šæ ‡è®°?((0,a.openBlock)(),(0,a.createElementBlock)("span",IC,(0,a.toDisplayString)(e.ç‰¹æ®Šæ ‡è®°),1)):(0,a.createCommentVNode)("v-if",!0)]),e.æè¿°?((0,a.openBlock)(),(0,a.createElementBlock)("div",TC,(0,a.toDisplayString)(e.æè¿°),1)):(0,a.createCommentVNode)("v-if",!0),(0,a.createElementVNode)("div",jC,[(0,a.createElementVNode)("div",MC,[z[49]||(z[49]=(0,a.createElementVNode)("span",{class:"stat-label"},"æ•æ„Ÿåº¦",-1)),(0,a.createElementVNode)("div",qC,[(0,a.createElementVNode)("div",{class:"stat-bar-fill sensitivity",style:(0,a.normalizeStyle)({width:(e.æ•æ„Ÿåº¦||0)+"%"})},null,4)]),(0,a.createElementVNode)("span",OC,(0,a.toDisplayString)(e.æ•æ„Ÿåº¦||0)+"%",1)]),(0,a.createElementVNode)("div",PC,[z[50]||(z[50]=(0,a.createElementVNode)("span",{class:"stat-label"},"å¼€å‘åº¦",-1)),(0,a.createElementVNode)("div",FC,[(0,a.createElementVNode)("div",{class:"stat-bar-fill development",style:(0,a.normalizeStyle)({width:(e.å¼€å‘ç¨‹åº¦||0)+"%"})},null,4)]),(0,a.createElementVNode)("span",LC,(0,a.toDisplayString)(e.å¼€å‘ç¨‹åº¦||0)+"%",1)])])]))),128))])])):(0,a.createCommentVNode)("v-if",!0),(0,a.createCommentVNode)(" ä½“æ¶²çŠ¶æ€ "),c.value.ç§å¯†ä¿¡æ¯.ä½“æ¶²åˆ†æ³ŒçŠ¶æ€?((0,a.openBlock)(),(0,a.createElementBlock)("div",YC,[z[52]||(z[52]=(0,a.createElementVNode)("h6",{class:"subsection-title"},"ä½“æ¶²çŠ¶æ€",-1)),(0,a.createElementVNode)("div",RC,"ğŸ’§ "+(0,a.toDisplayString)(c.value.ç§å¯†ä¿¡æ¯.ä½“æ¶²åˆ†æ³ŒçŠ¶æ€),1)])):(0,a.createCommentVNode)("v-if",!0),(0,a.createCommentVNode)(" æ€§ç™–å¥½ä¸ä½“è´¨ "),c.value.ç§å¯†ä¿¡æ¯.æ€§ç™–å¥½?.length||c.value.ç§å¯†ä¿¡æ¯.ç‰¹æ®Šä½“è´¨?.length?((0,a.openBlock)(),(0,a.createElementBlock)("div",UC,[z[55]||(z[55]=(0,a.createElementVNode)("h6",{class:"subsection-title"},"ç™–å¥½ä¸ä½“è´¨",-1)),c.value.ç§å¯†ä¿¡æ¯.æ€§ç™–å¥½?.length?((0,a.openBlock)(),(0,a.createElementBlock)("div",GC,[z[53]||(z[53]=(0,a.createElementVNode)("div",{class:"mini-label"},"æ€§ç™–å¥½",-1)),(0,a.createElementVNode)("div",WC,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(c.value.ç§å¯†ä¿¡æ¯.æ€§ç™–å¥½,e=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("span",{key:e,class:"fetish-tag"},(0,a.toDisplayString)(e),1))),128))])])):(0,a.createCommentVNode)("v-if",!0),c.value.ç§å¯†ä¿¡æ¯.ç‰¹æ®Šä½“è´¨?.length?((0,a.openBlock)(),(0,a.createElementBlock)("div",JC,[z[54]||(z[54]=(0,a.createElementVNode)("div",{class:"mini-label"},"ç‰¹æ®Šä½“è´¨",-1)),(0,a.createElementVNode)("div",HC,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(c.value.ç§å¯†ä¿¡æ¯.ç‰¹æ®Šä½“è´¨,e=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("span",{key:e,class:"special-trait-tag"},(0,a.toDisplayString)(e),1))),128))])])):(0,a.createCommentVNode)("v-if",!0)])):(0,a.createCommentVNode)("v-if",!0)])],512)),[[a.vShow,"nsfw"===p.value]]):(0,a.createCommentVNode)("v-if",!0),(0,a.createCommentVNode)(" Tab 4: è®°å¿†æ¡£æ¡ˆ "),(0,a.withDirectives)((0,a.createElementVNode)("div",QC,[c.value.è®°å¿†?.length||c.value.è®°å¿†æ€»ç»“?.length?((0,a.openBlock)(),(0,a.createElementBlock)("div",KC,[(0,a.createElementVNode)("div",XC,[z[57]||(z[57]=(0,a.createElementVNode)("h5",{class:"section-title",style:{border:"none",padding:"0",margin:"0"}},"è®°å¿†",-1)),(0,a.createElementVNode)("div",ZC,[y.value&gt;1?((0,a.openBlock)(),(0,a.createElementBlock)("div",ez,(0,a.toDisplayString)(c.value.è®°å¿†?.length||0)+" æ¡",1)):(0,a.createCommentVNode)("v-if",!0),(c.value.è®°å¿†?.length||0)&gt;=3?((0,a.openBlock)(),(0,a.createElementBlock)("div",nz,[(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"number","onUpdate:modelValue":z[3]||(z[3]=e=&gt;g.value=e),min:3,max:c.value.è®°å¿†?.length||3,class:"summarize-input",placeholder:"æ¡æ•°",title:"ä»æœ€æ—§å¼€å§‹æ€»ç»“çš„è®°å¿†æ¡æ•°"},null,8,tz),[[a.vModelText,g.value,void 0,{number:!0}]]),(0,a.createElementVNode)("button",{class:"summarize-btn",onClick:I,disabled:u.value,title:"æ€»ç»“æœ€æ—§çš„è®°å¿†"},(0,a.toDisplayString)(u.value?"æ€»ç»“ä¸­...":"ğŸ“ æ€»ç»“"),9,az)])):(0,a.createCommentVNode)("v-if",!0)])]),c.value.è®°å¿†æ€»ç»“?.length?((0,a.openBlock)(),(0,a.createElementBlock)("div",oz,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(c.value.è®°å¿†æ€»ç»“,(e,n)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:n,class:"memory-summary-item"},[z[58]||(z[58]=(0,a.createElementVNode)("div",{class:"summary-icon"},"ğŸ“œ",-1)),(0,a.createElementVNode)("div",rz,(0,a.toDisplayString)(e),1)]))),128))])):(0,a.createCommentVNode)("v-if",!0),c.value.è®°å¿†?.length?((0,a.openBlock)(),(0,a.createElementBlock)("div",lz,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(h.value,(e,o)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:o,class:"memory-item"},[(0,a.createElementVNode)("div",iz,[(0,a.createElementVNode)("div",cz,(0,a.toDisplayString)(w(e)),1),(0,a.createElementVNode)("div",sz,(0,a.toDisplayString)(N(e)),1)]),(0,a.createElementVNode)("div",dz,[(0,a.createElementVNode)("button",{class:"memory-btn edit",onClick:e=&gt;(async e=&gt;{if(!c.value)return;const a=c.value.åå­—,o=A(a);if(!o)return;if(!n.value?.äººç‰©å…³ç³»?.[o]?.è®°å¿†)return;const r=n.value.äººç‰©å…³ç³»[o].è®°å¿†[e];let l="",i="";"string"==typeof r?(i=r,l="æœªçŸ¥æ—¶é—´"):r&amp;&amp;"object"==typeof r&amp;&amp;(l=r.æ—¶é—´||"æœªçŸ¥æ—¶é—´",i=r.äº‹ä»¶||"");const s=window.prompt("ç¼–è¾‘è®°å¿†æ—¶é—´",l);if(null===s)return;const d=window.prompt("ç¼–è¾‘è®°å¿†äº‹ä»¶",i);if(null===d)return;n.value.äººç‰©å…³ç³»[o].è®°å¿†[e]={æ—¶é—´:s.trim(),äº‹ä»¶:d.trim()},c.value={...n.value.äººç‰©å…³ç³»[o]};const{useCharacterStore:m}=await Promise.resolve().then(t.bind(t,948)),p=m();await p.saveCurrentGame()})((b.value-1)*f.value+o)},"ç¼–è¾‘",8,mz),(0,a.createElementVNode)("button",{class:"memory-btn delete",onClick:e=&gt;(async e=&gt;{c.value&amp;&amp;r.showRetryDialog({title:"åˆ é™¤è®°å¿†",message:"ç¡®å®šè¦åˆ é™¤è¿™æ¡è®°å¿†å—ï¼Ÿ",confirmText:"åˆ é™¤",cancelText:"å–æ¶ˆ",onConfirm:async()=&gt;{const a=c.value.åå­—,o=A(a);if(!o)return;if(!n.value?.äººç‰©å…³ç³»?.[o]?.è®°å¿†)return;n.value.äººç‰©å…³ç³»[o].è®°å¿†.splice(e,1),c.value={...n.value.äººç‰©å…³ç³»[o]};const{useCharacterStore:r}=await Promise.resolve().then(t.bind(t,948)),l=r();await l.syncToTavernAndSave({fullSync:!0})},onCancel:()=&gt;{}})})((b.value-1)*f.value+o)},"åˆ é™¤",8,pz)])]))),128))])):(0,a.createCommentVNode)("v-if",!0),y.value&gt;1?((0,a.openBlock)(),(0,a.createElementBlock)("div",vz,[(0,a.createElementVNode)("button",{class:"pagination-btn",disabled:b.value&lt;=1,onClick:z[4]||(z[4]=e=&gt;x(b.value-1))},"ä¸Šä¸€é¡µ",8,uz),(0,a.createElementVNode)("div",gz,(0,a.toDisplayString)(b.value)+" / "+(0,a.toDisplayString)(y.value),1),(0,a.createElementVNode)("button",{class:"pagination-btn",disabled:b.value&gt;=y.value,onClick:z[5]||(z[5]=e=&gt;x(b.value+1))},"ä¸‹ä¸€é¡µ",8,fz)])):(0,a.createCommentVNode)("v-if",!0),c.value.è®°å¿†?.length||c.value.è®°å¿†æ€»ç»“?.length?(0,a.createCommentVNode)("v-if",!0):((0,a.openBlock)(),(0,a.createElementBlock)("div",bz,"æ­¤äººæš‚æ— è®°å¿†"))])):(0,a.createCommentVNode)("v-if",!0),(0,a.createCommentVNode)(" åŸå§‹æ•°æ® "),(0,a.createElementVNode)("div",hz,[z[59]||(z[59]=(0,a.createElementVNode)("h5",{class:"section-title"},"åŸå§‹æ•°æ® (JSON)",-1)),(0,a.createElementVNode)("div",yz,[(0,a.createElementVNode)("pre",null,[(0,a.createElementVNode)("code",null,(0,a.toDisplayString)(JSON.stringify(c.value,null,2)),1)])])])],512),[[a.vShow,"memory"===p.value]]),(0,a.createCommentVNode)(" End of Tab 4: è®°å¿†æ¡£æ¡ˆ "),(0,a.createCommentVNode)(" Tab 5: èƒŒåŒ… "),(0,a.withDirectives)((0,a.createElementVNode)("div",xz,[(0,a.createElementVNode)("div",kz,[z[66]||(z[66]=(0,a.createElementVNode)("h5",{class:"section-title"},"èƒŒåŒ…",-1)),c.value.èƒŒåŒ…?.çµçŸ³?((0,a.openBlock)(),(0,a.createElementBlock)("div",wz,[(0,a.createElementVNode)("div",Nz,[z[60]||(z[60]=(0,a.createElementVNode)("span",null,"ä¸‹å“çµçŸ³",-1)),(0,a.createElementVNode)("span",null,(0,a.toDisplayString)(c.value.èƒŒåŒ….çµçŸ³.ä¸‹å“||0),1)]),(0,a.createElementVNode)("div",Ez,[z[61]||(z[61]=(0,a.createElementVNode)("span",null,"ä¸­å“çµçŸ³",-1)),(0,a.createElementVNode)("span",null,(0,a.toDisplayString)(c.value.èƒŒåŒ….çµçŸ³.ä¸­å“||0),1)]),(0,a.createElementVNode)("div",Vz,[z[62]||(z[62]=(0,a.createElementVNode)("span",null,"ä¸Šå“çµçŸ³",-1)),(0,a.createElementVNode)("span",null,(0,a.toDisplayString)(c.value.èƒŒåŒ….çµçŸ³.ä¸Šå“||0),1)]),(0,a.createElementVNode)("div",Cz,[z[63]||(z[63]=(0,a.createElementVNode)("span",null,"æå“çµçŸ³",-1)),(0,a.createElementVNode)("span",null,(0,a.toDisplayString)(c.value.èƒŒåŒ….çµçŸ³.æå“||0),1)])])):(0,a.createCommentVNode)("v-if",!0),(0,a.createElementVNode)("div",zz,[_(c.value)?((0,a.openBlock)(),(0,a.createElementBlock)("div",Sz,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(c.value.èƒŒåŒ….ç‰©å“,(e,n)=&gt;{return(0,a.openBlock)(),(0,a.createElementBlock)("div",{key:n,class:(0,a.normalizeClass)(["npc-item-card",(r=e.å“è´¨?.quality,r?`quality-${r.toLowerCase()}`:"quality-unknown")])},[(0,a.createElementVNode)("div",Bz,[(0,a.createElementVNode)("span",Dz,(0,a.toDisplayString)(e.åç§°||n),1),(0,a.createElementVNode)("span",Az,(0,a.toDisplayString)(e.ç±»å‹||"å…¶ä»–"),1)]),e.å“è´¨?((0,a.openBlock)(),(0,a.createElementBlock)("div",_z,[(0,a.createElementVNode)("span",$z,(0,a.toDisplayString)(e.å“è´¨?.quality||"æœªçŸ¥")+(0,a.toDisplayString)(e.å“è´¨?.grade?(t=e.å“è´¨.grade,null==t?"":0===t?"æ®‹ç¼º":t&gt;=1&amp;&amp;t&lt;=3?"ä¸‹å“":t&gt;=4&amp;&amp;t&lt;=6?"ä¸­å“":t&gt;=7&amp;&amp;t&lt;=9?"ä¸Šå“":10===t?"æå“":""):""),1)])):(0,a.createCommentVNode)("v-if",!0),e.æ•°é‡&gt;1?((0,a.openBlock)(),(0,a.createElementBlock)("div",Iz,[(0,a.createElementVNode)("span",null,"x"+(0,a.toDisplayString)(e.æ•°é‡),1)])):(0,a.createCommentVNode)("v-if",!0),e.æè¿°?((0,a.openBlock)(),(0,a.createElementBlock)("div",Tz,[(0,a.createElementVNode)("p",null,(0,a.toDisplayString)(e.æè¿°),1)])):(0,a.createCommentVNode)("v-if",!0),(0,a.createElementVNode)("div",jz,[(0,a.createElementVNode)("button",{class:"trade-btn",onClick:n=&gt;((e,n)=&gt;{const t=`å°è¯•ä¸ ${e.åå­—} äº¤æ˜“ ${n.åç§°}`;o.addAction({type:"npc_trade",itemName:n.åç§°,itemType:"NPCäº¤æ˜“",description:t,npcName:e.åå­—,itemId:n.ç‰©å“ID||n.åç§°,tradeType:"trade"}),d.o.success(`å·²å°†ä¸ ${e.åå­—} çš„äº¤æ˜“è¯·æ±‚åŠ å…¥åŠ¨ä½œé˜Ÿåˆ—`)})(c.value,e),title:"å°è¯•äº¤æ˜“æ­¤ç‰©å“"},[(0,a.createVNode)((0,a.unref)(gE),{size:12}),z[64]||(z[64]=(0,a.createTextVNode)("äº¤æ˜“",-1))],8,Mz),(0,a.createElementVNode)("button",{class:"request-btn",onClick:n=&gt;((e,n)=&gt;{const t=`å‘ ${e.åå­—} ç´¢è¦ ${n.åç§°}`;o.addAction({type:"npc_request",itemName:n.åç§°,itemType:"NPCç´¢è¦",description:t,npcName:e.åå­—,itemId:n.ç‰©å“ID||n.åç§°,tradeType:"request"}),d.o.success(`å·²å°†å‘ ${e.åå­—} ç´¢è¦ç‰©å“çš„è¯·æ±‚åŠ å…¥åŠ¨ä½œé˜Ÿåˆ—`)})(c.value,e),title:"è¯·æ±‚è·å¾—æ­¤ç‰©å“"},"ğŸ™ ç´¢è¦",8,qz),(0,a.createElementVNode)("button",{class:"steal-btn",onClick:n=&gt;((e,n)=&gt;{const t=`å°è¯•ä» ${e.åå­—} èº«ä¸Šå·å– ${n.åç§°}`;o.addAction({type:"npc_steal",itemName:n.åç§°,itemType:"NPCå·çªƒ",description:t,npcName:e.åå­—,itemId:n.ç‰©å“ID||n.åç§°,tradeType:"steal"}),d.o.success(`å·²å°†å·çªƒ ${e.åå­—} ç‰©å“çš„è®¡åˆ’åŠ å…¥åŠ¨ä½œé˜Ÿåˆ—`)})(c.value,e),title:"å°è¯•å·å–æ­¤ç‰©å“"},"ğŸ¥· å·çªƒ",8,Oz)])],2);var t,r}),128))])):((0,a.openBlock)(),(0,a.createElementBlock)("div",Pz,[(0,a.createVNode)((0,a.unref)(Ei),{size:24,class:"empty-icon"}),z[65]||(z[65]=(0,a.createElementVNode)("p",null,"æ­¤äººèº«ä¸Šæ²¡æœ‰ç‰©å“",-1))]))])])],512),[[a.vShow,"inventory"===p.value]]),(0,a.createCommentVNode)(" End of Tab 5: èƒŒåŒ… ")]),(0,a.createCommentVNode)(" End of tab-content ")]),(0,a.createCommentVNode)(" End of detail-body ")],64)):((0,a.openBlock)(),(0,a.createElementBlock)("div",Fz,[(0,a.createVNode)((0,a.unref)(qi),{size:64,class:"placeholder-icon"}),z[67]||(z[67]=(0,a.createElementVNode)("p",{class:"placeholder-text"},"é€‰æ‹©ä¸€ä¸ªäººç‰©æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯",-1)),z[68]||(z[68]=(0,a.createElementVNode)("p",{class:"placeholder-hint"},"åœ¨æ¸¸æˆä¸­ä¸äººç‰©äº’åŠ¨ä¼šå»ºç«‹å…³ç³»è®°å½•",-1))]))])],2)])]);var S,j}}});var Yz=t(9477),Rz={};Rz.styleTagTransform=A(),Rz.setAttributes=z(),Rz.insert=V().bind(null,"head"),Rz.domAPI=N(),Rz.insertStyleElement=B(),k()(Yz.A,Rz),Yz.A&amp;&amp;Yz.A.locals&amp;&amp;Yz.A.locals;const Uz=(0,j.A)(Lz,[["__scopeId","data-v-1a2c11e6"]]),Gz={class:"deep-cultivation-modal"},Wz={class:"modal-header"},Jz={class:"modal-content"},Hz={key:0,class:"technique-info-section"},Qz={class:"info-header"},Kz={class:"technique-details"},Xz={class:"technique-quality"},Zz={class:"progress-section"},eS={class:"progress-label"},nS={class:"progress-percent"},tS={class:"progress-bar-bg"},aS={key:0,class:"effects-section"},oS={class:"effects-list"},rS={key:0},lS={key:1},iS={class:"cultivation-days-section"},cS={class:"input-group"},sS={class:"preset-buttons"},dS=["onClick"],mS={class:"modal-footer"},pS=["disabled"],vS=(0,a.defineComponent)({__name:"DeepCultivationModal",props:{visible:{type:Boolean},technique:{},currentProgress:{default:0}},emits:["close","confirm"],setup(e,{emit:n}){const t=e,o=n,r=(0,a.ref)(7),l=[{label:"1å¤©",value:1},{label:"7å¤©",value:7},{label:"30å¤©",value:30},{label:"90å¤©",value:90},{label:"180å¤©",value:180},{label:"365å¤©",value:365}],i=(0,a.computed)(()=&gt;r.value&gt;=1&amp;&amp;r.value&lt;=3650),c=(0,a.computed)(()=&gt;`quality-${t.technique?.å“è´¨?.quality||"å‡¡"}`),s=()=&gt;{o("close")},d=()=&gt;{i.value&amp;&amp;o("confirm",r.value)};return(0,a.watch)(()=&gt;t.visible,e=&gt;{e||(r.value=7)}),(e,n)=&gt;e.visible?((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:0,class:"modal-overlay",onClick:(0,a.withModifiers)(s,["self"])},[(0,a.createElementVNode)("div",Gz,[(0,a.createElementVNode)("div",Wz,[n[1]||(n[1]=(0,a.createElementVNode)("h3",null,"æ·±åº¦ä¿®ç‚¼",-1)),(0,a.createElementVNode)("button",{class:"close-btn",onClick:s},[(0,a.createVNode)((0,a.unref)(Ne),{size:20})])]),(0,a.createElementVNode)("div",Jz,[(0,a.createCommentVNode)(" åŠŸæ³•ä¿¡æ¯ "),e.technique?((0,a.openBlock)(),(0,a.createElementBlock)("div",Hz,[(0,a.createElementVNode)("div",Qz,[(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["technique-icon",c.value])},"ğŸ“–",2),(0,a.createElementVNode)("div",Kz,[(0,a.createElementVNode)("h4",{class:(0,a.normalizeClass)(["technique-name",c.value])},(0,a.toDisplayString)(e.technique.åç§°),3),(0,a.createElementVNode)("div",Xz,(0,a.toDisplayString)(e.technique.å“è´¨?.quality||"å‡¡")+"å“ "+(0,a.toDisplayString)(e.technique.å“è´¨?.grade||0)+"é˜¶ ",1)])]),(0,a.createCommentVNode)(" å½“å‰ä¿®ç‚¼è¿›åº¦ "),(0,a.createElementVNode)("div",Zz,[(0,a.createElementVNode)("div",eS,[n[2]||(n[2]=(0,a.createElementVNode)("span",null,"å½“å‰ä¿®ç‚¼è¿›åº¦",-1)),(0,a.createElementVNode)("span",nS,(0,a.toDisplayString)(e.currentProgress)+"%",1)]),(0,a.createElementVNode)("div",tS,[(0,a.createElementVNode)("div",{class:"progress-bar-fill",style:(0,a.normalizeStyle)({width:e.currentProgress+"%"})},null,4)])]),(0,a.createCommentVNode)(" åŠŸæ³•æ•ˆæœ "),e.technique.åŠŸæ³•æ•ˆæœ?((0,a.openBlock)(),(0,a.createElementBlock)("div",aS,[n[6]||(n[6]=(0,a.createElementVNode)("h5",null,"åŠŸæ³•æ•ˆæœ",-1)),(0,a.createElementVNode)("ul",oS,[e.technique.åŠŸæ³•æ•ˆæœ.ä¿®ç‚¼é€Ÿåº¦åŠ æˆ?((0,a.openBlock)(),(0,a.createElementBlock)("li",rS,[n[3]||(n[3]=(0,a.createElementVNode)("span",{class:"effect-icon"},"ğŸš€",-1)),(0,a.createTextVNode)(" ä¿®ç‚¼é€Ÿåº¦: +"+(0,a.toDisplayString)((100*(e.technique.åŠŸæ³•æ•ˆæœ.ä¿®ç‚¼é€Ÿåº¦åŠ æˆ-1)).toFixed(0))+"% ",1)])):(0,a.createCommentVNode)("v-if",!0),e.technique.åŠŸæ³•æ•ˆæœ.å±æ€§åŠ æˆ?((0,a.openBlock)(),(0,a.createElementBlock)("li",lS,[n[4]||(n[4]=(0,a.createElementVNode)("span",{class:"effect-icon"},"ğŸ’ª",-1)),n[5]||(n[5]=(0,a.createTextVNode)(" å±æ€§åŠ æˆ: ",-1)),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.technique.åŠŸæ³•æ•ˆæœ.å±æ€§åŠ æˆ,(e,n)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("span",{key:n,class:"attr-bonus"},(0,a.toDisplayString)(n)+"+"+(0,a.toDisplayString)(e),1))),128))])):(0,a.createCommentVNode)("v-if",!0)])])):(0,a.createCommentVNode)("v-if",!0)])):(0,a.createCommentVNode)("v-if",!0),(0,a.createCommentVNode)(" ä¿®ç‚¼å¤©æ•°é€‰æ‹© "),(0,a.createElementVNode)("div",iS,[n[8]||(n[8]=(0,a.createElementVNode)("label",{class:"section-label"},"é€‰æ‹©ä¿®ç‚¼å¤©æ•°",-1)),n[9]||(n[9]=(0,a.createElementVNode)("p",{class:"section-hint"},"AIå°†æ ¹æ®ä¿®ç‚¼å¤©æ•°ç”Ÿæˆè¯¦ç»†çš„ä¿®ç‚¼è¿‡ç¨‹å’Œç»“æœ",-1)),(0,a.createElementVNode)("div",cS,[(0,a.withDirectives)((0,a.createElementVNode)("input",{"onUpdate:modelValue":n[0]||(n[0]=e=&gt;r.value=e),type:"number",min:1,max:3650,step:1,class:"days-input",placeholder:"è¾“å…¥å¤©æ•°"},null,512),[[a.vModelText,r.value,void 0,{number:!0}]]),n[7]||(n[7]=(0,a.createElementVNode)("span",{class:"input-unit"},"å¤©",-1))]),(0,a.createCommentVNode)(" å¿«æ·é€‰æ‹© "),(0,a.createElementVNode)("div",sS,[((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(l,e=&gt;(0,a.createElementVNode)("button",{key:e.value,class:(0,a.normalizeClass)(["preset-btn",{active:r.value===e.value}]),onClick:n=&gt;r.value=e.value},(0,a.toDisplayString)(e.label),11,dS)),64))])])]),(0,a.createElementVNode)("div",mS,[(0,a.createElementVNode)("button",{class:"btn btn-cancel",onClick:s},"å–æ¶ˆ"),(0,a.createElementVNode)("button",{class:"btn btn-confirm",disabled:!i.value,onClick:d}," å¼€å§‹ä¿®ç‚¼ ",8,pS)])])])):(0,a.createCommentVNode)("v-if",!0)}});var uS=t(5885),gS={};gS.styleTagTransform=A(),gS.setAttributes=z(),gS.insert=V().bind(null,"head"),gS.domAPI=N(),gS.insertStyleElement=B(),k()(uS.A,gS),uS.A&amp;&amp;uS.A.locals&amp;&amp;uS.A.locals;const fS=(0,j.A)(vS,[["__scopeId","data-v-2e089ec8"]]),bS={class:"cultivation-panel game-panel"},hS={class:"panel-header"},yS={class:"header-actions"},xS=["disabled"],kS={class:"panel-content"},wS={key:0,class:"loading-state"},NS={key:1,class:"cultivation-sections"},ES={class:"detail-section cultivation-card"},VS={class:"detail-header"},CS={class:"cultivation-status"},zS={key:0,class:"empty-state"},SS={key:1,class:"cultivation-info"},BS={key:0,class:"technique-item"},DS={class:"technique-info"},AS={class:"technique-quality"},_S={class:"technique-progress"},$S={class:"progress-bar"},IS={class:"progress-text"},TS={key:1,class:"technique-details"},jS={class:"detail-block"},MS={class:"detail-block-content description-text"},qS={key:0,class:"detail-block"},OS={class:"effects-list"},PS={key:0},FS={key:1},LS={key:2,class:"skills-section"},YS={class:"skills-header"},RS={class:"skills-count"},US={class:"skills-list"},GS=["onClick"],WS={class:"skill-icon"},JS={class:"skill-info"},HS={class:"skill-header-info"},QS={class:"skill-name"},KS={class:"skill-type"},XS={key:0,class:"skill-unlock-requirement"},ZS={class:"skill-proficiency"},eB={class:"proficiency-bar"},nB={class:"proficiency-text"},tB=(0,a.defineComponent)({__name:"CultivationPanel",setup(e){const{saveData:n}=(0,Li.F)(),{basicInfo:o}=(0,Li.p)(),{characterData:r}=(0,Li.useUnifiedCharacterData)(),l=(0,tn.useCharacterStore)(),i=(0,a.ref)(!1),c=(0,a.computed)(()=&gt;!n.value&amp;&amp;!o.value),s=(0,a.computed)(()=&gt;v.value?.åŠŸæ³•æ•ˆæœ),m=(0,a.computed)(()=&gt;{const e=s.value?.å±æ€§åŠ æˆ;return e?Object.entries(e).map(([e,n])=&gt;({key:e,value:n})):[]}),p=(0,a.computed)(()=&gt;{if(!s.value)return!1;const e=s.value,n=!!e.ä¿®ç‚¼é€Ÿåº¦åŠ æˆ,t=m.value.length&gt;0,a=Array.isArray(e.ç‰¹æ®Šèƒ½åŠ›)&amp;&amp;e.ç‰¹æ®Šèƒ½åŠ›.length&gt;0;return n||t||a}),v=(0,a.computed)(()=&gt;{const e=r.value?.èƒŒåŒ…_ç‰©å“;if(!e)return null;const n=Object.values(e).find(e=&gt;"åŠŸæ³•"===e?.ç±»å‹&amp;&amp;!0===e?.å·²è£…å¤‡);return n?(console.log("[ä¿®ç‚¼é¢æ¿-è°ƒè¯•] å½“å‰ä¿®ç‚¼åŠŸæ³•æ•°æ®:",{åç§°:n.åç§°,å“è´¨å­—æ®µå­˜åœ¨:!!n.å“è´¨,å“è´¨å†…å®¹:n.å“è´¨,å®Œæ•´æ•°æ®:n}),n):null}),u=(0,a.computed)(()=&gt;{const e=v.value;if(!e)return[];const n=[],t=new Set;return e?.åŠŸæ³•æŠ€èƒ½&amp;&amp;(Array.isArray(e.åŠŸæ³•æŠ€èƒ½)?e.åŠŸæ³•æŠ€èƒ½:[]).forEach(a=&gt;{const o=a.æŠ€èƒ½åç§°;t.has(o)||f(o,e)&amp;&amp;(t.add(o),n.push({name:o,proficiency:g(o,"technique"),source:"åŠŸæ³•ä¼ æ‰¿",type:"åŠŸæ³•æŠ€èƒ½",description:a.æŠ€èƒ½æè¿°||"é€šè¿‡åŠŸæ³•ä¿®ç‚¼æŒæ¡çš„æŠ€èƒ½",unlocked:!0,unlockRequirement:a.è§£é”éœ€è¦ç†Ÿç»ƒåº¦}))}),n}),g=(e,n)=&gt;30+(e.split("").reduce((e,n)=&gt;e+n.charCodeAt(0),0)+n.length)%66,f=(e,n)=&gt;{if(!n.åŠŸæ³•æŠ€èƒ½)return!1;const t=(Array.isArray(n.åŠŸæ³•æŠ€èƒ½)?n.åŠŸæ³•æŠ€èƒ½:[]).find(n=&gt;n.æŠ€èƒ½åç§°===e);return!!t&amp;&amp;(n.ä¿®ç‚¼è¿›åº¦||0)&gt;=(t.è§£é”éœ€è¦ç†Ÿç»ƒåº¦||0)},b=(e,n="border")=&gt;e?`${n}-quality-${e.å“è´¨?.quality||"å‡¡"}`:"",h=e=&gt;e&gt;=90?"å®—å¸ˆ":e&gt;=75?"ç²¾é€š":e&gt;=50?"ç†Ÿç»ƒ":e&gt;=25?"å…¥é—¨":"åˆå­¦",y=async()=&gt;{d.o.info("æ•°æ®å·²é€šè¿‡ä¸­å¤®å­˜å‚¨è‡ªåŠ¨æ›´æ–°")},x=async()=&gt;{if(!v.value)return void d.o.error("å½“å‰æ²¡æœ‰æ­£åœ¨ä¿®ç‚¼çš„åŠŸæ³•");const e=v.value;bg.Yz.log("ä¿®ç‚¼é¢æ¿","è¯·æ±‚åœæ­¢ä¿®ç‚¼",e.åç§°);try{await l.unequipTechnique(e.ç‰©å“ID),d.o.success(`å·²åœæ­¢ä¿®ç‚¼ã€Š${e.åç§°}ã€‹`),bg.Yz.log("ä¿®ç‚¼é¢æ¿","åœæ­¢ä¿®ç‚¼æˆåŠŸ",e.åç§°)}catch(e){bg.Yz.error("ä¿®ç‚¼é¢æ¿","åœæ­¢ä¿®ç‚¼å¤±è´¥",e),d.o.error(`åœæ­¢ä¿®ç‚¼å¤±è´¥: ${e instanceof Error?e.message:"æœªçŸ¥é”™è¯¯"}`)}},k=()=&gt;{v.value?i.value=!0:d.o.error("å½“å‰æ²¡æœ‰æ­£åœ¨ä¿®ç‚¼çš„åŠŸæ³•")},w=async e=&gt;{if(i.value=!1,!v.value)return void d.o.error("å½“å‰æ²¡æœ‰æ­£åœ¨ä¿®ç‚¼çš„åŠŸæ³•");const n=v.value;try{const{useActionQueueStore:a}=await Promise.resolve().then(t.bind(t,3310));a().addAction({type:"cultivate",itemName:n.åç§°,itemType:"åŠŸæ³•",description:`å¯¹ã€Š${n.åç§°}ã€‹è¿›è¡Œ${e}å¤©çš„æ·±åº¦ä¿®ç‚¼`}),d.o.success(`å·²å¼€å§‹${e}å¤©çš„æ·±åº¦ä¿®ç‚¼`),bg.Yz.log("ä¿®ç‚¼é¢æ¿",`å·²æ·»åŠ ${e}å¤©æ·±åº¦ä¿®ç‚¼åˆ°åŠ¨ä½œé˜Ÿåˆ—:`,n.åç§°)}catch(e){bg.Yz.error("ä¿®ç‚¼é¢æ¿","æ·»åŠ æ·±åº¦ä¿®ç‚¼åŠ¨ä½œå¤±è´¥:",e),d.o.error("æ·»åŠ ä¿®ç‚¼åŠ¨ä½œå¤±è´¥")}};return(e,n)=&gt;{return(0,a.openBlock)(),(0,a.createElementBlock)("div",bS,[(0,a.createCommentVNode)(" å¤´éƒ¨ç»Ÿè®¡ "),(0,a.createElementVNode)("div",hS,[n[2]||(n[2]=(0,a.createStaticVNode)('<div class="header-left" data-v-13a846e5=""><div class="header-icon" data-v-13a846e5="">âš¡</div><div class="header-info" data-v-13a846e5=""><h3 class="panel-title" data-v-13a846e5="">ä¿®ç‚¼ç³»ç»Ÿ</h3><span class="panel-subtitle" data-v-13a846e5="">åŠŸæ³•ä¸å¤©èµ‹</span></div></div>',1)),(0,a.createElementVNode)("div",yS,[(0,a.createElementVNode)("button",{class:"action-btn",onClick:y,disabled:c.value},[(0,a.createVNode)((0,a.unref)(te),{size:16,class:(0,a.normalizeClass)({"animate-spin":c.value})},null,8,["class"]),n[1]||(n[1]=(0,a.createElementVNode)("span",{class:"btn-text"},"åˆ·æ–°",-1))],8,xS)])]),(0,a.createElementVNode)("div",kS,[c.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",wS,n[3]||(n[3]=[(0,a.createElementVNode)("div",{class:"loading-spinner"},"â³",-1),(0,a.createElementVNode)("div",{class:"loading-text"},"æ­£åœ¨è¯»å–ä¿®ç‚¼æ•°æ®...",-1)]))):((0,a.openBlock)(),(0,a.createElementBlock)("div",NS,[(0,a.createCommentVNode)(" ä¿®ç‚¼åŠŸæ³•å¡ç‰‡ "),(0,a.createElementVNode)("div",ES,[(0,a.createElementVNode)("div",VS,[n[4]||(n[4]=(0,a.createElementVNode)("div",{class:"header-icon"},"ğŸ“–",-1)),n[5]||(n[5]=(0,a.createElementVNode)("h4",{class:"detail-title"},"ä¿®ç‚¼åŠŸæ³•",-1)),(0,a.createElementVNode)("div",CS,(0,a.toDisplayString)(v.value?"ä¿®ç‚¼ä¸­":"æœªä¿®ç‚¼"),1)]),v.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",SS,[v.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",BS,[(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["technique-icon",b(v.value)])},"ğŸ“–",2),(0,a.createElementVNode)("div",DS,[(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["technique-name",b(v.value,"text")])},(0,a.toDisplayString)(v.value.åç§°),3),(0,a.createElementVNode)("div",AS,(0,a.toDisplayString)(v.value.å“è´¨?.quality||"å‡¡")+"é˜¶ "+(0,a.toDisplayString)((t=v.value.å“è´¨?.grade||0,0===t?"æ®‹ç¼º":t&gt;=1&amp;&amp;t&lt;=3?"ä¸‹å“":t&gt;=4&amp;&amp;t&lt;=6?"ä¸­å“":t&gt;=7&amp;&amp;t&lt;=9?"ä¸Šå“":10===t?"æå“":"æœªçŸ¥"))+"("+(0,a.toDisplayString)(v.value.å“è´¨?.grade||0)+") ",1),(0,a.createElementVNode)("div",_S,[(0,a.createElementVNode)("div",$S,[(0,a.createElementVNode)("div",{class:"progress-fill",style:(0,a.normalizeStyle)({width:Math.max(2,Math.min(100,Math.max(0,v.value.ä¿®ç‚¼è¿›åº¦||0)))+"%"})},null,4)]),(0,a.createElementVNode)("span",IS,(0,a.toDisplayString)(Math.min(100,Math.max(0,v.value.ä¿®ç‚¼è¿›åº¦||0)).toFixed(0))+"%",1)])]),(0,a.createElementVNode)("div",{class:"technique-actions"},[(0,a.createElementVNode)("button",{class:"action-btn cultivate-btn",onClick:k}," æ·±åº¦ä¿®ç‚¼ "),(0,a.createElementVNode)("button",{class:"action-btn stop-cultivation-btn",onClick:x}," åœæ­¢ä¿®ç‚¼ ")])])):(0,a.createCommentVNode)("v-if",!0),(0,a.createCommentVNode)(" åŠŸæ³•è¯¦æƒ… "),v.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",TS,[(0,a.createCommentVNode)(" åŠŸæ³•æè¿° "),(0,a.createElementVNode)("div",jS,[n[7]||(n[7]=(0,a.createElementVNode)("h5",{class:"detail-block-title"},"åŠŸæ³•æè¿°",-1)),(0,a.createElementVNode)("p",MS,(0,a.toDisplayString)(v.value.æè¿°||"æš‚æ— æè¿°"),1)]),(0,a.createCommentVNode)(" åŠŸæ³•æ•ˆæœ "),p.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",qS,[n[14]||(n[14]=(0,a.createElementVNode)("h5",{class:"detail-block-title"},"åŠŸæ³•æ•ˆæœ",-1)),(0,a.createElementVNode)("ul",OS,[s.value?.ä¿®ç‚¼é€Ÿåº¦åŠ æˆ?((0,a.openBlock)(),(0,a.createElementBlock)("li",PS,[n[8]||(n[8]=(0,a.createElementVNode)("span",{class:"effect-icon"},"ğŸš€",-1)),n[9]||(n[9]=(0,a.createElementVNode)("strong",null,"ä¿®ç‚¼é€Ÿåº¦:",-1)),(0,a.createTextVNode)(" +"+(0,a.toDisplayString)((100*(s.value?.ä¿®ç‚¼é€Ÿåº¦åŠ æˆ||1)-100).toFixed(0))+"% ",1)])):(0,a.createCommentVNode)("v-if",!0),m.value.length&gt;0?((0,a.openBlock)(),(0,a.createElementBlock)("li",FS,[n[10]||(n[10]=(0,a.createElementVNode)("span",{class:"effect-icon"},"ğŸ’ª",-1)),n[11]||(n[11]=(0,a.createElementVNode)("strong",null,"å±æ€§åŠ æˆ:",-1)),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(m.value,(e,n)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("span",{key:n,class:"attribute-bonus"},(0,a.toDisplayString)(e.key)+" +"+(0,a.toDisplayString)(e.value),1))),128))])):(0,a.createCommentVNode)("v-if",!0),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(s.value?.ç‰¹æ®Šèƒ½åŠ›||[],(e,t)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("li",{key:t},[n[12]||(n[12]=(0,a.createElementVNode)("span",{class:"effect-icon"},"âœ¨",-1)),n[13]||(n[13]=(0,a.createElementVNode)("strong",null,"ç‰¹æ®Šèƒ½åŠ›:",-1)),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e),1)]))),128))])])):(0,a.createCommentVNode)("v-if",!0)])):(0,a.createCommentVNode)("v-if",!0),(0,a.createCommentVNode)(" å·²å­¦æŠ€èƒ½åˆ—è¡¨ "),v.value&amp;&amp;u.value.length&gt;0?((0,a.openBlock)(),(0,a.createElementBlock)("div",LS,[(0,a.createElementVNode)("div",YS,[n[15]||(n[15]=(0,a.createElementVNode)("h5",{class:"skills-title"},"å·²æŒæ¡æŠ€èƒ½",-1)),(0,a.createElementVNode)("div",RS,"("+(0,a.toDisplayString)(u.value.length)+"ä¸ª)",1)]),(0,a.createElementVNode)("div",US,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(u.value,e=&gt;{return(0,a.openBlock)(),(0,a.createElementBlock)("div",{key:e.name,class:"skill-item",onClick:n=&gt;(e=&gt;{const n=h(e.proficiency),t=(e=&gt;{const n=e.proficiency;return n&gt;=90?"æŠ€èƒ½å¨åŠ›æå¤§æå‡ï¼Œæ¶ˆè€—é™ä½ï¼Œå¯è§¦å‘ç‰¹æ®Šæ•ˆæœ":n&gt;=75?"æŠ€èƒ½å¨åŠ›å¤§å¹…æå‡ï¼Œæ¶ˆè€—é€‚ä¸­ï¼Œå¶æœ‰ç²¾å¦™è¡¨ç°":n&gt;=50?"æŠ€èƒ½å¨åŠ›ä¸­ç­‰ï¼Œæ¶ˆè€—æ­£å¸¸ï¼Œè¡¨ç°ç¨³å®š":n&gt;=25?"æŠ€èƒ½å¨åŠ›è¾ƒå¼±ï¼Œæ¶ˆè€—è¾ƒé«˜ï¼Œå¶æœ‰å¤±è¯¯":"æŠ€èƒ½å¨åŠ›å¾®å¼±ï¼Œæ¶ˆè€—å¾ˆé«˜ï¼Œå®¹æ˜“å¤±è¯¯"})(e),a=`${e.name}\n\nç±»å‹ï¼š${e.type}\næ¥æºï¼š${e.source}\nç†Ÿç»ƒåº¦ï¼š${e.proficiency}% (${n})\n\næŠ€èƒ½æè¿°ï¼š\n${e.description||"æš‚æ— æè¿°"}\n\nä¿®ç‚¼æ•ˆæœï¼š\n${t}`;alert(a)})(e)},[(0,a.createElementVNode)("div",WS,(0,a.toDisplayString)((r=e.type,{ä¸»åŠ¨æŠ€èƒ½:"âš¡",è¢«åŠ¨æŠ€èƒ½:"ğŸ›¡ï¸",è¾…åŠ©æŠ€èƒ½:"âœ¨",æ”»å‡»æŠ€èƒ½:"âš”ï¸",é˜²å¾¡æŠ€èƒ½:"ğŸ›¡ï¸",æ²»ç–—æŠ€èƒ½:"ğŸ’š",è¾…åŠ©:"âœ¨",æ”»å‡»:"âš”ï¸",é˜²å¾¡:"ğŸ›¡ï¸",æ²»ç–—:"ğŸ’š"}[r]||"âš¡")),1),(0,a.createElementVNode)("div",JS,[(0,a.createElementVNode)("div",HS,[(0,a.createElementVNode)("div",QS,(0,a.toDisplayString)(e.name),1),(0,a.createElementVNode)("div",KS,(0,a.toDisplayString)(e.type),1)]),(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["skill-source-tag",(o=e.source,{ä¿®ç‚¼ä¹ å¾—:"source-direct",åŠŸæ³•ä¼ æ‰¿:"source-technique"}[o]||"source-default")])},(0,a.toDisplayString)(e.source),3),(0,a.createCommentVNode)(" æ˜¾ç¤ºè§£é”æ¡ä»¶ï¼ˆå¦‚æœæœ‰ï¼‰ "),e.unlockRequirement?((0,a.openBlock)(),(0,a.createElementBlock)("div",XS," è§£é”æ¡ä»¶ï¼šåŠŸæ³•ç†Ÿç»ƒåº¦ "+(0,a.toDisplayString)(e.unlockRequirement)+"% ",1)):(0,a.createCommentVNode)("v-if",!0),(0,a.createElementVNode)("div",ZS,[n[16]||(n[16]=(0,a.createElementVNode)("span",{class:"proficiency-label"},"å½“å‰è¿›åº¦ï¼š",-1)),(0,a.createElementVNode)("div",eB,[(0,a.createElementVNode)("div",{class:"proficiency-fill",style:(0,a.normalizeStyle)({width:Math.min(100,Math.max(0,v.value?.ä¿®ç‚¼è¿›åº¦||0))+"%"})},null,4)]),(0,a.createElementVNode)("span",nB,(0,a.toDisplayString)(Math.min(100,Math.max(0,v.value?.ä¿®ç‚¼è¿›åº¦||0)).toFixed(0))+"%",1)])]),(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["skill-level",(t=v.value?.ä¿®ç‚¼è¿›åº¦||0,t&gt;=90?"level-master":t&gt;=75?"level-expert":t&gt;=50?"level-proficient":t&gt;=25?"level-beginner":"level-novice")])},(0,a.toDisplayString)(h(v.value?.ä¿®ç‚¼è¿›åº¦||0)),3)],8,GS);var t,o,r}),128))])])):(0,a.createCommentVNode)("v-if",!0)])):((0,a.openBlock)(),(0,a.createElementBlock)("div",zS,n[6]||(n[6]=[(0,a.createElementVNode)("div",{class:"empty-icon"},"ğŸ“•",-1),(0,a.createElementVNode)("div",{class:"empty-text"},"å°šæœªä¿®ç‚¼åŠŸæ³•",-1),(0,a.createElementVNode)("div",{class:"empty-hint"},"å‰å¾€èƒŒåŒ…è£…å¤‡åŠŸæ³•å¼€å§‹ä¿®ç‚¼",-1)])))])]))]),(0,a.createCommentVNode)(" æ·±åº¦ä¿®ç‚¼å¼¹çª— "),(0,a.createVNode)(fS,{visible:i.value,technique:v.value,"current-progress":v.value?.ä¿®ç‚¼è¿›åº¦||0,onClose:n[0]||(n[0]=e=&gt;i.value=!1),onConfirm:w},null,8,["visible","technique","current-progress"])]);var t}}});var aB=t(4440),oB={};oB.styleTagTransform=A(),oB.setAttributes=z(),oB.insert=V().bind(null,"head"),oB.domAPI=N(),oB.insertStyleElement=B(),k()(aB.A,oB),aB.A&amp;&amp;aB.A.locals&amp;&amp;aB.A.locals;const rB=(0,j.A)(tB,[["__scopeId","data-v-13a846e5"]]),lB=["aria-valuenow"],iB={key:0,class:"progress-label"},cB=(0,a.defineComponent)({__name:"ProgressBar",props:{value:{},max:{default:100},showLabel:{type:Boolean,default:!0},size:{default:"md"},format:{type:[Function,null],default:null}},setup(e){const n=e,t=(0,a.computed)(()=&gt;{const e=1===n.max?100*n.value:n.value/n.max*100,t=Math.max(0,Math.min(100,e));return Math.round(t)}),o=(0,a.computed)(()=&gt;n.format?n.format(n.value):`${t.value}%`);return(e,n)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",{class:(0,a.normalizeClass)(["progress",e.size]),role:"progressbar","aria-valuenow":t.value,"aria-valuemin":"0","aria-valuemax":"100"},[(0,a.createElementVNode)("div",{class:"progress-bar",style:(0,a.normalizeStyle)({width:t.value+"%"})},null,4),e.showLabel?((0,a.openBlock)(),(0,a.createElementBlock)("div",iB,(0,a.toDisplayString)(o.value),1)):(0,a.createCommentVNode)("v-if",!0)],10,lB))}});var sB=t(8205),dB={};dB.styleTagTransform=A(),dB.setAttributes=z(),dB.insert=V().bind(null,"head"),dB.domAPI=N(),dB.insertStyleElement=B(),k()(sB.A,dB),sB.A&amp;&amp;sB.A.locals&amp;&amp;sB.A.locals;const mB=(0,j.A)(cB,[["__scopeId","data-v-d9bb4e4a"]]),pB={class:"skills-main"},vB={class:"current-technique-section"},uB={key:0,class:"technique-content"},gB={class:"technique-info"},fB={class:"technique-quality"},bB={class:"technique-progress"},hB={class:"progress-bar-wrapper"},yB={class:"progress-text"},xB={key:1,class:"empty-slot-placeholder"},kB={class:"skills-and-library-grid"},wB={class:"skills-column"},NB={key:0,class:"unmastered-skills-section"},EB={class:"section-header"},VB={class:"count-badge"},CB={class:"unmastered-skills-grid"},zB={class:"skill-card-body"},SB={class:"skill-card-name"},BB={class:"skill-card-source"},DB={class:"skill-card-progress"},AB={class:"skill-progress-bar"},_B={class:"skill-card-desc"},$B={class:"learned-skills-section"},IB={class:"section-header"},TB={class:"count-badge"},jB={key:0,class:"empty-library"},MB={key:1,class:"learned-skills-grid"},qB={class:"skill-card-body"},OB={class:"skill-card-name"},PB={class:"skill-card-source"},FB={class:"skill-card-desc"},LB={key:0,class:"skill-card-cost"},YB={class:"section-header"},RB={class:"count-badge"},UB={key:1,class:"empty-library"},GB={key:2,class:"technique-grid"},WB=["onClick"],JB={class:"card-body"},HB={class:"card-quality"},QB={key:0,class:"card-desc"},KB=["disabled"],XB={key:0,class:"skill-details-content"},ZB={class:"card-header"},eD={class:"skill-type-text-large"},nD={class:"details-title-area"},tD={class:"details-meta"},aD={class:"meta-tag type-tag"},oD={class:"details-description"},rD={class:"details-tabs"},lD={class:"details-body"},iD={key:0,class:"tab-content"},cD={key:0,class:"skill-effects-section"},sD={class:"effect-details"},dD={key:0,class:"effect-item"},mD={class:"effect-value"},pD={key:1,class:"effect-item"},vD={class:"effect-value"},uD={key:2,class:"effect-item"},gD={class:"special-abilities"},fD={key:1,class:"empty-tab"},bD={key:1,class:"tab-content"},hD={key:0,class:"technique-skills-section"},yD={class:"skills-list"},xD={class:"skill-header"},kD={class:"skill-name"},wD={key:0,class:"skill-status unlocked"},ND={key:1,class:"skill-status locked"},ED={class:"skill-description"},VD={key:0,class:"skill-unlock-condition"},CD={key:1,class:"empty-tab"},zD={class:"details-actions"},SD={key:1,class:"details-placeholder"},BD=(0,a.defineComponent)({__name:"SkillsPanel",setup(e){const{characterData:n,saveData:o}=(0,Li.useUnifiedCharacterData)(),r=(0,q.useUIStore)(),l=(0,a.ref)(null),i=(0,a.ref)(""),c=(0,a.ref)("effects"),s=(0,a.ref)(!1),d=(0,a.ref)(!1),m=()=&gt;{"undefined"!=typeof window&amp;&amp;(d.value=window.innerWidth&lt;=768,d.value||(s.value=!1))};(0,a.onMounted)(()=&gt;{m(),"undefined"!=typeof window&amp;&amp;window.addEventListener("resize",m)}),(0,a.onBeforeUnmount)(()=&gt;{"undefined"!=typeof window&amp;&amp;window.removeEventListener("resize",m)});const p=(0,a.ref)(!1),v=(0,a.computed)(()=&gt;l.value&amp;&amp;"åŠŸæ³•"===l.value.ç±»å‹?l.value:null),u=()=&gt;{const e=o.value;return e?.ä¿®ç‚¼åŠŸæ³•&amp;&amp;e.ä¿®ç‚¼åŠŸæ³•?.ä¿®ç‚¼è¿›åº¦||0},g=(0,a.computed)(()=&gt;{const e=n.value?.èƒŒåŒ…_ç‰©å“,t=o.value;if(!e)return null;const a=Object.values(e).find(e=&gt;"åŠŸæ³•"===e?.ç±»å‹&amp;&amp;!0===e?.å·²è£…å¤‡);return a?{...a,ä¿®ç‚¼è¿›åº¦:t?.ä¿®ç‚¼åŠŸæ³•?.ä¿®ç‚¼è¿›åº¦||0,å·²è§£é”æŠ€èƒ½:t?.ä¿®ç‚¼åŠŸæ³•?.å·²è§£é”æŠ€èƒ½||[]}:null}),f=(0,a.computed)(()=&gt;{const e=n.value?.èƒŒåŒ…_ç‰©å“;return e?Object.values(e).filter(e=&gt;e&amp;&amp;"object"==typeof e&amp;&amp;"åŠŸæ³•"===e.ç±»å‹&amp;&amp;!!e.åç§°?.trim()&amp;&amp;!e.å·²è£…å¤‡):[]}),b=(0,a.computed)(()=&gt;{const e=[];if(!g.value)return e;const n=g.value.å·²è§£é”æŠ€èƒ½||[],t=g.value.åŠŸæ³•æŠ€èƒ½;return Array.isArray(t)?(t.forEach(t=&gt;{n.includes(t.æŠ€èƒ½åç§°)&amp;&amp;e.push({æŠ€èƒ½åç§°:t.æŠ€èƒ½åç§°,æŠ€èƒ½æè¿°:t.æŠ€èƒ½æè¿°,æ¶ˆè€—:t.æ¶ˆè€—,æ¥æºåŠŸæ³•:g.value.åç§°,è§£é”éœ€è¦ç†Ÿç»ƒåº¦:t.è§£é”éœ€è¦ç†Ÿç»ƒåº¦||0})}),e):e}),h=(0,a.computed)(()=&gt;{const e=[];if(!g.value)return e;const n=g.value.å·²è§£é”æŠ€èƒ½||[],t=g.value.åŠŸæ³•æŠ€èƒ½;return Array.isArray(t)?(t.forEach(t=&gt;{n.includes(t.æŠ€èƒ½åç§°)||e.push({æŠ€èƒ½åç§°:t.æŠ€èƒ½åç§°,æŠ€èƒ½æè¿°:t.æŠ€èƒ½æè¿°,æ¶ˆè€—:t.æ¶ˆè€—,æ¥æºåŠŸæ³•:g.value.åç§°,è§£é”éœ€è¦ç†Ÿç»ƒåº¦:t.è§£é”éœ€è¦ç†Ÿç»ƒåº¦||0})}),e):e}),y=(e,n=50)=&gt;e?e.length&lt;=n?e:e.substring(0,n)+"...":"",x=(e,n)=&gt;{l.value=e,i.value=n,d.value&amp;&amp;(s.value=!1)},k=(e,n="border")=&gt;{if(!e)return"";const t=e;return`${n}-quality-${t.å“è´¨?.quality||"å‡¡"}`},w=e=&gt;0===e?"æ®‹ç¼º":e&gt;=1&amp;&amp;e&lt;=3?"ä¸‹å“":e&gt;=4&amp;&amp;e&lt;=6?"ä¸­å“":e&gt;=7&amp;&amp;e&lt;=9?"ä¸Šå“":10===e?"æå“":"æœªçŸ¥",N=e=&gt;0===e?"grade-broken":e&gt;=1&amp;&amp;e&lt;=3?"grade-low":e&gt;=4&amp;&amp;e&lt;=6?"grade-mid":e&gt;=7&amp;&amp;e&lt;=9?"grade-high":10===e?"grade-perfect":"grade-unknown",E=(0,a.computed)(()=&gt;{const e=new Set;if(!g.value)return e;const n=g.value.ä¿®ç‚¼è¿›åº¦||0,t=g.value.åŠŸæ³•æŠ€èƒ½;return Array.isArray(t)?(t.forEach(t=&gt;{const a=t.è§£é”éœ€è¦ç†Ÿç»ƒåº¦||0;n&gt;=a&amp;&amp;e.add(t.æŠ€èƒ½åç§°)}),e):e}),V=(0,a.computed)(()=&gt;{const e=l.value;if(!e?.åŠŸæ³•æ•ˆæœ?.ä¿®ç‚¼é€Ÿåº¦åŠ æˆ)return"æ— ";const n=e.åŠŸæ³•æ•ˆæœ.ä¿®ç‚¼é€Ÿåº¦åŠ æˆ;if("number"==typeof n){const e=100*(n-1);return Math.abs(e)&lt;1?"æ— ":`${e&gt;0?"+":""}${e.toFixed(0)}%`}return"æ— "}),C=()=&gt;{l.value&amp;&amp;i.value&amp;&amp;(p.value=!0)},z=()=&gt;{p.value=!1},S=async e=&gt;{p.value=!1,l.value&amp;&amp;await B(e)},B=async e=&gt;{if(!(e&lt;=0)&amp;&amp;l.value)try{const n=l.value;console.log(`[æŠ€èƒ½é¢æ¿] æ·»åŠ ${e}å¤©æ·±åº¦ä¿®ç‚¼åŠ¨ä½œ:`,n.åç§°);const{useActionQueueStore:a}=await Promise.resolve().then(t.bind(t,3310));a().addAction({type:"cultivate",itemName:n.åç§°,itemType:"åŠŸæ³•",description:`å¯¹ã€Š${n.åç§°}ã€‹è¿›è¡Œ${e}å¤©çš„æ·±åº¦ä¿®ç‚¼`}),console.log(`[æŠ€èƒ½é¢æ¿] ${e}å¤©æ·±åº¦ä¿®ç‚¼å·²æ·»åŠ åˆ°åŠ¨ä½œé˜Ÿåˆ—`),z()}catch(e){console.error("[æŠ€èƒ½é¢æ¿] æ·»åŠ æ·±åº¦ä¿®ç‚¼åŠ¨ä½œå¤±è´¥:",e)}},D=async()=&gt;{if(!l.value||!i.value)return;const e=l.value;r.showRetryDialog({title:"å¸ä¸‹åŠŸæ³•",message:`ç¡®å®šè¦å¸ä¸‹ã€Š${e.åç§°}ã€‹å—ï¼Ÿ`,confirmText:"ç¡®è®¤å¸ä¸‹",cancelText:"å–æ¶ˆ",onConfirm:async()=&gt;{try{const e=o.value;if(e?.ä¿®ç‚¼åŠŸæ³•){const n=e.ä¿®ç‚¼åŠŸæ³•;if(n&amp;&amp;e.èƒŒåŒ…?.ç‰©å“){const t=n.ç‰©å“ID;t&amp;&amp;e.èƒŒåŒ….ç‰©å“[t]&amp;&amp;(e.èƒŒåŒ….ç‰©å“[t].å·²è£…å¤‡=!1,console.log("[æŠ€èƒ½é¢æ¿] åŠŸæ³•æ ‡è®°å·²æ¸…é™¤:",n.åç§°))}e.ä¿®ç‚¼åŠŸæ³•=null;const{useCharacterStore:a}=await Promise.resolve().then(t.bind(t,948)),o=a();await o.syncToTavernAndSave(),console.log("[æŠ€èƒ½é¢æ¿] åŠŸæ³•å¸ä¸‹æˆåŠŸ"),l.value=null,i.value=""}}catch(e){console.error("[æŠ€èƒ½é¢æ¿] å¸ä¸‹å¤±è´¥:",e)}},onCancel:()=&gt;{}})},A=async()=&gt;{if(!l.value||"èƒŒåŒ…åŠŸæ³•"!==i.value)return;const e=l.value;console.log("[æŠ€èƒ½é¢æ¿] è£…å¤‡åŠŸæ³•:",e.åç§°);try{const n=o.value;if(!n)return void console.error("[æŠ€èƒ½é¢æ¿] å­˜æ¡£æ•°æ®ä¸å­˜åœ¨");if(n.ä¿®ç‚¼åŠŸæ³•){const t=n.ä¿®ç‚¼åŠŸæ³•;if(t.ç‰©å“ID!==e.ç‰©å“ID)return void r.showRetryDialog({title:"åˆ‡æ¢åŠŸæ³•",message:`å½“å‰æ­£åœ¨ä¿®ç‚¼ã€Š${t.åç§°}ã€‹ï¼Œç¡®å®šè¦åˆ‡æ¢åˆ°ã€Š${e.åç§°}ã€‹å—ï¼Ÿ`,confirmText:"ç¡®è®¤åˆ‡æ¢",cancelText:"å–æ¶ˆ",onConfirm:async()=&gt;{const t=n.ä¿®ç‚¼åŠŸæ³•;if(t?.ç‰©å“ID&amp;&amp;n.èƒŒåŒ…?.ç‰©å“){const e=n.èƒŒåŒ….ç‰©å“[t.ç‰©å“ID];e&amp;&amp;(e.å·²è£…å¤‡=!1,console.log("[æŠ€èƒ½é¢æ¿] ä¹‹å‰çš„åŠŸæ³•å·²æ ‡è®°ä¸ºæœªè£…å¤‡:",t.åç§°))}await _(e)},onCancel:()=&gt;{}})}await _(e)}catch(e){console.error("[æŠ€èƒ½é¢æ¿] è£…å¤‡åŠŸæ³•å¤±è´¥:",e)}},_=async e=&gt;{const n=o.value;if(!n)return;if(n.ä¿®ç‚¼åŠŸæ³•={ç‰©å“ID:e.ç‰©å“ID||"",åç§°:e.åç§°},n.èƒŒåŒ…?.ç‰©å“&amp;&amp;e.ç‰©å“ID){const t=n.èƒŒåŒ….ç‰©å“[e.ç‰©å“ID];t&amp;&amp;(t.å·²è£…å¤‡=!0)}const{useCharacterStore:a}=await Promise.resolve().then(t.bind(t,948)),r=a();await r.syncToTavernAndSave(),console.log("[æŠ€èƒ½é¢æ¿] åŠŸæ³•è£…å¤‡æˆåŠŸ:",e.åç§°),e.ç‰©å“ID&amp;&amp;n.èƒŒåŒ…?.ç‰©å“?.[e.ç‰©å“ID]?l.value=n.èƒŒåŒ….ç‰©å“[e.ç‰©å“ID]:l.value=null,i.value="åŠŸæ³•"};return(e,n)=&gt;{return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createCommentVNode)(" å·¦ä¾§ï¼šå½“å‰ä¿®ç‚¼+åŠŸæ³•åº“ "),(0,a.createElementVNode)("div",pB,[(0,a.createCommentVNode)(" å½“å‰ä¿®ç‚¼åŠŸæ³•æ§½ä½ "),(0,a.createElementVNode)("div",vB,[n[8]||(n[8]=(0,a.createElementVNode)("h3",{class:"section-header"},[(0,a.createElementVNode)("span",{class:"header-icon"},"âš¡"),(0,a.createElementVNode)("span",{class:"header-text"},"å½“å‰ä¿®ç‚¼")],-1)),(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["current-technique-slot",{"has-technique":g.value}]),onClick:n[0]||(n[0]=e=&gt;g.value&amp;&amp;x(g.value,"åŠŸæ³•"))},[g.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",uB,[(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["technique-icon-wrapper",k(g.value)])},n[6]||(n[6]=[(0,a.createElementVNode)("span",{class:"technique-icon-text"},"åŠŸ",-1)]),2),(0,a.createElementVNode)("div",gB,[(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["technique-name",k(g.value,"text")])},(0,a.toDisplayString)(g.value.åç§°),3),(0,a.createElementVNode)("div",fB,[(0,a.createTextVNode)((0,a.toDisplayString)(g.value.å“è´¨?.quality||"å‡¡")+"å“ ",1),void 0!==g.value.å“è´¨?.grade?((0,a.openBlock)(),(0,a.createElementBlock)("span",{key:0,class:(0,a.normalizeClass)(["grade-display",N(g.value.å“è´¨.grade)])},(0,a.toDisplayString)(w(g.value.å“è´¨.grade))+"("+(0,a.toDisplayString)(g.value.å“è´¨.grade)+") ",3)):(0,a.createCommentVNode)("v-if",!0)]),(0,a.createElementVNode)("div",bB,[(0,a.createElementVNode)("div",hB,[(0,a.createVNode)(mB,(0,a.normalizeProps)((0,a.guardReactiveProps)({value:Math.min(100,Math.max(0,g.value.ä¿®ç‚¼è¿›åº¦||0)),max:100,size:"sm",showLabel:!1})),null,16)]),(0,a.createElementVNode)("span",yB,(0,a.toDisplayString)(Math.min(100,Math.max(0,g.value.ä¿®ç‚¼è¿›åº¦||0)).toFixed(1))+"/100",1)])])])):((0,a.openBlock)(),(0,a.createElementBlock)("div",xB,n[7]||(n[7]=[(0,a.createElementVNode)("div",{class:"empty-icon"},"ğŸ“œ",-1),(0,a.createElementVNode)("span",{class:"empty-text"},"æœªä¿®ç‚¼åŠŸæ³•",-1),(0,a.createElementVNode)("span",{class:"empty-hint"},"ä»ä¸‹æ–¹åŠŸæ³•åº“é€‰æ‹©è£…å¤‡",-1)])))],2)]),(0,a.createElementVNode)("div",kB,[(0,a.createElementVNode)("div",wB,[(0,a.createCommentVNode)(" æœªæŒæ¡æŠ€èƒ½åˆ—è¡¨ "),h.value.length&gt;0?((0,a.openBlock)(),(0,a.createElementBlock)("div",NB,[(0,a.createElementVNode)("h3",EB,[n[9]||(n[9]=(0,a.createElementVNode)("span",{class:"header-icon"},"ğŸ”’",-1)),n[10]||(n[10]=(0,a.createElementVNode)("span",{class:"header-text"},"æœªæŒæ¡æŠ€èƒ½",-1)),(0,a.createElementVNode)("span",VB,(0,a.toDisplayString)(h.value.length),1)]),(0,a.createElementVNode)("div",CB,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(h.value,e=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:e.æŠ€èƒ½åç§°,class:"unmastered-skill-card"},[n[11]||(n[11]=(0,a.createElementVNode)("div",{class:"skill-card-icon"},"ğŸ”’",-1)),(0,a.createElementVNode)("div",zB,[(0,a.createElementVNode)("div",SB,(0,a.toDisplayString)(e.æŠ€èƒ½åç§°),1),(0,a.createElementVNode)("div",BB," å½“å‰: "+(0,a.toDisplayString)((g.value?.ä¿®ç‚¼è¿›åº¦||0).toFixed(1))+"% / éœ€è¦: "+(0,a.toDisplayString)(e.è§£é”éœ€è¦ç†Ÿç»ƒåº¦)+"% ",1),(0,a.createElementVNode)("div",DB,[(0,a.createElementVNode)("div",AB,[(0,a.createElementVNode)("div",{class:"skill-progress-fill",style:(0,a.normalizeStyle)({width:Math.min(100,(g.value?.ä¿®ç‚¼è¿›åº¦||0)/e.è§£é”éœ€è¦ç†Ÿç»ƒåº¦*100)+"%"})},null,4)])]),(0,a.createElementVNode)("div",_B,(0,a.toDisplayString)(y(e.æŠ€èƒ½æè¿°,60)),1)])]))),128))])])):(0,a.createCommentVNode)("v-if",!0),(0,a.createCommentVNode)(" å·²å­¦æŠ€èƒ½åˆ—è¡¨ "),(0,a.createElementVNode)("div",$B,[(0,a.createElementVNode)("h3",IB,[n[12]||(n[12]=(0,a.createElementVNode)("span",{class:"header-icon"},"âš”ï¸",-1)),n[13]||(n[13]=(0,a.createElementVNode)("span",{class:"header-text"},"å·²å­¦æŠ€èƒ½",-1)),(0,a.createElementVNode)("span",TB,(0,a.toDisplayString)(b.value.length),1)]),0===b.value.length?((0,a.openBlock)(),(0,a.createElementBlock)("div",jB,n[14]||(n[14]=[(0,a.createElementVNode)("div",{class:"empty-icon"},"ğŸ“–",-1),(0,a.createElementVNode)("div",{class:"empty-text"},"æš‚æ— å·²å­¦æŠ€èƒ½",-1),(0,a.createElementVNode)("div",{class:"empty-hint"},"ä¿®ç‚¼åŠŸæ³•è§£é”æŠ€èƒ½",-1)]))):((0,a.openBlock)(),(0,a.createElementBlock)("div",MB,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(b.value,e=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:e.æŠ€èƒ½åç§°,class:"learned-skill-card"},[n[15]||(n[15]=(0,a.createElementVNode)("div",{class:"skill-card-icon"},"âš¡",-1)),(0,a.createElementVNode)("div",qB,[(0,a.createElementVNode)("div",OB,(0,a.toDisplayString)(e.æŠ€èƒ½åç§°),1),(0,a.createElementVNode)("div",PB,"æ¥æº: "+(0,a.toDisplayString)(e.æ¥æºåŠŸæ³•),1),(0,a.createElementVNode)("div",FB,(0,a.toDisplayString)(y(e.æŠ€èƒ½æè¿°,60)),1),e.æ¶ˆè€—?((0,a.openBlock)(),(0,a.createElementBlock)("div",LB,"æ¶ˆè€—: "+(0,a.toDisplayString)(e.æ¶ˆè€—),1)):(0,a.createCommentVNode)("v-if",!0)])]))),128))]))])]),(0,a.createCommentVNode)(" åŠŸæ³•åº“åˆ—è¡¨ "),(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["technique-library-section",{"is-mobile":d.value,"is-open":s.value}])},[(0,a.createElementVNode)("h3",YB,[n[16]||(n[16]=(0,a.createElementVNode)("span",{class:"header-icon"},"ğŸ“š",-1)),n[17]||(n[17]=(0,a.createElementVNode)("span",{class:"header-text"},"åŠŸæ³•åº“",-1)),(0,a.createElementVNode)("span",RB,(0,a.toDisplayString)(f.value.length),1)]),d.value?((0,a.openBlock)(),(0,a.createElementBlock)("button",{key:0,type:"button",class:"mobile-library-close",onClick:n[1]||(n[1]=e=&gt;s.value=!1)}," æ”¶èµ· ")):(0,a.createCommentVNode)("v-if",!0),0===f.value.length?((0,a.openBlock)(),(0,a.createElementBlock)("div",UB,n[18]||(n[18]=[(0,a.createElementVNode)("div",{class:"empty-icon"},"ğŸ“¦",-1),(0,a.createElementVNode)("div",{class:"empty-text"},"åŠŸæ³•åº“ä¸ºç©º",-1),(0,a.createElementVNode)("div",{class:"empty-hint"},"ä»ä¸–ç•Œä¸­è·å–åŠŸæ³•ç§˜ç±",-1)]))):((0,a.openBlock)(),(0,a.createElementBlock)("div",GB,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(f.value,e=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:e.ç‰©å“ID,class:(0,a.normalizeClass)(["technique-card",[k(e),{selected:l.value===e}]]),onClick:n=&gt;x(e,"èƒŒåŒ…åŠŸæ³•")},[(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["card-icon",k(e)])},n[19]||(n[19]=[(0,a.createElementVNode)("span",{class:"icon-text"},"åŠŸ",-1)]),2),(0,a.createElementVNode)("div",JB,[(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["card-title",k(e,"text")])},(0,a.toDisplayString)(e.åç§°),3),(0,a.createElementVNode)("div",HB,[(0,a.createTextVNode)((0,a.toDisplayString)(e.å“è´¨?.quality||"å‡¡")+"å“ ",1),void 0!==e.å“è´¨?.grade?((0,a.openBlock)(),(0,a.createElementBlock)("span",{key:0,class:(0,a.normalizeClass)(["grade-display",N(e.å“è´¨.grade)])},(0,a.toDisplayString)(w(e.å“è´¨.grade))+"("+(0,a.toDisplayString)(e.å“è´¨.grade)+") ",3)):(0,a.createCommentVNode)("v-if",!0)]),e.æè¿°?((0,a.openBlock)(),(0,a.createElementBlock)("div",QB,(0,a.toDisplayString)(y(e.æè¿°,50)),1)):(0,a.createCommentVNode)("v-if",!0)])],10,WB))),128))]))],2)]),(0,a.createCommentVNode)(" åŠŸæ³•è¯¦æƒ…ä¾§è¾¹æ  "),d.value?((0,a.openBlock)(),(0,a.createElementBlock)("button",{key:0,type:"button",class:"mobile-library-toggle",disabled:s.value,onClick:n[2]||(n[2]=e=&gt;s.value=!0)},[n[20]||(n[20]=(0,a.createElementVNode)("span",{class:"toggle-icon"},"ğŸ“š",-1)),(0,a.createElementVNode)("span",null,"åŠŸæ³•åº“ ("+(0,a.toDisplayString)(f.value.length)+")",1)],8,KB)):(0,a.createCommentVNode)("v-if",!0),(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["skill-details-sidebar",{"no-selection":!l.value}])},[l.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",XB,[(0,a.createCommentVNode)(" é¡¶éƒ¨ä¿¡æ¯å¡ç‰‡ "),(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["details-card",k(l.value)])},[n[21]||(n[21]=(0,a.createElementVNode)("div",{class:"card-bg-glow"},null,-1)),(0,a.createElementVNode)("div",ZB,[(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["details-icon-large",k(l.value)])},[(0,a.createElementVNode)("span",eD,(0,a.toDisplayString)((o=i.value,"åŠŸæ³•"===o?"åŠŸ":"æŠ€")),1)],2),(0,a.createElementVNode)("div",nD,[(0,a.createElementVNode)("h3",{class:(0,a.normalizeClass)(k(l.value,"text"))},(0,a.toDisplayString)(l.value.åç§°),3),(0,a.createElementVNode)("div",tD,[(0,a.createElementVNode)("span",aD,(0,a.toDisplayString)(i.value),1),(0,a.createElementVNode)("span",{class:(0,a.normalizeClass)(["meta-tag quality-tag",k(l.value,"text")])},(0,a.toDisplayString)(l.value.å“è´¨?.quality||"å‡¡")+"å“ ",3),void 0!==l.value.å“è´¨?.grade?((0,a.openBlock)(),(0,a.createElementBlock)("span",{key:0,class:(0,a.normalizeClass)(["grade-display",N(l.value.å“è´¨.grade)])},(0,a.toDisplayString)(w(l.value.å“è´¨.grade))+"("+(0,a.toDisplayString)(l.value.å“è´¨.grade)+") ",3)):(0,a.createCommentVNode)("v-if",!0)])])]),(0,a.createElementVNode)("p",oD,(0,a.toDisplayString)(l.value.æè¿°),1)],2),(0,a.createCommentVNode)(" æ ‡ç­¾é¡µå¯¼èˆª "),(0,a.createElementVNode)("div",rD,[(0,a.createElementVNode)("button",{class:(0,a.normalizeClass)(["tab-btn",{active:"effects"===c.value}]),onClick:n[3]||(n[3]=e=&gt;c.value="effects")},"åŠŸæ³•æ•ˆæœ",2),(0,a.createElementVNode)("button",{class:(0,a.normalizeClass)(["tab-btn",{active:"skills"===c.value}]),onClick:n[4]||(n[4]=e=&gt;c.value="skills")},"åŠŸæ³•æŠ€èƒ½",2)]),(0,a.createCommentVNode)(" æ ‡ç­¾é¡µå†…å®¹ "),(0,a.createElementVNode)("div",lD,[(0,a.createCommentVNode)(" åŠŸæ³•æ•ˆæœ "),"effects"===c.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",iD,[l.value.åŠŸæ³•æ•ˆæœ?((0,a.openBlock)(),(0,a.createElementBlock)("div",cD,[(0,a.createElementVNode)("div",sD,[l.value.åŠŸæ³•æ•ˆæœ.ä¿®ç‚¼é€Ÿåº¦åŠ æˆ?((0,a.openBlock)(),(0,a.createElementBlock)("div",dD,[n[22]||(n[22]=(0,a.createElementVNode)("span",{class:"effect-label"},"ä¿®ç‚¼é€Ÿåº¦",-1)),(0,a.createElementVNode)("span",mD,(0,a.toDisplayString)(V.value),1)])):(0,a.createCommentVNode)("v-if",!0),l.value.åŠŸæ³•æ•ˆæœ.å±æ€§åŠ æˆ?((0,a.openBlock)(),(0,a.createElementBlock)("div",pD,[n[23]||(n[23]=(0,a.createElementVNode)("span",{class:"effect-label"},"å±æ€§åŠ æˆ",-1)),(0,a.createElementVNode)("span",vD,(0,a.toDisplayString)((t=l.value.åŠŸæ³•æ•ˆæœ.å±æ€§åŠ æˆ,t&amp;&amp;"object"==typeof t&amp;&amp;Object.entries(t).map(([e,n])=&gt;`${e}+${n}`).join("ã€")||"æ— ")),1)])):(0,a.createCommentVNode)("v-if",!0),l.value.åŠŸæ³•æ•ˆæœ.ç‰¹æ®Šèƒ½åŠ›?.length?((0,a.openBlock)(),(0,a.createElementBlock)("div",uD,[n[24]||(n[24]=(0,a.createElementVNode)("span",{class:"effect-label"},"ç‰¹æ®Šèƒ½åŠ›",-1)),(0,a.createElementVNode)("div",gD,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(l.value.åŠŸæ³•æ•ˆæœ.ç‰¹æ®Šèƒ½åŠ›,e=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("span",{key:e,class:"ability-tag"},(0,a.toDisplayString)(e),1))),128))])])):(0,a.createCommentVNode)("v-if",!0)])])):((0,a.openBlock)(),(0,a.createElementBlock)("div",fD,"æ­¤åŠŸæ³•æ— ç‰¹æ®Šæ•ˆæœ"))])):(0,a.createCommentVNode)("v-if",!0),(0,a.createCommentVNode)(" åŠŸæ³•æŠ€èƒ½ "),"skills"===c.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",bD,[l.value.åŠŸæ³•æŠ€èƒ½?.length?((0,a.openBlock)(),(0,a.createElementBlock)("div",hD,[(0,a.createElementVNode)("div",yD,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(l.value.åŠŸæ³•æŠ€èƒ½,(e,n)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:n,class:"skill-item"},[(0,a.createElementVNode)("div",xD,[(0,a.createElementVNode)("span",kD,(0,a.toDisplayString)(e.æŠ€èƒ½åç§°),1),E.value.has(e.æŠ€èƒ½åç§°)?((0,a.openBlock)(),(0,a.createElementBlock)("div",wD,"å·²æŒæ¡")):((0,a.openBlock)(),(0,a.createElementBlock)("div",ND,"æœªæŒæ¡"))]),(0,a.createElementVNode)("div",ED,(0,a.toDisplayString)(e.æŠ€èƒ½æè¿°),1),e.è§£é”éœ€è¦ç†Ÿç»ƒåº¦?((0,a.openBlock)(),(0,a.createElementBlock)("div",VD," è§£é”æ¡ä»¶ï¼šä¿®ç‚¼è¿›åº¦ "+(0,a.toDisplayString)(e.è§£é”éœ€è¦ç†Ÿç»ƒåº¦)+"% ",1)):(0,a.createCommentVNode)("v-if",!0)]))),128))])])):((0,a.openBlock)(),(0,a.createElementBlock)("div",CD,"æ­¤åŠŸæ³•æ— é™„åŠ æŠ€èƒ½"))])):(0,a.createCommentVNode)("v-if",!0)]),(0,a.createCommentVNode)(" åº•éƒ¨æ“ä½œæŒ‰é’® "),(0,a.createElementVNode)("div",zD,["åŠŸæ³•"===i.value?((0,a.openBlock)(),(0,a.createElementBlock)("button",{key:0,class:"action-btn cultivate-btn",onClick:C},"æ·±åº¦ä¿®ç‚¼")):(0,a.createCommentVNode)("v-if",!0),"åŠŸæ³•"===i.value?((0,a.openBlock)(),(0,a.createElementBlock)("button",{key:1,class:"action-btn unequip-btn",onClick:D},"å¸ä¸‹")):(0,a.createCommentVNode)("v-if",!0),"èƒŒåŒ…åŠŸæ³•"===i.value?((0,a.openBlock)(),(0,a.createElementBlock)("button",{key:2,class:"action-btn equip-btn",onClick:A},"è£…å¤‡")):(0,a.createCommentVNode)("v-if",!0)])])):((0,a.openBlock)(),(0,a.createElementBlock)("div",SD,n[25]||(n[25]=[(0,a.createElementVNode)("div",{class:"placeholder-icon"},"ğŸ“œ",-1),(0,a.createElementVNode)("p",null,"é€‰æ‹©ä¸€éƒ¨åŠŸæ³•",-1),(0,a.createElementVNode)("span",{class:"placeholder-tip"},"ç‚¹å‡»åŠŸæ³•å¡ç‰‡æŸ¥çœ‹è¯¦æƒ…",-1)])))],2),d.value&amp;&amp;s.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:1,class:"mobile-library-backdrop",onClick:n[5]||(n[5]=e=&gt;s.value=!1)})):(0,a.createCommentVNode)("v-if",!0),(0,a.createCommentVNode)(" æ·±åº¦ä¿®ç‚¼å¯¹è¯æ¡† "),(0,a.createVNode)(fS,{visible:p.value,technique:v.value,"current-progress":u(),onClose:z,onConfirm:S},null,8,["visible","technique","current-progress"])])],2112);var t,o}}});var DD=t(1417),AD={};AD.styleTagTransform=A(),AD.setAttributes=z(),AD.insert=V().bind(null,"head"),AD.domAPI=N(),AD.insertStyleElement=B(),k()(DD.A,AD),DD.A&amp;&amp;DD.A.locals&amp;&amp;DD.A.locals;const _D=(0,j.A)(BD,[["__scopeId","data-v-075e9794"]]),$D={class:"thousand-dao-content"},ID={class:"dao-main"},TD={key:0,class:"loading-placeholder"},jD={class:"dao-overview"},MD={class:"dao-stats"},qD={class:"stat-card"},OD={class:"stat-info"},PD={class:"stat-value"},FD={class:"stat-card"},LD={class:"stat-info"},YD={class:"stat-value"},RD={class:"stat-card"},UD={class:"stat-info"},GD={class:"stat-value"},WD={class:"dao-sections"},JD={class:"dao-section"},HD={class:"section-title"},QD={key:0,class:"empty-state"},KD={key:1,class:"dao-grid"},XD=["onClick"],ZD={class:"dao-card-header"},eA={class:"dao-name"},nA={class:"dao-stage"},tA={key:2,class:"dao-details-sidebar"},aA={class:"details-header"},oA={class:"details-content"},rA={key:0,class:"detail-section"},lA={class:"dao-description"},iA={class:"detail-section"},cA={class:"dao-stats-detail"},sA={class:"stat-row"},dA={class:"stat-highlight"},mA={class:"stat-row"},pA={class:"stat-highlight"},vA={key:0,class:"stat-row"},uA={class:"next-stage"},gA={key:1,class:"stat-row"},fA={class:"stat-highlight"},bA={key:1,class:"detail-section"},hA={class:"stages-list"},yA={class:"stage-marker"},xA={key:0},kA={key:1},wA={key:2},NA={class:"stage-details"},EA={class:"stage-name"},VA={class:"stage-desc"},CA={key:0,class:"stage-req"},zA={class:"details-actions"},SA=(0,a.defineComponent)({__name:"ThousandDaoPanel",setup(e){const{characterData:n}=(0,Li.useUnifiedCharacterData)(),t=(0,tn.useCharacterStore)(),o=(0,Sv.useActionQueueStore)(),r=(0,a.ref)(!1),l=(0,a.ref)(null),i=(0,a.computed)(()=&gt;n.value?.ä¸‰åƒå¤§é“||{å¤§é“åˆ—è¡¨:{}}),c=(0,a.computed)(()=&gt;Object.entries(i.value.å¤§é“åˆ—è¡¨).filter(([e,n])=&gt;n.æ˜¯å¦è§£é”).map(([e,n])=&gt;e)),s=(0,a.computed)(()=&gt;c.value.length),d=(0,a.computed)(()=&gt;l.value&amp;&amp;i.value.å¤§é“åˆ—è¡¨[l.value]||null),m=(0,a.computed)(()=&gt;Object.values(i.value.å¤§é“åˆ—è¡¨).reduce((e,n)=&gt;e+(n.æ€»ç»éªŒ??0),0)),p=(0,a.computed)(()=&gt;Object.values(i.value.å¤§é“åˆ—è¡¨).filter(e=&gt;(e.å½“å‰é˜¶æ®µ??0)&gt;=5).length),v=e=&gt;i.value.å¤§é“åˆ—è¡¨[e]||null,u=e=&gt;{const n=v(e);if(!n)return"æœªé—¨";const t=n.å½“å‰é˜¶æ®µ??0;return n.é˜¶æ®µåˆ—è¡¨?.[t]?n.é˜¶æ®µåˆ—è¡¨[t].åç§°:0===t?"æœªé—¨":`ç¬¬${t}é˜¶æ®µ`},g=e=&gt;{const n=v(e);if(!n)return null;const t=(n.å½“å‰é˜¶æ®µ??0)+1;return n.é˜¶æ®µåˆ—è¡¨?.[t]?.åç§°||null},f=e=&gt;{const n=v(e);if(!n)return 100;const t=n.å½“å‰é˜¶æ®µ??0;return n.é˜¶æ®µåˆ—è¡¨?.[t]?.çªç ´ç»éªŒ?n.é˜¶æ®µåˆ—è¡¨[t].çªç ´ç»éªŒ:100*(t+1)};return(0,a.onMounted)(async()=&gt;{console.log("[ä¸‰åƒå¤§é“é¢æ¿] ç»„ä»¶æŒ‚è½½..."),Oi.on("refresh",()=&gt;(async()=&gt;{r.value=!0;try{await t.syncFromTavern()}catch(e){console.error("[ä¸‰åƒå¤§é“é¢æ¿] åˆ·æ–°æ•°æ®å¤±è´¥:",e)}finally{r.value=!1}})())}),(e,n)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",$D,[(0,a.createCommentVNode)(" ä¸»è¦å†…å®¹ "),(0,a.createElementVNode)("div",ID,[r.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",TD,n[2]||(n[2]=[(0,a.createElementVNode)("div",{class:"loading-spinner"},null,-1),(0,a.createElementVNode)("p",null,"åŠ è½½ä¸‰åƒå¤§é“æ•°æ®ä¸­...",-1)]))):((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:1},[(0,a.createCommentVNode)(" å¤§é“æ¦‚è§ˆ "),(0,a.createElementVNode)("div",jD,[(0,a.createCommentVNode)(" ä¸‰åƒå¤§é“é¡µä¸å†æ˜¾ç¤ºåŠŸæ³•ï¼Œå½“å‰ä¿®ç‚¼å·²ç§»è‡³ä¿®ç‚¼é¢æ¿ "),(0,a.createElementVNode)("div",MD,[(0,a.createElementVNode)("div",qD,[n[4]||(n[4]=(0,a.createElementVNode)("div",{class:"stat-icon"},"ğŸ¯",-1)),(0,a.createElementVNode)("div",OD,[(0,a.createElementVNode)("div",PD,(0,a.toDisplayString)(s.value),1),n[3]||(n[3]=(0,a.createElementVNode)("div",{class:"stat-label"},"å·²è§£é”å¤§é“",-1))])]),(0,a.createElementVNode)("div",FD,[n[6]||(n[6]=(0,a.createElementVNode)("div",{class:"stat-icon"},"âš¡",-1)),(0,a.createElementVNode)("div",LD,[(0,a.createElementVNode)("div",YD,(0,a.toDisplayString)(m.value),1),n[5]||(n[5]=(0,a.createElementVNode)("div",{class:"stat-label"},"æ€»æ„Ÿæ‚Ÿç»éªŒ",-1))])]),(0,a.createElementVNode)("div",RD,[n[8]||(n[8]=(0,a.createElementVNode)("div",{class:"stat-icon"},"ğŸ†",-1)),(0,a.createElementVNode)("div",UD,[(0,a.createElementVNode)("div",GD,(0,a.toDisplayString)(p.value),1),n[7]||(n[7]=(0,a.createElementVNode)("div",{class:"stat-label"},"é«˜é˜¶æ®µå¤§é“",-1))])])]),(0,a.createCommentVNode)(" å¤§é“åˆ—è¡¨ "),(0,a.createElementVNode)("div",WD,[(0,a.createCommentVNode)(" å·²è§£é”å¤§é“ "),(0,a.createElementVNode)("div",JD,[(0,a.createElementVNode)("h4",HD,[n[9]||(n[9]=(0,a.createElementVNode)("span",{class:"title-icon"},"âœ¨",-1)),(0,a.createTextVNode)(" å·²è§£é”å¤§é“ ("+(0,a.toDisplayString)(s.value)+") ",1)]),0===s.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",QD,n[10]||(n[10]=[(0,a.createElementVNode)("div",{class:"empty-icon"},"ğŸŒ±",-1),(0,a.createElementVNode)("p",null,"å°šæœªè§£é”ä»»ä½•å¤§é“",-1),(0,a.createElementVNode)("span",{class:"empty-tip"},"é€šè¿‡æœºç¼˜ã€é¡¿æ‚Ÿå’Œä¿®è¡Œæ¥è§£é”æ–°çš„å¤§é“",-1)]))):((0,a.openBlock)(),(0,a.createElementBlock)("div",KD,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(c.value,e=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:e,class:(0,a.normalizeClass)(["dao-card",{selected:l.value===e}]),onClick:n=&gt;(e=&gt;{l.value=l.value===e?null:e})(e)},[(0,a.createElementVNode)("div",ZD,[(0,a.createElementVNode)("h5",eA,(0,a.toDisplayString)(e),1),(0,a.createElementVNode)("div",nA,(0,a.toDisplayString)(u(e)),1)])],10,XD))),128))]))]),(0,a.createCommentVNode)(" å¯è§£é”å¤§é“æç¤º "),n[11]||(n[11]=(0,a.createStaticVNode)('<div class="dao-section" data-v-3c90b3e6=""><h4 class="section-title" data-v-3c90b3e6=""><span class="title-icon" data-v-3c90b3e6="">ğŸ”®</span> å¤§é“æ„Ÿæ‚Ÿ </h4><div class="dao-discover-hint" data-v-3c90b3e6=""><div class="discover-card" data-v-3c90b3e6=""><div class="discover-icon" data-v-3c90b3e6="">ğŸŒŒ</div><div class="discover-content" data-v-3c90b3e6=""><h5 data-v-3c90b3e6="">æ— é‡å¤§é“ï¼Œç”±å¿ƒè€Œç”Ÿ</h5><p data-v-3c90b3e6="">å¤§é“ä¸‰åƒï¼Œå„æœ‰å¥¥å¦™ã€‚é€šè¿‡æœºç¼˜ã€é¡¿æ‚Ÿã€ä¿®è¡Œï¼Œå¯è§£é”æ›´å¤šå¤§é“è·¯å¾„ã€‚</p><ul class="discover-methods" data-v-3c90b3e6=""><li data-v-3c90b3e6="">ğŸ§˜ æ·±åº¦æ„Ÿæ‚Ÿç°æœ‰åŠŸæ³•</li><li data-v-3c90b3e6="">ğŸ’« æ„Ÿæ‚Ÿå¤©åœ°è‡ªç„¶è§„å¾‹</li><li data-v-3c90b3e6="">ğŸ è·å¾—ç‰¹æ®Šæœºç¼˜é€ åŒ–</li><li data-v-3c90b3e6="">ğŸ“š ç ”ä¹ å¤ç±å…¸è—</li></ul></div></div></div></div>',1))])])],2112)),(0,a.createCommentVNode)(" å¤§é“è¯¦æƒ…ä¾§è¾¹æ  "),l.value&amp;&amp;d.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",tA,[(0,a.createElementVNode)("div",aA,[(0,a.createElementVNode)("h3",null,(0,a.toDisplayString)(l.value),1),(0,a.createElementVNode)("button",{class:"close-details",onClick:n[0]||(n[0]=e=&gt;l.value=null)},[(0,a.createVNode)((0,a.unref)(Ne),{size:20})])]),(0,a.createElementVNode)("div",oA,[v(l.value)?((0,a.openBlock)(),(0,a.createElementBlock)("div",rA,[n[12]||(n[12]=(0,a.createElementVNode)("h4",null,"å¤§é“æè¿°",-1)),(0,a.createElementVNode)("p",lA,(0,a.toDisplayString)(v(l.value)?.æè¿°||"æ­¤é“æ·±å¥¥ï¼Œéœ€è¦è¿›ä¸€æ­¥æ„Ÿæ‚Ÿæ‰èƒ½ç†è§£å…¶ç²¾é«“ã€‚"),1)])):(0,a.createCommentVNode)("v-if",!0),(0,a.createElementVNode)("div",iA,[n[17]||(n[17]=(0,a.createElementVNode)("h4",null,"æ„Ÿæ‚Ÿç»Ÿè®¡",-1)),(0,a.createElementVNode)("div",cA,[(0,a.createElementVNode)("div",sA,[n[13]||(n[13]=(0,a.createElementVNode)("span",null,"å½“å‰ç»éªŒ:",-1)),(0,a.createElementVNode)("span",dA,(0,a.toDisplayString)(d.value.å½“å‰ç»éªŒ??0),1)]),(0,a.createElementVNode)("div",mA,[n[14]||(n[14]=(0,a.createElementVNode)("span",null,"å½“å‰é˜¶æ®µ:",-1)),(0,a.createElementVNode)("span",pA,(0,a.toDisplayString)(u(l.value)),1)]),g(l.value)?((0,a.openBlock)(),(0,a.createElementBlock)("div",vA,[n[15]||(n[15]=(0,a.createElementVNode)("span",null,"ä¸‹ä¸€é˜¶æ®µ:",-1)),(0,a.createElementVNode)("span",uA,(0,a.toDisplayString)(g(l.value)),1)])):(0,a.createCommentVNode)("v-if",!0),f(l.value)?((0,a.openBlock)(),(0,a.createElementBlock)("div",gA,[n[16]||(n[16]=(0,a.createElementVNode)("span",null,"çªç ´æ‰€éœ€:",-1)),(0,a.createElementVNode)("span",fA,(0,a.toDisplayString)(f(l.value)),1)])):(0,a.createCommentVNode)("v-if",!0)])]),(0,a.createCommentVNode)(" å¤§é“é˜¶æ®µåˆ—è¡¨ "),v(l.value)?.é˜¶æ®µåˆ—è¡¨?.length?((0,a.openBlock)(),(0,a.createElementBlock)("div",bA,[n[18]||(n[18]=(0,a.createElementVNode)("h4",null,"å¢ƒç•Œé˜¶æ®µ",-1)),(0,a.createElementVNode)("div",hA,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(v(l.value)?.é˜¶æ®µåˆ—è¡¨,(e,n)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:n,class:(0,a.normalizeClass)(["stage-item",{completed:n&lt;(d.value?.å½“å‰é˜¶æ®µ??0),current:n===(d.value?.å½“å‰é˜¶æ®µ??0),locked:n&gt;(d.value?.å½“å‰é˜¶æ®µ??0)}])},[(0,a.createElementVNode)("div",yA,[n&lt;(d.value?.å½“å‰é˜¶æ®µ??0)?((0,a.openBlock)(),(0,a.createElementBlock)("span",xA,"âœ…")):n===(d.value?.å½“å‰é˜¶æ®µ??0)?((0,a.openBlock)(),(0,a.createElementBlock)("span",kA,"ğŸ”¥")):((0,a.openBlock)(),(0,a.createElementBlock)("span",wA,"ğŸ”’"))]),(0,a.createElementVNode)("div",NA,[(0,a.createElementVNode)("div",EA,(0,a.toDisplayString)(e.åç§°),1),(0,a.createElementVNode)("div",VA,(0,a.toDisplayString)(e.æè¿°),1),(0,a.createCommentVNode)(' åªæœ‰æœªè¾¾åˆ°çš„é˜¶æ®µæ‰æ˜¾ç¤º"éœ€è¦ç»éªŒ" '),n&gt;(d.value?.å½“å‰é˜¶æ®µ??0)?((0,a.openBlock)(),(0,a.createElementBlock)("div",CA," çªç ´æ‰€éœ€: "+(0,a.toDisplayString)(e.çªç ´ç»éªŒ),1)):(0,a.createCommentVNode)("v-if",!0)])],2))),128))])])):(0,a.createCommentVNode)("v-if",!0)]),(0,a.createElementVNode)("div",zA,[(0,a.createElementVNode)("button",{class:"action-btn cultivate-dao",onClick:n[1]||(n[1]=e=&gt;{return n=l.value,console.log("[ä¸‰åƒå¤§é“é¢æ¿] å¼€å§‹æ„Ÿæ‚Ÿå¤§é“:",n),o.addAction({type:"comprehend",itemName:n,itemType:"å¤§é“",description:`æ·±å…¥æ„Ÿæ‚Ÿã€Š${n}ã€‹ï¼Œé¢†æ‚Ÿå…¶ä¸­å¥¥ä¹‰`}),void console.log("[ä¸‰åƒå¤§é“é¢æ¿] å·²å°†æ„Ÿæ‚Ÿå¤§é“åŠ¨ä½œåŠ å…¥é˜Ÿåˆ—");var n})},[(0,a.createVNode)((0,a.unref)(Bi),{size:16}),n[19]||(n[19]=(0,a.createTextVNode)(" æ·±å…¥æ„Ÿæ‚Ÿæ­¤é“ ",-1))])])])):(0,a.createCommentVNode)("v-if",!0)])]))}});var BA=t(4244),DA={};DA.styleTagTransform=A(),DA.setAttributes=z(),DA.insert=V().bind(null,"head"),DA.domAPI=N(),DA.insertStyleElement=B(),k()(BA.A,DA),BA.A&amp;&amp;BA.A.locals&amp;&amp;BA.A.locals;const AA=(0,j.A)(SA,[["__scopeId","data-v-3c90b3e6"]]),_A={class:"settings-panel"},$A={class:"panel-header"},IA={class:"header-actions"},TA={class:"settings-container"},jA={class:"settings-section"},MA={class:"settings-list"},qA={class:"setting-item"},OA={class:"setting-control"},PA={class:"setting-item"},FA={class:"setting-control"},LA={class:"range-container"},YA={class:"range-value"},RA={class:"setting-item"},UA={class:"setting-control"},GA={class:"settings-section"},WA={class:"settings-list"},JA={class:"setting-item"},HA={class:"setting-control"},QA={class:"setting-switch"},KA={class:"setting-item"},XA={class:"setting-control"},ZA={class:"setting-switch"},e_={class:"settings-section"},n_={class:"settings-list"},t_={class:"setting-item"},a_={class:"setting-control"},o_={class:"setting-switch"},r_={key:0,class:"setting-item"},l_={class:"setting-control"},i_={class:"setting-switch"},c_={key:1,class:"setting-item"},s_={class:"setting-control"},d_={class:"setting-switch"},m_={class:"setting-item"},p_={class:"setting-control"},v_={class:"setting-switch"},u_={key:2,class:"setting-item"},g_={class:"setting-control"},f_={class:"settings-section"},b_={class:"settings-list"},h_={class:"setting-item"},y_={class:"setting-control"},x_={class:"setting-switch"},k_={key:0,class:"setting-item"},w_={class:"setting-control"},N_={class:"setting-switch"},E_={key:1,class:"setting-item"},V_={class:"setting-control"},C_={class:"setting-switch"},z_={class:"setting-item"},S_={class:"setting-control"},B_={class:"setting-item"},D_={class:"setting-control"},A_={class:"setting-item"},__={class:"setting-control"},$_=(0,a.defineComponent)({__name:"SettingsPanel",setup(e){const n=(0,a.reactive)({theme:"auto",uiScale:100,fontSize:"medium",fastAnimations:!1,showHints:!0,debugMode:!1,consoleDebug:!1,performanceMonitor:!1,enableQuestSystem:!0,questNotifications:!0,autoAcceptQuests:!1,enableNsfwMode:!0,nsfwGenderFilter:"all",enableSoundEffects:!0,backgroundMusic:!0,notificationSounds:!0,autoSyncTavern:!0,validateData:!0,backupBeforeSave:!0}),o=(0,a.ref)(!1),r=(0,a.ref)(!1);(0,a.watch)(n,()=&gt;{r.value=!0},{deep:!0}),(0,a.watch)(()=&gt;n.debugMode,e=&gt;{bg.Yz.setMode(e),bg.Yz.log("è®¾ç½®é¢æ¿","è°ƒè¯•æ¨¡å¼"+(e?"å·²å¯ç”¨":"å·²ç¦ç”¨"))});const l=()=&gt;{r.value=!0},i=async()=&gt;{if(!o.value){o.value=!0,bg.Yz.timeStart("ä¿å­˜è®¾ç½®");try{c(),localStorage.setItem("dad_game_settings",JSON.stringify(n)),bg.Yz.log("è®¾ç½®é¢æ¿","è®¾ç½®å·²ä¿å­˜åˆ°localStorage",n);try{const{useCharacterStore:e}=await Promise.resolve().then(t.bind(t,948)),a=e(),{useUnifiedCharacterData:o}=await Promise.resolve().then(t.bind(t,9142)),{characterData:r}=o();r.value&amp;&amp;r.value.ç³»ç»Ÿ?(r.value.ç³»ç»Ÿ.nsfwMode=n.enableNsfwMode,r.value.ç³»ç»Ÿ.nsfwGenderFilter=n.nsfwGenderFilter,await a.syncToTavernAndSave({changedPaths:["ç³»ç»Ÿ.nsfwMode","ç³»ç»Ÿ.nsfwGenderFilter"]}),bg.Yz.log("è®¾ç½®é¢æ¿","NSFWè®¾ç½®å·²åŒæ­¥åˆ°å­˜æ¡£å’Œé…’é¦†")):bg.Yz.warn("è®¾ç½®é¢æ¿","å½“å‰æ²¡æœ‰æ¿€æ´»çš„å­˜æ¡£ï¼ŒNSFWè®¾ç½®ä»…ä¿å­˜åˆ°localStorage")}catch(e){bg.Yz.error("è®¾ç½®é¢æ¿","åŒæ­¥NSFWè®¾ç½®åˆ°å­˜æ¡£å¤±è´¥ï¼ˆéè‡´å‘½ï¼‰",e)}await s(),r.value=!1,d.o.success("è®¾ç½®å·²ä¿å­˜å¹¶åº”ç”¨")}catch(e){bg.Yz.error("è®¾ç½®é¢æ¿","ä¿å­˜è®¾ç½®å¤±è´¥",e),d.o.error(`ä¿å­˜è®¾ç½®å¤±è´¥: ${e instanceof Error?e.message:"æœªçŸ¥é”™è¯¯"}`)}finally{o.value=!1,bg.Yz.timeEnd("ä¿å­˜è®¾ç½®")}}},c=()=&gt;{bg.Yz.group("è®¾ç½®éªŒè¯");try{(n.uiScale&lt;50||n.uiScale&gt;200)&amp;&amp;(n.uiScale=Math.max(50,Math.min(200,n.uiScale)),bg.Yz.warn("è®¾ç½®é¢æ¿",`UIç¼©æ”¾å€¼å·²ä¿®æ­£ä¸º: ${n.uiScale}%`)),bg.Yz.log("è®¾ç½®é¢æ¿","è®¾ç½®éªŒè¯å®Œæˆ")}catch(e){throw bg.Yz.error("è®¾ç½®é¢æ¿","è®¾ç½®éªŒè¯å¤±è´¥",e),new Error("è®¾ç½®éªŒè¯å¤±è´¥")}finally{bg.Yz.groupEnd()}},s=async()=&gt;{bg.Yz.group("åº”ç”¨è®¾ç½®");try{m(),p(),v(),u(),bg.Yz.setMode(n.debugMode),bg.Yz.log("è®¾ç½®é¢æ¿","æ‰€æœ‰è®¾ç½®å·²åº”ç”¨")}catch(e){throw bg.Yz.error("è®¾ç½®é¢æ¿","åº”ç”¨è®¾ç½®æ—¶å‡ºé”™",e),e}finally{bg.Yz.groupEnd()}},m=()=&gt;{let e=n.theme;"auto"===n.theme&amp;&amp;(e=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),document.documentElement.setAttribute("data-theme",e),bg.Yz.log("è®¾ç½®é¢æ¿",`ä¸»é¢˜å·²åº”ç”¨: ${e}`)},p=()=&gt;{const e=n.uiScale/100;document.documentElement.style.setProperty("--ui-scale",e.toString()),bg.Yz.log("è®¾ç½®é¢æ¿",`UIç¼©æ”¾å·²åº”ç”¨: ${n.uiScale}%`)},v=()=&gt;{const e={small:"0.875rem",medium:"1rem",large:"1.125rem"}[n.fontSize]||"1rem";document.documentElement.style.setProperty("--base-font-size",e),bg.Yz.log("è®¾ç½®é¢æ¿",`å­—ä½“å¤§å°å·²åº”ç”¨: ${n.fontSize} (${e})`)},u=()=&gt;{const e=n.fastAnimations?"0.5":"1";document.documentElement.style.setProperty("--animation-speed",e),bg.Yz.log("è®¾ç½®é¢æ¿",`åŠ¨ç”»é€Ÿåº¦å·²åº”ç”¨: ${e}x`)},g=(0,q.useUIStore)(),f=()=&gt;{g.showRetryDialog({title:"é‡ç½®è®¾ç½®",message:"ç¡®å®šè¦é‡ç½®æ‰€æœ‰è®¾ç½®ä¸ºé»˜è®¤å€¼å—ï¼Ÿè¿™å°†æ¸…é™¤æ‰€æœ‰è‡ªå®šä¹‰é…ç½®ã€‚",confirmText:"ç¡®è®¤é‡ç½®",cancelText:"å–æ¶ˆ",onConfirm:()=&gt;{bg.Yz.log("è®¾ç½®é¢æ¿","å¼€å§‹é‡ç½®è®¾ç½®"),Object.assign(n,{theme:"auto",uiScale:100,fontSize:"medium",fastAnimations:!1,showHints:!0,debugMode:!1,consoleDebug:!1,performanceMonitor:!1,enableQuestSystem:!0,questNotifications:!0,autoAcceptQuests:!1,enableNsfwMode:!0,nsfwGenderFilter:"all",enableSoundEffects:!0,backgroundMusic:!0,notificationSounds:!0,autoSyncTavern:!0,validateData:!0,backupBeforeSave:!0}),i(),d.o.info("è®¾ç½®å·²é‡ç½®ä¸ºé»˜è®¤å€¼")},onCancel:()=&gt;{}})},b=async()=&gt;{g.showRetryDialog({title:"æ¸…ç†ç¼“å­˜",message:"ç¡®å®šè¦æ¸…ç†ç¼“å­˜å—ï¼Ÿè¿™å°†åˆ é™¤ä¸´æ—¶æ•°æ®ä½†ä¸ä¼šå½±å“å­˜æ¡£ã€‚",confirmText:"ç¡®è®¤æ¸…ç†",cancelText:"å–æ¶ˆ",onConfirm:async()=&gt;{bg.Yz.log("è®¾ç½®é¢æ¿","å¼€å§‹æ¸…ç†ç¼“å­˜");try{const e=[];for(let n=0;n<localstorage.length;n++){const t="localStorage.key(n);t&amp;&amp;(t.startsWith(&quot;dad_cache_&quot;)||t.startsWith(&quot;temp_&quot;)||t.startsWith(&quot;debug_&quot;)||t.includes(&quot;_temp&quot;))&amp;&amp;e.push(t)}e.forEach(e=">localStorage.removeItem(e)),sessionStorage.clear(),bg.Yz.log("è®¾ç½®é¢æ¿",`ç¼“å­˜æ¸…ç†å®Œæˆï¼Œå…±æ¸…ç† ${e.length} é¡¹æ•°æ®`),d.o.success(`å·²æ¸…ç† ${e.length} é¡¹ç¼“å­˜æ•°æ®`)}catch(e){bg.Yz.error("è®¾ç½®é¢æ¿","æ¸…ç†ç¼“å­˜å¤±è´¥",e),d.o.error("æ¸…ç†ç¼“å­˜å¤±è´¥")}},onCancel:()=&gt;{}})},h=()=&gt;{bg.Yz.log("è®¾ç½®é¢æ¿","å¼€å§‹å¯¼å‡ºè®¾ç½®");try{const e={settings:n,exportInfo:{timestamp:(new Date).toISOString(),version:"1.0.0",userAgent:navigator.userAgent,gameVersion:"å¤§é“æœå¤© v1.0.0"}},t=JSON.stringify(e,null,2),a=new Blob([t],{type:"application/json"}),o=document.createElement("a");o.href=URL.createObjectURL(a);const r=(new Date).toISOString().split("T")[0];o.download=`å¤§é“æœå¤©-è®¾ç½®å¤‡ä»½-${r}.json`,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(o.href),bg.Yz.log("è®¾ç½®é¢æ¿","è®¾ç½®å¯¼å‡ºæˆåŠŸ"),d.o.success("è®¾ç½®å·²å¯¼å‡º")}catch(e){bg.Yz.error("è®¾ç½®é¢æ¿","å¯¼å‡ºè®¾ç½®å¤±è´¥",e),d.o.error("å¯¼å‡ºè®¾ç½®å¤±è´¥")}},y=()=&gt;{bg.Yz.log("è®¾ç½®é¢æ¿","å¼€å§‹å¯¼å…¥è®¾ç½®");const e=document.createElement("input");e.type="file",e.accept=".json",e.onchange=async e=&gt;{const t=e.target.files?.[0];if(t)try{const e=await t.text(),a=JSON.parse(e);if(!a.settings)throw new Error("æ— æ•ˆçš„è®¾ç½®æ–‡ä»¶æ ¼å¼");{const e={...n,...a.settings};Object.assign(n,e),await i(),bg.Yz.log("è®¾ç½®é¢æ¿","è®¾ç½®å¯¼å…¥æˆåŠŸ",a),d.o.success("è®¾ç½®å¯¼å…¥æˆåŠŸå¹¶å·²åº”ç”¨")}}catch(e){bg.Yz.error("è®¾ç½®é¢æ¿","å¯¼å…¥è®¾ç½®å¤±è´¥",e),d.o.error("å¯¼å…¥è®¾ç½®å¤±è´¥ï¼Œè¯·æ£€æŸ¥æ–‡ä»¶æ ¼å¼")}},e.click()};return(0,a.onMounted)(()=&gt;{bg.Yz.log("è®¾ç½®é¢æ¿","ç»„ä»¶å·²åŠ è½½"),(async()=&gt;{bg.Yz.timeStart("åŠ è½½è®¾ç½®");try{const e=localStorage.getItem("dad_game_settings");if(e){const t=JSON.parse(e);Object.assign(n,t),bg.Yz.log("è®¾ç½®é¢æ¿","è®¾ç½®åŠ è½½æˆåŠŸ",t)}else bg.Yz.log("è®¾ç½®é¢æ¿","ä½¿ç”¨é»˜è®¤è®¾ç½®");try{const{useUnifiedCharacterData:e}=await Promise.resolve().then(t.bind(t,9142)),{characterData:a}=e();if(a.value&amp;&amp;a.value.ç³»ç»Ÿ){const e=a.value.ç³»ç»Ÿ.nsfwMode,t=a.value.ç³»ç»Ÿ.nsfwGenderFilter;void 0!==e&amp;&amp;(n.enableNsfwMode=e,bg.Yz.log("è®¾ç½®é¢æ¿",`å·²ä»å­˜æ¡£è¯»å–nsfwMode: ${e}`)),void 0!==t&amp;&amp;(n.nsfwGenderFilter=t,bg.Yz.log("è®¾ç½®é¢æ¿",`å·²ä»å­˜æ¡£è¯»å–nsfwGenderFilter: ${t}`))}}catch{bg.Yz.log("è®¾ç½®é¢æ¿","å½“å‰æ²¡æœ‰æ¿€æ´»çš„å­˜æ¡£ï¼Œä½¿ç”¨localStorageä¸­çš„NSFWè®¾ç½®")}}catch(e){bg.Yz.error("è®¾ç½®é¢æ¿","åŠ è½½è®¾ç½®å¤±è´¥",e),d.o.error("åŠ è½½è®¾ç½®å¤±è´¥ï¼Œå°†ä½¿ç”¨é»˜è®¤è®¾ç½®")}finally{bg.Yz.timeEnd("åŠ è½½è®¾ç½®")}})()}),(e,t)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",_A,[(0,a.createCommentVNode)(" å¤´éƒ¨ "),(0,a.createElementVNode)("div",$A,[t[15]||(t[15]=(0,a.createStaticVNode)('<div class="header-left" data-v-1063ac62=""><div class="header-icon" data-v-1063ac62="">âš™ï¸</div><div class="header-info" data-v-1063ac62=""><h3 class="panel-title" data-v-1063ac62="">æ¸¸æˆè®¾ç½®</h3><span class="settings-subtitle" data-v-1063ac62="">è‡ªå®šä¹‰æ‚¨çš„æ¸¸æˆä½“éªŒ</span></div></div>',1)),(0,a.createElementVNode)("div",IA,[(0,a.createElementVNode)("button",{class:"action-btn",onClick:f},[(0,a.createVNode)((0,a.unref)(Vv),{size:16}),t[13]||(t[13]=(0,a.createElementVNode)("span",{class:"btn-text"},"é‡ç½®",-1))]),(0,a.createElementVNode)("button",{class:"action-btn primary",onClick:i},[(0,a.createVNode)((0,a.unref)(Ai),{size:16}),t[14]||(t[14]=(0,a.createElementVNode)("span",{class:"btn-text"},"ä¿å­˜",-1))])])]),(0,a.createCommentVNode)(" è®¾ç½®å†…å®¹ "),(0,a.createElementVNode)("div",TA,[(0,a.createCommentVNode)(" æ˜¾ç¤ºè®¾ç½® "),(0,a.createElementVNode)("div",jA,[t[21]||(t[21]=(0,a.createElementVNode)("div",{class:"section-header"},[(0,a.createElementVNode)("h4",{class:"section-title"},"ğŸ¨ æ˜¾ç¤ºè®¾ç½®")],-1)),(0,a.createElementVNode)("div",MA,[(0,a.createElementVNode)("div",qA,[t[17]||(t[17]=(0,a.createElementVNode)("div",{class:"setting-info"},[(0,a.createElementVNode)("label",{class:"setting-name"},"ä¸»é¢˜æ¨¡å¼"),(0,a.createElementVNode)("span",{class:"setting-desc"},"é€‰æ‹©æ˜äº®æˆ–æš—é»‘ä¸»é¢˜")],-1)),(0,a.createElementVNode)("div",OA,[(0,a.withDirectives)((0,a.createElementVNode)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=&gt;n.theme=e),class:"setting-select",onChange:l},t[16]||(t[16]=[(0,a.createElementVNode)("option",{value:"light"},"æ˜äº®",-1),(0,a.createElementVNode)("option",{value:"dark"},"æš—é»‘",-1),(0,a.createElementVNode)("option",{value:"auto"},"è·Ÿéšç³»ç»Ÿ",-1)]),544),[[a.vModelSelect,n.theme]])])]),(0,a.createElementVNode)("div",PA,[t[18]||(t[18]=(0,a.createElementVNode)("div",{class:"setting-info"},[(0,a.createElementVNode)("label",{class:"setting-name"},"ç•Œé¢ç¼©æ”¾"),(0,a.createElementVNode)("span",{class:"setting-desc"},"è°ƒæ•´UIç•Œé¢å¤§å°")],-1)),(0,a.createElementVNode)("div",FA,[(0,a.createElementVNode)("div",LA,[(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"range","onUpdate:modelValue":t[1]||(t[1]=e=&gt;n.uiScale=e),min:"80",max:"120",step:"5",class:"setting-range",onInput:p},null,544),[[a.vModelText,n.uiScale,void 0,{number:!0}]]),(0,a.createElementVNode)("span",YA,(0,a.toDisplayString)(n.uiScale)+"%",1)])])]),(0,a.createElementVNode)("div",RA,[t[20]||(t[20]=(0,a.createElementVNode)("div",{class:"setting-info"},[(0,a.createElementVNode)("label",{class:"setting-name"},"æ–‡å­—å¤§å°"),(0,a.createElementVNode)("span",{class:"setting-desc"},"è°ƒæ•´æ¸¸æˆæ–‡å­—æ˜¾ç¤ºå¤§å°")],-1)),(0,a.createElementVNode)("div",UA,[(0,a.withDirectives)((0,a.createElementVNode)("select",{"onUpdate:modelValue":t[2]||(t[2]=e=&gt;n.fontSize=e),class:"setting-select",onChange:v},t[19]||(t[19]=[(0,a.createElementVNode)("option",{value:"small"},"å°",-1),(0,a.createElementVNode)("option",{value:"medium"},"ä¸­",-1),(0,a.createElementVNode)("option",{value:"large"},"å¤§",-1)]),544),[[a.vModelSelect,n.fontSize]])])])])]),(0,a.createCommentVNode)(" æ¸¸æˆè®¾ç½® "),(0,a.createElementVNode)("div",GA,[t[26]||(t[26]=(0,a.createElementVNode)("div",{class:"section-header"},[(0,a.createElementVNode)("h4",{class:"section-title"},"ğŸ® æ¸¸æˆè®¾ç½®")],-1)),(0,a.createElementVNode)("div",WA,[(0,a.createElementVNode)("div",JA,[t[23]||(t[23]=(0,a.createElementVNode)("div",{class:"setting-info"},[(0,a.createElementVNode)("label",{class:"setting-name"},"å¿«é€ŸåŠ¨ç”»"),(0,a.createElementVNode)("span",{class:"setting-desc"},"åŠ é€Ÿç•Œé¢åŠ¨ç”»å’Œè¿‡æ¸¡æ•ˆæœ")],-1)),(0,a.createElementVNode)("div",HA,[(0,a.createElementVNode)("label",QA,[(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=e=&gt;n.fastAnimations=e)},null,512),[[a.vModelCheckbox,n.fastAnimations]]),t[22]||(t[22]=(0,a.createElementVNode)("span",{class:"switch-slider"},null,-1))])])]),(0,a.createElementVNode)("div",KA,[t[25]||(t[25]=(0,a.createElementVNode)("div",{class:"setting-info"},[(0,a.createElementVNode)("label",{class:"setting-name"},"æ˜¾ç¤ºæç¤º"),(0,a.createElementVNode)("span",{class:"setting-desc"},"æ˜¾ç¤ºæ“ä½œæç¤ºå’Œå¸®åŠ©ä¿¡æ¯")],-1)),(0,a.createElementVNode)("div",XA,[(0,a.createElementVNode)("label",ZA,[(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"checkbox","onUpdate:modelValue":t[4]||(t[4]=e=&gt;n.showHints=e)},null,512),[[a.vModelCheckbox,n.showHints]]),t[24]||(t[24]=(0,a.createElementVNode)("span",{class:"switch-slider"},null,-1))])])])])]),(0,a.createCommentVNode)(" æ¸¸æˆåŠŸèƒ½ "),(0,a.createElementVNode)("div",e_,[t[37]||(t[37]=(0,a.createElementVNode)("div",{class:"section-header"},[(0,a.createElementVNode)("h4",{class:"section-title"},"ğŸ® æ¸¸æˆåŠŸèƒ½")],-1)),(0,a.createElementVNode)("div",n_,[(0,a.createElementVNode)("div",t_,[t[28]||(t[28]=(0,a.createElementVNode)("div",{class:"setting-info"},[(0,a.createElementVNode)("label",{class:"setting-name"},"ä»»åŠ¡ç³»ç»Ÿ"),(0,a.createElementVNode)("span",{class:"setting-desc"},"å¯ç”¨ä»»åŠ¡è¿½è¸ªå’Œå®Œæˆç³»ç»Ÿ")],-1)),(0,a.createElementVNode)("div",a_,[(0,a.createElementVNode)("label",o_,[(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"checkbox","onUpdate:modelValue":t[5]||(t[5]=e=&gt;n.enableQuestSystem=e)},null,512),[[a.vModelCheckbox,n.enableQuestSystem]]),t[27]||(t[27]=(0,a.createElementVNode)("span",{class:"switch-slider"},null,-1))])])]),n.enableQuestSystem?((0,a.openBlock)(),(0,a.createElementBlock)("div",r_,[t[30]||(t[30]=(0,a.createElementVNode)("div",{class:"setting-info"},[(0,a.createElementVNode)("label",{class:"setting-name"},"ä»»åŠ¡æé†’"),(0,a.createElementVNode)("span",{class:"setting-desc"},"æ–°ä»»åŠ¡å’Œå®Œæˆæ—¶çš„é€šçŸ¥æé†’")],-1)),(0,a.createElementVNode)("div",l_,[(0,a.createElementVNode)("label",i_,[(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"checkbox","onUpdate:modelValue":t[6]||(t[6]=e=&gt;n.questNotifications=e)},null,512),[[a.vModelCheckbox,n.questNotifications]]),t[29]||(t[29]=(0,a.createElementVNode)("span",{class:"switch-slider"},null,-1))])])])):(0,a.createCommentVNode)("v-if",!0),n.enableQuestSystem?((0,a.openBlock)(),(0,a.createElementBlock)("div",c_,[t[32]||(t[32]=(0,a.createElementVNode)("div",{class:"setting-info"},[(0,a.createElementVNode)("label",{class:"setting-name"},"è‡ªåŠ¨æ¥å–ä»»åŠ¡"),(0,a.createElementVNode)("span",{class:"setting-desc"},"è‡ªåŠ¨æ¥å–é€‚åˆç­‰çº§çš„ä»»åŠ¡")],-1)),(0,a.createElementVNode)("div",s_,[(0,a.createElementVNode)("label",d_,[(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"checkbox","onUpdate:modelValue":t[7]||(t[7]=e=&gt;n.autoAcceptQuests=e)},null,512),[[a.vModelCheckbox,n.autoAcceptQuests]]),t[31]||(t[31]=(0,a.createElementVNode)("span",{class:"switch-slider"},null,-1))])])])):(0,a.createCommentVNode)("v-if",!0),(0,a.createElementVNode)("div",m_,[t[34]||(t[34]=(0,a.createElementVNode)("div",{class:"setting-info"},[(0,a.createElementVNode)("label",{class:"setting-name"},"ğŸ” å¯ç”¨æˆäººå†…å®¹ï¼ˆç§å¯†ä¿¡æ¯ï¼‰"),(0,a.createElementVNode)("span",{class:"setting-desc"},"ç”Ÿæˆå’Œæ˜¾ç¤ºNPCçš„ç§å¯†ä¿¡æ¯æ¨¡å—ï¼ˆåŒ…å«æˆäººå‘å†…å®¹ï¼Œé»˜è®¤å¼€å¯ï¼‰")],-1)),(0,a.createElementVNode)("div",p_,[(0,a.createElementVNode)("label",v_,[(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"checkbox","onUpdate:modelValue":t[8]||(t[8]=e=&gt;n.enableNsfwMode=e)},null,512),[[a.vModelCheckbox,n.enableNsfwMode]]),t[33]||(t[33]=(0,a.createElementVNode)("span",{class:"switch-slider"},null,-1))])])]),n.enableNsfwMode?((0,a.openBlock)(),(0,a.createElementBlock)("div",u_,[t[36]||(t[36]=(0,a.createElementVNode)("div",{class:"setting-info"},[(0,a.createElementVNode)("label",{class:"setting-name"},"ğŸ‘¥ ç§å¯†ä¿¡æ¯ç”ŸæˆèŒƒå›´"),(0,a.createElementVNode)("span",{class:"setting-desc"},"é€‰æ‹©ä¸ºå“ªäº›æ€§åˆ«çš„NPCç”Ÿæˆç§å¯†ä¿¡æ¯")],-1)),(0,a.createElementVNode)("div",g_,[(0,a.withDirectives)((0,a.createElementVNode)("select",{"onUpdate:modelValue":t[9]||(t[9]=e=&gt;n.nsfwGenderFilter=e),class:"setting-select"},t[35]||(t[35]=[(0,a.createElementVNode)("option",{value:"all"},"æ‰€æœ‰NPC",-1),(0,a.createElementVNode)("option",{value:"female"},"ä»…å¥³æ€§",-1),(0,a.createElementVNode)("option",{value:"male"},"ä»…ç”·æ€§",-1)]),512),[[a.vModelSelect,n.nsfwGenderFilter]])])])):(0,a.createCommentVNode)("v-if",!0)])]),(0,a.createCommentVNode)(" é«˜çº§è®¾ç½® "),(0,a.createElementVNode)("div",f_,[t[50]||(t[50]=(0,a.createElementVNode)("div",{class:"section-header"},[(0,a.createElementVNode)("h4",{class:"section-title"},"ğŸ”§ é«˜çº§è®¾ç½®")],-1)),(0,a.createElementVNode)("div",b_,[(0,a.createElementVNode)("div",h_,[t[39]||(t[39]=(0,a.createElementVNode)("div",{class:"setting-info"},[(0,a.createElementVNode)("label",{class:"setting-name"},"è°ƒè¯•æ¨¡å¼"),(0,a.createElementVNode)("span",{class:"setting-desc"},"å¯ç”¨å¼€å‘è€…è°ƒè¯•ä¿¡æ¯å’Œè¯¦ç»†æ—¥å¿—")],-1)),(0,a.createElementVNode)("div",y_,[(0,a.createElementVNode)("label",x_,[(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"checkbox","onUpdate:modelValue":t[10]||(t[10]=e=&gt;n.debugMode=e),onChange:l},null,544),[[a.vModelCheckbox,n.debugMode]]),t[38]||(t[38]=(0,a.createElementVNode)("span",{class:"switch-slider"},null,-1))])])]),n.debugMode?((0,a.openBlock)(),(0,a.createElementBlock)("div",k_,[t[41]||(t[41]=(0,a.createElementVNode)("div",{class:"setting-info"},[(0,a.createElementVNode)("label",{class:"setting-name"},"æ§åˆ¶å°è°ƒè¯•"),(0,a.createElementVNode)("span",{class:"setting-desc"},"åœ¨æµè§ˆå™¨æ§åˆ¶å°æ˜¾ç¤ºè¯¦ç»†è°ƒè¯•ä¿¡æ¯")],-1)),(0,a.createElementVNode)("div",w_,[(0,a.createElementVNode)("label",N_,[(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"checkbox","onUpdate:modelValue":t[11]||(t[11]=e=&gt;n.consoleDebug=e),onChange:l},null,544),[[a.vModelCheckbox,n.consoleDebug]]),t[40]||(t[40]=(0,a.createElementVNode)("span",{class:"switch-slider"},null,-1))])])])):(0,a.createCommentVNode)("v-if",!0),n.debugMode?((0,a.openBlock)(),(0,a.createElementBlock)("div",E_,[t[43]||(t[43]=(0,a.createElementVNode)("div",{class:"setting-info"},[(0,a.createElementVNode)("label",{class:"setting-name"},"æ€§èƒ½ç›‘æ§"),(0,a.createElementVNode)("span",{class:"setting-desc"},"ç›‘æ§ç»„ä»¶æ€§èƒ½å’ŒåŠ è½½æ—¶é—´")],-1)),(0,a.createElementVNode)("div",V_,[(0,a.createElementVNode)("label",C_,[(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"checkbox","onUpdate:modelValue":t[12]||(t[12]=e=&gt;n.performanceMonitor=e),onChange:l},null,544),[[a.vModelCheckbox,n.performanceMonitor]]),t[42]||(t[42]=(0,a.createElementVNode)("span",{class:"switch-slider"},null,-1))])])])):(0,a.createCommentVNode)("v-if",!0),(0,a.createElementVNode)("div",z_,[t[45]||(t[45]=(0,a.createElementVNode)("div",{class:"setting-info"},[(0,a.createElementVNode)("label",{class:"setting-name"},"å¯¼å…¥è®¾ç½®"),(0,a.createElementVNode)("span",{class:"setting-desc"},"ä»æ–‡ä»¶æ¢å¤è®¾ç½®é…ç½®")],-1)),(0,a.createElementVNode)("div",S_,[(0,a.createElementVNode)("button",{class:"utility-btn",onClick:y},[(0,a.createVNode)((0,a.unref)(fd),{size:16}),t[44]||(t[44]=(0,a.createTextVNode)(" å¯¼å…¥ ",-1))])])]),(0,a.createElementVNode)("div",B_,[t[47]||(t[47]=(0,a.createElementVNode)("div",{class:"setting-info"},[(0,a.createElementVNode)("label",{class:"setting-name"},"æ¸…ç†ç¼“å­˜"),(0,a.createElementVNode)("span",{class:"setting-desc"},"æ¸…é™¤æ¸¸æˆä¸´æ—¶æ•°æ®å’Œç¼“å­˜")],-1)),(0,a.createElementVNode)("div",D_,[(0,a.createElementVNode)("button",{class:"utility-btn",onClick:b},[(0,a.createVNode)((0,a.unref)(Gn.A),{size:16}),t[46]||(t[46]=(0,a.createTextVNode)(" æ¸…ç† ",-1))])])]),(0,a.createElementVNode)("div",A_,[t[49]||(t[49]=(0,a.createElementVNode)("div",{class:"setting-info"},[(0,a.createElementVNode)("label",{class:"setting-name"},"å¯¼å‡ºè®¾ç½®"),(0,a.createElementVNode)("span",{class:"setting-desc"},"å¤‡ä»½å½“å‰è®¾ç½®é…ç½®")],-1)),(0,a.createElementVNode)("div",__,[(0,a.createElementVNode)("button",{class:"utility-btn",onClick:h},[(0,a.createVNode)((0,a.unref)(gd),{size:16}),t[48]||(t[48]=(0,a.createTextVNode)(" å¯¼å‡º ",-1))])])])])])])]))}});var I_=t(9262),T_={};T_.styleTagTransform=A(),T_.setAttributes=z(),T_.insert=V().bind(null,"head"),T_.domAPI=N(),T_.insertStyleElement=B(),k()(I_.A,T_),I_.A&amp;&amp;I_.A.locals&amp;&amp;I_.A.locals;const j_=(0,j.A)($_,[["__scopeId","data-v-1063ac62"]]),M_=(0,c.A)("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),q_=(0,c.A)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]),O_={class:"save-panel"},P_={class:"saves-container"},F_={key:0,class:"current-save-section"},L_={class:"section-header"},Y_={class:"section-title"},R_={class:"current-save-card"},U_={class:"save-preview"},G_={class:"preview-avatar"},W_={class:"preview-info"},J_={class:"character-name"},H_={class:"character-details"},Q_={class:"detail-item"},K_={class:"detail-item"},X_={key:0,class:"current-save-hint last"},Z_={class:"save-stats"},e$={class:"stat-item"},n$={class:"stat-value"},t$={class:"stat-item"},a$={class:"stat-value"},o$={class:"saves-section"},r$={class:"section-header"},l$={class:"header-actions"},i$=["disabled"],c$={class:"saves-count"},s$={key:0,class:"loading-state"},d$={key:1,class:"empty-state"},m$={key:2,class:"saves-list"},p$=["onClick"],v$={class:"card-header"},u$={class:"save-preview small"},g$={class:"preview-avatar small"},f$={class:"preview-info"},b$={class:"save-name"},h$={class:"character-name-small"},y$={class:"save-time"},x$={class:"card-actions"},k$=["onClick","disabled"],w$=["onClick","disabled"],N$=["onClick","disabled"],E$=["onClick","disabled","title"],V$={class:"card-content"},C$={class:"save-details"},z$={class:"detail-row"},S$={class:"detail-value"},B$={class:"detail-row"},D$={class:"detail-value"},A$={class:"detail-row"},_$={class:"detail-value"},$$={class:"operations-section"},I$={class:"operations-list"},T$=["disabled"],j$=["disabled"],M$=["disabled"],q$=(0,a.defineComponent)({__name:"SavePanel",setup(e){const n=(0,tn.useCharacterStore)(),{characterData:o,saveData:r}=(0,Li.useUnifiedCharacterData)(),l=(0,a.ref)(!1),i=(0,a.ref)(),c=(0,a.computed)(()=&gt;n.saveSlots.filter(e=&gt;null!==e&amp;&amp;null!==e.å­˜æ¡£æ•°æ®)),s=(0,a.computed)(()=&gt;n.activeSaveSlot),m=(0,a.computed)(()=&gt;null!==n.activeCharacterProfile),p=(0,a.computed)(()=&gt;c.value.filter(e=&gt;"ä¸Šæ¬¡å¯¹è¯"!==e.å­˜æ¡£å).length),v=async()=&gt;{l.value=!0;try{await n.loadSaves()}catch(e){bg.Yz.error("å­˜æ¡£é¢æ¿","åˆ·æ–°å¤±è´¥",e),d.o.error("åˆ·æ–°å­˜æ¡£åˆ—è¡¨å¤±è´¥")}finally{l.value=!1}},u=async()=&gt;{if(!m.value)return void d.o.warning("å½“å‰æ²¡æœ‰å¯å­˜æ¡£çš„æ¸¸æˆçŠ¶æ€");const e=window.prompt("è¯·è¾“å…¥æ–°å­˜æ¡£çš„åç§°ï¼š",`å­˜æ¡£_${(new Date).toLocaleString("zh-CN",{month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"})}`);if(e&amp;&amp;""!==e.trim()){l.value=!0;try{await n.syncToTavernAndSave(),await n.saveAsNewSlot(e.trim())&amp;&amp;await v()}catch(e){bg.Yz.error("å­˜æ¡£é¢æ¿","æ–°å»ºå­˜æ¡£å¤±è´¥",e),d.o.error("æ–°å»ºå­˜æ¡£å¤±è´¥")}finally{l.value=!1}}else d.o.info("å·²å–æ¶ˆæ–°å»ºå­˜æ¡£")},g=(0,q.useUIStore)(),f=()=&gt;{try{const e={saves:c.value,exportTime:(new Date).toISOString(),version:"1.0.0"},n=JSON.stringify(e,null,2),t=new Blob([n],{type:"application/json"}),a=document.createElement("a");a.href=URL.createObjectURL(t),a.download=`å¤§é“æœå¤©-å­˜æ¡£å¤‡ä»½-${(new Date).toISOString().split("T")[0]}.json`,a.click(),d.o.success("å­˜æ¡£å·²å¯¼å‡º")}catch(e){bg.Yz.error("å­˜æ¡£é¢æ¿","å¯¼å‡ºå¤±è´¥",e),d.o.error("å¯¼å‡ºå­˜æ¡£å¤±è´¥")}},b=()=&gt;{i.value?.click()},h=async e=&gt;{const t=e.target.files?.[0];if(t){l.value=!0;try{const e=await t.text(),a=JSON.parse(e);if(!a.saves||!Array.isArray(a.saves))throw new Error("æ— æ•ˆçš„å­˜æ¡£æ–‡ä»¶æ ¼å¼");for(const e of a.saves)await n.importSave(e);await v(),d.o.success(`æˆåŠŸå¯¼å…¥ ${a.saves.length} ä¸ªå­˜æ¡£`)}catch(e){bg.Yz.error("å­˜æ¡£é¢æ¿","å¯¼å…¥å¤±è´¥",e),d.o.error("å¯¼å…¥å­˜æ¡£å¤±è´¥: "+e.message)}finally{l.value=!1,i.value&amp;&amp;(i.value.value="")}}},y=async()=&gt;{g.showRetryDialog({title:"æ¸…ç©ºæ‰€æœ‰å­˜æ¡£",message:"ç¡®å®šè¦åˆ é™¤æ‰€æœ‰å­˜æ¡£å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ’¤é”€ï¼",confirmText:"ç»§ç»­",cancelText:"å–æ¶ˆ",onConfirm:()=&gt;{g.showRetryDialog({title:"å†æ¬¡ç¡®è®¤",message:"å†æ¬¡ç¡®è®¤ï¼šè¿™å°†æ°¸ä¹…åˆ é™¤æ‰€æœ‰å­˜æ¡£æ•°æ®ï¼",confirmText:"ç¡®è®¤æ¸…ç©º",cancelText:"å–æ¶ˆ",onConfirm:async()=&gt;{l.value=!0;try{await n.clearAllSaves(),d.o.success("æ‰€æœ‰å­˜æ¡£å·²æ¸…ç©º")}catch(e){bg.Yz.error("å­˜æ¡£é¢æ¿","æ¸…ç©ºå¤±è´¥",e),d.o.error("æ¸…ç©ºå­˜æ¡£å¤±è´¥")}finally{l.value=!1}},onCancel:()=&gt;{}})},onCancel:()=&gt;{}})},x=e=&gt;{if(!e)return"æœªçŸ¥";const n=new Date(e);if(isNaN(n.getTime()))return"æœªçŸ¥";const t=(new Date).getTime()-n.getTime();return t&lt;6e4?"åˆšåˆš":t&lt;36e5?`${Math.floor(t/6e4)}åˆ†é’Ÿå‰`:t&lt;864e5?`${Math.floor(t/36e5)}å°æ—¶å‰`:n.toLocaleDateString("zh-CN",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})};return(0,a.onMounted)(()=&gt;{v(),Oi.on("refresh",()=&gt;v()),Oi.on("save",()=&gt;(async()=&gt;{if(m.value){l.value=!0;try{await n.syncToTavernAndSave(),d.o.success("å¿«é€Ÿå­˜æ¡£å®Œæˆ")}catch(e){bg.Yz.error("å­˜æ¡£é¢æ¿","å¿«é€Ÿå­˜æ¡£å¤±è´¥",e),d.o.error("å¿«é€Ÿå­˜æ¡£å¤±è´¥")}finally{l.value=!1}}else d.o.warning("å½“å‰æ²¡æœ‰å¯å­˜æ¡£çš„æ¸¸æˆçŠ¶æ€")})())}),(e,o)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",O_,[(0,a.createCommentVNode)(" å­˜æ¡£å®¹å™¨ "),(0,a.createElementVNode)("div",P_,[(0,a.createCommentVNode)(" å½“å‰å­˜æ¡£çŠ¶æ€ "),s.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",F_,[(0,a.createElementVNode)("div",L_,[(0,a.createElementVNode)("h4",Y_,["ä¸Šæ¬¡å¯¹è¯"===s.value.å­˜æ¡£å?((0,a.openBlock)(),(0,a.createBlock)((0,a.unref)(M_),{key:0,size:16,class:"last-save-icon"})):(0,a.createCommentVNode)("v-if",!0),(0,a.createTextVNode)(" ğŸ“ å½“å‰è¿›åº¦ - "+(0,a.toDisplayString)(s.value.å­˜æ¡£å),1)])]),(0,a.createElementVNode)("div",R_,[(0,a.createElementVNode)("div",U_,[(0,a.createElementVNode)("div",G_,(0,a.toDisplayString)(s.value.è§’è‰²åå­—?.[0]||"é“"),1),(0,a.createElementVNode)("div",W_,[(0,a.createElementVNode)("div",J_,(0,a.toDisplayString)(s.value.è§’è‰²åå­—||"æ— åé“å‹"),1),(0,a.createElementVNode)("div",H_,[(0,a.createElementVNode)("span",Q_,(0,a.toDisplayString)(s.value.å¢ƒç•Œ||"å‡¡äºº"),1),o[0]||(o[0]=(0,a.createElementVNode)("span",{class:"detail-separator"},"Â·",-1)),(0,a.createElementVNode)("span",K_,(0,a.toDisplayString)(s.value.ä½ç½®||"æœªçŸ¥"),1)]),(0,a.createCommentVNode)(" ç‰¹æ®Šå­˜æ¡£è¯´æ˜ "),"ä¸Šæ¬¡å¯¹è¯"===s.value.å­˜æ¡£å?((0,a.openBlock)(),(0,a.createElementBlock)("div",X_," ğŸ”„ æ¯æ¬¡å¯¹è¯å‰è‡ªåŠ¨å¤‡ä»½ï¼Œå¯ç”¨äºå›é€€åˆ°ä¸Šæ¬¡å¯¹è¯å‰çš„çŠ¶æ€ ")):(0,a.createCommentVNode)("v-if",!0)])]),(0,a.createElementVNode)("div",Z_,[(0,a.createElementVNode)("div",e$,[o[1]||(o[1]=(0,a.createElementVNode)("span",{class:"stat-label"},"åˆ›å»ºæ—¶é—´",-1)),(0,a.createElementVNode)("span",n$,(0,a.toDisplayString)(x(s.value.ä¿å­˜æ—¶é—´||"")),1)]),(0,a.createElementVNode)("div",t$,[o[2]||(o[2]=(0,a.createElementVNode)("span",{class:"stat-label"},"æœ€åä¿å­˜",-1)),(0,a.createElementVNode)("span",a$,(0,a.toDisplayString)(x(s.value.æœ€åä¿å­˜æ—¶é—´||s.value.ä¿å­˜æ—¶é—´||"")),1)])])])])):(0,a.createCommentVNode)("v-if",!0),(0,a.createCommentVNode)(" å­˜æ¡£åˆ—è¡¨ "),(0,a.createElementVNode)("div",o$,[(0,a.createElementVNode)("div",r$,[o[3]||(o[3]=(0,a.createElementVNode)("h4",{class:"section-title"},"ğŸ’¿ å­˜æ¡£åˆ—è¡¨",-1)),(0,a.createElementVNode)("div",l$,[(0,a.createElementVNode)("button",{class:"new-save-btn",onClick:u,disabled:l.value,title:"æ–°å»ºå­˜æ¡£"},[(0,a.createVNode)((0,a.unref)(Ce),{size:16})],8,i$),(0,a.createElementVNode)("div",c$,(0,a.toDisplayString)(c.value.length)+"/10",1)])]),l.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",s$,o[4]||(o[4]=[(0,a.createElementVNode)("div",{class:"loading-spinner"},"â³",-1),(0,a.createElementVNode)("div",{class:"loading-text"},"æ­£åœ¨åŠ è½½å­˜æ¡£...",-1)]))):0===c.value.length?((0,a.openBlock)(),(0,a.createElementBlock)("div",d$,o[5]||(o[5]=[(0,a.createElementVNode)("div",{class:"empty-icon"},"ğŸ“‚",-1),(0,a.createElementVNode)("div",{class:"empty-text"},"ä¿®ä»™è·¯ä¸Šå°šæœªç•™å­˜ï¼Œåˆ›å»ºå­˜æ¡£è®°å½•é“é€”",-1),(0,a.createElementVNode)("div",{class:"empty-hint"},"å¼€å§‹æ¸¸æˆåå¯ä»¥åˆ›å»ºå­˜æ¡£",-1)]))):((0,a.openBlock)(),(0,a.createElementBlock)("div",m$,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(c.value,(e,r)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:e.id,class:(0,a.normalizeClass)(["save-card",{active:e.id===s.value?.id}]),onClick:n=&gt;(e=&gt;{bg.Yz.log("å­˜æ¡£é¢æ¿","é€‰æ‹©å­˜æ¡£",e)})(e)},[(0,a.createElementVNode)("div",v$,[(0,a.createElementVNode)("div",u$,[(0,a.createElementVNode)("div",g$,(0,a.toDisplayString)(e.è§’è‰²åå­—?.[0]||"é“"),1),(0,a.createElementVNode)("div",f$,[(0,a.createElementVNode)("div",b$,["ä¸Šæ¬¡å¯¹è¯"===e.å­˜æ¡£å?((0,a.openBlock)(),(0,a.createBlock)((0,a.unref)(M_),{key:0,size:14,class:"last-save-icon"})):(0,a.createCommentVNode)("v-if",!0),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.å­˜æ¡£å||`å­˜æ¡£${r+1}`),1)]),(0,a.createElementVNode)("div",h$,(0,a.toDisplayString)(e.è§’è‰²åå­—||"æ— åé“å‹"),1),(0,a.createCommentVNode)(" æ˜¾ç¤ºæœ€åä¿å­˜æ—¶é—´ "),(0,a.createElementVNode)("div",y$,(0,a.toDisplayString)(x(e.æœ€åä¿å­˜æ—¶é—´||e.ä¿å­˜æ—¶é—´||"")),1)])]),(0,a.createElementVNode)("div",x$,[e.id!==s.value?.id&amp;&amp;"ä¸Šæ¬¡å¯¹è¯"!==e.å­˜æ¡£å?((0,a.openBlock)(),(0,a.createElementBlock)("button",{key:0,class:"card-btn",onClick:(0,a.withModifiers)(t=&gt;(async e=&gt;{if(e){l.value=!0;try{await n.loadGameById(e.å­˜æ¡£å),d.o.success(`å·²åŠ è½½å­˜æ¡£: ${e.å­˜æ¡£å}`)}catch(e){bg.Yz.error("å­˜æ¡£é¢æ¿","åŠ è½½å¤±è´¥",e),d.o.error("åŠ è½½å­˜æ¡£å¤±è´¥")}finally{l.value=!1}}})(e),["stop"]),disabled:l.value,title:"è¯»å–å­˜æ¡£"},[(0,a.createVNode)((0,a.unref)(q_),{size:14})],8,k$)):(0,a.createCommentVNode)("v-if",!0),"ä¸Šæ¬¡å¯¹è¯"===e.å­˜æ¡£å?((0,a.openBlock)(),(0,a.createElementBlock)("button",{key:1,class:"card-btn warning",onClick:(0,a.withModifiers)(a=&gt;(async e=&gt;{if(!s.value)return void d.o.warning("æ²¡æœ‰å½“å‰æ¿€æ´»çš„å­˜æ¡£");const{useUIStore:a}=await Promise.resolve().then(t.bind(t,9173));a().showRetryDialog({title:"å›æ»šåˆ°ä¸Šæ¬¡å¯¹è¯",message:`ç¡®å®šè¦å°†"${e.å­˜æ¡£å}"çš„æ•°æ®è¦†ç›–åˆ°å½“å‰å­˜æ¡£"${s.value.å­˜æ¡£å}"å—ï¼Ÿå½“å‰è¿›åº¦å°†è¢«æ›¿æ¢ä¸ºä¸Šæ¬¡å¯¹è¯å‰çš„çŠ¶æ€ã€‚`,confirmText:"ç¡®è®¤å›æ»š",cancelText:"å–æ¶ˆ",onConfirm:async()=&gt;{l.value=!0;try{await n.rollbackToLastConversation(),d.o.success("å·²å›æ»šåˆ°ä¸Šæ¬¡å¯¹è¯å‰çš„çŠ¶æ€"),await v()}catch(e){bg.Yz.error("å­˜æ¡£é¢æ¿","å›æ»šå¤±è´¥",e),d.o.error(`å›æ»šå¤±è´¥: ${e instanceof Error?e.message:"æœªçŸ¥é”™è¯¯"}`)}finally{l.value=!1}},onCancel:()=&gt;{}})})(e),["stop"]),disabled:l.value||!s.value,title:"ç”¨ä¸Šæ¬¡å¯¹è¯çš„æ•°æ®è¦†ç›–å½“å‰å­˜æ¡£ï¼ˆå›æ»šï¼‰"},[(0,a.createVNode)((0,a.unref)(te),{size:14})],8,w$)):(0,a.createCommentVNode)("v-if",!0),"ä¸Šæ¬¡å¯¹è¯"!==e.å­˜æ¡£å?((0,a.openBlock)(),(0,a.createElementBlock)("button",{key:2,class:"card-btn primary",onClick:(0,a.withModifiers)(t=&gt;(async e=&gt;{m.value?g.showRetryDialog({title:"è¦†ç›–å­˜æ¡£",message:`ç¡®å®šè¦ç”¨å½“å‰æ¸¸æˆè¿›åº¦è¦†ç›–å­˜æ¡£"${e.å­˜æ¡£å}"å—ï¼ŸåŸå­˜æ¡£æ•°æ®å°†ä¸¢å¤±ã€‚`,confirmText:"ç¡®è®¤è¦†ç›–",cancelText:"å–æ¶ˆ",onConfirm:async()=&gt;{l.value=!0;try{await n.syncToTavernAndSave(),await n.saveToSlot(e.å­˜æ¡£å),d.o.success(`å·²è¦†ç›–å­˜æ¡£: ${e.å­˜æ¡£å}`),await v()}catch(e){bg.Yz.error("å­˜æ¡£é¢æ¿","è¦†ç›–å­˜æ¡£å¤±è´¥",e),d.o.error("è¦†ç›–å­˜æ¡£å¤±è´¥")}finally{l.value=!1}},onCancel:()=&gt;{}}):d.o.warning("å½“å‰æ²¡æœ‰å¯å­˜æ¡£çš„æ¸¸æˆçŠ¶æ€")})(e),["stop"]),disabled:l.value||!s.value,title:"ç”¨å½“å‰è¿›åº¦è¦†ç›–æ­¤å­˜æ¡£"},[(0,a.createVNode)((0,a.unref)(Ai),{size:14})],8,N$)):(0,a.createCommentVNode)("v-if",!0),(0,a.createElementVNode)("button",{class:"card-btn danger",onClick:(0,a.withModifiers)(t=&gt;(async e=&gt;{g.showRetryDialog({title:"åˆ é™¤å­˜æ¡£",message:`ç¡®å®šè¦åˆ é™¤å­˜æ¡£"${e.å­˜æ¡£å||"å­˜æ¡£"}"å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ’¤é”€ã€‚`,confirmText:"ç¡®è®¤åˆ é™¤",cancelText:"å–æ¶ˆ",onConfirm:async()=&gt;{l.value=!0;try{await n.deleteSaveById(e.å­˜æ¡£å),d.o.success("å­˜æ¡£å·²åˆ é™¤"),await v()}catch(e){bg.Yz.error("å­˜æ¡£é¢æ¿","åˆ é™¤å¤±è´¥",e),d.o.error("åˆ é™¤å­˜æ¡£å¤±è´¥")}finally{l.value=!1}},onCancel:()=&gt;{}})})(e),["stop"]),disabled:l.value||"ä¸Šæ¬¡å¯¹è¯"===e.å­˜æ¡£å||p.value&lt;=1,title:"ä¸Šæ¬¡å¯¹è¯"===e.å­˜æ¡£å?"ä¸Šæ¬¡å¯¹è¯å­˜æ¡£ä¸å¯åˆ é™¤":p.value&lt;=1?"æœ€åä¸€ä¸ªå­˜æ¡£ï¼Œæ— æ³•åˆ é™¤":"åˆ é™¤å­˜æ¡£"},[(0,a.createVNode)((0,a.unref)(Gn.A),{size:14})],8,E$)])]),(0,a.createElementVNode)("div",V$,[(0,a.createElementVNode)("div",C$,[(0,a.createElementVNode)("div",z$,[o[6]||(o[6]=(0,a.createElementVNode)("span",{class:"detail-label"},"å¢ƒç•Œ:",-1)),(0,a.createElementVNode)("span",S$,(0,a.toDisplayString)(e.å¢ƒç•Œ||"å‡¡äºº"),1)]),(0,a.createElementVNode)("div",B$,[o[7]||(o[7]=(0,a.createElementVNode)("span",{class:"detail-label"},"ä½ç½®:",-1)),(0,a.createElementVNode)("span",D$,(0,a.toDisplayString)(e.ä½ç½®||"æœªçŸ¥"),1)]),(0,a.createElementVNode)("div",A$,[o[8]||(o[8]=(0,a.createElementVNode)("span",{class:"detail-label"},"ä¿®æ”¹:",-1)),(0,a.createElementVNode)("span",_$,(0,a.toDisplayString)(x(e.æœ€åä¿å­˜æ—¶é—´||e.ä¿å­˜æ—¶é—´||"")),1)])])])],10,p$))),128))]))]),(0,a.createCommentVNode)(" å­˜æ¡£æ“ä½œ "),(0,a.createElementVNode)("div",$$,[o[12]||(o[12]=(0,a.createElementVNode)("div",{class:"section-header"},[(0,a.createElementVNode)("h4",{class:"section-title"},"ğŸ› ï¸ å­˜æ¡£æ“ä½œ")],-1)),(0,a.createElementVNode)("div",I$,[(0,a.createElementVNode)("button",{class:"operation-btn",onClick:f,disabled:l.value||0===c.value.length},[(0,a.createVNode)((0,a.unref)(gd),{size:16}),o[9]||(o[9]=(0,a.createElementVNode)("div",{class:"btn-content"},[(0,a.createElementVNode)("span",{class:"btn-title"},"å¯¼å‡ºå­˜æ¡£"),(0,a.createElementVNode)("span",{class:"btn-desc"},"å¤‡ä»½æ‰€æœ‰å­˜æ¡£åˆ°æ–‡ä»¶")],-1))],8,T$),(0,a.createElementVNode)("button",{class:"operation-btn",onClick:b,disabled:l.value},[(0,a.createVNode)((0,a.unref)(fd),{size:16}),o[10]||(o[10]=(0,a.createElementVNode)("div",{class:"btn-content"},[(0,a.createElementVNode)("span",{class:"btn-title"},"å¯¼å…¥å­˜æ¡£"),(0,a.createElementVNode)("span",{class:"btn-desc"},"ä»æ–‡ä»¶æ¢å¤å­˜æ¡£")],-1))],8,j$),(0,a.createElementVNode)("button",{class:"operation-btn danger",onClick:y,disabled:l.value||0===c.value.length},[(0,a.createVNode)((0,a.unref)(Gn.A),{size:16}),o[11]||(o[11]=(0,a.createElementVNode)("div",{class:"btn-content"},[(0,a.createElementVNode)("span",{class:"btn-title"},"æ¸…ç©ºå­˜æ¡£"),(0,a.createElementVNode)("span",{class:"btn-desc"},"åˆ é™¤æ‰€æœ‰å­˜æ¡£æ•°æ®")],-1))],8,M$)])])]),(0,a.createCommentVNode)(" éšè—çš„æ–‡ä»¶è¾“å…¥ "),(0,a.createElementVNode)("input",{ref_key:"fileInput",ref:i,type:"file",accept:".json",onChange:h,style:{display:"none"}},null,544)]))}});var O$=t(3329),P$={};P$.styleTagTransform=A(),P$.setAttributes=z(),P$.insert=V().bind(null,"head"),P$.domAPI=N(),P$.insertStyleElement=B(),k()(O$.A,P$),O$.A&amp;&amp;O$.A.locals&amp;&amp;O$.A.locals;const F$=(0,j.A)(q$,[["__scopeId","data-v-60408b0c"]]),L$=(0,c.A)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Y$=(0,c.A)("maximize-2",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]]),R$=(0,c.A)("building-2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),U$=(0,c.A)("skull",[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]]),G$={class:"map-panel"},W$={key:0,class:"world-info-header"},J$={class:"world-name"},H$={class:"world-background"},Q$={class:"map-controls-left"},K$={class:"map-status-mini"},X$=["viewBox"],Z$=["transform"],eI={class:"continent-layer"},nI=["points","onClick"],tI=["x","y"],aI={class:"territory-bounds-layer"},oI=["points","fill","stroke","onClick","onMouseenter"],rI=["x","y","fill"],lI={class:"location-markers-layer"},iI=["transform","onClick","onMouseenter"],cI={class:"location-icon-group"},sI={key:0},dI=["x","y","width","height"],mI=["x","y","width","height"],pI=["x","y","width","height"],vI=["x","y","width","height"],uI=["x","y","width","height"],gI=["x","y","width","height"],fI=["x","y","width","height"],bI=["r","fill"],hI=["fill"],yI={key:0,class:"player-position-layer"},xI=["transform"],kI=["x","y"],wI={class:"selected-info"},NI={class:"info-header"},EI={class:"info-content"},VI={class:"info-type"},CI={class:"info-desc"},zI={key:0,class:"info-detail"},SI={key:1,class:"info-detail"},BI={key:2,class:"info-detail"},DI={key:3,class:"info-detail"},AI={class:"map-legend"},_I={class:"legend-title"},$I={class:"legend-items"},II={class:"legend-item"},TI={class:"legend-icon"},jI={class:"legend-item"},MI={class:"legend-icon"},qI={class:"legend-item"},OI={class:"legend-icon"},PI={class:"legend-item"},FI={class:"legend-icon"},LI={class:"legend-item"},YI={class:"legend-icon"},RI={class:"legend-item"},UI={class:"legend-icon"},GI={class:"legend-item"},WI={class:"legend-icon"},JI=(0,a.defineComponent)({__name:"WorldMapPanel",setup(e){const{characterData:n}=(0,Li.useUnifiedCharacterData)(),t=(0,a.ref)(3600),o=(0,a.ref)(2400),r=(0,a.ref)(null),l=(0,a.ref)(.8),i=(0,a.ref)(0),c=(0,a.ref)(0),s=(0,a.ref)(!1),m=(0,a.ref)({x:0,y:0}),p=(0,a.ref)(0),v=(0,a.ref)([]),u=(0,a.ref)(0),g=(0,a.ref)(null),f=(0,a.ref)(null),b=(0,a.ref)("æ­£åœ¨åŠ è½½ä¿®ä»™ä¸–ç•Œ..."),h=(0,a.ref)(""),y=(0,a.ref)([]),x=(0,a.ref)([]),k=(0,a.computed)(()=&gt;{const e=n.value?.ä¸–ç•Œä¿¡æ¯;return e?.ä¸–ç•Œåç§°||"ä¿®ä»™ç•Œ"}),w=(0,a.computed)(()=&gt;{const e=n.value?.ä¸–ç•Œä¿¡æ¯;return e?.ä¸–ç•ŒèƒŒæ™¯||""}),N=(0,a.ref)({}),E=(0,a.computed)(()=&gt;{const e=N.value?.player_location_marker;if(e&amp;&amp;e.coordinates){console.log("[ç©å®¶å®šä½] ä»ä½ç½®æ ‡ç‚¹è·å–åæ ‡:",e.coordinates);const n=e.coordinates;if(void 0!==n.longitude&amp;&amp;void 0!==n.latitude){const e=Y(n.longitude,n.latitude);return console.log("[ç©å®¶å®šä½] æ ‡ç‚¹è½¬æ¢ç»“æœ:",e),e}if(void 0!==n.x&amp;&amp;void 0!==n.y)return{x:n.x,y:n.y}}const t=n.value?.ä½ç½®;if(t&amp;&amp;void 0!==t.x&amp;&amp;void 0!==t.y)return console.log("[ç©å®¶å®šä½] ä»ä½ç½®åˆ†ç‰‡è·å–åæ ‡:",{x:t.x,y:t.y}),{x:t.x,y:t.y};if(t&amp;&amp;"object"==typeof t){const e=t;if(void 0!==e.X&amp;&amp;void 0!==e.Y)return{x:e.X,y:e.Y};if(e.åæ ‡){const n=e.åæ ‡;if(void 0!==n.x&amp;&amp;void 0!==n.y)return{x:n.x,y:n.y};if(void 0!==n.X&amp;&amp;void 0!==n.Y)return{x:n.X,y:n.Y}}else if(void 0!==e.longitude&amp;&amp;void 0!==e.latitude){const n=Y(e.longitude,e.latitude);return console.log("[ç©å®¶å®šä½] è½¬æ¢ç»“æœ:",n),n}}return console.warn("[ç©å®¶å®šä½] æ— æ³•è§£æåæ ‡"),null});let V=0;const C=(e,n="info")=&gt;{setTimeout(()=&gt;{d.o[n](e)},200*V),V++,V&gt;5&amp;&amp;(V=0)},z=e=&gt;{e.preventDefault();const n=e.deltaY&gt;0?-.1:.1;l.value=Math.max(.1,Math.min(4,l.value+n))},S=e=&gt;{s.value=!0,m.value={x:e.clientX,y:e.clientY},p.value=0,g.value&amp;&amp;(g.value=null)},B=e=&gt;{if(!s.value)return;const n=e.clientX-m.value.x,a=e.clientY-m.value.y;p.value+=Math.abs(n)+Math.abs(a);const r=i.value+n,d=c.value+a,v=f.value?.getBoundingClientRect();if(v){const e=t.value*l.value,n=o.value*l.value,a=Math.min(0,v.width-e),s=Math.max(0,v.width-e),m=Math.min(0,v.height-n),p=Math.max(0,v.height-n);i.value=Math.max(a,Math.min(s,r)),c.value=Math.max(m,Math.min(p,d))}else i.value=r,c.value=d;m.value={x:e.clientX,y:e.clientY}},D=()=&gt;{s.value=!1},A=e=&gt;{if(e.preventDefault(),v.value=Array.from(e.touches).map(e=&gt;({identifier:e.identifier,x:e.clientX,y:e.clientY})),1===v.value.length)s.value=!0,m.value={x:v.value[0].x,y:v.value[0].y},p.value=0,g.value&amp;&amp;(g.value=null);else if(2===v.value.length){s.value=!1;const e=v.value[0].x-v.value[1].x,n=v.value[0].y-v.value[1].y;u.value=Math.sqrt(e*e+n*n)}},_=e=&gt;{if(e.preventDefault(),0===e.touches.length)return;const n=Array.from(e.touches).map(e=&gt;({identifier:e.identifier,x:e.clientX,y:e.clientY}));if(1===n.length&amp;&amp;s.value){const e=n[0].x-m.value.x,a=n[0].y-m.value.y;p.value+=Math.abs(e)+Math.abs(a);const r=i.value+e,s=c.value+a,d=f.value?.getBoundingClientRect();if(d){const e=t.value*l.value,n=o.value*l.value,a=Math.min(0,d.width-e),m=Math.max(0,d.width-e),p=Math.min(0,d.height-n),v=Math.max(0,d.height-n);i.value=Math.max(a,Math.min(m,r)),c.value=Math.max(p,Math.min(v,s))}else i.value=r,c.value=s;m.value={x:n[0].x,y:n[0].y}}else if(2===n.length){const e=n[0].x-n[1].x,t=n[0].y-n[1].y,a=Math.sqrt(e*e+t*t);if(u.value&gt;0){const e=a/u.value,n=l.value*e;l.value=Math.max(.1,Math.min(4,n))}u.value=a}v.value=n},$=e=&gt;{e.preventDefault(),0===e.touches.length?(s.value=!1,u.value=0,v.value=[]):(v.value=Array.from(e.touches).map(e=&gt;({identifier:e.identifier,x:e.clientX,y:e.clientY})),1===v.value.length&amp;&amp;(s.value=!0,m.value={x:v.value[0].x,y:v.value[0].y},p.value=0,u.value=0))},I=()=&gt;{f.value&amp;&amp;(document.fullscreenElement?document.exitFullscreen():f.value.requestFullscreen())},T=(0,a.ref)(null),j=e=&gt;{T.value=e.id},M=()=&gt;{T.value=null},q=e=&gt;{if(s.value||p.value&gt;5)return;console.log("[å¤èˆ†å›¾å¿—] é€‰ä¸­åœ°ç‚¹:",e.name),console.log("[å¤èˆ†å›¾å¿—] æ˜¯å¦å…¨å±æ¨¡å¼:",!!document.fullscreenElement);const n=O(e.coordinates?.x||0,e.coordinates?.y||0);console.log("[å¤èˆ†å›¾å¿—] åœ°ç‚¹å±å¹•ä½ç½®:",n),g.value={id:e.id,name:e.name,type:e.type,description:e.description,danger_level:e.danger_level,suitable_for:e.suitable_for,screenPosition:n},console.log("[å¤èˆ†å›¾å¿—] å¼¹çª—æ•°æ®å·²è®¾ç½®ï¼ŒselectedInfoå­˜åœ¨:",!!g.value)},O=(e,n)=&gt;{if(!f.value)return{x:0,y:0};const a=f.value.getBoundingClientRect(),r=e*l.value+i.value,s=n*l.value+c.value;let d,m,p=0,v=0;return document.fullscreenElement?(d=window.innerWidth,m=window.innerHeight,p=0,v=0):(d=a.width,m=a.height,p=a.left,v=a.top),{x:r/t.value*d+p,y:s/o.value*m+v}},P=e=&gt;{if(!e||0===e.length)return{x:0,y:0};const n=e.reduce((e,n)=&gt;e+n.x,0),t=e.reduce((e,n)=&gt;e+n.y,0);return{x:n/e.length,y:t/e.length}},F=e=&gt;{if(!e||0===e.length)return{x:0,y:0};const n=e.reduce((e,n)=&gt;e+n.longitude,0),t=e.reduce((e,n)=&gt;e+n.latitude,0),a=n/e.length,o=t/e.length;return Y(a,o)},L=()=&gt;{if(!g.value?.screenPosition)return{position:"absolute",top:"20px",left:"50%",transform:"translateX(-50%)",zIndex:"9999"};const{x:e,y:n}=g.value.screenPosition,t=!!document.fullscreenElement;let a,o;t?(a=window.innerWidth,o=window.innerHeight):(a=f.value?.clientWidth||800,o=f.value?.clientHeight||600);let r=e-175,l=n-200-30;return r&lt;10&amp;&amp;(r=10),r+350&gt;a-10&amp;&amp;(r=a-350-10),l&lt;10&amp;&amp;(l=n+30),l+200&gt;o-10&amp;&amp;(l=o-200-10),console.log(`[å¼¹çª—å®šä½] æ¨¡å¼: ${t?"å…¨å±":"æ™®é€š"}, åŸå§‹åæ ‡: (${e}, ${n}), å¼¹çª—ä½ç½®: (${r}, ${l})`),{position:t?"fixed":"absolute",left:`${r}px`,top:`${l}px`,transform:"none",zIndex:t?"99999":"1001"}},Y=(e,n)=&gt;{let a=100,l=130,i=25,c=45;r.value&amp;&amp;(a=r.value.minLng,l=r.value.maxLng,i=r.value.minLat,c=r.value.maxLat);const s=Math.max(a,Math.min(l,e)),d=Math.max(i,Math.min(c,n));return(Math.abs(s-e)&gt;.1||Math.abs(d-n)&gt;.1)&amp;&amp;console.warn(`[åœ°å›¾è¾¹ç•Œ] åæ ‡è¶…å‡ºä¸–ç•ŒèŒƒå›´è¢«è£å‰ª: (${e.toFixed(2)}, ${n.toFixed(2)}) -&gt; (${s.toFixed(2)}, ${d.toFixed(2)})`),{x:(s-a)/(l-a)*(.85*t.value)+.075*t.value,y:(c-d)/(c-i)*(.85*o.value)+.075*o.value}},R=e=&gt;({natural_landmark:"natural_landmark",sect_power:"sect_power",city_town:"city_town",blessed_land:"blessed_land",treasure_land:"treasure_land",dangerous_area:"dangerous_area",special_other:"special_other",åå±±å¤§å·:"natural_landmark",å®—é—¨åŠ¿åŠ›:"sect_power",åŸé•‡åŠå¸‚:"city_town",æ´å¤©ç¦åœ°:"blessed_land",å¥‡çå¼‚åœ°:"treasure_land",å‡¶é™©ä¹‹åœ°:"dangerous_area",å…¶ä»–ç‰¹æ®Š:"special_other",é—¨æ´¾å®—é—¨:"sect_power",åŸé•‡:"city_town",å±é™©ç§˜å¢ƒ:"blessed_land",è‡ªç„¶åœ°è²Œ:"natural_landmark",ä¿®ç‚¼åœ£åœ°:"blessed_land",å¤æˆ˜åœºé—è¿¹:"dangerous_area",å¤©æåœ°å®äº§åœ°:"treasure_land",çµå…½æ –æ¯åœ°:"dangerous_area",ä¼ æ‰¿æ´åºœ:"blessed_land",è·¨ç•Œä¼ é€é˜µ:"special_other",é­”åŸŸå…¥å£:"dangerous_area",ä»™äººé—åºœ:"blessed_land",major_city:"city_town",sect_headquarters:"sect_power",secret_realm:"blessed_land",cultivation_site:"blessed_land",mountain:"natural_landmark",village:"city_town",battlefield_ruins:"dangerous_area",treasure_source:"treasure_land",spirit_beast_habitat:"dangerous_area",inheritance_cave:"blessed_land",teleportation_array:"special_other",demon_realm_gate:"dangerous_area",immortal_mansion:"blessed_land"}[e]||"special_other"),U=e=&gt;"é—¨æ´¾å®—é—¨"===e?"large":"åŸé•‡"===e||"å±é™©ç§˜å¢ƒ"===e?"medium":"small",G=e=&gt;({natural_landmark:"#2D7D32",sect_power:"#1565C0",city_town:"#F57C00",blessed_land:"#7B1FA2",treasure_land:"#388E3C",dangerous_area:"#D32F2F",special_other:"#6B7280",sect_headquarters:"#1565C0",major_city:"#F57C00",secret_realm:"#7B1FA2",mountain:"#2D7D32",cultivation_site:"#7B1FA2",village:"#F57C00",battlefield_ruins:"#D32F2F",treasure_source:"#388E3C",spirit_beast_habitat:"#D32F2F",inheritance_cave:"#7B1FA2",teleportation_array:"#6B7280",demon_realm_gate:"#D32F2F",immortal_mansion:"#7B1FA2"}[e]||"#6B7280"),W=async()=&gt;{try{console.log("[å¤èˆ†å›¾å¿—] å¼€å§‹åŠ è½½é…’é¦†ä¸–ç•Œæ•°æ®..."),y.value=[],x.value=[],await J(),await H(),await Q(),0===y.value.length?(C("æœªæ‰¾åˆ°æœ‰æ•ˆçš„åœ°ç‚¹æ•°æ®ï¼Œå°†æ˜¾ç¤ºæµ‹è¯•æ•°æ®","warning"),(()=&gt;{console.log("[å¤èˆ†å›¾å¿—] æ·»åŠ æµ‹è¯•æ•°æ®");const e=[{id:"test_1",name:"è¥¿åŒ—å±±è„‰",type:"natural_landmark",coordinates:Y(102,48),description:"æµ‹è¯•åœ°ç‚¹1 - è¥¿åŒ—è§’",x:0,y:0,size:8,color:"#2D7D32",iconColor:"#2D7D32",iconSize:"medium",isTerritory:!1},{id:"test_2",name:"ä¸œåŒ—åŸå¸‚",type:"city_town",coordinates:Y(107,47),description:"æµ‹è¯•åœ°ç‚¹2 - ä¸œåŒ—è§’",x:0,y:0,size:10,color:"#F57C00",iconColor:"#F57C00",iconSize:"medium",isTerritory:!1},{id:"test_3",name:"è¥¿å—å®—é—¨",type:"sect_power",coordinates:Y(103,42),description:"æµ‹è¯•åœ°ç‚¹3 - è¥¿å—è§’",x:0,y:0,size:12,color:"#1565C0",iconColor:"#1565C0",iconSize:"large",isTerritory:!1},{id:"test_4",name:"ä¸œå—ç§˜å¢ƒ",type:"blessed_land",coordinates:Y(106,41),description:"æµ‹è¯•åœ°ç‚¹4 - ä¸œå—è§’",x:0,y:0,size:8,color:"#7B1FA2",iconColor:"#7B1FA2",iconSize:"medium",isTerritory:!1},{id:"test_5",name:"ä¸­å¤®ä¹‹åœ°",type:"special_other",coordinates:Y(104.5,44.5),description:"æµ‹è¯•åœ°ç‚¹5 - ä¸­å¿ƒä½ç½®",x:0,y:0,size:15,color:"#6B7280",iconColor:"#6B7280",iconSize:"large",isTerritory:!1}];e.forEach(e=&gt;{e.x=e.coordinates?.x||0,e.y=e.coordinates?.y||0,console.log(`[æµ‹è¯•æ•°æ®] ${e.name}: åœ°ç†åæ ‡æœªçŸ¥ -&gt; è™šæ‹Ÿåæ ‡(${e.x.toFixed(1)}, ${e.y.toFixed(1)})`)}),y.value=e,console.log("[å¤èˆ†å›¾å¿—] âœ… æµ‹è¯•æ•°æ®åŠ è½½å®Œæˆï¼Œå…±",y.value.length,"ä¸ªåœ°ç‚¹")})()):(b.value=`å·²åŠ è½½ ${y.value.length} ä¸ªåœ°ç‚¹`,console.log("[å¤èˆ†å›¾å¿—] åŠ è½½å®Œæˆçš„æ•°æ®ç»Ÿè®¡:",{å¤§é™†æ•°é‡:x.value.length,åœ°ç‚¹æ•°é‡:y.value.length,å‰5ä¸ªå¤§é™†:x.value.slice(0,5).map(e=&gt;({åç§°:e.åç§°||e.name,è¾¹ç•Œç‚¹æ•°:(e.å¤§æ´²è¾¹ç•Œ||e.continent_bounds)?.length||0})),å‰5ä¸ªåœ°ç‚¹:y.value.slice(0,5).map(e=&gt;({åç§°:e.name,ç±»å‹:e.type,åæ ‡:e.coordinates}))}))}catch(e){console.error("[å¤èˆ†å›¾å¿—] åŠ è½½ä¿®ä»™ä¸–ç•Œæ•°æ®å¤±è´¥:",e),b.value="æ•°æ®åŠ è½½å¤±è´¥",C("åŠ è½½ä¸–ç•Œæ•°æ®å¤±è´¥: "+e.message,"error")}},J=async()=&gt;{try{console.log("ğŸ”ï¸ [å¤§é™†åŠ è½½] å¼€å§‹åŠ è½½å¤§é™†æ•°æ®");const e=n.value?.ä¸–ç•Œä¿¡æ¯,t=e?.å¤§é™†ä¿¡æ¯||[];if(console.log("ğŸ”ï¸ [å¤§é™†åŠ è½½] ä»ä¸–ç•Œä¿¡æ¯è¯»å–åˆ°å¤§é™†æ•°é‡:",t.length),console.log("ğŸ”ï¸ [å¤§é™†åŠ è½½] ä¸–ç•Œä¿¡æ¯ç»“æ„:",e),0===t.length)return void console.warn("ğŸ”ï¸ [å¤§é™†åŠ è½½] æ²¡æœ‰æ‰¾åˆ°å¤§é™†æ•°æ®");console.log("ğŸ”ï¸ [å¤§é™†åŠ è½½] æœ€ç»ˆå¤§é™†æ•°æ®:",t),Array.isArray(t)&amp;&amp;t.forEach((e,n)=&gt;{try{const t=e,a=t.åç§°||t.name||`å¤§é™†${n+1}`;console.log(`[å¤èˆ†å›¾å¿—] âœ… å·²åŠ è½½å¤§æ´²: ${a}`),x.value.push(t)}catch(e){console.error(`[å¤èˆ†å›¾å¿—] å¤„ç†å¤§æ´²${n+1}æ—¶å‡ºé”™:`,e)}})}catch(e){console.error("[å¤èˆ†å›¾å¿—] åŠ è½½å¤§æ´²æ•°æ®å¤±è´¥:",e)}},H=async()=&gt;{try{console.log("âš”ï¸ [åŠ¿åŠ›åŠ è½½] å¼€å§‹åŠ è½½åŠ¿åŠ›æ•°æ®");const e=n.value?.ä¸–ç•Œä¿¡æ¯,t=e?.åŠ¿åŠ›ä¿¡æ¯||[];if(console.log("âš”ï¸ [åŠ¿åŠ›åŠ è½½] ä»ä¸–ç•Œä¿¡æ¯è¯»å–åˆ°åŠ¿åŠ›æ•°é‡:",t.length),0===t.length)return void console.warn("âš”ï¸ [åŠ¿åŠ›åŠ è½½] æ²¡æœ‰æ‰¾åˆ°åŠ¿åŠ›æ•°æ®");console.log("âš”ï¸ [åŠ¿åŠ›åŠ è½½] æœ€ç»ˆåŠ¿åŠ›æ•°æ®:",t),Array.isArray(t)&amp;&amp;t.forEach((e,n)=&gt;{try{const t=e;let a=[];const o=t.åŠ¿åŠ›èŒƒå›´||t.territory_bounds||t.territoryBounds;if(o&amp;&amp;Array.isArray(o)&amp;&amp;o.length&gt;=3){const e=[];o.forEach(n=&gt;{const t=Number(n?.longitude),a=Number(n?.latitude);if(Number.isFinite(t)&amp;&amp;Number.isFinite(a)){const n=Y(t,a);e.push({x:n.x,y:n.y})}}),e.length&gt;=3&amp;&amp;(a=e)}let r;const l=t.ä½ç½®||t.headquarters||t.æ€»éƒ¨ä½ç½®;if(l&amp;&amp;"object"==typeof l&amp;&amp;"longitude"in l&amp;&amp;"latitude"in l){const e=l;r=Y(e.longitude,e.latitude)}else if("string"==typeof l){const e=l.match(/(-?\d+\.?\d*)\D+(-?\d+\.?\d*)/);if(e){const n=parseFloat(e[1]),t=parseFloat(e[2]),a=isFinite(n)?Math.min(114,Math.max(107,n)):110,o=isFinite(t)?Math.min(38,Math.max(33,t)):35;r=Y(a,o)}}if(!r){const e=Y(110,36);r={x:e.x,y:e.y}}if((!a||a.length&lt;3)&amp;&amp;r){const e=r.x,n=r.y;a=[{x:e-60,y:n-40},{x:e+70,y:n-20},{x:e+50,y:n+60},{x:e-50,y:n+40}]}const i=t.åç§°||t.name||`åŠ¿åŠ›${n+1}`,c=t.ç±»å‹||t.type||"ä¸­ç«‹å®—é—¨",s={id:t.id||`faction_${n}`,name:i,type:c,coordinates:r||P(a),description:t.æè¿°||t.description||"",x:r?.x||P(a).x,y:r?.y||P(a).y,size:15,color:t.color||G(c),iconColor:t.color||G(c),iconSize:"large",isTerritory:!0,territoryBounds:a,headquarters:r};y.value.push(s),console.log(`[å¤èˆ†å›¾å¿—] âœ… å·²åŠ è½½åŠ¿åŠ›: ${s.name} (${s.type})`)}catch(e){console.error(`[å¤èˆ†å›¾å¿—] å¤„ç†åŠ¿åŠ›${n+1}æ—¶å‡ºé”™:`,e)}})}catch(e){console.error("[å¤èˆ†å›¾å¿—] åŠ è½½åŠ¿åŠ›æ•°æ®å¤±è´¥:",e)}},Q=async()=&gt;{try{console.log("ğŸ¯ [åœ°ç‚¹åŠ è½½] å¼€å§‹åŠ è½½åœ°ç‚¹æ•°æ®");const e=n.value?.ä¸–ç•Œä¿¡æ¯,t=e?.åœ°ç‚¹ä¿¡æ¯||[];if(console.log("ğŸ¯ [åœ°ç‚¹åŠ è½½] ä»ä¸–ç•Œä¿¡æ¯è¯»å–åˆ°åœ°ç‚¹æ•°é‡:",t.length),0===t.length)return void console.warn("ğŸ¯ [åœ°ç‚¹åŠ è½½] æ²¡æœ‰æ‰¾åˆ°åœ°ç‚¹æ•°æ®");console.log("ğŸ¯ [åœ°ç‚¹åŠ è½½] æœ€ç»ˆåœ°ç‚¹æ•°æ®:",t),Array.isArray(t)&amp;&amp;(t.forEach((e,n)=&gt;{try{const a=e;let o;if(a.coordinates&amp;&amp;"object"==typeof a.coordinates&amp;&amp;"longitude"in a.coordinates){const e=a.coordinates;o=Y(Number(e.longitude),Number(e.latitude)),console.log(`ğŸ¯ [åœ°ç‚¹åŠ è½½] ä½¿ç”¨coordinateså­—æ®µåŠ è½½åœ°ç‚¹: ${a.åç§°||a.name}`,a.coordinates)}else if(a.ä½ç½®&amp;&amp;"object"==typeof a.ä½ç½®&amp;&amp;"longitude"in a.ä½ç½®){const e=a.ä½ç½®;o=Y(Number(e.longitude),Number(e.latitude)),console.log(`ğŸ¯ [åœ°ç‚¹åŠ è½½] ä½¿ç”¨ä½ç½®å­—æ®µåŠ è½½åœ°ç‚¹: ${a.åç§°||a.name}`,a.ä½ç½®)}else{const e=107+7*Math.random(),n=33+5*Math.random();o=Y(e,n),console.warn(`ğŸ¯ [åœ°ç‚¹åŠ è½½] åœ°ç‚¹åæ ‡ç¼ºå¤±ï¼Œä½¿ç”¨ç»çº¬åº¦å›é€€: ${a.åç§°||a.name}`,{longitude:e,latitude:n})}const r=a.åç§°||a.name||`åœ°ç‚¹${n+1}`,l=a.ç±»å‹||a.type||"å…¶ä»–",i={id:a.id||`location_${n}`,name:r,type:R(l),coordinates:o,description:a.æè¿°||a.description||"",x:o.x,y:o.y,size:(t=l,{é—¨æ´¾å®—é—¨:10,åŸé•‡:8,å±é™©ç§˜å¢ƒ:6,è‡ªç„¶åœ°è²Œ:4,ä¿®ç‚¼åœ£åœ°:5}[t]||4),color:G(R(l)),iconColor:G(R(l)),iconSize:U(l),danger_level:a.å®‰å…¨ç­‰çº§||a.danger_level||"è¾ƒå®‰å…¨",suitable_for:Array.isArray(a.é€‚åˆå¢ƒç•Œ)?a.é€‚åˆå¢ƒç•Œ.join(", "):Array.isArray(a.suitable_for)?a.suitable_for.join(", "):a.é€‚åˆå¢ƒç•Œ||a.suitable_for||"",isTerritory:!1};y.value.push(i),console.log(`[å¤èˆ†å›¾å¿—] âœ… å·²åŠ è½½åœ°ç‚¹: ${i.name} (${i.type})`)}catch(e){console.error(`[å¤èˆ†å›¾å¿—] å¤„ç†åœ°ç‚¹${n+1}æ—¶å‡ºé”™:`,e)}var t}),y.value=y.value.filter(e=&gt;{const n=e,t=Boolean(n?.importance)||Boolean(n?.é‡è¦)||Boolean(n?.is_key)||Boolean(n?.isKey);return!!e.isTerritory||!!t||Boolean(e.name&amp;&amp;e.name.length&gt;2)})),e&amp;&amp;e.åœ°ç‚¹ä¿¡æ¯?(console.log(`[å¤èˆ†å›¾å¿—] âœ… ä»ä¸–ç•Œä¿¡æ¯æ‰¾åˆ° ${e.åœ°ç‚¹ä¿¡æ¯.length} ä¸ªåœ°ç‚¹ä¿¡æ¯`),console.log("[å¤èˆ†å›¾å¿—] åœ°ç‚¹æ•°æ®è¯¦æƒ…:",e.åœ°ç‚¹ä¿¡æ¯)):console.warn("[å¤èˆ†å›¾å¿—] æœªæ‰¾åˆ°æœ‰æ•ˆçš„åœ°ç‚¹æ•°æ®")}catch(e){console.error("[å¤èˆ†å›¾å¿—] åŠ è½½åœ°ç‚¹æ•°æ®å¤±è´¥:",e)}},K=async()=&gt;{try{const e=(0,an.getTavernHelper)();if(!e)return void C("é…’é¦†ç³»ç»Ÿä¸å¯ç”¨","error");console.log("[è°ƒè¯•] ===== æµ‹è¯•åæ ‡è½¬æ¢ ====="),[{lng:102,lat:27.5,desc:"è¥¿å—è§’"},{lng:109,lat:33,desc:"ä¸œåŒ—è§’"},{lng:104,lat:30,desc:"ä¸­å¿ƒç‚¹"},{lng:105.5,lat:31.5,desc:"åä¸œåŒ—"}].forEach(e=&gt;{const n=Y(e.lng,e.lat);console.log(`[è°ƒè¯•] ${e.desc} (${e.lng}, ${e.lat}) -&gt; (${n.x.toFixed(1)}, ${n.y.toFixed(1)})`)}),console.log("[è°ƒè¯•] ===== å¼€å§‹è¯¦ç»†è°ƒè¯• =====");const t=await e.getVariables({type:"chat"}),a=await e.getVariables({type:"global"});console.log("[è°ƒè¯•] Chatå˜é‡é”®å€¼:",Object.keys(t)),console.log("[è°ƒè¯•] Globalå˜é‡é”®å€¼:",Object.keys(a));const o=n.value?.ä¸–ç•Œä¿¡æ¯;o?(console.log("[è°ƒè¯•] ===== æ‰¾åˆ°ä¸–ç•Œæ•°æ®ç»“æ„ ====="),console.log("[è°ƒè¯•] ä¸–ç•Œä¿¡æ¯:",o),o.å¤§é™†ä¿¡æ¯&amp;&amp;console.log("[è°ƒè¯•] å¤§é™†ä¿¡æ¯æ•°é‡:",o.å¤§é™†ä¿¡æ¯.length),o.åŠ¿åŠ›ä¿¡æ¯&amp;&amp;console.log("[è°ƒè¯•] åŠ¿åŠ›ä¿¡æ¯æ•°é‡:",o.åŠ¿åŠ›ä¿¡æ¯.length),o.åœ°ç‚¹ä¿¡æ¯&amp;&amp;console.log("[è°ƒè¯•] åœ°ç‚¹ä¿¡æ¯æ•°é‡:",o.åœ°ç‚¹ä¿¡æ¯.length)):console.log("[è°ƒè¯•] ===== æœªæ‰¾åˆ°ä¸–ç•Œæ•°æ®ç»“æ„ ====="),t.world_factions&amp;&amp;(console.log("[è°ƒè¯•] ===== æ‰¾åˆ°æ—§æ ¼å¼åŠ¿åŠ›æ•°æ® ====="),console.log("[è°ƒè¯•] world_factions:",t.world_factions)),t.world_locations&amp;&amp;(console.log("[è°ƒè¯•] ===== æ‰¾åˆ°æ—§æ ¼å¼åœ°ç‚¹æ•°æ® ====="),console.log("[è°ƒè¯•] world_locations:",t.world_locations)),t.world_continents&amp;&amp;(console.log("[è°ƒè¯•] ===== æ‰¾åˆ°æ—§æ ¼å¼å¤§é™†æ•°æ® ====="),console.log("[è°ƒè¯•] world_continents:",t.world_continents)),console.log("[è°ƒè¯•] ===== Chatå˜é‡è¯¦ç»†å†…å®¹ ====="),Object.entries(t).forEach(([e,n])=&gt;{if(console.log(`[è°ƒè¯•] "${e}":`,typeof n,n),n&amp;&amp;"object"==typeof n){const t=Object.keys(n);console.log(`[è°ƒè¯•] "${e}" çš„å±æ€§:`,t),t.includes("world")&amp;&amp;console.log(`[è°ƒè¯•] "${e}.world":`,n.world),t.includes("mapData")&amp;&amp;console.log(`[è°ƒè¯•] "${e}.mapData":`,n.mapData)}}),await W(),console.log("[è°ƒè¯•] ===== å½“å‰åŠ è½½çš„åœ°ç‚¹åæ ‡ ====="),y.value.forEach((e,n)=&gt;{console.log(`[è°ƒè¯•] ${n+1}. ${e.name}:`),console.log(`  - åŸå§‹åæ ‡: ${JSON.stringify(e.coordinates)}`),console.log(`  - æ˜¾ç¤ºåæ ‡: (${e.x}, ${e.y})`),console.log(`  - ç±»å‹: ${e.type}, æ˜¯å¦åŠ¿åŠ›: ${e.isTerritory}`)}),console.log("[è°ƒè¯•] ===== åæ ‡èŒƒå›´ç»Ÿè®¡ =====");const r=y.value.map(e=&gt;e.x),l=y.value.map(e=&gt;e.y);console.log(`[è°ƒè¯•] Xåæ ‡èŒƒå›´: ${Math.min(...r).toFixed(1)} - ${Math.max(...r).toFixed(1)}`),console.log(`[è°ƒè¯•] Yåæ ‡èŒƒå›´: ${Math.min(...l).toFixed(1)} - ${Math.max(...l).toFixed(1)}`);const i=new Set(r.map(e=&gt;e.toFixed(1))),c=new Set(l.map(e=&gt;e.toFixed(1)));console.log(`[è°ƒè¯•] ä¸åŒXåæ ‡æ•°é‡: ${i.size}/${r.length}`),console.log(`[è°ƒè¯•] ä¸åŒYåæ ‡æ•°é‡: ${c.size}/${l.length}`),1===i.size&amp;&amp;1===c.size?(console.error("[è°ƒè¯•] âŒ å‘ç°é—®é¢˜ï¼šæ‰€æœ‰åœ°ç‚¹éƒ½åœ¨åŒä¸€ä¸ªåæ ‡ï¼"),console.log("[è°ƒè¯•] å¯èƒ½çš„åŸå› ï¼š"),console.log("[è°ƒè¯•] 1. AIç”Ÿæˆçš„åæ ‡è¶…å‡ºäº†geoToVirtualå‡½æ•°çš„å¤„ç†èŒƒå›´"),console.log("[è°ƒè¯•] 2. åæ ‡è½¬æ¢å‡½æ•°æœ‰bug"),console.log("[è°ƒè¯•] 3. æ•°æ®è§£ææœ‰é—®é¢˜")):console.log(`[è°ƒè¯•] âœ… åæ ‡åˆ†å¸ƒæ­£å¸¸ï¼Œæœ‰${i.size}ä¸ªä¸åŒXåæ ‡ï¼Œ${c.size}ä¸ªä¸åŒYåæ ‡`)}catch(e){console.error("[è°ƒè¯•] è°ƒè¯•è¿‡ç¨‹å‡ºé”™:",e),C("è°ƒè¯•å¤±è´¥: "+e.message,"error")}},X=()=&gt;{E.value?(i.value=t.value/2-E.value.x*l.value,c.value=o.value/2-E.value.y*l.value,l.value=.9,C("å·²å®šä½åˆ°å½“å‰ä½ç½®","success")):C("æ— æ³•å®šä½ç©å®¶ä½ç½®","warning")},Z=e=&gt;{const n={natural_landmark:{size:20,offset:10},sect_power:{size:18,offset:9},city_town:{size:18,offset:9},blessed_land:{size:16,offset:8},treasure_land:{size:16,offset:8},dangerous_area:{size:16,offset:8},special_other:{size:14,offset:7},default:{size:16,offset:8}};return n[e]||n.default};return(0,a.onMounted)(async()=&gt;{await(async()=&gt;{try{b.value="æ­£åœ¨ä»å¤©æœºé˜åŠ è½½ä¸–ç•Œæ•°æ®...";const e=(0,an.getTavernHelper)();if(!e)return console.warn("[å¤èˆ†å›¾å¿—] é…’é¦†Helperä¸å¯ç”¨"),void(b.value="é…’é¦†ç³»ç»Ÿä¸å¯ç”¨ï¼Œè¯·é‡æ–°ç”Ÿæˆä¸–ç•Œåå†æ‰“å¼€åœ°å›¾");const a=await e.getVariables({type:"chat"}),l=await e.getVariables({type:"global"});N.value=a&amp;&amp;l?{...a,...l}:{},h.value=l["character.name"]||"é“å‹",await(async()=&gt;{try{console.log("[åœ°å›¾é…ç½®] å¼€å§‹åŠ è½½åœ°å›¾é…ç½®...");const e=n.value?.ä¸–ç•Œä¿¡æ¯,a=e?.åœ°å›¾é…ç½®;a?(console.log("[åœ°å›¾é…ç½®] æ‰¾åˆ°åœ°å›¾é…ç½®:",a),r.value=a,a.width&amp;&amp;a.height&amp;&amp;(t.value=a.width,o.value=a.height,console.log(`[åœ°å›¾é…ç½®] åœ°å›¾å°ºå¯¸å·²æ›´æ–°: ${a.width}x${a.height}`))):(console.log("[åœ°å›¾é…ç½®] æœªæ‰¾åˆ°åœ°å›¾é…ç½®ï¼Œä½¿ç”¨é»˜è®¤å€¼"),r.value=null)}catch(e){console.error("[åœ°å›¾é…ç½®] åŠ è½½åœ°å›¾é…ç½®å¤±è´¥:",e),r.value=null}})(),await W(),0===y.value.length&amp;&amp;(console.warn("[å¤èˆ†å›¾å¿—] æœªæ‰¾åˆ°ä¸–ç•Œæ•°æ®"),b.value="æœªæ‰¾åˆ°ä¸–ç•Œæ•°æ®ï¼Œè¯·é‡æ–°ç”Ÿæˆä¸–ç•Œ"),b.value="ä¿®ä»™ä¸–ç•ŒåŠ è½½å®Œæˆ"}catch(e){console.error("[å¤èˆ†å›¾å¿—] åœ°å›¾åˆå§‹åŒ–å¤±è´¥:",e),b.value="å¤©æœºé˜è¿æ¥å¤±è´¥",C("ä¸–ç•Œæ•°æ®åŠ è½½å¤±è´¥: "+e.message,"error")}})()}),(e,n)=&gt;{return(0,a.openBlock)(),(0,a.createElementBlock)("div",G$,[(0,a.createCommentVNode)(" ä¸–ç•Œä¿¡æ¯æ˜¾ç¤ºåŒºåŸŸ (é¡¶éƒ¨) "),w.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",W$,[(0,a.createElementVNode)("div",J$,(0,a.toDisplayString)(k.value),1),(0,a.createElementVNode)("div",H$,(0,a.toDisplayString)(w.value),1)])):(0,a.createCommentVNode)("v-if",!0),(0,a.createCommentVNode)(" ä¿®ä»™ä¸–ç•Œåœ°å›¾å®¹å™¨ "),(0,a.createElementVNode)("div",{class:"custom-map-container",ref_key:"mapContainer",ref:f},[(0,a.createCommentVNode)(" åœ°å›¾å†…æ§åˆ¶æŒ‰é’® (å·¦ä¾§) "),(0,a.createElementVNode)("div",Q$,[(0,a.createElementVNode)("button",{class:"control-btn",onClick:X,title:"å®šä½åˆ°ç©å®¶ä½ç½®"},[(0,a.createVNode)((0,a.unref)(L$),{size:14})]),(0,a.createElementVNode)("button",{class:"control-btn",onClick:I,title:"å…¨å±æ˜¾ç¤º"},[(0,a.createVNode)((0,a.unref)(Y$),{size:14})]),(0,a.createElementVNode)("button",{class:"control-btn",onClick:K,title:"è°ƒè¯•åœ°å›¾æ•°æ®"}," ğŸ“Š "),(0,a.createElementVNode)("div",K$,(0,a.toDisplayString)(b.value),1)]),(0,a.createCommentVNode)(" SVG ä¿®ä»™ä¸–ç•Œåœ°å›¾ "),((0,a.openBlock)(),(0,a.createElementBlock)("svg",{class:"world-map-svg",viewBox:`0 0 ${t.value} ${o.value}`,onWheel:z,onMousedown:S,onMousemove:B,onMouseup:D,onMouseleave:D,onTouchstart:A,onTouchmove:_,onTouchend:$,style:{"user-select":"none","-webkit-user-select":"none","-moz-user-select":"none","touch-action":"none"}},[(0,a.createCommentVNode)(" åœ°å›¾å®šä¹‰å’Œæ•ˆæœ "),n[6]||(n[6]=(0,a.createStaticVNode)('<defs data-v-3006c0a9=""><pattern id="gridPattern" patternunits="userSpaceOnUse" width="50" height="50" data-v-3006c0a9=""><rect width="50" height="50" fill="none" stroke="#cbd5e1" stroke-width="0.3" opacity="0.4" data-v-3006c0a9=""></rect></pattern>\x3c!-- ä¼˜é›…çš„ä¸–ç•ŒèƒŒæ™¯ --\x3e<radialgradient id="chaosVoid" cx="50%" cy="50%" data-v-3006c0a9=""><stop offset="0%" style="stop-color:#fefefe;stop-opacity:1;" data-v-3006c0a9=""></stop><stop offset="50%" style="stop-color:#f8fafc;stop-opacity:1;" data-v-3006c0a9=""></stop><stop offset="100%" style="stop-color:#e2e8f0;stop-opacity:1;" data-v-3006c0a9=""></stop></radialgradient>\x3c!-- ç»†è‡´çš„çº¹ç†æ•ˆæœ --\x3e<filter id="chaosEffect" x="0%" y="0%" width="100%" height="100%" data-v-3006c0a9=""><feturbulence basefrequency="0.008 0.008" numoctaves="2" result="turbulence" data-v-3006c0a9=""></feturbulence><fecolormatrix in="turbulence" type="saturate" values="0" result="grayscale" data-v-3006c0a9=""></fecolormatrix><fecomponenttransfer in="grayscale" data-v-3006c0a9=""><fefunca type="discrete" tablevalues="0 0.05 0.1 0.15" data-v-3006c0a9=""></fefunca></fecomponenttransfer><fecomposite in2="SourceGraphic" operator="multiply" result="composite" data-v-3006c0a9=""></fecomposite></filter>\x3c!-- åœ°ç‚¹å…‰è¾‰æ•ˆæœ --\x3e<filter id="locationGlow" data-v-3006c0a9=""><fegaussianblur stddeviation="3" result="coloredBlur" data-v-3006c0a9=""></fegaussianblur><femerge data-v-3006c0a9=""><femergenode in="coloredBlur" data-v-3006c0a9=""></femergenode><femergenode in="SourceGraphic" data-v-3006c0a9=""></femergenode></femerge></filter></defs>',1)),(0,a.createCommentVNode)(" ä¸–ç•ŒèƒŒæ™¯ä¸å¤§æ°”å±‚æ•ˆæœ "),n[7]||(n[7]=(0,a.createStaticVNode)('<defs data-v-3006c0a9=""><radialgradient id="mapBackground" cx="50%" cy="50%" r="100%" data-v-3006c0a9=""><stop offset="0%" stop-color="#fefefe" data-v-3006c0a9=""></stop><stop offset="70%" stop-color="#f8fafc" data-v-3006c0a9=""></stop><stop offset="100%" stop-color="#e1e7ef" data-v-3006c0a9=""></stop></radialgradient><radialgradient id="atmosphereGlow" cx="50%" cy="50%" r="100%" data-v-3006c0a9=""><stop offset="0%" stop-color="rgba(59, 130, 246, 0.02)" data-v-3006c0a9=""></stop><stop offset="100%" stop-color="rgba(147, 51, 234, 0.04)" data-v-3006c0a9=""></stop></radialgradient></defs><rect width="100%" height="100%" fill="url(#mapBackground)" data-v-3006c0a9=""></rect><rect width="100%" height="100%" fill="url(#atmosphereGlow)" data-v-3006c0a9=""></rect>',3)),(0,a.createCommentVNode)(" ä¸–ç•Œè¾¹ç•Œç½‘æ ¼ (ä»…åœ¨å¤§é™†åŒºåŸŸæ˜¾ç¤º) "),n[8]||(n[8]=(0,a.createElementVNode)("rect",{width:"100%",height:"100%",fill:"url(#gridPattern)",opacity:"0.02"},null,-1)),(0,a.createCommentVNode)(" åœ°å›¾å†…å®¹ç»„ (æ”¯æŒå¹³ç§»å’Œç¼©æ”¾) "),(0,a.createElementVNode)("g",{transform:`translate(${i.value}, ${c.value}) scale(${l.value})`},[(0,a.createCommentVNode)(" å¤§æ´²å±‚ "),(0,a.createElementVNode)("g",eI,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(x.value,e=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("g",{key:"continent-"+e.id},[(0,a.createCommentVNode)(" å¤§æ´²èŒƒå›´å¤šè¾¹å½¢ - ä¼˜åŒ–ç´§å¯†åˆ†å¸ƒçš„æ˜¾ç¤ºæ•ˆæœ "),(e.continent_bounds||e.å¤§æ´²è¾¹ç•Œ)&amp;&amp;(e.continent_bounds||e.å¤§æ´²è¾¹ç•Œ).length&gt;0?((0,a.openBlock)(),(0,a.createElementBlock)("polygon",{key:0,points:(e.continent_bounds||e.å¤§æ´²è¾¹ç•Œ).map(e=&gt;{const n=Y(e.longitude,e.latitude);return`${n.x},${n.y}`}).join(" "),fill:"rgba(59, 130, 246, 0.12)",stroke:"#2563eb","stroke-width":"2.5","stroke-dasharray":"8,4","fill-opacity":"0.12","stroke-opacity":"0.75",class:"continent-polygon",onClick:n=&gt;(e=&gt;{if(s.value||p.value&gt;5)return;console.log("[å¤èˆ†å›¾å¿—] é€‰ä¸­å¤§æ´²:",e.name||e.åç§°),console.log("[å¤èˆ†å›¾å¿—] æ˜¯å¦å…¨å±æ¨¡å¼:",!!document.fullscreenElement);const n=e.continent_bounds||e.å¤§æ´²è¾¹ç•Œ||[],t=F(n),a=O(t.x,t.y);console.log("[å¤èˆ†å›¾å¿—] å¤§æ´²å±å¹•ä½ç½®:",a),g.value={id:e.id,name:e.name||e.åç§°||"æœªçŸ¥å¤§æ´²",type:"å¤§æ´²",description:e.description||e.æè¿°||"å¹¿é˜”çš„ä¿®ä»™å¤§é™†",climate:e.climate||e.æ°”å€™,terrain_features:e.terrain_features||e.åœ°ç†ç‰¹å¾,natural_barriers:e.natural_barriers||e.å¤©ç„¶å±éšœ,screenPosition:a}})(e)},null,8,nI)):(0,a.createCommentVNode)("v-if",!0),(0,a.createCommentVNode)(" å¤§æ´²åç§°æ ‡ç­¾ "),(e.continent_bounds||e.å¤§æ´²è¾¹ç•Œ)&amp;&amp;(e.continent_bounds||e.å¤§æ´²è¾¹ç•Œ).length&gt;0?((0,a.openBlock)(),(0,a.createElementBlock)("text",{key:1,x:F(e.continent_bounds||e.å¤§æ´²è¾¹ç•Œ||[]).x,y:F(e.continent_bounds||e.å¤§æ´²è¾¹ç•Œ||[]).y,class:"continent-name-label","text-anchor":"middle",fill:"#1e40af","font-weight":"bold","font-size":"18px",opacity:"0.85"},(0,a.toDisplayString)(e.name||e.åç§°),9,tI)):(0,a.createCommentVNode)("v-if",!0)]))),128))]),(0,a.createCommentVNode)(" åŠ¿åŠ›èŒƒå›´å±‚ "),(0,a.createElementVNode)("g",aI,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(y.value.filter(e=&gt;e.isTerritory&amp;&amp;e.territoryBounds&amp;&amp;e.territoryBounds.length&gt;0),e=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("g",{key:"territory-"+e.id},[(0,a.createCommentVNode)(" åŠ¿åŠ›èŒƒå›´å¤šè¾¹å½¢ "),(0,a.createElementVNode)("polygon",{points:(e.territoryBounds||[]).map(e=&gt;`${e.x},${e.y}`).join(" "),fill:e.color,stroke:e.iconColor,"stroke-width":"2","fill-opacity":"0.15","stroke-opacity":"0.6",class:"territory-polygon",onClick:n=&gt;q(e),onMouseenter:n=&gt;j(e),onMouseleave:M},null,40,oI),(0,a.createCommentVNode)(" åŠ¿åŠ›åç§°æ ‡ç­¾ (åœ¨èŒƒå›´ä¸­å¿ƒ) "),(0,a.createElementVNode)("text",{x:P(e.territoryBounds||[]).x,y:P(e.territoryBounds||[]).y,class:"territory-name-label","text-anchor":"middle",fill:e.iconColor,"font-weight":"bold","font-size":"14px"},(0,a.toDisplayString)(e.name),9,rI)]))),128))]),(0,a.createCommentVNode)(" åœ°ç‚¹æ ‡è®°å±‚ "),(0,a.createElementVNode)("g",lI,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(y.value.filter(e=&gt;!e.isTerritory),e=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("g",{key:"location-"+e.id},[(0,a.createElementVNode)("g",{transform:`translate(${e.coordinates?.x||0}, ${e.coordinates?.y||0})`,class:"location-marker",onClick:n=&gt;q(e),onMouseenter:n=&gt;j(e),onMouseleave:M},[(0,a.createCommentVNode)(" åœ°ç‚¹ç±»å‹å›¾æ ‡ "),(0,a.createElementVNode)("g",cI,[(0,a.createCommentVNode)(" â›°ï¸ åå±±å¤§å· "),"natural_landmark"===e.type?((0,a.openBlock)(),(0,a.createElementBlock)("g",sI,[((0,a.openBlock)(),(0,a.createElementBlock)("foreignObject",{x:-Z(e.type).offset,y:-Z(e.type).offset,width:Z(e.type).size,height:Z(e.type).size},[(0,a.createElementVNode)("div",{style:(0,a.normalizeStyle)([{display:"flex","align-items":"center","justify-content":"center"},{width:Z(e.type).size+"px",height:Z(e.type).size+"px"}])},[(0,a.createVNode)((0,a.unref)(gf),{size:Z(e.type).size-4,color:e.iconColor},null,8,["size","color"])],4)],8,dI))])):"sect_power"===e.type?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:1},[(0,a.createCommentVNode)(" ğŸ›ï¸ å®—é—¨åŠ¿åŠ› "),(0,a.createElementVNode)("g",null,[((0,a.openBlock)(),(0,a.createElementBlock)("foreignObject",{x:-Z(e.type).offset,y:-Z(e.type).offset,width:Z(e.type).size,height:Z(e.type).size},[(0,a.createElementVNode)("div",{style:(0,a.normalizeStyle)([{display:"flex","align-items":"center","justify-content":"center"},{width:Z(e.type).size+"px",height:Z(e.type).size+"px"}])},[(0,a.createVNode)((0,a.unref)(R$),{size:Z(e.type).size-4,color:e.iconColor},null,8,["size","color"])],4)],8,mI))])],2112)):"city_town"===e.type?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:2},[(0,a.createCommentVNode)(" ğŸ® åŸé•‡åŠå¸‚ "),(0,a.createElementVNode)("g",null,[((0,a.openBlock)(),(0,a.createElementBlock)("foreignObject",{x:-Z(e.type).offset,y:-Z(e.type).offset,width:Z(e.type).size,height:Z(e.type).size},[(0,a.createElementVNode)("div",{style:(0,a.normalizeStyle)([{display:"flex","align-items":"center","justify-content":"center"},{width:Z(e.type).size+"px",height:Z(e.type).size+"px"}])},[(0,a.createVNode)((0,a.unref)($i),{size:Z(e.type).size-4,color:e.iconColor},null,8,["size","color"])],4)],8,pI))])],2112)):"blessed_land"===e.type?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:3},[(0,a.createCommentVNode)(" â›©ï¸ æ´å¤©ç¦åœ° "),(0,a.createElementVNode)("g",null,[((0,a.openBlock)(),(0,a.createElementBlock)("foreignObject",{x:-Z(e.type).offset,y:-Z(e.type).offset,width:Z(e.type).size,height:Z(e.type).size},[(0,a.createElementVNode)("div",{style:(0,a.normalizeStyle)([{display:"flex","align-items":"center","justify-content":"center"},{width:Z(e.type).size+"px",height:Z(e.type).size+"px"}])},[(0,a.createVNode)((0,a.unref)(Lc),{size:Z(e.type).size-4,color:e.iconColor},null,8,["size","color"])],4)],8,vI))])],2112)):"treasure_land"===e.type?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:4},[(0,a.createCommentVNode)(" ğŸ’° å¥‡çå¼‚åœ° "),(0,a.createElementVNode)("g",null,[((0,a.openBlock)(),(0,a.createElementBlock)("foreignObject",{x:-Z(e.type).offset,y:-Z(e.type).offset,width:Z(e.type).size,height:Z(e.type).size},[(0,a.createElementVNode)("div",{style:(0,a.normalizeStyle)([{display:"flex","align-items":"center","justify-content":"center"},{width:Z(e.type).size+"px",height:Z(e.type).size+"px"}])},[(0,a.createVNode)((0,a.unref)(Jk),{size:Z(e.type).size-4,color:e.iconColor},null,8,["size","color"])],4)],8,uI))])],2112)):"dangerous_area"===e.type?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:5},[(0,a.createCommentVNode)(" â˜ ï¸ å‡¶é™©ä¹‹åœ° "),(0,a.createElementVNode)("g",null,[((0,a.openBlock)(),(0,a.createElementBlock)("foreignObject",{x:-Z(e.type).offset,y:-Z(e.type).offset,width:Z(e.type).size,height:Z(e.type).size},[(0,a.createElementVNode)("div",{style:(0,a.normalizeStyle)([{display:"flex","align-items":"center","justify-content":"center"},{width:Z(e.type).size+"px",height:Z(e.type).size+"px"}])},[(0,a.createVNode)((0,a.unref)(U$),{size:Z(e.type).size-4,color:e.iconColor},null,8,["size","color"])],4)],8,gI))])],2112)):"special_other"===e.type?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:6},[(0,a.createCommentVNode)(" ğŸŒŸ å…¶ä»–ç‰¹æ®Š "),(0,a.createElementVNode)("g",null,[((0,a.openBlock)(),(0,a.createElementBlock)("foreignObject",{x:-Z(e.type).offset,y:-Z(e.type).offset,width:Z(e.type).size,height:Z(e.type).size},[(0,a.createElementVNode)("div",{style:(0,a.normalizeStyle)([{display:"flex","align-items":"center","justify-content":"center"},{width:Z(e.type).size+"px",height:Z(e.type).size+"px"}])},[(0,a.createVNode)((0,a.unref)(Bi),{size:Z(e.type).size-4,color:e.iconColor},null,8,["size","color"])],4)],8,fI))])],2112)):((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:7},[(0,a.createCommentVNode)(" é»˜è®¤å›¾æ ‡ "),(0,a.createElementVNode)("g",null,[(0,a.createElementVNode)("circle",{r:Z("default").offset-2,fill:e.iconColor,stroke:"white","stroke-width":"1"},null,8,bI),n[1]||(n[1]=(0,a.createElementVNode)("text",{class:"location-icon-text","text-anchor":"middle",dy:"2",fill:"white","font-size":"10px"},"?",-1))])],2112))]),(0,a.createCommentVNode)(" åœ°ç‚¹åç§°æ ‡ç­¾ "),(0,a.createElementVNode)("text",{class:"location-name-label","text-anchor":"middle",y:"18",fill:e.iconColor},(0,a.toDisplayString)(e.name),9,hI)],40,iI)]))),128))]),(0,a.createCommentVNode)(" ç©å®¶ä½ç½®å±‚ "),E.value?((0,a.openBlock)(),(0,a.createElementBlock)("g",yI,[(0,a.createElementVNode)("g",{transform:`translate(${E.value.x}, ${E.value.y})`},[(0,a.createCommentVNode)(" ç©å®¶çµæ°”å…‰ç¯ "),n[2]||(n[2]=(0,a.createStaticVNode)('<circle class="player-aura" r="20" fill="#EF4444" opacity="0.25" data-v-3006c0a9=""><animate attributename="r" values="15;25;15" dur="3s" repeatcount="indefinite" data-v-3006c0a9=""></animate><animate attributename="opacity" values="0.4;0.1;0.4" dur="3s" repeatcount="indefinite" data-v-3006c0a9=""></animate></circle><circle class="player-inner-aura" r="12" fill="#FBBF24" opacity="0.4" data-v-3006c0a9=""><animate attributename="r" values="8;16;8" dur="2s" repeatcount="indefinite" data-v-3006c0a9=""></animate><animate attributename="opacity" values="0.6;0.2;0.6" dur="2s" repeatcount="indefinite" data-v-3006c0a9=""></animate></circle>',2)),(0,a.createCommentVNode)(" ç©å®¶æ ‡è®° "),n[3]||(n[3]=(0,a.createElementVNode)("polygon",{points:"0,-12 -8,8 8,8",fill:"#dc2626",stroke:"#fef2f2","stroke-width":"2"},null,-1)),n[4]||(n[4]=(0,a.createElementVNode)("circle",{r:"3",fill:"#fef2f2"},null,-1)),n[5]||(n[5]=(0,a.createElementVNode)("circle",{r:"1.5",fill:"#dc2626"},null,-1))],8,xI),(0,a.createCommentVNode)(" ç©å®¶åç§° "),(0,a.createElementVNode)("text",{x:E.value.x,y:E.value.y+25,class:"player-name-label","text-anchor":"middle",fill:"#DC2626"},(0,a.toDisplayString)(h.value),9,kI)])):(0,a.createCommentVNode)("v-if",!0)],8,Z$)],40,X$))],512),(0,a.createCommentVNode)(" é€‰ä¸­è¯¦æƒ…æ˜¾ç¤ºé¢æ¿ (åŠ¨æ€ä½ç½®åœ¨åœ°ç‚¹é¡¶éƒ¨) "),g.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:1,class:"selected-info-overlay",style:(0,a.normalizeStyle)(L())},[(0,a.createElementVNode)("div",wI,[(0,a.createElementVNode)("div",NI,[(0,a.createElementVNode)("h4",null,(0,a.toDisplayString)(g.value.name),1),(0,a.createElementVNode)("button",{onClick:n[0]||(n[0]=e=&gt;g.value=null),class:"close-info"},"Ã—")]),(0,a.createElementVNode)("div",EI,[(0,a.createElementVNode)("p",VI,(0,a.toDisplayString)("å¤§æ´²"===g.value.type?"å¤§æ´²":(r=g.value.type,{natural_landmark:"åå±±å¤§å·",sect_power:"å®—é—¨åŠ¿åŠ›",city_town:"åŸé•‡åŠå¸‚",blessed_land:"æ´å¤©ç¦åœ°",treasure_land:"å¥‡çå¼‚åœ°",dangerous_area:"å‡¶é™©ä¹‹åœ°",special_other:"å…¶ä»–ç‰¹æ®Š",sect_headquarters:"å®—é—¨åŠ¿åŠ›",major_city:"åŸé•‡åŠå¸‚",secret_realm:"æ´å¤©ç¦åœ°",mountain:"åå±±å¤§å·",cultivation_site:"æ´å¤©ç¦åœ°",trade_center:"åŸé•‡åŠå¸‚",village:"åŸé•‡åŠå¸‚",neutral_zone:"å…¶ä»–ç‰¹æ®Š",immortal_empire:"å®—é—¨åŠ¿åŠ›",orthodox_sect:"å®—é—¨åŠ¿åŠ›",demonic_cult:"å®—é—¨åŠ¿åŠ›",immortal_family:"å®—é—¨åŠ¿åŠ›",merchant_guild:"å®—é—¨åŠ¿åŠ›",neutral_academy:"å®—é—¨åŠ¿åŠ›",rogue_alliance:"å®—é—¨åŠ¿åŠ›",demon_tribe:"å®—é—¨åŠ¿åŠ›",battlefield_ruins:"å‡¶é™©ä¹‹åœ°",treasure_source:"å¥‡çå¼‚åœ°",spirit_beast_habitat:"å‡¶é™©ä¹‹åœ°",inheritance_cave:"æ´å¤©ç¦åœ°",teleportation_array:"å…¶ä»–ç‰¹æ®Š",demon_realm_gate:"å‡¶é™©ä¹‹åœ°",immortal_mansion:"æ´å¤©ç¦åœ°"}[r]||"å…¶ä»–ç‰¹æ®Š")),1),(0,a.createElementVNode)("p",CI,(0,a.toDisplayString)(g.value.description),1),g.value.danger_level?((0,a.openBlock)(),(0,a.createElementBlock)("div",zI,[n[9]||(n[9]=(0,a.createElementVNode)("strong",null,"å®‰å…¨ç­‰çº§ï¼š",-1)),(0,a.createTextVNode)((0,a.toDisplayString)(g.value.danger_level),1)])):(0,a.createCommentVNode)("v-if",!0),(0,a.createCommentVNode)(" å¤§æ´²ç‰¹æœ‰ä¿¡æ¯ "),g.value.climate?((0,a.openBlock)(),(0,a.createElementBlock)("div",SI,[n[10]||(n[10]=(0,a.createElementVNode)("strong",null,"æ°”å€™ç±»å‹ï¼š",-1)),(0,a.createTextVNode)((0,a.toDisplayString)(g.value.climate),1)])):(0,a.createCommentVNode)("v-if",!0),g.value.terrain_features&amp;&amp;g.value.terrain_features.length&gt;0?((0,a.openBlock)(),(0,a.createElementBlock)("div",BI,[n[11]||(n[11]=(0,a.createElementVNode)("strong",null,"åœ°å½¢ç‰¹å¾ï¼š",-1)),(0,a.createTextVNode)((0,a.toDisplayString)(Array.isArray(g.value.terrain_features)?g.value.terrain_features.join("ã€"):g.value.terrain_features),1)])):(0,a.createCommentVNode)("v-if",!0),g.value.natural_barriers&amp;&amp;g.value.natural_barriers.length&gt;0?((0,a.openBlock)(),(0,a.createElementBlock)("div",DI,[n[12]||(n[12]=(0,a.createElementVNode)("strong",null,"å¤©ç„¶å±éšœï¼š",-1)),(0,a.createTextVNode)((0,a.toDisplayString)(Array.isArray(g.value.natural_barriers)?g.value.natural_barriers.join("ã€"):g.value.natural_barriers),1)])):(0,a.createCommentVNode)("v-if",!0)])])],4)):(0,a.createCommentVNode)("v-if",!0),(0,a.createCommentVNode)(" åœ°å›¾å›¾ä¾‹ (å³ä¸‹è§’) "),(0,a.createElementVNode)("div",AI,[(0,a.createElementVNode)("div",_I,(0,a.toDisplayString)(k.value)+"å›¾ä¾‹",1),(0,a.createElementVNode)("div",$I,[(0,a.createElementVNode)("div",II,[(0,a.createElementVNode)("div",TI,[(0,a.createVNode)((0,a.unref)(gf),{size:16,color:"#2D7D32"})]),n[13]||(n[13]=(0,a.createElementVNode)("span",null,"åå±±å¤§å·",-1))]),(0,a.createElementVNode)("div",jI,[(0,a.createElementVNode)("div",MI,[(0,a.createVNode)((0,a.unref)(R$),{size:16,color:"#1565C0"})]),n[14]||(n[14]=(0,a.createElementVNode)("span",null,"å®—é—¨åŠ¿åŠ›",-1))]),(0,a.createElementVNode)("div",qI,[(0,a.createElementVNode)("div",OI,[(0,a.createVNode)((0,a.unref)($i),{size:16,color:"#F57C00"})]),n[15]||(n[15]=(0,a.createElementVNode)("span",null,"åŸé•‡åŠå¸‚",-1))]),(0,a.createElementVNode)("div",PI,[(0,a.createElementVNode)("div",FI,[(0,a.createVNode)((0,a.unref)(Lc),{size:16,color:"#7B1FA2"})]),n[16]||(n[16]=(0,a.createElementVNode)("span",null,"æ´å¤©ç¦åœ°",-1))]),(0,a.createElementVNode)("div",LI,[(0,a.createElementVNode)("div",YI,[(0,a.createVNode)((0,a.unref)(Jk),{size:16,color:"#388E3C"})]),n[17]||(n[17]=(0,a.createElementVNode)("span",null,"å¥‡çå¼‚åœ°",-1))]),(0,a.createElementVNode)("div",RI,[(0,a.createElementVNode)("div",UI,[(0,a.createVNode)((0,a.unref)(U$),{size:16,color:"#D32F2F"})]),n[18]||(n[18]=(0,a.createElementVNode)("span",null,"å‡¶é™©ä¹‹åœ°",-1))]),(0,a.createElementVNode)("div",GI,[(0,a.createElementVNode)("div",WI,[(0,a.createVNode)((0,a.unref)(Bi),{size:16,color:"#6B7280"})]),n[19]||(n[19]=(0,a.createElementVNode)("span",null,"å…¶ä»–ç‰¹æ®Š",-1))])])])]);var r}}});var HI=t(875),QI={};QI.styleTagTransform=A(),QI.setAttributes=z(),QI.insert=V().bind(null,"head"),QI.domAPI=N(),QI.insertStyleElement=B(),k()(HI.A,QI),HI.A&amp;&amp;HI.A.locals&amp;&amp;HI.A.locals;const KI=(0,j.A)(JI,[["__scopeId","data-v-3006c0a9"]]),XI={class:"quest-panel"},ZI={class:"quest-header"},eT={class:"header-title"},nT={key:0,class:"count-badge"},tT={class:"header-actions"},aT=["title"],oT={key:0,class:"config-panel"},rT={class:"config-row"},lT={class:"config-row"},iT={class:"config-row"},cT={key:0,class:"config-row custom-prompt-row"},sT={key:1,class:"tasks-container"},dT={class:"task-header"},mT={class:"task-title-area"},pT={class:"task-icon"},vT={class:"task-title"},uT={class:"task-type-badge"},gT=["onClick","title"],fT={key:0,class:"task-body"},bT={class:"task-description"},hT={class:"task-conditions"},yT={class:"condition-icon"},xT={class:"condition-text"},kT={key:0,class:"condition-progress"},wT={class:"progress-bar-mini"},NT={class:"progress-text-mini"},ET={class:"task-rewards"},VT={class:"rewards-list"},CT={class:"reward-icon"},zT={class:"reward-text"},ST={key:0,class:"task-footer"},BT={key:0,class:"time-limit"},DT={class:"footer-value"},AT={key:1,class:"failure-penalty"},_T={class:"footer-value penalty-text"},$T={class:"task-meta"},IT={class:"meta-value"},TT={key:3,class:"completed-section"},jT={class:"count-badge"},MT={class:"expand-icon"},qT={key:0,class:"completed-list"},OT={class:"completed-name"},PT={key:0,class:"more-hint"},FT=(0,a.defineComponent)({__name:"QuestPanel",setup(e){const n=(0,tn.useCharacterStore)(),t=(0,a.ref)(!1),o=(0,a.ref)(!1),r=(0,a.ref)(new Set),l=(0,a.computed)(()=&gt;n.activeSaveSlot?.å­˜æ¡£æ•°æ®?.ç³»ç»Ÿä»»åŠ¡),i=(0,a.computed)(()=&gt;l.value?.é…ç½®?.å¯ç”¨||!1),c=(0,a.computed)({get:()=&gt;l.value?.é…ç½®?.ä»»åŠ¡ç±»å‹||"all",set:e=&gt;{l.value?.é…ç½®&amp;&amp;(l.value.é…ç½®.ä»»åŠ¡ç±»å‹=e)}}),s=(0,a.computed)({get:()=&gt;l.value?.é…ç½®?.é¢å‘æ•°é‡||3,set:e=&gt;{l.value?.é…ç½®&amp;&amp;(l.value.é…ç½®.é¢å‘æ•°é‡=e)}}),m=(0,a.computed)({get:()=&gt;l.value?.é…ç½®?.è‡ªå®šä¹‰æç¤ºè¯||"",set:e=&gt;{l.value?.é…ç½®&amp;&amp;(l.value.é…ç½®.è‡ªå®šä¹‰æç¤ºè¯=e)}}),p=(0,a.computed)(()=&gt;l.value?.è¿›è¡Œä¸­ä»»åŠ¡||[]),v=(0,a.computed)(()=&gt;p.value.length),u=(0,a.computed)(()=&gt;l.value?.å·²å®Œæˆä»»åŠ¡åç§°||[]);function g(){const e=n.activeSaveSlot?.å­˜æ¡£æ•°æ®;if(!e?.ç³»ç»Ÿä»»åŠ¡?.é…ç½®)return void d.o.error("ç³»ç»Ÿä»»åŠ¡é…ç½®ä¸å­˜åœ¨");const t=e.ç³»ç»Ÿä»»åŠ¡.é…ç½®,a=[];t.ä»»åŠ¡ç±»å‹!==c.value&amp;&amp;(t.ä»»åŠ¡ç±»å‹=c.value,a.push("ç³»ç»Ÿä»»åŠ¡.é…ç½®.ä»»åŠ¡ç±»å‹")),t.é¢å‘æ•°é‡!==s.value&amp;&amp;(t.é¢å‘æ•°é‡=s.value,a.push("ç³»ç»Ÿä»»åŠ¡.é…ç½®.é¢å‘æ•°é‡")),"custom"===c.value&amp;&amp;t.è‡ªå®šä¹‰æç¤ºè¯!==m.value&amp;&amp;(t.è‡ªå®šä¹‰æç¤ºè¯=m.value,a.push("ç³»ç»Ÿä»»åŠ¡.é…ç½®.è‡ªå®šä¹‰æç¤ºè¯")),a.length&gt;0&amp;&amp;n.syncToTavernAndSave({changedPaths:a}),d.o.success("é…ç½®å·²æ›´æ–°")}function f(){const e=n.activeSaveSlot?.å­˜æ¡£æ•°æ®;e?.ç³»ç»Ÿä»»åŠ¡?.é…ç½®?(e.ç³»ç»Ÿä»»åŠ¡.é…ç½®.å¯ç”¨=!e.ç³»ç»Ÿä»»åŠ¡.é…ç½®.å¯ç”¨,n.syncToTavernAndSave({changedPaths:["ç³»ç»Ÿä»»åŠ¡.é…ç½®.å¯ç”¨"],fullSync:!0}),e.ç³»ç»Ÿä»»åŠ¡.é…ç½®.å¯ç”¨?d.o.success("âœ“ ç³»ç»Ÿä»»åŠ¡å·²å¯ç”¨ï¼ŒAIå°†æ ¹æ®é…ç½®è‡ªåŠ¨é¢å‘ä»»åŠ¡"):d.o.info("âœ— ç³»ç»Ÿä»»åŠ¡å·²ç¦ç”¨")):d.o.error("ç³»ç»Ÿä»»åŠ¡é…ç½®ä¸å­˜åœ¨")}function b(e){return r.value.has(e)}function h(e){return{all:"ğŸ¯",relationship:"ğŸ‘¥",companion:"ğŸ’‘",cultivation:"âš¡",exploration:"ğŸ—ºï¸",combat:"âš”ï¸",custom:"ğŸ²"}[e]||"ğŸ“Œ"}function y(e){return{all:"ç»¼åˆ",relationship:"äº¤å‹",companion:"é“ä¾£",cultivation:"ä¿®ç‚¼",exploration:"æ¢ç´¢",combat:"æˆ˜æ–—",custom:"è‡ªå®šä¹‰"}[e]||e}function x(e){return{çµçŸ³:"ğŸ’",ç‰©å“:"ğŸ“¦",ç»éªŒ:"âœ¨",å±æ€§:"ğŸ’ª",æŠ€èƒ½:"ğŸ“œ",å¥½æ„Ÿåº¦:"ğŸ’—"}[e]||"ğŸ"}return(e,n)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",XI,[(0,a.createCommentVNode)(" ç³»ç»Ÿä»»åŠ¡å¼€å…³å’Œé…ç½® "),(0,a.createElementVNode)("div",ZI,[(0,a.createElementVNode)("div",eT,[n[5]||(n[5]=(0,a.createElementVNode)("span",{class:"header-icon"},"ğŸ¯",-1)),n[6]||(n[6]=(0,a.createElementVNode)("span",{class:"header-text"},"ç³»ç»Ÿä»»åŠ¡",-1)),l.value?((0,a.openBlock)(),(0,a.createElementBlock)("span",nT,(0,a.toDisplayString)(v.value)+"/"+(0,a.toDisplayString)(5),1)):(0,a.createCommentVNode)("v-if",!0)]),(0,a.createElementVNode)("div",tT,[(0,a.createElementVNode)("button",{class:"config-btn",onClick:n[0]||(n[0]=e=&gt;t.value=!t.value),title:t.value?"éšè—é…ç½®":"æ˜¾ç¤ºé…ç½®"}," âš™ï¸ é…ç½® ",8,aT)])]),(0,a.createCommentVNode)(" é…ç½®é¢æ¿ "),t.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",oT,[(0,a.createElementVNode)("div",rT,[n[7]||(n[7]=(0,a.createElementVNode)("label",{class:"config-label"},"ç³»ç»Ÿä»»åŠ¡ï¼š",-1)),(0,a.createElementVNode)("button",{class:(0,a.normalizeClass)(["toggle-btn",{active:i.value}]),onClick:f},(0,a.toDisplayString)(i.value?"âœ“ å·²å¯ç”¨":"âœ— å·²ç¦ç”¨"),3)]),(0,a.createElementVNode)("div",lT,[n[9]||(n[9]=(0,a.createElementVNode)("label",{class:"config-label"},"ä»»åŠ¡ç±»å‹ï¼š",-1)),(0,a.withDirectives)((0,a.createElementVNode)("select",{"onUpdate:modelValue":n[1]||(n[1]=e=&gt;c.value=e),onChange:g,class:"config-select"},n[8]||(n[8]=[(0,a.createStaticVNode)('<option value="all" data-v-7e802482="">ç»¼åˆç³»ç»Ÿï¼ˆå…¨éƒ¨ç±»å‹ï¼‰</option><option value="relationship" data-v-7e802482="">äº¤å‹ç³»ç»Ÿ</option><option value="companion" data-v-7e802482="">é“ä¾£ç³»ç»Ÿ</option><option value="cultivation" data-v-7e802482="">ä¿®ç‚¼ç³»ç»Ÿ</option><option value="exploration" data-v-7e802482="">æ¢ç´¢ç³»ç»Ÿ</option><option value="combat" data-v-7e802482="">æˆ˜æ–—ç³»ç»Ÿ</option><option value="custom" data-v-7e802482="">è‡ªå®šä¹‰</option>',7)]),544),[[a.vModelSelect,c.value]])]),(0,a.createElementVNode)("div",iT,[n[10]||(n[10]=(0,a.createElementVNode)("label",{class:"config-label"},"é¢å‘æ•°é‡ï¼š",-1)),(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"number","onUpdate:modelValue":n[2]||(n[2]=e=&gt;s.value=e),onChange:g,class:"config-input",min:"1",max:"10"},null,544),[[a.vModelText,s.value,void 0,{number:!0}]])]),"custom"===c.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",cT,[n[11]||(n[11]=(0,a.createElementVNode)("label",{class:"config-label"},"è‡ªå®šä¹‰è§„åˆ™ï¼š",-1)),(0,a.withDirectives)((0,a.createElementVNode)("textarea",{"onUpdate:modelValue":n[3]||(n[3]=e=&gt;m.value=e),onChange:g,class:"config-textarea",placeholder:"è¾“å…¥ä»»åŠ¡é¢å‘è§„åˆ™ï¼ŒAIä¼šæ ¹æ®æ­¤è§„åˆ™ç”Ÿæˆä»»åŠ¡...",rows:"4"},null,544),[[a.vModelText,m.value]])])):(0,a.createCommentVNode)("v-if",!0)])):(0,a.createCommentVNode)("v-if",!0),(0,a.createCommentVNode)(" è¿›è¡Œä¸­çš„ä»»åŠ¡ "),p.value.length&gt;0?((0,a.openBlock)(),(0,a.createElementBlock)("div",sT,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(p.value,e=&gt;{return(0,a.openBlock)(),(0,a.createElementBlock)("div",{key:e.ä»»åŠ¡ID,class:(0,a.normalizeClass)(["task-card",(l=e.ä»»åŠ¡ç±»å‹,`task-type-${l}`)])},[(0,a.createElementVNode)("div",dT,[(0,a.createElementVNode)("div",mT,[(0,a.createElementVNode)("span",pT,(0,a.toDisplayString)(h(e.ä»»åŠ¡ç±»å‹)),1),(0,a.createElementVNode)("h4",vT,(0,a.toDisplayString)(e.ä»»åŠ¡åç§°),1),(0,a.createElementVNode)("span",uT,(0,a.toDisplayString)(y(e.ä»»åŠ¡ç±»å‹)),1)]),(0,a.createElementVNode)("button",{class:"expand-btn",onClick:n=&gt;{return t=e.ä»»åŠ¡ID,void(r.value.has(t)?r.value.delete(t):r.value.add(t));var t},title:b(e.ä»»åŠ¡ID)?"æ”¶èµ·":"å±•å¼€"},(0,a.toDisplayString)(b(e.ä»»åŠ¡ID)?"â–²":"â–¼"),9,gT)]),b(e.ä»»åŠ¡ID)?((0,a.openBlock)(),(0,a.createElementBlock)("div",fT,[(0,a.createElementVNode)("p",bT,(0,a.toDisplayString)(e.ä»»åŠ¡æè¿°),1),(0,a.createCommentVNode)(" ä»»åŠ¡æ¡ä»¶ "),(0,a.createElementVNode)("div",hT,[n[12]||(n[12]=(0,a.createElementVNode)("h5",{class:"subsection-title"},"ä»»åŠ¡æ¡ä»¶",-1)),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.æ¡ä»¶,(e,n)=&gt;{return(0,a.openBlock)(),(0,a.createElementBlock)("div",{key:n,class:(0,a.normalizeClass)(["condition-item",{completed:e.å®Œæˆ}])},[(0,a.createElementVNode)("span",yT,(0,a.toDisplayString)(e.å®Œæˆ?"âœ“":"â—‹"),1),(0,a.createElementVNode)("span",xT,(0,a.toDisplayString)(e.æè¿°),1),e.è¿›åº¦?((0,a.openBlock)(),(0,a.createElementBlock)("div",kT,[(0,a.createElementVNode)("div",wT,[(0,a.createElementVNode)("div",{class:"progress-fill",style:(0,a.normalizeStyle)({width:(t=e.è¿›åº¦,(0===t.ç›®æ ‡?100:Math.min(100,t.å½“å‰/t.ç›®æ ‡*100))+"%")})},null,4)]),(0,a.createElementVNode)("span",NT,(0,a.toDisplayString)(e.è¿›åº¦.å½“å‰)+"/"+(0,a.toDisplayString)(e.è¿›åº¦.ç›®æ ‡),1)])):(0,a.createCommentVNode)("v-if",!0)],2);var t}),128))]),(0,a.createCommentVNode)(" ä»»åŠ¡å¥–åŠ± "),(0,a.createElementVNode)("div",ET,[n[13]||(n[13]=(0,a.createElementVNode)("h5",{class:"subsection-title"},"ä»»åŠ¡å¥–åŠ±",-1)),(0,a.createElementVNode)("div",VT,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.å¥–åŠ±,(e,n)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:n,class:"reward-item"},[(0,a.createElementVNode)("span",CT,(0,a.toDisplayString)(x(e.ç±»å‹)),1),(0,a.createElementVNode)("span",zT,(0,a.toDisplayString)(e.æè¿°),1)]))),128))])]),(0,a.createCommentVNode)(" ä»»åŠ¡æœ‰æ•ˆæœŸå’Œæƒ©ç½š "),e.æœ‰æ•ˆæœŸ||e.å¤±è´¥æƒ©ç½š?((0,a.openBlock)(),(0,a.createElementBlock)("div",ST,[e.æœ‰æ•ˆæœŸ?((0,a.openBlock)(),(0,a.createElementBlock)("div",BT,[n[14]||(n[14]=(0,a.createElementVNode)("span",{class:"footer-label"},"â° æœ‰æ•ˆæœŸï¼š",-1)),(0,a.createElementVNode)("span",DT,(0,a.toDisplayString)((o=e.æœ‰æ•ˆæœŸ,o&lt;60?`${o}åˆ†é’Ÿ`:o&lt;1440?`${Math.floor(o/60)}å°æ—¶`:o&lt;43200?`${Math.floor(o/1440)}å¤©`:`${Math.floor(o/43200)}æœˆ`)),1)])):(0,a.createCommentVNode)("v-if",!0),e.å¤±è´¥æƒ©ç½š?((0,a.openBlock)(),(0,a.createElementBlock)("div",AT,[n[15]||(n[15]=(0,a.createElementVNode)("span",{class:"footer-label"},"âš ï¸ å¤±è´¥æƒ©ç½šï¼š",-1)),(0,a.createElementVNode)("span",_T,(0,a.toDisplayString)(e.å¤±è´¥æƒ©ç½š),1)])):(0,a.createCommentVNode)("v-if",!0)])):(0,a.createCommentVNode)("v-if",!0),(0,a.createCommentVNode)(" é¢å‘æ—¶é—´ "),(0,a.createElementVNode)("div",$T,[n[16]||(n[16]=(0,a.createElementVNode)("span",{class:"meta-label"},"é¢å‘æ—¶é—´ï¼š",-1)),(0,a.createElementVNode)("span",IT,(0,a.toDisplayString)((t=e.é¢å‘æ—¶é—´,`ä»™å†${t.å¹´}å¹´${t.æœˆ}æœˆ${t.æ—¥}æ—¥`)),1)])])):(0,a.createCommentVNode)("v-if",!0)],2);var t,o,l}),128))])):((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:2},[(0,a.createCommentVNode)(" æ— ä»»åŠ¡æç¤º "),n[17]||(n[17]=(0,a.createElementVNode)("div",{class:"empty-tasks"},[(0,a.createElementVNode)("div",{class:"empty-icon"},"ğŸ“‹"),(0,a.createElementVNode)("div",{class:"empty-text"},"æš‚æ— è¿›è¡Œä¸­çš„ä»»åŠ¡"),(0,a.createElementVNode)("div",{class:"empty-hint"},"AIä¼šæ ¹æ®ä½ çš„é…ç½®è‡ªåŠ¨é¢å‘ä»»åŠ¡")],-1))],2112)),(0,a.createCommentVNode)(" å·²å®Œæˆä»»åŠ¡å†å² "),u.value.length&gt;0?((0,a.openBlock)(),(0,a.createElementBlock)("div",TT,[(0,a.createElementVNode)("button",{class:"completed-header",onClick:n[4]||(n[4]=e=&gt;o.value=!o.value)},[n[18]||(n[18]=(0,a.createElementVNode)("span",{class:"header-icon"},"âœ“",-1)),n[19]||(n[19]=(0,a.createElementVNode)("span",{class:"header-text"},"å·²å®Œæˆä»»åŠ¡",-1)),(0,a.createElementVNode)("span",jT,(0,a.toDisplayString)(u.value.length),1),(0,a.createElementVNode)("span",MT,(0,a.toDisplayString)(o.value?"â–²":"â–¼"),1)]),o.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",qT,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(u.value.slice(0,20),(e,t)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:t,class:"completed-item"},[n[20]||(n[20]=(0,a.createElementVNode)("span",{class:"completed-icon"},"ğŸ†",-1)),(0,a.createElementVNode)("span",OT,(0,a.toDisplayString)(e),1)]))),128)),u.value.length&gt;20?((0,a.openBlock)(),(0,a.createElementBlock)("div",PT," è¿˜æœ‰ "+(0,a.toDisplayString)(u.value.length-20)+" ä¸ªå·²å®Œæˆä»»åŠ¡... ",1)):(0,a.createCommentVNode)("v-if",!0)])):(0,a.createCommentVNode)("v-if",!0)])):(0,a.createCommentVNode)("v-if",!0)]))}});var LT=t(3811),YT={};YT.styleTagTransform=A(),YT.setAttributes=z(),YT.insert=V().bind(null,"head"),YT.domAPI=N(),YT.insertStyleElement=B(),k()(LT.A,YT),LT.A&amp;&lt;.A.locals&amp;&lt;.A.locals;const RT=(0,j.A)(FT,[["__scopeId","data-v-7e802482"]]),UT=(0,c.A)("building",[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]]),GT=(0,c.A)("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),WT=(0,c.A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),JT=(0,c.A)("gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]),HT=(0,c.A)("crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]),QT=(0,c.A)("coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]),KT=(0,c.A)("book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]),XT={ç»ƒæ°”:1,ç»ƒæ°”åˆæœŸ:1,ç»ƒæ°”ä¸­æœŸ:1,ç»ƒæ°”åæœŸ:1,ç»ƒæ°”åœ†æ»¡:1,ç»ƒæ°”æå¢ƒ:1,ç­‘åŸº:2,ç­‘åŸºåˆæœŸ:2,ç­‘åŸºä¸­æœŸ:2,ç­‘åŸºåæœŸ:2,ç­‘åŸºåœ†æ»¡:2,ç­‘åŸºæå¢ƒ:2,é‡‘ä¸¹:3,é‡‘ä¸¹åˆæœŸ:3,é‡‘ä¸¹ä¸­æœŸ:3,é‡‘ä¸¹åæœŸ:3,é‡‘ä¸¹åœ†æ»¡:3,é‡‘ä¸¹æå¢ƒ:3,å…ƒå©´:4,å…ƒå©´åˆæœŸ:4,å…ƒå©´ä¸­æœŸ:4,å…ƒå©´åæœŸ:4,å…ƒå©´åœ†æ»¡:4,å…ƒå©´æå¢ƒ:4,åŒ–ç¥:5,åŒ–ç¥åˆæœŸ:5,åŒ–ç¥ä¸­æœŸ:5,åŒ–ç¥åæœŸ:5,åŒ–ç¥åœ†æ»¡:5,åŒ–ç¥æå¢ƒ:5,ç‚¼è™š:6,ç‚¼è™šåˆæœŸ:6,ç‚¼è™šä¸­æœŸ:6,ç‚¼è™šåæœŸ:6,ç‚¼è™šåœ†æ»¡:6,ç‚¼è™šæå¢ƒ:6,åˆä½“:7,åˆä½“åˆæœŸ:7,åˆä½“ä¸­æœŸ:7,åˆä½“åæœŸ:7,åˆä½“åœ†æ»¡:7,åˆä½“æå¢ƒ:7,æ¸¡åŠ«:8,æ¸¡åŠ«åˆæœŸ:8,æ¸¡åŠ«ä¸­æœŸ:8,æ¸¡åŠ«åæœŸ:8,æ¸¡åŠ«åœ†æ»¡:8,æ¸¡åŠ«æå¢ƒ:8,ç»ƒæ°”æœŸ:1,ç­‘åŸºæœŸ:2,é‡‘ä¸¹æœŸ:3,å…ƒå©´æœŸ:4,åŒ–ç¥æœŸ:5,ç‚¼è™šæœŸ:6,åˆä½“æœŸ:7,æ¸¡åŠ«æœŸ:8};function ZT(e){return XT[e]||0}const ej={class:"sect-panel"},nj={class:"panel-content"},tj={class:"sect-container"},aj={class:"sect-list"},oj={class:"list-header"},rj={class:"search-bar"},lj={class:"list-content"},ij={key:0,class:"loading-state"},cj={key:1,class:"empty-state"},sj={class:"debug-info",style:{"margin-top":"1rem","font-size":"0.8rem",color:"#666","text-align":"left"}},dj={style:{"margin-top":"0.5rem"}},mj={key:2,class:"sect-list-content"},pj=["onClick"],vj={class:"sect-icon"},uj={class:"sect-emoji"},gj={class:"sect-info"},fj={class:"sect-name"},bj={class:"sect-meta"},hj={class:"sect-type"},yj={class:"sect-detail"},xj={key:0,class:"detail-content"},kj={class:"detail-header"},wj={class:"detail-icon"},Nj={class:"sect-emoji-large"},Ej={class:"detail-info"},Vj={class:"detail-name"},Cj={class:"detail-badges"},zj={class:"detail-body"},Sj={class:"detail-section"},Bj={class:"section-title"},Dj={class:"info-grid"},Aj={class:"info-item"},_j={class:"info-value"},$j={class:"info-item"},Ij={class:"info-value"},Tj={class:"info-item"},jj={class:"info-value"},Mj={class:"info-item"},qj={class:"info-value"},Oj={key:0,class:"leadership-info"},Pj={class:"leader-grid"},Fj={class:"leader-item primary-leader"},Lj={class:"leader-name"},Yj={key:0,class:"leader-realm"},Rj={key:0,class:"leader-item"},Uj={class:"leader-name"},Gj={class:"sect-strength"},Wj={class:"strength-item"},Jj={class:"strength-value peak-power"},Hj={key:0,class:"strength-item"},Qj={class:"power-level"},Kj={class:"sect-description"},Xj={class:"desc-text"},Zj={key:2,class:"sect-specialties"},eM={class:"specialties-tags"},nM={key:0,class:"detail-section"},tM={class:"section-title"},aM={class:"member-stats"},oM={class:"total-members"},rM={class:"total-value"},lM={key:0,class:"realm-distribution"},iM={class:"realm-stats"},cM={class:"realm-name"},sM={class:"realm-count"},dM={key:1,class:"position-distribution"},mM={class:"position-stats"},pM={class:"position-name"},vM={class:"position-count"},uM={class:"detail-section missing-data-notice"},gM={class:"section-title"},fM={class:"detail-section"},bM={class:"section-title"},hM={class:"relationship-info"},yM={class:"relationship-item"},xM={class:"relationship-item"},kM={class:"reputation-level"},wM={key:2,class:"detail-section"},NM={class:"section-title"},EM={class:"territory-info"},VM={class:"influence-description"},CM={key:0,class:"controlled-areas"},zM={class:"areas-list"},SM={class:"strategic-value"},BM={class:"value-display"},DM={class:"value-bar"},AM={class:"value-text"},_M={key:3,class:"detail-section"},$M={class:"section-title"},IM={class:"join-requirements"},TM={key:0,class:"requirements-list"},jM={class:"requirement-text"},MM={key:1,class:"no-requirements"},qM={key:0,class:"join-benefits"},OM={class:"benefits-list"},PM={class:"benefit-text"},FM={class:"join-actions"},LM={key:4,class:"detail-section"},YM={class:"section-title"},RM={class:"current-member-info"},UM={class:"member-status"},GM={class:"status-item"},WM={class:"status-value position"},JM={class:"status-item"},HM={class:"status-value contribution"},QM={class:"status-item"},KM={class:"status-value reputation"},XM={class:"status-item"},ZM={class:"status-value join-date"},eq={class:"sect-actions"},nq={class:"action-buttons"},tq={key:1,class:"no-selection"},aq=(0,a.defineComponent)({__name:"SectPanel",setup(e){const n=(0,tn.useCharacterStore)(),{characterData:t,saveData:o}=(0,Li.useUnifiedCharacterData)(),r=(0,a.ref)(!1),l=(0,a.ref)(null),i=(0,a.ref)(""),c=(0,a.computed)(()=&gt;{const e=o.value;if(console.log("[å®—é—¨ç³»ç»Ÿ] å¼€å§‹è·å–æ•°æ®"),console.log("[å®—é—¨ç³»ç»Ÿ] saveDataå­˜åœ¨:",!!e),console.log("[å®—é—¨ç³»ç»Ÿ] å®Œæ•´å­˜æ¡£æ•°æ®ç»“æ„:",Object.keys(e||{})),!e)return console.log("[å®—é—¨ç³»ç»Ÿ] å­˜æ¡£æ•°æ®ä¸å­˜åœ¨ï¼Œè¿”å›ç©ºæ•°ç»„"),{availableSects:[]};let n=[];const t=e.ä¸–ç•Œä¿¡æ¯;if(t?.åŠ¿åŠ›ä¿¡æ¯){console.log("[å®—é—¨ç³»ç»Ÿ] å‘ç°ä¸–ç•Œä¿¡æ¯.åŠ¿åŠ›ä¿¡æ¯ï¼Œæ•°é‡:",t.åŠ¿åŠ›ä¿¡æ¯.length),console.log("[å®—é—¨ç³»ç»Ÿ] åŠ¿åŠ›ä¿¡æ¯ç±»å‹:",t.åŠ¿åŠ›ä¿¡æ¯.map(e=&gt;e.ç±»å‹));const e=t.åŠ¿åŠ›ä¿¡æ¯.filter(e=&gt;{if(!e.ç±»å‹)return!1;const n=e.ç±»å‹.toLowerCase();return["ç§˜å¢ƒ","é—è¿¹","ç¦åœ°","æ£®æ—","å±±è„‰","æ¹–æ³Š","åŸæ± "].some(e=&gt;n.includes(e.toLowerCase()))?(console.log("[å®—é—¨ç³»ç»Ÿ] æ’é™¤éå®—é—¨åŠ¿åŠ›:",e.åç§°,e.ç±»å‹),!1):(console.log("[å®—é—¨ç³»ç»Ÿ] åŒ…å«åŠ¿åŠ›:",e.åç§°,e.ç±»å‹),!0)});n=e}const a=e?.å®—é—¨ç³»ç»Ÿ;if(a?.availableSects&amp;&amp;a.availableSects.length&gt;0){console.log("[å®—é—¨ç³»ç»Ÿ] å‘ç°å®—é—¨ç³»ç»Ÿ.availableSectsï¼Œæ•°é‡:",a.availableSects.length);const e=a.availableSects.map(e=&gt;({...e,åç§°:e.name,ç±»å‹:e.type,ç­‰çº§:e.level,æè¿°:e.description,ç‰¹è‰²:e.specialties,ä¸ç©å®¶å…³ç³»:e.relationshipToPlayer}));n=[...n,...e]}Object.keys(e).forEach(t=&gt;{const a=t.toLowerCase(),o=e[t];(a.includes("å®—é—¨")||a.includes("sect"))&amp;&amp;Array.isArray(o)&amp;&amp;(console.log("[å®—é—¨ç³»ç»Ÿ] å‘ç°å¯èƒ½çš„å®—é—¨æ•°æ®å­—æ®µ:",t,"æ•°é‡:",o.length),n=[...n,...o])});const r=(l=n.filter((e,n,t)=&gt;t.findIndex(n=&gt;n.åç§°===e.åç§°)===n),Array.isArray(l)?l.map(e=&gt;{const n=function(e){if(!e)return e;console.log("[å®—é—¨éªŒè¯] å¼€å§‹éªŒè¯å®—é—¨æ•°æ®:",e.åç§°);const n=e.leadership?.æœ€å¼ºä¿®ä¸º||e.æœ€å¼ºä¿®ä¸º,t=ZT(n);if(console.log("[å®—é—¨éªŒè¯] æœ€å¼ºä¿®ä¸º:",n,"ç­‰çº§:",t),e.memberCount?.byRealm){const n=e.memberCount.byRealm,a={...n};Object.keys(n).forEach(e=&gt;{const a=ZT(e);a&gt;t&amp;&amp;(console.log(`[å®—é—¨éªŒè¯] ç§»é™¤è¶…è¶Šæœ€å¼ºä¿®ä¸ºçš„å¢ƒç•Œ: ${e} (ç­‰çº§${a} &gt; ${t})`),delete n[e])}),console.log("[å®—é—¨éªŒè¯] ä¿®å¤å‰å¢ƒç•Œåˆ†å¸ƒ:",a),console.log("[å®—é—¨éªŒè¯] ä¿®å¤åå¢ƒç•Œåˆ†å¸ƒ:",n)}if(e.leadership?.é•¿è€æ•°é‡&amp;&amp;e.memberCount?.byRealm){const n=e.leadership.é•¿è€æ•°é‡,t=e.memberCount.byRealm;let a=0;if(Object.keys(t).forEach(e=&gt;{ZT(e)&gt;=4&amp;&amp;(a+=t[e]||0)}),console.log(`[å®—é—¨éªŒè¯] é•¿è€æ•°é‡: ${n}, é«˜å¢ƒç•Œä¿®å£«: ${a}`),a&gt;1.5*n){console.log("[å®—é—¨éªŒè¯] é«˜å¢ƒç•Œä¿®å£«æ•°é‡è¿‡å¤šï¼Œè¿›è¡Œè°ƒæ•´");const e=1.2*n/a;Object.keys(t).forEach(n=&gt;{if(ZT(n)&gt;=4){const a=t[n];t[n]=Math.max(1,Math.round(a*e)),console.log(`[å®—é—¨éªŒè¯] è°ƒæ•´${n}: ${a} -&gt; ${t[n]}`)}})}}return e}(e),t=function(e){const n=[];if(!e)return n.push("å®—é—¨æ•°æ®ä¸ºç©º"),{isValid:!1,errors:n};const t=e.leadership?.æœ€å¼ºä¿®ä¸º||e.æœ€å¼ºä¿®ä¸º,a=ZT(t);e.memberCount?.byRealm&amp;&amp;Object.keys(e.memberCount.byRealm).forEach(e=&gt;{ZT(e)&gt;a&amp;&amp;n.push(`å¢ƒç•Œåˆ†å¸ƒé”™è¯¯: å­˜åœ¨${e}æœŸä¿®å£«ï¼Œä½†æœ€å¼ºä¿®ä¸ºä»…ä¸º${t}`)});const o=e.leadership?.é•¿è€æ•°é‡;if(o&amp;&amp;e.memberCount?.byRealm){let t=0;Object.keys(e.memberCount.byRealm).forEach(n=&gt;{ZT(n)&gt;=4&amp;&amp;(t+=e.memberCount.byRealm[n]||0)}),t&gt;2*o&amp;&amp;n.push(`äººå‘˜é…ç½®ä¸åˆç†: é•¿è€${o}ä½ï¼Œä½†å…ƒå©´æœŸä»¥ä¸Šä¿®å£«${t}äºº`)}return{isValid:0===n.length,errors:n}}(n);return t.isValid||console.warn(`[å®—é—¨éªŒè¯] ${e.åç§°||"æœªçŸ¥å®—é—¨"}å­˜åœ¨é—®é¢˜:`,t.errors),n}):l);var l;return console.log("[å®—é—¨ç³»ç»Ÿ] æœ€ç»ˆå®—é—¨æ•°é‡:",r.length),console.log("[å®—é—¨ç³»ç»Ÿ] æœ€ç»ˆå®—é—¨åˆ—è¡¨:",r.map(e=&gt;e.åç§°)),{availableSects:r}}),s=(0,a.computed)(()=&gt;o.value?.ç©å®¶è§’è‰²çŠ¶æ€?.å®—é—¨ä¿¡æ¯),m=(0,a.computed)(()=&gt;c.value.availableSects),p=(0,a.computed)(()=&gt;{let e=[...m.value];if(i.value.trim()){const n=i.value.toLowerCase();e=e.filter(e=&gt;e.åç§°.toLowerCase().includes(n)||e.ç±»å‹.toLowerCase().includes(n)||e.æè¿°&amp;&amp;e.æè¿°.toLowerCase().includes(n))}const n=["è¶…çº§","ä¸€æµ","äºŒæµ","ä¸‰æµ","æœ«æµ"],t=e=&gt;{if(!e)return 999;const t=n.findIndex(n=&gt;e.includes(n));return-1===t?999:t};return e.sort((e,n)=&gt;t(e.ç­‰çº§)-t(n.ç­‰çº§))}),v=e=&gt;{if(e.æ‰€åœ¨å¤§æ´²)return e.æ‰€åœ¨å¤§æ´²;const n=o.value?.ä¸–ç•Œä¿¡æ¯,t=n?.continents||n?.å¤§é™†ä¿¡æ¯;if(t)for(const n of t){if(e.id&amp;&amp;(n.ä¸»è¦åŠ¿åŠ›?.includes(e.id)||n.factions?.includes(e.id)))return n.åç§°||n.name||"æœªå‘½åå¤§æ´²";if(n.ä¸»è¦åŠ¿åŠ›?.includes(e.åç§°)||n.factions?.includes(e.åç§°))return n.åç§°||n.name||"æœªå‘½åå¤§æ´²"}if(n?.åŠ¿åŠ›ä¿¡æ¯)for(const t of n.åŠ¿åŠ›ä¿¡æ¯)if((t.id&amp;&amp;e.id&amp;&amp;t.id===e.id||t.åç§°===e.åç§°)&amp;&amp;t.æ‰€åœ¨å¤§æ´²)return t.æ‰€åœ¨å¤§æ´²;if(e.ä½ç½®&amp;&amp;"object"==typeof e.ä½ç½®&amp;&amp;"longitude"in e.ä½ç½®&amp;&amp;"latitude"in e.ä½ç½®){const n=e.ä½ç½®.longitude,t=e.ä½ç½®.latitude;return n&lt;110&amp;&amp;t&gt;40?"åŒ—å¢ƒé›ªåŸŸ":n&lt;110&amp;&amp;t&lt;30?"å—ç–†è’æ¼ ":n&gt;120&amp;&amp;t&gt;35?"ä¸œæµ·ç¾¤å²›":n&gt;120&amp;&amp;t&lt;35?"ä¸œå—ä¸›æ—":"ä¸­åœŸå¤§é™†"}return"æœªçŸ¥å¤§æ´²"},u=e=&gt;{const n=e;if(n.ä¸»è¦èµ„æº&amp;&amp;Array.isArray(n.ä¸»è¦èµ„æº))return n.ä¸»è¦èµ„æº.slice(0,3).join("ã€");if(n.resources&amp;&amp;Array.isArray(n.resources))return n.resources.slice(0,3).join("ã€");const t=e.ç±»å‹||"";return t.includes("å‰‘")?"ç¥é“ã€å‰‘è°±ã€ç£¨å‰‘çŸ³":t.includes("ä¸¹")?"çµè¯ã€ä¸¹ç‚‰ã€è¯åœƒ":t.includes("ç¬¦")||t.includes("é˜µ")?"ç¬¦çº¸ã€é˜µæ³•ã€æ³•å™¨":t.includes("é­”")||t.includes("é‚ª")?"é­”çŸ³ã€ç…æ°”ã€ç§˜æ³•":t.includes("å•†")?"çµçŸ³ã€çå®ã€æƒ…æŠ¥":t.includes("ä¸–å®¶")?"ä¼ æ‰¿ã€äººè„‰ã€åº•è•´":"çµçŸ³ã€åŠŸæ³•ã€ä¿®ç‚¼èµ„æº"},g=e=&gt;{const n=[];return e.specialties&amp;&amp;Array.isArray(e.specialties)&amp;&amp;n.push(...e.specialties),e.ç‰¹è‰²&amp;&amp;(Array.isArray(e.ç‰¹è‰²)?n.push(...e.ç‰¹è‰²):"string"==typeof e.ç‰¹è‰²&amp;&amp;n.push(e.ç‰¹è‰²)),Array.from(new Set(n))},f=e=&gt;String("object"==typeof e&amp;&amp;null!==e&amp;&amp;"name"in e?e.name:e||"ä¸­ç«‹"),b=e=&gt;"object"==typeof e&amp;&amp;null!==e&amp;&amp;"value"in e?Number(e.value):Number(e)||0,h=e=&gt;({æ­£é“å®—é—¨:"â›©ï¸",ä¿®ä»™å®—é—¨:"â›©ï¸",é­”é“å®—é—¨:"ğŸ´",é­”é“åŠ¿åŠ›:"ğŸ´",ä¸­ç«‹å®—é—¨:"ğŸ¯",ä¿®ä»™ä¸–å®¶:"ğŸ˜ï¸",ä¸–å®¶:"ğŸ˜ï¸",å•†ä¼š:"ğŸª",å•†ä¼šç»„ç»‡:"ğŸª",æ•£ä¿®è”ç›Ÿ:"ğŸ¤"}[e]||"ğŸ›ï¸"),y=e=&gt;({æ­£é“å®—é—¨:"righteous",ä¿®ä»™å®—é—¨:"righteous",é­”é“å®—é—¨:"demonic",é­”é“åŠ¿åŠ›:"demonic",ä¸­ç«‹å®—é—¨:"neutral",ä¿®ä»™ä¸–å®¶:"family",ä¸–å®¶:"family",å•†ä¼š:"merchant",å•†ä¼šç»„ç»‡:"merchant",æ•£ä¿®è”ç›Ÿ:"alliance"}[e]||"neutral"),x=e=&gt;e&gt;=90?"å¤©ä¸‹æ— åŒ":e&gt;=80?"ç§°éœ¸ä¸€æ–¹":e&gt;=70?"å®åŠ›é›„åš":e&gt;=60?"é¢‡æœ‰å®åŠ›":e&gt;=50?"ä¸­ç­‰æ°´å¹³":e&gt;=40?"ç•¥æœ‰å®åŠ›":"å®åŠ›ä¸€èˆ¬",k=e=&gt;e&gt;=25?"å£°åè¿œæ‰¬":e&gt;=20?"äº«æœ‰ç››èª‰":e&gt;=15?"åå£°åœ¨å¤–":e&gt;=10?"å°æœ‰åæ°”":e&gt;=5?"ç•¥æœ‰å£°æœ›":"é»˜é»˜æ— é—»",w=e=&gt;{if(!e)return"æœªçŸ¥";try{return new Date(e).toLocaleDateString("zh-CN")}catch{return"æœªçŸ¥"}},N=()=&gt;d.o.info("å®—é—¨ä»»åŠ¡ï¼ˆåŠŸèƒ½å¼€å‘ä¸­ï¼‰"),E=()=&gt;d.o.info("è´¡çŒ®å…‘æ¢ï¼ˆåŠŸèƒ½å¼€å‘ä¸­ï¼‰"),V=()=&gt;d.o.info("å®—é—¨è—ä¹¦ï¼ˆåŠŸèƒ½å¼€å‘ä¸­ï¼‰"),C=()=&gt;d.o.info("åŒé—¨å¸ˆå…„å¼Ÿï¼ˆåŠŸèƒ½å¼€å‘ä¸­ï¼‰"),z=async()=&gt;{try{await n.syncFromTavern()}catch(e){console.error("[å®—é—¨ç³»ç»Ÿ] åŒæ­¥å¤±è´¥:",e),d.o.error("åŒæ­¥å¤±è´¥: "+(e instanceof Error?e.message:"æœªçŸ¥é”™è¯¯"))}},S=()=&gt;{n.reloadFromStorage(),d.o.info("å·²å¼ºåˆ¶åˆ·æ–°æ•°æ®")};return(0,a.onMounted)(()=&gt;{console.log("[å®—é—¨ç³»ç»Ÿ] å®—é—¨åŠ¿åŠ›é¢æ¿å·²è½½å…¥"),console.log("[å®—é—¨ç³»ç»Ÿ] characterStoreçŠ¶æ€:",n),console.log("[å®—é—¨ç³»ç»Ÿ] activeSaveSlot:",n.activeSaveSlot),console.log("[å®—é—¨ç³»ç»Ÿ] å­˜æ¡£æ•°æ®:",o.value),console.log("[å®—é—¨ç³»ç»Ÿ] ä¸–ç•Œä¿¡æ¯:",o.value?.ä¸–ç•Œä¿¡æ¯),console.log("[å®—é—¨ç³»ç»Ÿ] åŠ¿åŠ›ä¿¡æ¯:",o.value?.ä¸–ç•Œä¿¡æ¯?.åŠ¿åŠ›ä¿¡æ¯),console.log("[å®—é—¨ç³»ç»Ÿ] sectSystemData:",c.value),console.log("[å®—é—¨ç³»ç»Ÿ] filteredSects:",p.value),setInterval(()=&gt;{console.log("[å®—é—¨ç³»ç»Ÿ] å®šæ—¶æ£€æŸ¥ - ç­›é€‰åå®—é—¨æ•°é‡:",p.value?.length||0),console.log("[å®—é—¨ç³»ç»Ÿ] å®šæ—¶æ£€æŸ¥ - æ˜¯å¦åŠ è½½ä¸­:",r.value),console.log("[å®—é—¨ç³»ç»Ÿ] å®šæ—¶æ£€æŸ¥ - å­˜æ¡£æ•°æ®å­˜åœ¨:",!!o.value),console.log("[å®—é—¨ç³»ç»Ÿ] å®šæ—¶æ£€æŸ¥ - ä¸–ç•Œä¿¡æ¯å­˜åœ¨:",!!o.value?.ä¸–ç•Œä¿¡æ¯),console.log("[å®—é—¨ç³»ç»Ÿ] å®šæ—¶æ£€æŸ¥ - åŠ¿åŠ›ä¿¡æ¯å­˜åœ¨:",!!o.value?.ä¸–ç•Œä¿¡æ¯?.åŠ¿åŠ›ä¿¡æ¯)},5e3)}),(e,n)=&gt;{return(0,a.openBlock)(),(0,a.createElementBlock)("div",ej,[(0,a.createElementVNode)("div",nj,[(0,a.createElementVNode)("div",tj,[(0,a.createCommentVNode)(" å·¦ä¾§ï¼šå®—é—¨åˆ—è¡¨ "),(0,a.createElementVNode)("div",aj,[(0,a.createElementVNode)("div",oj,[n[2]||(n[2]=(0,a.createElementVNode)("h3",{class:"panel-title"},"åŠ¿åŠ›å®—é—¨",-1)),(0,a.createElementVNode)("div",rj,[(0,a.createVNode)((0,a.unref)(Hk),{size:16}),(0,a.withDirectives)((0,a.createElementVNode)("input",{"onUpdate:modelValue":n[0]||(n[0]=e=&gt;i.value=e),placeholder:"æœç´¢å®—é—¨...",class:"search-input"},null,512),[[a.vModelText,i.value]])])]),(0,a.createElementVNode)("div",lj,[r.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",ij,[(0,a.createVNode)((0,a.unref)(Cv),{size:32,class:"animate-spin"}),n[3]||(n[3]=(0,a.createElementVNode)("p",null,"æ­£åœ¨è¯»å–å®—é—¨ä¿¡æ¯...",-1))])):0===p.value.length?((0,a.openBlock)(),(0,a.createElementBlock)("div",cj,[(0,a.createVNode)((0,a.unref)(UT),{size:48,class:"empty-icon"}),n[5]||(n[5]=(0,a.createElementVNode)("p",{class:"empty-text"},"æš‚æ— å®—é—¨ä¿¡æ¯",-1)),n[6]||(n[6]=(0,a.createElementVNode)("p",{class:"empty-hint"},"ä¸–ç•Œä¿¡æ¯å°†ç”±AIæ ¹æ®æ¸¸æˆè¿›ç¨‹ç”Ÿæˆ",-1)),(0,a.createCommentVNode)(" è°ƒè¯•ä¿¡æ¯æ˜¾ç¤º "),(0,a.createElementVNode)("div",sj,[(0,a.createElementVNode)("details",null,[n[4]||(n[4]=(0,a.createElementVNode)("summary",{style:{cursor:"pointer"}},"è°ƒè¯•ä¿¡æ¯ (ç‚¹å‡»å±•å¼€)",-1)),(0,a.createElementVNode)("div",dj,[(0,a.createElementVNode)("p",null,"å­˜æ¡£æ•°æ®å­˜åœ¨: "+(0,a.toDisplayString)(!!(0,a.unref)(o)),1),(0,a.createElementVNode)("p",null,"å­˜æ¡£æ•°æ®å­—æ®µ: "+(0,a.toDisplayString)((0,a.unref)(o)?Object.keys((0,a.unref)(o)).join(", "):"æ— "),1),(0,a.createElementVNode)("p",null,"ä¸–ç•Œä¿¡æ¯å­˜åœ¨: "+(0,a.toDisplayString)(!!(0,a.unref)(o)?.ä¸–ç•Œä¿¡æ¯),1),(0,a.createElementVNode)("p",null,"ä¸–ç•Œä¿¡æ¯.åŠ¿åŠ›ä¿¡æ¯å­˜åœ¨: "+(0,a.toDisplayString)(!!(0,a.unref)(o)?.ä¸–ç•Œä¿¡æ¯?.åŠ¿åŠ›ä¿¡æ¯),1),(0,a.createElementVNode)("p",null,"ä¸–ç•Œä¿¡æ¯.åŠ¿åŠ›ä¿¡æ¯æ•°é‡: "+(0,a.toDisplayString)((0,a.unref)(o)?.ä¸–ç•Œä¿¡æ¯?.åŠ¿åŠ›ä¿¡æ¯?.length||0),1),(0,a.createElementVNode)("p",null,"å®—é—¨ç³»ç»Ÿå­˜åœ¨: "+(0,a.toDisplayString)(!!(0,a.unref)(o)?.å®—é—¨ç³»ç»Ÿ),1),(0,a.createElementVNode)("p",null,"å®—é—¨ç³»ç»Ÿ.availableSectsæ•°é‡: "+(0,a.toDisplayString)((0,a.unref)(o)?.å®—é—¨ç³»ç»Ÿ?.availableSects?.length||0),1),(0,a.createElementVNode)("p",null,"ç­›é€‰åæ•°é‡: "+(0,a.toDisplayString)(p.value.length),1),(0,a.createElementVNode)("button",{onClick:z,style:{"margin-top":"0.5rem",padding:"0.25rem 0.5rem",background:"#22c55e",color:"white",border:"none","border-radius":"4px",cursor:"pointer"}}," ä»é…’é¦†åŒæ­¥æ•°æ® "),(0,a.createElementVNode)("button",{onClick:S,style:{"margin-top":"0.5rem",padding:"0.25rem 0.5rem",background:"#f59e0b",color:"white",border:"none","border-radius":"4px",cursor:"pointer","margin-left":"0.5rem"}}," å¼ºåˆ¶åˆ·æ–° ")])])])])):((0,a.openBlock)(),(0,a.createElementBlock)("div",mj,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(p.value,e=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:e.åç§°,class:(0,a.normalizeClass)(["sect-card",{selected:l.value?.åç§°===e.åç§°,[`type-${y(e.ç±»å‹)}`]:!0,"can-join":e.canJoin}]),onClick:n=&gt;(e=&gt;{l.value=l.value?.åç§°===e.åç§°?null:e})(e)},[(0,a.createElementVNode)("div",vj,[(0,a.createElementVNode)("span",uj,(0,a.toDisplayString)(h(e.ç±»å‹)),1)]),(0,a.createElementVNode)("div",gj,[(0,a.createElementVNode)("div",fj,(0,a.toDisplayString)(e.åç§°),1),(0,a.createElementVNode)("div",bj,[(0,a.createElementVNode)("span",hj,(0,a.toDisplayString)(e.ç±»å‹),1)])]),(0,a.createVNode)((0,a.unref)(rc),{size:16,class:"arrow-icon"})],10,pj))),128))]))])]),(0,a.createCommentVNode)(" å³ä¾§ï¼šå®—é—¨è¯¦æƒ… "),(0,a.createElementVNode)("div",yj,[l.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",xj,[(0,a.createCommentVNode)(" è¯¦æƒ…å¤´éƒ¨ "),(0,a.createElementVNode)("div",kj,[(0,a.createElementVNode)("div",wj,[(0,a.createElementVNode)("span",Nj,(0,a.toDisplayString)(h(l.value.ç±»å‹)),1)]),(0,a.createElementVNode)("div",Ej,[(0,a.createElementVNode)("h3",Vj,(0,a.toDisplayString)(l.value.åç§°),1),(0,a.createElementVNode)("div",Cj,[(0,a.createElementVNode)("span",{class:(0,a.normalizeClass)(["type-badge",`type-${y(l.value.ç±»å‹)}`])},(0,a.toDisplayString)(l.value.ç±»å‹),3),(0,a.createElementVNode)("span",{class:(0,a.normalizeClass)(["level-badge",`level-${l.value.ç­‰çº§}`])},(0,a.toDisplayString)((D=l.value.ç­‰çº§,D?D.includes("å®—é—¨")?D:D+"å®—é—¨":"æœªçŸ¥")),3)])])]),(0,a.createCommentVNode)(" è¯¦æƒ…ä¸»ä½“ "),(0,a.createElementVNode)("div",zj,[(0,a.createCommentVNode)(" åŸºç¡€ä¿¡æ¯ "),(0,a.createElementVNode)("div",Sj,[(0,a.createElementVNode)("h5",Bj,[(0,a.createVNode)((0,a.unref)(UT),{size:16}),n[7]||(n[7]=(0,a.createElementVNode)("span",null,"åŸºç¡€ä¿¡æ¯",-1))]),(0,a.createElementVNode)("div",Dj,[(0,a.createElementVNode)("div",Aj,[n[8]||(n[8]=(0,a.createElementVNode)("span",{class:"info-label"},"å®—é—¨ç±»å‹",-1)),(0,a.createElementVNode)("span",_j,(0,a.toDisplayString)(l.value.ç±»å‹),1)]),(0,a.createElementVNode)("div",$j,[n[9]||(n[9]=(0,a.createElementVNode)("span",{class:"info-label"},"å®—é—¨ç­‰çº§",-1)),(0,a.createElementVNode)("span",Ij,(0,a.toDisplayString)(l.value.ç­‰çº§),1)]),(0,a.createElementVNode)("div",Tj,[n[10]||(n[10]=(0,a.createElementVNode)("span",{class:"info-label"},"æ‰€åœ¨å¤§æ´²",-1)),(0,a.createElementVNode)("span",jj,(0,a.toDisplayString)(v(l.value)),1)]),(0,a.createElementVNode)("div",Mj,[n[11]||(n[11]=(0,a.createElementVNode)("span",{class:"info-label"},"ä¸»è¦èµ„æº",-1)),(0,a.createElementVNode)("span",qj,(0,a.toDisplayString)(u(l.value)),1)])]),(0,a.createCommentVNode)(" å®—é—¨é¢†å¯¼å±‚ "),l.value.leadership?((0,a.openBlock)(),(0,a.createElementBlock)("div",Oj,[n[16]||(n[16]=(0,a.createElementVNode)("h6",{class:"leadership-title"},"å®—é—¨é¢†å¯¼",-1)),(0,a.createElementVNode)("div",Pj,[(0,a.createElementVNode)("div",Fj,[n[12]||(n[12]=(0,a.createElementVNode)("span",{class:"leader-role"},"å®—ä¸»",-1)),(0,a.createElementVNode)("span",Lj,(0,a.toDisplayString)(l.value.leadership.å®—ä¸»),1),l.value.leadership.å®—ä¸»ä¿®ä¸º?((0,a.openBlock)(),(0,a.createElementBlock)("span",Yj,(0,a.toDisplayString)(l.value.leadership.å®—ä¸»ä¿®ä¸º),1)):(0,a.createCommentVNode)("v-if",!0)]),l.value.leadership.å‰¯å®—ä¸»?((0,a.openBlock)(),(0,a.createElementBlock)("div",Rj,[n[13]||(n[13]=(0,a.createElementVNode)("span",{class:"leader-role"},"å‰¯å®—ä¸»",-1)),(0,a.createElementVNode)("span",Uj,(0,a.toDisplayString)(l.value.leadership.å‰¯å®—ä¸»),1)])):(0,a.createCommentVNode)("v-if",!0)]),(0,a.createElementVNode)("div",Gj,[(0,a.createElementVNode)("div",Wj,[n[14]||(n[14]=(0,a.createElementVNode)("span",{class:"strength-label"},"æœ€å¼ºä¿®ä¸º",-1)),(0,a.createElementVNode)("span",Jj,(0,a.toDisplayString)(l.value.leadership.æœ€å¼ºä¿®ä¸º),1)]),l.value.leadership?.ç»¼åˆæˆ˜åŠ›?((0,a.openBlock)(),(0,a.createElementBlock)("div",Hj,[n[15]||(n[15]=(0,a.createElementVNode)("span",{class:"strength-label"},"ç»¼åˆæˆ˜åŠ›",-1)),(0,a.createElementVNode)("span",{class:(0,a.normalizeClass)(["strength-value power-rating",(B=l.value.leadership.ç»¼åˆæˆ˜åŠ›||0,B&gt;=90?"power-legendary":B&gt;=80?"power-supreme":B&gt;=70?"power-strong":B&gt;=60?"power-good":B&gt;=50?"power-average":B&gt;=40?"power-weak":"power-poor")])},[(0,a.createTextVNode)((0,a.toDisplayString)(l.value.leadership.ç»¼åˆæˆ˜åŠ›||0)+"/100 ",1),(0,a.createElementVNode)("span",Qj,"("+(0,a.toDisplayString)(x(l.value.leadership.ç»¼åˆæˆ˜åŠ›||0))+")",1)],2)])):(0,a.createCommentVNode)("v-if",!0)])])):((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:1},[(0,a.createCommentVNode)(" é¢†å¯¼å±‚ä¿¡æ¯ç¼ºå¤±æç¤º "),n[17]||(n[17]=(0,a.createElementVNode)("div",{class:"missing-data-notice"},[(0,a.createElementVNode)("h6",{class:"notice-title"},"å®—é—¨é¢†å¯¼ä¿¡æ¯"),(0,a.createElementVNode)("p",{class:"notice-text"},"æš‚æ— è¯¦ç»†çš„å®—é—¨é¢†å¯¼å±‚ä¿¡æ¯"),(0,a.createElementVNode)("p",{class:"notice-hint"},"éœ€è¦é‡æ–°ç”Ÿæˆä¸–ç•Œæ•°æ®ä»¥è·å–å®Œæ•´ä¿¡æ¯")],-1))],2112)),(0,a.createElementVNode)("div",Kj,[n[18]||(n[18]=(0,a.createElementVNode)("h6",{class:"desc-title"},"å®—é—¨æè¿°",-1)),(0,a.createElementVNode)("p",Xj,(0,a.toDisplayString)(l.value.æè¿°),1)]),(0,a.createCommentVNode)(" å®—é—¨ç‰¹è‰² "),g(l.value).length&gt;0?((0,a.openBlock)(),(0,a.createElementBlock)("div",Zj,[n[19]||(n[19]=(0,a.createElementVNode)("h6",{class:"specialties-title"},"å®—é—¨ç‰¹è‰²",-1)),(0,a.createElementVNode)("div",eM,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(g(l.value),e=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("span",{key:e,class:"specialty-tag"},(0,a.toDisplayString)(e),1))),128))])])):(0,a.createCommentVNode)("v-if",!0)]),(0,a.createCommentVNode)(" æˆå‘˜ç»Ÿè®¡ "),l.value.memberCount?((0,a.openBlock)(),(0,a.createElementBlock)("div",nM,[(0,a.createElementVNode)("h5",tM,[(0,a.createVNode)((0,a.unref)(zi),{size:16}),n[20]||(n[20]=(0,a.createElementVNode)("span",null,"æˆå‘˜ç»Ÿè®¡",-1))]),(0,a.createElementVNode)("div",aM,[(0,a.createCommentVNode)(" æ€»ä½“ç»Ÿè®¡ "),(0,a.createElementVNode)("div",oM,[n[21]||(n[21]=(0,a.createElementVNode)("span",{class:"total-label"},"æ€»äººæ•°",-1)),(0,a.createElementVNode)("span",rM,(0,a.toDisplayString)(l.value.memberCount.total)+"äºº",1)]),(0,a.createCommentVNode)(" å¢ƒç•Œåˆ†å¸ƒ "),l.value.memberCount.byRealm?((0,a.openBlock)(),(0,a.createElementBlock)("div",lM,[n[22]||(n[22]=(0,a.createElementVNode)("h6",{class:"distribution-title"},"å¢ƒç•Œåˆ†å¸ƒ",-1)),(0,a.createElementVNode)("div",iM,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(l.value.memberCount.byRealm,(e,n)=&gt;(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:n,class:"realm-item"},[(0,a.createElementVNode)("span",cM,(0,a.toDisplayString)(n.includes("æœŸ")?n:n+"æœŸ"),1),(0,a.createElementVNode)("span",sM,(0,a.toDisplayString)(e)+"äºº",1)])),[[a.vShow,e&gt;0]])),128))])])):(0,a.createCommentVNode)("v-if",!0),(0,a.createCommentVNode)(" èŒä½åˆ†å¸ƒ "),l.value.memberCount.byPosition?((0,a.openBlock)(),(0,a.createElementBlock)("div",dM,[n[23]||(n[23]=(0,a.createElementVNode)("h6",{class:"distribution-title"},"èŒä½åˆ†å¸ƒ",-1)),(0,a.createElementVNode)("div",mM,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(l.value.memberCount.byPosition,(e,n)=&gt;(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:n,class:"position-item"},[(0,a.createElementVNode)("span",pM,(0,a.toDisplayString)(n),1),(0,a.createElementVNode)("span",vM,(0,a.toDisplayString)(e)+"äºº",1)])),[[a.vShow,e&gt;0]])),128))])])):(0,a.createCommentVNode)("v-if",!0)])])):((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:1},[(0,a.createCommentVNode)(" æˆå‘˜ç»Ÿè®¡ç¼ºå¤±æç¤º "),(0,a.createElementVNode)("div",uM,[(0,a.createElementVNode)("h5",gM,[(0,a.createVNode)((0,a.unref)(zi),{size:16}),n[24]||(n[24]=(0,a.createElementVNode)("span",null,"æˆå‘˜ç»Ÿè®¡",-1))]),n[25]||(n[25]=(0,a.createElementVNode)("div",{class:"notice-content"},[(0,a.createElementVNode)("p",{class:"notice-text"},"æš‚æ— è¯¦ç»†çš„æˆå‘˜ç»Ÿè®¡ä¿¡æ¯"),(0,a.createElementVNode)("p",{class:"notice-hint"},"åŒ…æ‹¬å¢ƒç•Œåˆ†å¸ƒã€èŒä½åˆ†å¸ƒç­‰æ•°æ®éœ€è¦é‡æ–°ç”Ÿæˆä¸–ç•Œè·å–")],-1))])],2112)),(0,a.createCommentVNode)(" å…³ç³»çŠ¶æ€ "),(0,a.createElementVNode)("div",fM,[(0,a.createElementVNode)("h5",bM,[(0,a.createVNode)((0,a.unref)(Pc),{size:16}),n[26]||(n[26]=(0,a.createElementVNode)("span",null,"å…³ç³»çŠ¶æ€",-1))]),(0,a.createElementVNode)("div",hM,[(0,a.createElementVNode)("div",yM,[n[27]||(n[27]=(0,a.createElementVNode)("span",{class:"relationship-label"},"ä¸ä½ çš„å…³ç³»",-1)),(0,a.createElementVNode)("span",{class:(0,a.normalizeClass)(["relationship-value",(m=f(l.value.ä¸ç©å®¶å…³ç³»),{ä»‡æ•Œ:"enemy",æ•Œå¯¹:"hostile",å†·æ·¡:"cold",ä¸­ç«‹:"neutral",å‹å¥½:"friendly",ç›Ÿå‹:"ally",é™„åº¸:"vassal"}[m]||"neutral")])},(0,a.toDisplayString)(f(l.value.ä¸ç©å®¶å…³ç³»)),3)]),(0,a.createElementVNode)("div",xM,[n[28]||(n[28]=(0,a.createElementVNode)("span",{class:"relationship-label"},"å£°æœ›å€¼",-1)),(0,a.createElementVNode)("span",{class:(0,a.normalizeClass)(["relationship-value reputation-value",(c=b(l.value.å£°æœ›å€¼),c&gt;=25?"reputation-legendary":c&gt;=20?"reputation-excellent":c&gt;=15?"reputation-good":c&gt;=10?"reputation-fair":c&gt;=5?"reputation-low":"reputation-none")])},[(0,a.createTextVNode)((0,a.toDisplayString)(b(l.value.å£°æœ›å€¼))+" ",1),(0,a.createElementVNode)("span",kM,"("+(0,a.toDisplayString)(k(b(l.value.å£°æœ›å€¼)))+")",1)],2)])])]),(0,a.createCommentVNode)(" åŠ¿åŠ›èŒƒå›´ "),l.value.territoryInfo?((0,a.openBlock)(),(0,a.createElementBlock)("div",wM,[(0,a.createElementVNode)("h5",NM,[(0,a.createVNode)((0,a.unref)(_i),{size:16}),n[29]||(n[29]=(0,a.createElementVNode)("span",null,"åŠ¿åŠ›èŒƒå›´",-1))]),(0,a.createElementVNode)("div",EM,[(0,a.createElementVNode)("div",VM,[n[30]||(n[30]=(0,a.createElementVNode)("strong",null,"å½±å“èŒƒå›´ï¼š",-1)),(0,a.createTextVNode)((0,a.toDisplayString)(l.value.territoryInfo.influenceRange||"æœªçŸ¥"),1)]),l.value.territoryInfo.controlledAreas?.length?((0,a.openBlock)(),(0,a.createElementBlock)("div",CM,[n[31]||(n[31]=(0,a.createElementVNode)("strong",null,"æ§åˆ¶åŒºåŸŸï¼š",-1)),(0,a.createElementVNode)("div",zM,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(l.value.territoryInfo.controlledAreas,e=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("span",{key:e,class:"area-tag"},(0,a.toDisplayString)(e),1))),128))])])):(0,a.createCommentVNode)("v-if",!0),(0,a.createElementVNode)("div",SM,[n[32]||(n[32]=(0,a.createElementVNode)("strong",null,"æˆ˜ç•¥ä»·å€¼ï¼š",-1)),(0,a.createElementVNode)("div",BM,[(0,a.createElementVNode)("div",DM,[(0,a.createElementVNode)("div",{class:"value-fill",style:(0,a.normalizeStyle)({width:10*(l.value.territoryInfo.strategicValue||5)+"%"})},null,4)]),(0,a.createElementVNode)("span",AM,(0,a.toDisplayString)(l.value.territoryInfo.strategicValue||5)+"/10",1)])])])])):(0,a.createCommentVNode)("v-if",!0),(0,a.createCommentVNode)(" åŠ å…¥æ¡ä»¶ "),l.value.canJoin?((0,a.openBlock)(),(0,a.createElementBlock)("div",_M,[(0,a.createElementVNode)("h5",$M,[(0,a.createVNode)((0,a.unref)(GT),{size:16}),n[33]||(n[33]=(0,a.createElementVNode)("span",null,"åŠ å…¥æ¡ä»¶",-1))]),(0,a.createElementVNode)("div",IM,[l.value.joinRequirements?.length?((0,a.openBlock)(),(0,a.createElementBlock)("div",TM,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(l.value.joinRequirements,e=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:e,class:"requirement-item"},[(0,a.createVNode)((0,a.unref)(WT),{size:14,class:"requirement-icon"}),(0,a.createElementVNode)("span",jM,(0,a.toDisplayString)(e),1)]))),128))])):((0,a.openBlock)(),(0,a.createElementBlock)("div",MM,n[34]||(n[34]=[(0,a.createElementVNode)("p",null,"æš‚æ— ç‰¹æ®ŠåŠ å…¥æ¡ä»¶",-1)])))]),(0,a.createCommentVNode)(" åŠ å…¥å¥½å¤„ "),l.value.benefits?.length?((0,a.openBlock)(),(0,a.createElementBlock)("div",qM,[n[35]||(n[35]=(0,a.createElementVNode)("h6",{class:"benefits-title"},"åŠ å…¥å¥½å¤„",-1)),(0,a.createElementVNode)("div",OM,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(l.value.benefits,e=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:e,class:"benefit-item"},[(0,a.createVNode)((0,a.unref)(JT),{size:14,class:"benefit-icon"}),(0,a.createElementVNode)("span",PM,(0,a.toDisplayString)(e),1)]))),128))])])):(0,a.createCommentVNode)("v-if",!0),(0,a.createCommentVNode)(" åŠ å…¥æŒ‰é’® "),(0,a.createElementVNode)("div",FM,[(0,a.createElementVNode)("button",{class:"join-btn",onClick:n[1]||(n[1]=e=&gt;{return n=l.value,void d.o.info(`ç”³è¯·åŠ å…¥ ${n.åç§°}ï¼ˆåŠŸèƒ½å¼€å‘ä¸­ï¼‰`);var n})},[(0,a.createVNode)((0,a.unref)(GT),{size:16}),n[36]||(n[36]=(0,a.createElementVNode)("span",null,"ç”³è¯·åŠ å…¥",-1))])])])):(0,a.createCommentVNode)("v-if",!0),(0,a.createCommentVNode)(" å·²åŠ å…¥å®—é—¨ä¿¡æ¯ "),(t=l.value,s.value?.sectName===t.åç§°?((0,a.openBlock)(),(0,a.createElementBlock)("div",LM,[(0,a.createElementVNode)("h5",YM,[(0,a.createVNode)((0,a.unref)(HT),{size:16}),n[37]||(n[37]=(0,a.createElementVNode)("span",null,"æˆ‘çš„å®—é—¨èº«ä»½",-1))]),(0,a.createElementVNode)("div",RM,[(0,a.createElementVNode)("div",UM,[(0,a.createElementVNode)("div",GM,[n[38]||(n[38]=(0,a.createElementVNode)("span",{class:"status-label"},"èŒä½",-1)),(0,a.createElementVNode)("span",WM,(0,a.toDisplayString)(s.value?.position||"æ•£ä¿®"),1)]),(0,a.createElementVNode)("div",JM,[n[39]||(n[39]=(0,a.createElementVNode)("span",{class:"status-label"},"è´¡çŒ®ç‚¹",-1)),(0,a.createElementVNode)("span",HM,(0,a.toDisplayString)(s.value?.contribution||0),1)]),(0,a.createElementVNode)("div",QM,[n[40]||(n[40]=(0,a.createElementVNode)("span",{class:"status-label"},"å£°æœ›",-1)),(0,a.createElementVNode)("span",KM,(0,a.toDisplayString)(s.value?.reputation||0),1)]),(0,a.createElementVNode)("div",XM,[n[41]||(n[41]=(0,a.createElementVNode)("span",{class:"status-label"},"åŠ å…¥æ—¶é—´",-1)),(0,a.createElementVNode)("span",ZM,(0,a.toDisplayString)(w(s.value?.joinDate)),1)])])]),(0,a.createCommentVNode)(" å®—é—¨ä»»åŠ¡ "),(0,a.createElementVNode)("div",eq,[n[46]||(n[46]=(0,a.createElementVNode)("h6",{class:"actions-title"},"å®—é—¨åŠ¿åŠ›",-1)),(0,a.createElementVNode)("div",nq,[(0,a.createElementVNode)("button",{class:"sect-action-btn",onClick:N},[(0,a.createVNode)((0,a.unref)(Di),{size:16}),n[42]||(n[42]=(0,a.createElementVNode)("span",null,"å®—é—¨ä»»åŠ¡",-1))]),(0,a.createElementVNode)("button",{class:"sect-action-btn",onClick:E},[(0,a.createVNode)((0,a.unref)(QT),{size:16}),n[43]||(n[43]=(0,a.createElementVNode)("span",null,"è´¡çŒ®å…‘æ¢",-1))]),(0,a.createElementVNode)("button",{class:"sect-action-btn",onClick:V},[(0,a.createVNode)((0,a.unref)(KT),{size:16}),n[44]||(n[44]=(0,a.createElementVNode)("span",null,"å®—é—¨è—ä¹¦",-1))]),(0,a.createElementVNode)("button",{class:"sect-action-btn",onClick:C},[(0,a.createVNode)((0,a.unref)(zi),{size:16}),n[45]||(n[45]=(0,a.createElementVNode)("span",null,"åŒé—¨å¸ˆå…„å¼Ÿ",-1))])])])])):(0,a.createCommentVNode)("v-if",!0))])])):((0,a.openBlock)(),(0,a.createElementBlock)("div",tq,[(0,a.createVNode)((0,a.unref)(UT),{size:64,class:"placeholder-icon"}),n[47]||(n[47]=(0,a.createElementVNode)("p",{class:"placeholder-text"},"é€‰æ‹©ä¸€ä¸ªå®—é—¨æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯",-1)),n[48]||(n[48]=(0,a.createElementVNode)("p",{class:"placeholder-hint"},"å°˜ä¸–é—´çš„å®—é—¨åŠ¿åŠ›ç­‰ä½ æ¢ç´¢",-1))]))])])])]);var t,c,m,B,D}}});var oq=t(9074),rq={};rq.styleTagTransform=A(),rq.setAttributes=z(),rq.insert=V().bind(null,"head"),rq.domAPI=N(),rq.insertStyleElement=B(),k()(oq.A,rq),oq.A&amp;&amp;oq.A.locals&amp;&amp;oq.A.locals;const lq=(0,j.A)(aq,[["__scopeId","data-v-f9a2cde8"]]),iq={class:"tavern-data-header"},cq={class:"panel-header"},sq={class:"panel-title"},dq={class:"header-actions"},mq={class:"search-bar"},pq=["value"],vq=(0,a.defineComponent)({__name:"TavernDataHeader",props:{isRefreshing:{type:Boolean},searchQuery:{}},emits:["update:search-query","refresh","export","show-stats"],setup:e=&gt;(e,n)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",iq,[(0,a.createElementVNode)("div",cq,[(0,a.createElementVNode)("h2",sq,[(0,a.createVNode)((0,a.unref)(Ii),{size:20}),n[1]||(n[1]=(0,a.createElementVNode)("span",null,"é…’é¦†æ•°æ®æŸ¥çœ‹",-1))]),(0,a.createElementVNode)("div",dq,[(0,a.createElementVNode)("div",mq,[(0,a.createVNode)((0,a.unref)(Hk),{size:16}),(0,a.createElementVNode)("input",{value:e.searchQuery,onInput:n[0]||(n[0]=n=&gt;e.$emit("update:search-query",n.target.value)),placeholder:"æœç´¢æ•°æ®...",class:"search-input"},null,40,pq)])])])]))});var uq=t(7281),gq={};gq.styleTagTransform=A(),gq.setAttributes=z(),gq.insert=V().bind(null,"head"),gq.domAPI=N(),gq.insertStyleElement=B(),k()(uq.A,gq),uq.A&amp;&amp;uq.A.locals&amp;&amp;uq.A.locals;const fq=(0,j.A)(vq,[["__scopeId","data-v-1f5353f3"]]),bq={class:"data-status"},hq={class:"status-item"},yq={class:"status-item"},xq={class:"status-value"},kq=(0,a.defineComponent)({__name:"TavernDataStatus",props:{tavernConnected:{type:Boolean},lastUpdateTime:{}},setup:e=&gt;(e,n)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",bq,[(0,a.createElementVNode)("div",hq,[n[0]||(n[0]=(0,a.createElementVNode)("span",{class:"status-label"},"è¿æ¥çŠ¶æ€:",-1)),(0,a.createElementVNode)("span",{class:(0,a.normalizeClass)(["status-value",{connected:e.tavernConnected,disconnected:!e.tavernConnected}])},(0,a.toDisplayString)(e.tavernConnected?"å·²è¿æ¥":"æœªè¿æ¥"),3)]),(0,a.createElementVNode)("div",yq,[n[1]||(n[1]=(0,a.createElementVNode)("span",{class:"status-label"},"æ•°æ®æ›´æ–°æ—¶é—´:",-1)),(0,a.createElementVNode)("span",xq,(0,a.toDisplayString)(e.lastUpdateTime||"ä»æœªæ›´æ–°"),1)])]))});var wq=t(4381),Nq={};Nq.styleTagTransform=A(),Nq.setAttributes=z(),Nq.insert=V().bind(null,"head"),Nq.domAPI=N(),Nq.insertStyleElement=B(),k()(wq.A,Nq),wq.A&amp;&amp;wq.A.locals&amp;&amp;wq.A.locals;const Eq=(0,j.A)(kq,[["__scopeId","data-v-45214445"]]),Vq=(0,c.A)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]),Cq=(0,c.A)("archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]),zq=(0,c.A)("code",[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]]),Sq={class:"data-type-selector"},Bq=["onClick"],Dq={key:0,class:"count-badge"},Aq=(0,a.defineComponent)({__name:"TavernDataSelector",props:{dataTypes:{},selectedType:{},getDataCount:{type:Function}},emits:["update:selected-type"],setup:e=&gt;(e,n)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",Sq,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.dataTypes,n=&gt;{return(0,a.openBlock)(),(0,a.createElementBlock)("button",{key:n.key,onClick:t=&gt;e.$emit("update:selected-type",n.key),class:(0,a.normalizeClass)(["type-btn",{active:e.selectedType===n.key}])},[((0,a.openBlock)(),(0,a.createBlock)((0,a.resolveDynamicComponent)((t=n.icon,{MessageSquare:Vq,Globe:lc,Users:zi,Archive:Cq,Book:KT,Brain:Ci,Code:zq}[t]||zq)),{size:16})),(0,a.createElementVNode)("span",null,(0,a.toDisplayString)(n.label),1),e.getDataCount(n.key)&gt;0?((0,a.openBlock)(),(0,a.createElementBlock)("span",Dq,(0,a.toDisplayString)(e.getDataCount(n.key)),1)):(0,a.createCommentVNode)("v-if",!0)],10,Bq);var t}),128))]))});var _q=t(6597),$q={};$q.styleTagTransform=A(),$q.setAttributes=z(),$q.insert=V().bind(null,"head"),$q.domAPI=N(),$q.insertStyleElement=B(),k()(_q.A,$q),_q.A&amp;&amp;_q.A.locals&amp;&amp;_q.A.locals;const Iq=(0,j.A)(Aq,[["__scopeId","data-v-b66d579e"]]),Tq=(0,c.A)("pen-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),jq=(0,c.A)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Mq={class:"variable-section"},qq={class:"section-header"},Oq={class:"section-title"},Pq={class:"variable-content"},Fq={key:0,class:"variable-list"},Lq={class:"variable-header"},Yq={class:"variable-key"},Rq={class:"variable-type"},Uq={class:"variable-actions"},Gq=["onClick"],Wq=["onClick"],Jq=["onClick"],Hq={class:"variable-value"},Qq={key:0,class:"code-pre"},Kq={key:1},Xq={key:1,class:"empty-state"},Zq={key:0},eO={key:1},nO={class:"debug-info"},tO={class:"debug-content"},aO={class:"debug-actions"},oO=(0,a.defineComponent)({__name:"TavernVariableSection",props:{type:{},variables:{},searchQuery:{},chatVariables:{},globalVariables:{}},emits:["edit-variable","copy-variable","delete-variable","add-new-variable","debug-log"],setup(e){const n=e=&gt;null===e?"null":void 0===e?"undefined":Array.isArray(e)?`array[${e.length}]`:"object"==typeof e?`object{${Object.keys(e).length}}`:typeof e;return(e,t)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",Mq,[(0,a.createElementVNode)("div",qq,[(0,a.createElementVNode)("h3",Oq,(0,a.toDisplayString)("chat"===e.type?"Chat Variables (èŠå¤©å˜é‡)":"Global Variables (å…¨å±€å˜é‡)"),1),(0,a.createElementVNode)("button",{onClick:t[0]||(t[0]=n=&gt;e.$emit("add-new-variable",e.type)),class:"add-btn"},[(0,a.createVNode)((0,a.unref)(Ce),{size:14}),t[2]||(t[2]=(0,a.createElementVNode)("span",null,"æ–°å¢å˜é‡",-1))])]),(0,a.createElementVNode)("div",Pq,[Object.keys(e.variables).length&gt;0?((0,a.openBlock)(),(0,a.createElementBlock)("div",Fq,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.variables,(t,o)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:o,class:"variable-item"},[(0,a.createElementVNode)("div",Lq,[(0,a.createElementVNode)("span",Yq,(0,a.toDisplayString)(o),1),(0,a.createElementVNode)("span",Rq,(0,a.toDisplayString)(n(t)),1),(0,a.createElementVNode)("div",Uq,[(0,a.createElementVNode)("button",{onClick:n=&gt;e.$emit("edit-variable",{type:e.type,key:o,value:t}),class:"action-btn edit",title:"ç¼–è¾‘"},[(0,a.createVNode)((0,a.unref)(Tq),{size:12})],8,Gq),(0,a.createElementVNode)("button",{onClick:n=&gt;e.$emit("copy-variable",{key:o,value:t}),class:"action-btn copy",title:"å¤åˆ¶"},[(0,a.createVNode)((0,a.unref)(jq),{size:12})],8,Wq),(0,a.createElementVNode)("button",{onClick:n=&gt;e.$emit("delete-variable",{type:e.type,key:o}),class:"action-btn delete",title:"åˆ é™¤"},[(0,a.createVNode)((0,a.unref)(Gn.A),{size:12})],8,Jq)])]),(0,a.createElementVNode)("div",Hq,["object"==typeof t?((0,a.openBlock)(),(0,a.createElementBlock)("pre",Qq,(0,a.toDisplayString)(JSON.stringify(t,null,2)),1)):((0,a.openBlock)(),(0,a.createElementBlock)("span",Kq,(0,a.toDisplayString)(t),1))])]))),128))])):((0,a.openBlock)(),(0,a.createElementBlock)("div",Xq,[(0,a.createVNode)((0,a.unref)(Ei),{size:32}),e.searchQuery?((0,a.openBlock)(),(0,a.createElementBlock)("p",Zq,"æ— åŒ¹é…çš„å˜é‡")):((0,a.openBlock)(),(0,a.createElementBlock)("p",eO,(0,a.toDisplayString)("chat"===e.type?"æš‚æ— èŠå¤©å˜é‡":"æš‚æ— å…¨å±€å˜é‡"),1)),(0,a.createElementVNode)("div",nO,[(0,a.createElementVNode)("details",null,[t[4]||(t[4]=(0,a.createElementVNode)("summary",null,"ğŸ” è°ƒè¯•ä¿¡æ¯ (ç‚¹å‡»å±•å¼€)",-1)),(0,a.createElementVNode)("div",tO,[t[3]||(t[3]=(0,a.createElementVNode)("p",null,[(0,a.createElementVNode)("strong",null,"è¿æ¥çŠ¶æ€:"),(0,a.createTextVNode)(" âœ…å·²è¿æ¥")],-1)),(0,a.createElementVNode)("p",null,[(0,a.createElementVNode)("strong",null,(0,a.toDisplayString)("chat"===e.type?"èŠå¤©":"å…¨å±€")+"å˜é‡æ•°é‡:",1),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(Object.keys("chat"===e.type?e.chatVariables:e.globalVariables).length),1)]),(0,a.createElementVNode)("div",aO,[(0,a.createElementVNode)("button",{onClick:t[1]||(t[1]=n=&gt;e.$emit("debug-log")),class:"debug-btn"}," ğŸ–¼ï¸ æ§åˆ¶å°è¾“å‡º ")])])])])]))])]))}});var rO=t(6973),lO={};lO.styleTagTransform=A(),lO.setAttributes=z(),lO.insert=V().bind(null,"head"),lO.domAPI=N(),lO.insertStyleElement=B(),k()(rO.A,lO),rO.A&amp;&amp;rO.A.locals&amp;&amp;rO.A.locals;const iO=(0,j.A)(oO,[["__scopeId","data-v-28e177ee"]]),cO={class:"character-section"},sO={key:0,class:"character-info"},dO={class:"info-grid"},mO={class:"info-item"},pO={class:"info-value"},vO={class:"info-item"},uO={class:"info-value"},gO={class:"data-detail"},fO={class:"code-pre"},bO={key:1,class:"empty-state"},hO=(0,a.defineComponent)({__name:"TavernCharacterSection",props:{characterData:{}},setup:e=&gt;(e,n)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",cO,[n[4]||(n[4]=(0,a.createElementVNode)("div",{class:"section-header"},[(0,a.createElementVNode)("h3",{class:"section-title"},"Character Data (è§’è‰²æ•°æ®)")],-1)),e.characterData?((0,a.openBlock)(),(0,a.createElementBlock)("div",sO,[(0,a.createElementVNode)("div",dO,[(0,a.createElementVNode)("div",mO,[n[0]||(n[0]=(0,a.createElementVNode)("span",{class:"info-label"},"è§’è‰²åç§°:",-1)),(0,a.createElementVNode)("span",pO,(0,a.toDisplayString)(e.characterData?.name||e.characterData?.åå­—||"æœªçŸ¥"),1)]),(0,a.createElementVNode)("div",vO,[n[1]||(n[1]=(0,a.createElementVNode)("span",{class:"info-label"},"è§’è‰²ID:",-1)),(0,a.createElementVNode)("span",uO,(0,a.toDisplayString)(e.characterData?.id||"æœªçŸ¥"),1)])]),(0,a.createElementVNode)("div",gO,[n[2]||(n[2]=(0,a.createElementVNode)("h4",{class:"detail-title"},"å®Œæ•´è§’è‰²æ•°æ®:",-1)),(0,a.createElementVNode)("pre",fO,(0,a.toDisplayString)(JSON.stringify(e.characterData,null,2)),1)])])):((0,a.openBlock)(),(0,a.createElementBlock)("div",bO,[(0,a.createVNode)((0,a.unref)(zi),{size:32}),n[3]||(n[3]=(0,a.createElementVNode)("p",null,"æš‚æ— è§’è‰²æ•°æ®",-1))]))]))});var yO=t(1021),xO={};xO.styleTagTransform=A(),xO.setAttributes=z(),xO.insert=V().bind(null,"head"),xO.domAPI=N(),xO.insertStyleElement=B(),k()(yO.A,xO),yO.A&amp;&amp;yO.A.locals&amp;&amp;yO.A.locals;const kO=(0,j.A)(hO,[["__scopeId","data-v-6885fec6"]]),wO={class:"save-data-section"},NO={class:"save-data-content"},EO={key:0,class:"data-tree"},VO={key:1,class:"empty-state"},CO=(0,a.defineComponent)({__name:"TavernSaveDataSection",props:{saveData:{}},setup(e){const n=(0,a.defineAsyncComponent)(()=&gt;Promise.resolve().then(t.bind(t,2231))),o=(0,tn.useCharacterStore)(),r=async e=&gt;{if(bg.Yz.log("[TavernSaveData]",`è¯·æ±‚åˆ é™¤: ${e}`),confirm(`ç¡®å®šè¦åˆ é™¤æ­¤é¡¹ç›®å—ï¼Ÿ\nè·¯å¾„: ${e}\n\næ­¤æ“ä½œä¸å¯æ’¤é”€ï¼`))try{const n=e.split("."),t=o.activeSaveSlot;if(!t||!t.å­˜æ¡£æ•°æ®)throw new Error("æ²¡æœ‰æ¿€æ´»çš„å­˜æ¡£æ•°æ®");const a=JSON.parse(JSON.stringify(t.å­˜æ¡£æ•°æ®));let r=a;for(let t=0;t<n.length-1;t++)if(r=r[n[t]],void 0="==r)throw" new="" error(`è·¯å¾„æ— æ•ˆ:="" ${e}`);delete="" r[n[n.length-1]],await="" o.updatesavedatadirectly(a),await="" o.synctotavernandsave({fullsync:!0}),d.o.success(`é¡¹ç›®="" ${e}="" å·²åˆ é™¤`),bg.yz.log("[tavernsavedata]",`æˆåŠŸåˆ é™¤å¹¶åŒæ­¥:="" ${e}`)}catch(e){bg.yz.error("[tavernsavedata]","åˆ é™¤å¤±è´¥",e),d.o.error(`åˆ é™¤å¤±è´¥:="" ${e="" instanceof="" error?e.message:"æœªçŸ¥é”™è¯¯"}`)}};return(e,t)="">((0,a.openBlock)(),(0,a.createElementBlock)("div",wO,[t[1]||(t[1]=(0,a.createElementVNode)("div",{class:"section-header"},[(0,a.createElementVNode)("h3",{class:"section-title"},"Save Data (å­˜æ¡£æ•°æ®)")],-1)),(0,a.createElementVNode)("div",NO,[e.saveData&amp;&amp;Object.keys(e.saveData).length&gt;0?((0,a.openBlock)(),(0,a.createElementBlock)("div",EO,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.saveData,(e,t)=&gt;((0,a.openBlock)(),(0,a.createBlock)((0,a.unref)(n),{key:t,"node-key":t,value:e,path:String(t),onDeleteItem:r},null,8,["node-key","value","path"]))),128))])):((0,a.openBlock)(),(0,a.createElementBlock)("div",VO,[(0,a.createVNode)((0,a.unref)(Cq),{size:32}),t[0]||(t[0]=(0,a.createElementVNode)("p",null,"æš‚æ— å­˜æ¡£æ•°æ®",-1))]))])]))}});var zO=t(8264),SO={};SO.styleTagTransform=A(),SO.setAttributes=z(),SO.insert=V().bind(null,"head"),SO.domAPI=N(),SO.insertStyleElement=B(),k()(zO.A,SO),zO.A&amp;&amp;zO.A.locals&amp;&amp;zO.A.locals;const BO=(0,j.A)(CO,[["__scopeId","data-v-0e1d4ac2"]]),DO={class:"world-info-section"},AO={class:"world-info-content"},_O={key:0,class:"data-display"},$O={class:"code-pre"},IO={key:1,class:"empty-state"},TO=(0,a.defineComponent)({__name:"TavernWorldInfoSection",props:{worldInfo:{}},setup:e=&gt;(e,n)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",DO,[n[1]||(n[1]=(0,a.createElementVNode)("div",{class:"section-header"},[(0,a.createElementVNode)("h3",{class:"section-title"},"World Info (ä¸–ç•Œä¿¡æ¯)")],-1)),(0,a.createElementVNode)("div",AO,[e.worldInfo&amp;&amp;Object.keys(e.worldInfo).length&gt;0?((0,a.openBlock)(),(0,a.createElementBlock)("div",_O,[(0,a.createElementVNode)("pre",$O,(0,a.toDisplayString)(JSON.stringify(e.worldInfo,null,2)),1)])):((0,a.openBlock)(),(0,a.createElementBlock)("div",IO,[(0,a.createVNode)((0,a.unref)(KT),{size:32}),n[0]||(n[0]=(0,a.createElementVNode)("p",null,"æš‚æ— ä¸–ç•Œä¿¡æ¯",-1))]))])]))});var jO=t(7816),MO={};MO.styleTagTransform=A(),MO.setAttributes=z(),MO.insert=V().bind(null,"head"),MO.domAPI=N(),MO.insertStyleElement=B(),k()(jO.A,MO),jO.A&amp;&amp;jO.A.locals&amp;&amp;jO.A.locals;const qO=(0,j.A)(TO,[["__scopeId","data-v-23f9de7c"]]),OO={class:"memory-section"},PO={class:"memory-content"},FO={key:0,class:"data-display"},LO={class:"code-pre"},YO={key:1,class:"empty-state"},RO=(0,a.defineComponent)({__name:"TavernMemorySection",props:{memoryData:{}},setup:e=&gt;(e,n)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",OO,[n[1]||(n[1]=(0,a.createElementVNode)("div",{class:"section-header"},[(0,a.createElementVNode)("h3",{class:"section-title"},"Memory Data (è®°å¿†æ•°æ®)")],-1)),(0,a.createElementVNode)("div",PO,[e.memoryData&amp;&amp;Object.keys(e.memoryData).length&gt;0?((0,a.openBlock)(),(0,a.createElementBlock)("div",FO,[(0,a.createElementVNode)("pre",LO,(0,a.toDisplayString)(JSON.stringify(e.memoryData,null,2)),1)])):((0,a.openBlock)(),(0,a.createElementBlock)("div",YO,[(0,a.createVNode)((0,a.unref)(Ci),{size:32}),n[0]||(n[0]=(0,a.createElementVNode)("p",null,"æš‚æ— è®°å¿†æ•°æ®",-1))]))])]))});var UO=t(6478),GO={};GO.styleTagTransform=A(),GO.setAttributes=z(),GO.insert=V().bind(null,"head"),GO.domAPI=N(),GO.insertStyleElement=B(),k()(UO.A,GO),UO.A&amp;&amp;UO.A.locals&amp;&amp;UO.A.locals;const WO=(0,j.A)(RO,[["__scopeId","data-v-70b78bf0"]]),JO={class:"raw-data-section"},HO={class:"raw-data-content"},QO={key:0,class:"data-display"},KO={class:"code-pre"},XO={key:1,class:"empty-state"},ZO=(0,a.defineComponent)({__name:"TavernRawDataSection",props:{allTavernData:{}},setup:e=&gt;(e,n)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",JO,[n[1]||(n[1]=(0,a.createElementVNode)("div",{class:"section-header"},[(0,a.createElementVNode)("h3",{class:"section-title"},"Raw Data (åŸå§‹æ•°æ®)")],-1)),(0,a.createElementVNode)("div",HO,[e.allTavernData&amp;&amp;Object.keys(e.allTavernData).length&gt;0?((0,a.openBlock)(),(0,a.createElementBlock)("div",QO,[(0,a.createElementVNode)("pre",KO,(0,a.toDisplayString)(JSON.stringify(e.allTavernData,null,2)),1)])):((0,a.openBlock)(),(0,a.createElementBlock)("div",XO,[(0,a.createVNode)((0,a.unref)(zq),{size:32}),n[0]||(n[0]=(0,a.createElementVNode)("p",null,"æš‚æ— åŸå§‹æ•°æ®",-1))]))])]))});var eP=t(600),nP={};nP.styleTagTransform=A(),nP.setAttributes=z(),nP.insert=V().bind(null,"head"),nP.domAPI=N(),nP.insertStyleElement=B(),k()(eP.A,nP),eP.A&amp;&amp;eP.A.locals&amp;&amp;eP.A.locals;const tP=(0,j.A)(ZO,[["__scopeId","data-v-0ef67458"]]),aP={class:"data-display"},oP={key:0,class:"loading-state"},rP={key:1,class:"no-connection"},lP={key:2,class:"data-content"},iP={key:0,class:"error-state"},cP=(0,a.defineComponent)({__name:"TavernDataDisplay",props:{isLoading:{type:Boolean},tavernConnected:{type:Boolean},selectedDataType:{},searchQuery:{},chatVariables:{},globalVariables:{},characterData:{},saveData:{},worldInfo:{},memoryData:{},allTavernData:{},filteredChatVariables:{},filteredGlobalVariables:{}},emits:["edit-variable","copy-variable","delete-variable","add-new-variable","debug-log"],setup(e){const n=e,t=(0,a.ref)(!1),o=()=&gt;{t.value=!1},r=()=&gt;{switch(n.selectedDataType){case"chat":case"global":default:return iO;case"character":return kO;case"saveData":return BO;case"worldInfo":return qO;case"memory":return WO;case"raw":return tP}},l=()=&gt;{const e={searchQuery:n.searchQuery,chatVariables:n.chatVariables||{},globalVariables:n.globalVariables||{}};switch(n.selectedDataType){case"chat":default:return{...e,type:"chat",variables:n.filteredChatVariables||{}};case"global":return{...e,type:"global",variables:n.filteredGlobalVariables||{}};case"character":return{characterData:n.characterData};case"saveData":return{saveData:n.saveData};case"worldInfo":return{worldInfo:n.worldInfo};case"memory":return{memoryData:n.memoryData};case"raw":return{allTavernData:n.allTavernData}}};return(e,n)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",aP,[e.isLoading?((0,a.openBlock)(),(0,a.createElementBlock)("div",oP,[(0,a.createVNode)((0,a.unref)(Cv),{size:32,class:"animate-spin"}),n[5]||(n[5]=(0,a.createElementVNode)("p",null,"æ­£åœ¨åŠ è½½æ•°æ®...",-1))])):e.tavernConnected?((0,a.openBlock)(),(0,a.createElementBlock)("div",lP,[t.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",iP,[(0,a.createVNode)((0,a.unref)(uf),{size:48}),n[8]||(n[8]=(0,a.createElementVNode)("p",null,"æ•°æ®æ˜¾ç¤ºå‡ºé”™",-1)),n[9]||(n[9]=(0,a.createElementVNode)("p",{class:"hint"},"è¯·å°è¯•åˆ·æ–°æ•°æ®",-1)),(0,a.createElementVNode)("button",{onClick:o,class:"retry-btn"},"é‡è¯•")])):((0,a.openBlock)(),(0,a.createBlock)((0,a.resolveDynamicComponent)(r()),(0,a.mergeProps)({key:1},l(),{onEditVariable:n[0]||(n[0]=n=&gt;e.$emit("edit-variable",n)),onCopyVariable:n[1]||(n[1]=n=&gt;e.$emit("copy-variable",n)),onDeleteVariable:n[2]||(n[2]=n=&gt;e.$emit("delete-variable",n)),onAddNewVariable:n[3]||(n[3]=n=&gt;e.$emit("add-new-variable",n)),onDebugLog:n[4]||(n[4]=n=&gt;e.$emit("debug-log"))}),null,16))])):((0,a.openBlock)(),(0,a.createElementBlock)("div",rP,[(0,a.createVNode)((0,a.unref)(uf),{size:48}),n[6]||(n[6]=(0,a.createElementVNode)("p",null,"æœªæ£€æµ‹åˆ°é…’é¦†è¿æ¥",-1)),n[7]||(n[7]=(0,a.createElementVNode)("p",{class:"hint"},"Make sure the SillyTavern extension is enabled",-1))]))]))}});var sP=t(4670),dP={};dP.styleTagTransform=A(),dP.setAttributes=z(),dP.insert=V().bind(null,"head"),dP.domAPI=N(),dP.insertStyleElement=B(),k()(sP.A,dP),sP.A&amp;&amp;sP.A.locals&amp;&amp;sP.A.locals;const mP=(0,j.A)(cP,[["__scopeId","data-v-62ba194a"]]),pP={class:"modal-header"},vP={class:"modal-body"},uP={class:"form-group"},gP=["disabled"],fP={key:0,class:"form-hint-text"},bP={class:"form-group"},hP={class:"value-type-selector"},yP=["onClick"],xP=["placeholder"],kP={key:0,class:"error-message"},wP={key:1,class:"form-hint"},NP={key:0,class:"preview-section"},EP={class:"preview-content"},VP={class:"modal-footer"},CP=["disabled"],zP=(0,a.defineComponent)({__name:"TavernEditModal",props:{editingItem:{}},emits:["close","save"],setup(e,{emit:n}){const t=e,o=n,r=(0,a.ref)({type:"",key:"",value:""}),l=(0,a.ref)("string"),i=(0,a.ref)(""),c=[{value:"string",label:"å­—ç¬¦ä¸²"},{value:"number",label:"æ•°å­—"},{value:"boolean",label:"å¸ƒå°”å€¼"},{value:"object",label:"å¯¹è±¡"},{value:"array",label:"æ•°ç»„"}],s=(0,a.computed)({get:()=&gt;{if(!r.value)return"";const e=r.value.value;return"object"==typeof e&amp;&amp;null!==e?JSON.stringify(e,null,2):String(e??"")},set:e=&gt;{r.value&amp;&amp;(r.value.value=e,p())}}),d=(0,a.computed)(()=&gt;{if(i.value||!s.value)return null;try{if("object"===l.value||"array"===l.value){const e=JSON.parse(s.value);return JSON.stringify(e,null,2)}return null}catch{return null}}),m=(0,a.computed)(()=&gt;""!==r.value.key.trim()&amp;&amp;""!==s.value.trim()&amp;&amp;!i.value),p=()=&gt;{if(i.value="",s.value.trim()&amp;&amp;("object"===l.value||"array"===l.value))try{const e=JSON.parse(s.value);"array"!==l.value||Array.isArray(e)?"object"!==l.value||!Array.isArray(e)&amp;&amp;"object"==typeof e||(i.value="æœŸæœ›æ˜¯å¯¹è±¡ç±»å‹ï¼Œä½†è§£æç»“æœä¸æ˜¯å¯¹è±¡"):i.value="æœŸæœ›æ˜¯æ•°ç»„ç±»å‹ï¼Œä½†è§£æç»“æœä¸æ˜¯æ•°ç»„"}catch(e){i.value="JSON æ ¼å¼é”™è¯¯: "+(e instanceof Error?e.message:"æœªçŸ¥é”™è¯¯")}},v=()=&gt;{switch(l.value){case"string":return"è¯·è¾“å…¥å­—ç¬¦ä¸²å€¼ï¼Œä¾‹å¦‚: Hello World";case"number":return"è¯·è¾“å…¥æ•°å­—å€¼ï¼Œä¾‹å¦‚: 123 æˆ– 3.14";case"boolean":return"è¯·è¾“å…¥ true æˆ– false";case"object":return'è¯·è¾“å…¥ JSON å¯¹è±¡ï¼Œä¾‹å¦‚: {"name": "å¼ ä¸‰", "age": 25}';case"array":return'è¯·è¾“å…¥ JSON æ•°ç»„ï¼Œä¾‹å¦‚: [1, 2, 3] æˆ– ["a", "b", "c"]';default:return"è¯·è¾“å…¥å€¼"}},u=()=&gt;{switch(l.value){case"string":return"âœ… ç›´æ¥è¾“å…¥æ–‡æœ¬å†…å®¹å³å¯";case"number":return"âœ… è¾“å…¥æ•°å­—ï¼Œæ”¯æŒæ•´æ•°å’Œå°æ•°";case"boolean":return"âœ… è¾“å…¥ true æˆ– false";case"object":return'âœ… ä½¿ç”¨ JSON æ ¼å¼ï¼Œä¾‹å¦‚: {"key": "value"}';case"array":return"âœ… ä½¿ç”¨ JSON æ•°ç»„æ ¼å¼ï¼Œä¾‹å¦‚: [1, 2, 3]";default:return"æ”¯æŒå­—ç¬¦ä¸²ã€æ•°å­—ã€å¸ƒå°”å€¼ã€å¯¹è±¡å’Œæ•°ç»„"}},g=()=&gt;{if(m.value)try{let e=s.value;switch(l.value){case"number":if(e=Number(s.value),isNaN(e))return void(i.value="æ— æ•ˆçš„æ•°å­—æ ¼å¼");break;case"boolean":e="true"===s.value.toLowerCase();break;case"object":case"array":e=JSON.parse(s.value);break;default:e=s.value}r.value.value=e,o("save",r.value)}catch(e){i.value="ä¿å­˜å¤±è´¥: "+(e instanceof Error?e.message:"æœªçŸ¥é”™è¯¯")}};return(0,a.watch)(()=&gt;t.editingItem,e=&gt;{var n;e&amp;&amp;(r.value={...e},l.value=null==(n=e.value)?"string":Array.isArray(n)?"array":"object"==typeof n?"object":"boolean"==typeof n?"boolean":"number"==typeof n?"number":"string",i.value="",p())},{immediate:!0}),(e,n)=&gt;e.editingItem?((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:0,class:"modal-overlay",onClick:n[5]||(n[5]=n=&gt;e.$emit("close"))},[(0,a.createElementVNode)("div",{class:"modal-content",onClick:n[4]||(n[4]=(0,a.withModifiers)(()=&gt;{},["stop"]))},[(0,a.createElementVNode)("div",pP,[(0,a.createElementVNode)("h3",null,(0,a.toDisplayString)(r.value.key?"ç¼–è¾‘å˜é‡":"æ–°å¢å˜é‡"),1),(0,a.createElementVNode)("button",{onClick:n[0]||(n[0]=n=&gt;e.$emit("close")),class:"close-btn"},[(0,a.createVNode)((0,a.unref)(Ne),{size:16})])]),(0,a.createElementVNode)("div",vP,[(0,a.createElementVNode)("div",uP,[n[6]||(n[6]=(0,a.createElementVNode)("label",null,"å˜é‡å (Key)",-1)),(0,a.withDirectives)((0,a.createElementVNode)("input",{"onUpdate:modelValue":n[1]||(n[1]=e=&gt;r.value.key=e),class:"form-input",disabled:!!e.editingItem.key,placeholder:"è¯·è¾“å…¥å˜é‡å"},null,8,gP),[[a.vModelText,r.value.key]]),e.editingItem.key?((0,a.openBlock)(),(0,a.createElementBlock)("p",fP," â„¹ï¸ ç¼–è¾‘æ¨¡å¼ä¸‹æ— æ³•ä¿®æ”¹å˜é‡å ")):(0,a.createCommentVNode)("v-if",!0)]),(0,a.createElementVNode)("div",bP,[n[7]||(n[7]=(0,a.createElementVNode)("label",null,"å˜é‡å€¼ (Value)",-1)),(0,a.createElementVNode)("div",hP,[((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(c,e=&gt;(0,a.createElementVNode)("button",{key:e.value,onClick:n=&gt;(e=&gt;{if(l.value=e,!s.value)switch(e){case"string":s.value="";break;case"number":s.value="0";break;case"boolean":s.value="true";break;case"object":s.value="{}";break;case"array":s.value="[]"}p()})(e.value),class:(0,a.normalizeClass)(["type-btn",{active:l.value===e.value}])},(0,a.toDisplayString)(e.label),11,yP)),64))]),(0,a.withDirectives)((0,a.createElementVNode)("textarea",{"onUpdate:modelValue":n[2]||(n[2]=e=&gt;s.value=e),class:(0,a.normalizeClass)(["form-textarea",{"has-error":i.value}]),rows:"10",placeholder:v()},null,10,xP),[[a.vModelText,s.value]]),i.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",kP," âš ï¸ "+(0,a.toDisplayString)(i.value),1)):((0,a.openBlock)(),(0,a.createElementBlock)("div",wP,[(0,a.createElementVNode)("p",null,(0,a.toDisplayString)(u()),1)]))]),d.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",NP,[n[8]||(n[8]=(0,a.createElementVNode)("label",null,"é¢„è§ˆ",-1)),(0,a.createElementVNode)("pre",EP,(0,a.toDisplayString)(d.value),1)])):(0,a.createCommentVNode)("v-if",!0)]),(0,a.createElementVNode)("div",VP,[(0,a.createElementVNode)("button",{onClick:n[3]||(n[3]=n=&gt;e.$emit("close")),class:"cancel-btn"},"å–æ¶ˆ"),(0,a.createElementVNode)("button",{onClick:g,class:"save-btn",disabled:!m.value},[(0,a.createVNode)((0,a.unref)(Ai),{size:14}),n[9]||(n[9]=(0,a.createElementVNode)("span",null,"ä¿å­˜",-1))],8,CP)])])])):(0,a.createCommentVNode)("v-if",!0)}});var SP=t(6164),BP={};BP.styleTagTransform=A(),BP.setAttributes=z(),BP.insert=V().bind(null,"head"),BP.domAPI=N(),BP.insertStyleElement=B(),k()(SP.A,BP),SP.A&amp;&amp;SP.A.locals&amp;&amp;SP.A.locals;const DP=(0,j.A)(zP,[["__scopeId","data-v-2ee8c39d"]]),AP={class:"modal-header"},_P={class:"modal-body"},$P={class:"stats-grid"},IP={class:"stat-card"},TP={class:"stat-icon chat"},jP={class:"stat-info"},MP={class:"stat-value"},qP={class:"stat-card"},OP={class:"stat-icon global"},PP={class:"stat-info"},FP={class:"stat-value"},LP={class:"stat-card"},YP={class:"stat-icon memory"},RP={class:"stat-info"},UP={class:"stat-value"},GP={class:"stat-card"},WP={class:"stat-icon world"},JP={class:"stat-info"},HP={class:"stat-value"},QP={class:"data-size-info"},KP={class:"size-list"},XP={class:"size-item"},ZP={class:"size-item"},eF={class:"size-item"},nF={class:"data-size-info",style:{"margin-top":"1rem"}},tF={class:"size-list"},aF={style:{"font-family":"monospace","font-size":"0.8rem"}},oF=(0,a.defineComponent)({__name:"TavernStatsModal",props:{chatVariables:{},globalVariables:{},allTavernData:{},getMemoryCount:{type:Function},getWorldItemCount:{type:Function}},emits:["close"],setup(e){const n=e,t=e=&gt;new Blob([JSON.stringify(e)]).size,o=e=&gt;{if(0===e)return"0 Bytes";const n=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,n)).toFixed(2))+" "+["Bytes","KB","MB","GB"][n]};return(e,r)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",{class:"modal-overlay",onClick:r[2]||(r[2]=n=&gt;e.$emit("close"))},[(0,a.createElementVNode)("div",{class:"modal-content stats-modal",onClick:r[1]||(r[1]=(0,a.withModifiers)(()=&gt;{},["stop"]))},[(0,a.createElementVNode)("div",AP,[r[3]||(r[3]=(0,a.createElementVNode)("h3",null,"æ•°æ®ç»Ÿè®¡",-1)),(0,a.createElementVNode)("button",{onClick:r[0]||(r[0]=n=&gt;e.$emit("close")),class:"close-btn"},[(0,a.createVNode)((0,a.unref)(Ne),{size:16})])]),(0,a.createElementVNode)("div",_P,[(0,a.createElementVNode)("div",$P,[(0,a.createElementVNode)("div",IP,[(0,a.createElementVNode)("div",TP,[(0,a.createVNode)((0,a.unref)(Vq),{size:24})]),(0,a.createElementVNode)("div",jP,[(0,a.createElementVNode)("div",MP,(0,a.toDisplayString)(Object.keys(e.chatVariables).length),1),r[4]||(r[4]=(0,a.createElementVNode)("div",{class:"stat-label"},"èŠå¤©å˜é‡",-1))])]),(0,a.createElementVNode)("div",qP,[(0,a.createElementVNode)("div",OP,[(0,a.createVNode)((0,a.unref)(lc),{size:24})]),(0,a.createElementVNode)("div",PP,[(0,a.createElementVNode)("div",FP,(0,a.toDisplayString)(Object.keys(e.globalVariables).length),1),r[5]||(r[5]=(0,a.createElementVNode)("div",{class:"stat-label"},"å…¨å±€å˜é‡",-1))])]),(0,a.createElementVNode)("div",LP,[(0,a.createElementVNode)("div",YP,[(0,a.createVNode)((0,a.unref)(Ci),{size:24})]),(0,a.createElementVNode)("div",RP,[(0,a.createElementVNode)("div",UP,(0,a.toDisplayString)(e.getMemoryCount()),1),r[6]||(r[6]=(0,a.createElementVNode)("div",{class:"stat-label"},"è®°å¿†æ¡ç›®",-1))])]),(0,a.createElementVNode)("div",GP,[(0,a.createElementVNode)("div",WP,[(0,a.createVNode)((0,a.unref)(KT),{size:24})]),(0,a.createElementVNode)("div",JP,[(0,a.createElementVNode)("div",HP,(0,a.toDisplayString)(e.getWorldItemCount()),1),r[7]||(r[7]=(0,a.createElementVNode)("div",{class:"stat-label"},"ä¸–ç•Œå…ƒç´ ",-1))])])]),(0,a.createElementVNode)("div",QP,[r[11]||(r[11]=(0,a.createElementVNode)("h4",null,"æ•°æ®å¤§å°ç»Ÿè®¡",-1)),(0,a.createElementVNode)("div",KP,[(0,a.createElementVNode)("div",XP,[r[8]||(r[8]=(0,a.createElementVNode)("span",null,"èŠå¤©å˜é‡å¤§å°:",-1)),(0,a.createElementVNode)("span",null,(0,a.toDisplayString)(o(t(e.chatVariables))),1)]),(0,a.createElementVNode)("div",ZP,[r[9]||(r[9]=(0,a.createElementVNode)("span",null,"å…¨å±€å˜é‡å¤§å°:",-1)),(0,a.createElementVNode)("span",null,(0,a.toDisplayString)(o(t(e.globalVariables))),1)]),(0,a.createElementVNode)("div",eF,[r[10]||(r[10]=(0,a.createElementVNode)("span",null,"æ€»æ•°æ®å¤§å°:",-1)),(0,a.createElementVNode)("span",null,(0,a.toDisplayString)(o(t(e.allTavernData))),1)])])]),(0,a.createElementVNode)("div",nF,[r[12]||(r[12]=(0,a.createElementVNode)("h4",null,"èŠå¤©å˜é‡è¯¦ç»†å¤§å°ï¼ˆå‰10ä¸ªæœ€å¤§çš„ï¼‰",-1)),(0,a.createElementVNode)("div",tF,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(Object.entries(n.chatVariables).map(([e,n])=&gt;({key:e,size:t(n)})).sort((e,n)=&gt;n.size-e.size).slice(0,10),e=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:e.key,class:"size-item"},[(0,a.createElementVNode)("span",aF,(0,a.toDisplayString)(e.key),1),(0,a.createElementVNode)("span",{style:(0,a.normalizeStyle)({color:e.size&gt;5e4?"#ef4444":e.size&gt;1e4?"#f59e0b":"inherit"})},(0,a.toDisplayString)(o(e.size)),5)]))),128))])])])])]))}});var rF=t(908),lF={};lF.styleTagTransform=A(),lF.setAttributes=z(),lF.insert=V().bind(null,"head"),lF.domAPI=N(),lF.insertStyleElement=B(),k()(rF.A,lF),rF.A&amp;&amp;rF.A.locals&amp;&amp;rF.A.locals;const iF=(0,j.A)(oF,[["__scopeId","data-v-57fafbc4"]]),cF={class:"tavern-data-panel"},sF=(0,a.defineComponent)({__name:"TavernDataPanel",setup(e){const n=(0,a.ref)(!1),o=(0,a.ref)(!1),r=(0,a.ref)(!1),l=(0,a.ref)(""),i=(0,a.ref)("chat"),c=(0,a.ref)(""),s=(0,a.ref)(!1),m=(0,a.ref)(null),p=(0,a.ref)(!1),{chatVariables:v,globalVariables:u,characterData:g,saveData:f,worldInfo:b,memoryData:h,allTavernData:y,refreshTavernData:x}=function(){const e=(0,a.ref)({}),n=(0,a.ref)({}),t=(0,a.ref)(null),o=(0,a.ref)({}),r=(0,a.ref)(null),l=(0,a.ref)(null),i=(0,a.computed)(()=&gt;({chat:e.value,global:n.value,character:t.value,saveData:o.value,worldInfo:r.value,memory:l.value}));return{chatVariables:e,globalVariables:n,characterData:t,saveData:o,worldInfo:r,memoryData:l,allTavernData:i,refreshTavernData:async()=&gt;{const a=(0,an.getTavernHelper)();if(!a)return;console.log("[é…’é¦†æ•°æ®] å¼€å§‹è·å–å˜é‡æ•°æ®...");const[i,c]=await Promise.all([Promise.resolve(a.getVariables({type:"chat"})).catch(e=&gt;(console.error("[é…’é¦†æ•°æ®] è·å–èŠå¤©å˜é‡å¤±è´¥:",e),{})),Promise.resolve(a.getVariables({type:"global"})).catch(e=&gt;(console.error("[é…’é¦†æ•°æ®] è·å–å…¨å±€å˜é‡å¤±è´¥:",e),{}))]);if(e.value=i||{},n.value=c||{},i){const e=i||{};console.log("[é…’é¦†æ•°æ®] æ­£åœ¨ä»åˆ†ç‰‡å˜é‡ç»„è£…å­˜æ¡£...");const n=e["å±æ€§"],a={è§’è‰²åŸºç¡€ä¿¡æ¯:e["åŸºç¡€ä¿¡æ¯"],ç©å®¶è§’è‰²çŠ¶æ€:{å¢ƒç•Œ:e["å¢ƒç•Œ"],å£°æœ›:e["å£°æœ›"]||0,ä½ç½®:e["ä½ç½®"]||{æè¿°:"æœªçŸ¥",x:0,y:0},æ°”è¡€:n?.æ°”è¡€,çµæ°”:n?.çµæ°”,ç¥è¯†:n?.ç¥è¯†,å¯¿å‘½:n?.å¯¿å‘½,çŠ¶æ€æ•ˆæœ:e["çŠ¶æ€æ•ˆæœ"]||[]},ä¿®ç‚¼åŠŸæ³•:e["ä¿®ç‚¼åŠŸæ³•"],æŒæ¡æŠ€èƒ½:e["æŒæ¡æŠ€èƒ½"]||[],è£…å¤‡æ :e["è£…å¤‡æ "],èƒŒåŒ…:{çµçŸ³:e["èƒŒåŒ…_çµçŸ³"],ç‰©å“:e["èƒŒåŒ…_ç‰©å“"]},äººç‰©å…³ç³»:e["äººç‰©å…³ç³»"]||{},ä¸‰åƒå¤§é“:e["ä¸‰åƒå¤§é“"]||{å·²è§£é”å¤§é“:[],å¤§é“è¿›åº¦:{},å¤§é“è·¯å¾„å®šä¹‰:{}},ä¸–ç•Œä¿¡æ¯:e["ä¸–ç•Œä¿¡æ¯"],è®°å¿†:{çŸ­æœŸè®°å¿†:e["è®°å¿†_çŸ­æœŸ"]||[],ä¸­æœŸè®°å¿†:e["è®°å¿†_ä¸­æœŸ"]||[],é•¿æœŸè®°å¿†:e["è®°å¿†_é•¿æœŸ"]||[],éšå¼ä¸­æœŸè®°å¿†:e["è®°å¿†_éšå¼ä¸­æœŸ"]||[]},æ¸¸æˆæ—¶é—´:e["æ¸¸æˆæ—¶é—´"]};o.value=a,r.value=e["ä¸–ç•Œä¿¡æ¯"]||null,l.value=a.è®°å¿†||null;const c=a.è§’è‰²åŸºç¡€ä¿¡æ¯;t.value=c&amp;&amp;"object"==typeof c?{...c,name:c.åå­—}:null}}}}(),{filteredChatVariables:k,filteredGlobalVariables:w,getDataCount:N,getMemoryCount:E,getWorldItemCount:V}=function(e){const{chatVariables:n,globalVariables:t,characterData:o,saveData:r,worldInfo:l,memoryData:i,searchQuery:c}=e,s=(0,a.computed)(()=&gt;{if(!c.value)return n.value;const e=c.value.toLowerCase(),t={};return Object.entries(n.value).forEach(([n,a])=&gt;{(n.toLowerCase().includes(e)||JSON.stringify(a).toLowerCase().includes(e))&amp;&amp;(t[n]=a)}),t}),d=(0,a.computed)(()=&gt;{if(!c.value)return t.value;const e=c.value.toLowerCase(),n={};return Object.entries(t.value).forEach(([t,a])=&gt;{(t.toLowerCase().includes(e)||JSON.stringify(a).toLowerCase().includes(e))&amp;&amp;(n[t]=a)}),n}),m=(0,a.computed)(()=&gt;{const e=i.value||{};return Array.isArray(e["çŸ­æœŸè®°å¿†"])?e["çŸ­æœŸè®°å¿†"]:Array.isArray(e.short_term)?e.short_term:[]}),p=(0,a.computed)(()=&gt;{const e=i.value||{};return Array.isArray(e["ä¸­æœŸè®°å¿†"])?e["ä¸­æœŸè®°å¿†"]:Array.isArray(e.mid_term)?e.mid_term:[]}),v=(0,a.computed)(()=&gt;{const e=i.value||{};return Array.isArray(e["é•¿æœŸè®°å¿†"])?e["é•¿æœŸè®°å¿†"]:Array.isArray(e.long_term)?e.long_term:[]});return{filteredChatVariables:s,filteredGlobalVariables:d,shortMem:m,midMem:p,longMem:v,getDataCount:e=&gt;{switch(e){case"chat":return Object.keys(c.value?s.value:n.value).length;case"global":return Object.keys(c.value?d.value:t.value).length;case"character":{const e=o.value;return e&amp;&amp;"object"==typeof e?Object.keys(e).length:0}case"saveData":{const e=r.value;return e&amp;&amp;"object"==typeof e?Object.keys(e).length:0}case"worldInfo":{const e=l.value;if(e&amp;&amp;"object"==typeof e){const n=(Array.isArray(e["å¤§é™†ä¿¡æ¯"])?e["å¤§é™†ä¿¡æ¯"].length:0)+(Array.isArray(e["åŠ¿åŠ›ä¿¡æ¯"])?e["åŠ¿åŠ›ä¿¡æ¯"].length:0)+(Array.isArray(e["åœ°ç‚¹ä¿¡æ¯"])?e["åœ°ç‚¹ä¿¡æ¯"].length:0);return n&gt;0?n:Object.keys(e).length}return 0}case"memory":return(m.value?.length||0)+(p.value?.length||0)+(v.value?.length||0);default:return 0}},getMemoryCount:()=&gt;(m.value?.length||0)+(p.value?.length||0)+(v.value?.length||0),getWorldItemCount:()=&gt;{if(!l.value)return 0;let e=0;const n=l.value;return Array.isArray(n["åŠ¿åŠ›ä¿¡æ¯"])&amp;&amp;(e+=n["åŠ¿åŠ›ä¿¡æ¯"].length),Array.isArray(n["åœ°ç‚¹ä¿¡æ¯"])&amp;&amp;(e+=n["åœ°ç‚¹ä¿¡æ¯"].length),Array.isArray(n["å¤§é™†ä¿¡æ¯"])&amp;&amp;(e+=n["å¤§é™†ä¿¡æ¯"].length),e}}}({chatVariables:v,globalVariables:u,characterData:g,saveData:f,worldInfo:b,memoryData:h,searchQuery:c}),C=[{key:"chat",label:"èŠå¤©å˜é‡",icon:"MessageSquare"},{key:"global",label:"å…¨å±€å˜é‡",icon:"Globe"},{key:"character",label:"è§’è‰²æ•°æ®",icon:"Users"},{key:"saveData",label:"å­˜æ¡£æ•°æ®",icon:"Archive"},{key:"worldInfo",label:"ä¸–ç•Œä¿¡æ¯",icon:"Book"},{key:"memory",label:"è®°å¿†æ•°æ®",icon:"Brain"},{key:"raw",label:"åŸå§‹æ•°æ®",icon:"Code"}],z=async()=&gt;{r.value=!0,o.value=!0;try{if(!(0,an.getTavernHelper)())return n.value=!1,void d.o.error("æœªè¿æ¥åˆ°é…’é¦†");n.value=!0,await x(),l.value=(new Date).toLocaleString("zh-CN")}catch(e){console.error("[é…’é¦†æ•°æ®] åˆ·æ–°å¤±è´¥:",e),d.o.error("æ•°æ®åˆ·æ–°å¤±è´¥: "+(e instanceof Error?e.message:"æœªçŸ¥é”™è¯¯"))}finally{o.value=!1,r.value=!1}},S=()=&gt;{try{const e=JSON.stringify(y.value,null,2),n=new Blob([e],{type:"application/json"}),t=URL.createObjectURL(n),a=document.createElement("a");a.href=t,a.download=`tavern-data-${Date.now()}.json`,a.click(),URL.revokeObjectURL(t),d.o.success("æ•°æ®å¯¼å‡ºæˆåŠŸ")}catch(e){console.error("[é…’é¦†æ•°æ®] å¯¼å‡ºå¤±è´¥:",e),d.o.error("æ•°æ®å¯¼å‡ºå¤±è´¥")}},B=()=&gt;{s.value=!0},D=e=&gt;{m.value={type:e,key:"",value:""},p.value=!0},A=e=&gt;{m.value={...e},p.value=!0},_=async(e,n)=&gt;{try{const t="object"==typeof n?JSON.stringify(n,null,2):String(n);await navigator.clipboard.writeText(`${e}: ${t}`),d.o.success("å·²å¤åˆ¶åˆ°å‰ªè´´æ¿")}catch(e){console.error("[é…’é¦†æ•°æ®] å¤åˆ¶å¤±è´¥:",e),d.o.error("å¤åˆ¶å¤±è´¥")}},$=async(e,n)=&gt;{if(confirm(`ç¡®å®šè¦åˆ é™¤å˜é‡ "${n}" å—ï¼Ÿ`))try{const t=(0,an.getTavernHelper)();if(!t)return void d.o.error("æœªè¿æ¥åˆ°é…’é¦†");await t.deleteVariable(n,{type:e}),"chat"===e?delete v.value[n]:delete u.value[n],d.o.success("å˜é‡åˆ é™¤æˆåŠŸ")}catch(e){console.error("[é…’é¦†æ•°æ®] åˆ é™¤å¤±è´¥:",e),d.o.error("åˆ é™¤å¤±è´¥: "+(e instanceof Error?e.message:"æœªçŸ¥é”™è¯¯"))}},I=async e=&gt;{if(e)try{const n=(0,an.getTavernHelper)();if(!n)return void d.o.error("æœªè¿æ¥åˆ°é…’é¦†");const{type:a,key:o,value:r}=e;if(!o||""===o.trim())return void d.o.error("å˜é‡åä¸èƒ½ä¸ºç©º");const{deepCleanForClone:l}=await Promise.resolve().then(t.bind(t,3098)),i={[o]:l(r)};await n.insertOrAssignVariables(i,{type:a}),"chat"===a?v.value[o]=r:"global"===a&amp;&amp;(u.value[o]=r),T(),d.o.success("å˜é‡ä¿å­˜æˆåŠŸ"),await z()}catch(e){console.error("[é…’é¦†æ•°æ®] ä¿å­˜å¤±è´¥:",e),d.o.error("ä¿å­˜å¤±è´¥: "+(e instanceof Error?e.message:"æœªçŸ¥é”™è¯¯"))}},T=()=&gt;{p.value=!1,m.value=null},j=()=&gt;{console.group("[é…’é¦†æ•°æ®] è¯¦ç»†è°ƒè¯•ä¿¡æ¯"),console.log("åŸºæœ¬ç»Ÿè®¡:",{tavernConnected:n.value,chatVariablesCount:Object.keys(v.value).length,globalVariablesCount:Object.keys(u.value).length,lastUpdateTime:l.value}),console.log("èŠå¤©å˜é‡é”®å:",Object.keys(v.value)),console.log("å…¨å±€å˜é‡é”®å:",Object.keys(u.value)),console.groupEnd(),d.o.success("è°ƒè¯•ä¿¡æ¯å·²è¾“å‡ºåˆ°æ§åˆ¶å°")};return(0,a.onMounted)(()=&gt;{z(),Oi.on("refresh",()=&gt;z()),Oi.on("export",()=&gt;S()),Oi.on("stats",()=&gt;B())}),(e,t)=&gt;((0,a.openBlock)(),(0,a.createElementBlock)("div",cF,[(0,a.createVNode)(fq,{isRefreshing:r.value,searchQuery:c.value,"onUpdate:searchQuery":t[0]||(t[0]=e=&gt;c.value=e),onRefresh:z,onExport:S,onShowStats:B},null,8,["isRefreshing","searchQuery"]),(0,a.createVNode)(Eq,{tavernConnected:n.value,lastUpdateTime:l.value},null,8,["tavernConnected","lastUpdateTime"]),(0,a.createVNode)(Iq,{dataTypes:C,selectedType:i.value,getDataCount:(0,a.unref)(N),"onUpdate:selectedType":t[1]||(t[1]=e=&gt;i.value=e)},null,8,["selectedType","getDataCount"]),(0,a.createVNode)(mP,{isLoading:o.value,tavernConnected:n.value,selectedDataType:i.value,searchQuery:c.value,chatVariables:(0,a.unref)(v),globalVariables:(0,a.unref)(u),characterData:(0,a.unref)(g),saveData:(0,a.unref)(f),worldInfo:(0,a.unref)(b),memoryData:(0,a.unref)(h),allTavernData:(0,a.unref)(y),filteredChatVariables:(0,a.unref)(k),filteredGlobalVariables:(0,a.unref)(w),onEditVariable:A,onCopyVariable:_,onDeleteVariable:$,onAddNewVariable:D,onDebugLog:j},null,8,["isLoading","tavernConnected","selectedDataType","searchQuery","chatVariables","globalVariables","characterData","saveData","worldInfo","memoryData","allTavernData","filteredChatVariables","filteredGlobalVariables"]),p.value?((0,a.openBlock)(),(0,a.createBlock)(DP,{key:0,editingItem:m.value,onClose:T,onSave:I},null,8,["editingItem"])):(0,a.createCommentVNode)("v-if",!0),s.value?((0,a.openBlock)(),(0,a.createBlock)(iF,{key:1,chatVariables:(0,a.unref)(v),globalVariables:(0,a.unref)(u),allTavernData:(0,a.unref)(y),getMemoryCount:(0,a.unref)(E),getWorldItemCount:(0,a.unref)(V),onClose:t[2]||(t[2]=e=&gt;s.value=!1)},null,8,["chatVariables","globalVariables","allTavernData","getMemoryCount","getWorldItemCount"])):(0,a.createCommentVNode)("v-if",!0)]))}});var dF=t(3613),mF={};mF.styleTagTransform=A(),mF.setAttributes=z(),mF.insert=V().bind(null,"head"),mF.domAPI=N(),mF.insertStyleElement=B(),k()(dF.A,mF),dF.A&amp;&amp;dF.A.locals&amp;&amp;dF.A.locals;const pF=[{path:"/",name:"ModeSelection",component:Cn},{path:"/creation",name:"CharacterCreation",component:li},{path:"/login",name:"Login",component:Ni},{path:"/game",name:"Game",component:Nv,children:[{path:"",name:"GameMain",component:fg},{path:"memory",name:"Memory",component:mf},{path:"character-details",name:"CharacterDetails",component:Gk},{path:"inventory",name:"Inventory",component:pE},{path:"relationships",name:"Relationships",component:Uz},{path:"cultivation",name:"Cultivation",component:rB},{path:"techniques",name:"Techniques",component:_D},{path:"thousand-dao",name:"ThousandDao",component:AA},{path:"settings",name:"Settings",component:j_},{path:"save",name:"Save",component:F$},{path:"world-map",name:"WorldMap",component:KI},{path:"quests",name:"Quests",component:RT},{path:"sect",name:"Sect",component:lq},{path:"tavern-data",name:"TavernData",component:(0,j.A)(sF,[["__scopeId","data-v-525aaac2"]])}]},{path:"/management",name:"CharacterManagement",component:{setup(){const e=(0,r.useRouter)(),n=()=&gt;{e.push("/")},t=n=&gt;{e.push("/game")};return()=&gt;(0,a.h)(Rp,{fullscreen:!0,onClose:n,onCharacterSelected:t})}}}],vF=(0,r.createRouter)({history:(0,r.createMemoryHistory)(),routes:pF});var uF=t(4096),gF={};gF.styleTagTransform=A(),gF.setAttributes=z(),gF.insert=V().bind(null,"head"),gF.domAPI=N(),gF.insertStyleElement=B(),k()(uF.A,gF),uF.A&amp;&amp;uF.A.locals&amp;&amp;uF.A.locals;var fF=t(1606),bF={};bF.styleTagTransform=A(),bF.setAttributes=z(),bF.insert=V().bind(null,"head"),bF.domAPI=N(),bF.insertStyleElement=B(),k()(fF.A,bF),fF.A&amp;&amp;fF.A.locals&amp;&amp;fF.A.locals;var hF=t(6627),yF={};yF.styleTagTransform=A(),yF.setAttributes=z(),yF.insert=V().bind(null,"head"),yF.domAPI=N(),yF.insertStyleElement=B(),k()(hF.A,yF),hF.A&amp;&amp;hF.A.locals&amp;&amp;hF.A.locals;const xF={log:console.log.bind(console),warn:console.warn.bind(console),info:console.info.bind(console),debug:console.debug?console.debug.bind(console):void 0,table:console.table?console.table.bind(console):void 0,group:console.group?console.group.bind(console):void 0,groupCollapsed:console.groupCollapsed?console.groupCollapsed.bind(console):void 0,groupEnd:console.groupEnd?console.groupEnd.bind(console):void 0,error:console.error.bind(console)},kF=()=&gt;bg.w9.isConsoleDebugEnabled();console.log=(...e)=&gt;{kF()&amp;&amp;xF.log(...e)},console.warn=(...e)=&gt;{kF()&amp;&amp;xF.warn(...e)},console.info=(...e)=&gt;{bg.w9.isDebugMode()&amp;&amp;xF.info(...e)},xF.debug&amp;&amp;(console.debug=(...e)=&gt;{kF()&amp;&amp;xF.debug(...e)}),xF.table&amp;&amp;(console.table=(...e)=&gt;{kF()&amp;&amp;xF.table(...e)}),xF.group&amp;&amp;(console.group=(...e)=&gt;{kF()&amp;&amp;xF.group(...e)}),xF.groupCollapsed&amp;&amp;(console.groupCollapsed=(...e)=&gt;{kF()&amp;&amp;xF.groupCollapsed(...e)}),xF.groupEnd&amp;&amp;(console.groupEnd=(...e)=&gt;{kF()&amp;&amp;xF.groupEnd(...e)});const wF=(0,a.createApp)(un);wF.use((0,o.Ey)()),wF.use(vF),wF.mount("#app")})();</n.length-1;t++)if(r=r[n[t]],void></localstorage.length;n++){const></c.value.midtermkeep+5,title:m.value.length<c.value.midtermkeep+5?`è‡³å°‘éœ€è¦></e)d.o.warning(`ä¸­æœŸè®°å¿†ä¸è¶³ï¼Œè‡³å°‘éœ€è¦></e.pendingactions.length){const></e;n++){const></n.length;e++){const></a.length&&e.push({type:"normal",content:a.slice(t)});break}const></e.contentend).sort((e,n)=></a.length;){const></n)return></i.totalsteps?(console.log("[debug]></or&&n.setattribute(e,n.attributes[e]+1)}(r),disabled:(0,a.unref)(n).remainingtalentpoints<=0||e></or&&(n.setattribute(a,o+1),e--),t.every(e=></r.length?r.splice(a,1):(0,o.unset)(n,v)}else(0,o.unset)(n,v)}break;default:console.warn("[executecommand]></i&&(i=r,l=n)}}if(l&&i<200){const></string></t&&c.push("","#></t.tavern_commands.length;e++){const></e.æœˆ||n.æœˆ===e.æœˆ&&n.æ—¥<e.æ—¥)&&t--,math.max(0,t)}function></string></this.length;i++){var></n.length;a++)if(n[a].identifier===e){t=a;break}return></string></a.length-1;e++)void></t.maxretries){const></body></html>